"use strict";(self.webpackChunkpresupuestos=self.webpackChunkpresupuestos||[]).push([[674],{5674:(pt,gt,ft)=>{var ut,dt,d;d=function(d){function et(n,u,g,x){n.hasOwnProperty(u)||(n[u]=x.apply(null,g),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,module:n[u]}})))}et(d=d?d._modules:{},"Extensions/Pane.js",[d["Core/Chart/Chart.js"],d["Series/CenteredUtilities.js"],d["Core/Globals.js"],d["Core/Pointer.js"],d["Core/Utilities.js"]],function(n,u,g,x,b){function M(i,t,s,r,o){let c=!0;const v=s[0],m=s[1],h=Math.sqrt(Math.pow(i-v,2)+Math.pow(t-m,2));return Q(r)&&Q(o)&&(i=Math.atan2(F(t-m,8),F(i-v,8)),o!==r&&(c=r>o?i>=r&&i<=Math.PI||i<=o&&i>=-Math.PI:i>=r&&i<=F(o,8))),h<=Math.ceil(s[2]/2)&&c}const{addEvent:E,correctFloat:F,defined:Q,extend:L,merge:G,pick:X,splat:D}=b;return n.prototype.collectionsWithUpdate.push("pane"),n.prototype.getHoverPane=function(i){const t=this;let s;return i&&t.pane.forEach(r=>{M(i.chartX-t.plotLeft,i.chartY-t.plotTop,r.center)&&(s=r)}),s},E(n,"afterIsInsidePlot",function(i){this.polar&&(i.options.inverted&&([i.x,i.y]=[i.y,i.x]),i.isInsidePlot=this.pane.some(t=>M(i.x,i.y,t.center,t.axis&&t.axis.normalizedStartAngleRad,t.axis&&t.axis.normalizedEndAngleRad)))}),E(x,"beforeGetHoverData",function(i){const t=this.chart;t.polar?(t.hoverPane=t.getHoverPane(i),i.filter=function(s){return s.visible&&!(!i.shared&&s.directTouch)&&X(s.options.enableMouseTracking,!0)&&(!t.hoverPane||s.xAxis.pane===t.hoverPane)}):t.hoverPane=void 0}),E(x,"afterGetHoverData",function(i){const t=this.chart;i.hoverPoint&&i.hoverPoint.plotX&&i.hoverPoint.plotY&&t.hoverPane&&!M(i.hoverPoint.plotX,i.hoverPoint.plotY,t.hoverPane.center)&&(i.hoverPoint=void 0)}),g.Pane=class V{constructor(t,s){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,s)}init(t,s){this.chart=s,this.background=[],s.pane.push(this),this.setOptions(t)}setOptions(t){this.options=G(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)}render(){var t=this.options;let s=this.options.background;var r=this.chart.renderer;if(this.group||(this.group=r.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),s)for(s=D(s),t=Math.max(s.length,this.background.length||0),r=0;r<t;r++)s[r]&&this.axis?this.renderBackground(G(this.defaultBackgroundOptions,s[r]),r):this.background[r]&&(this.background[r]=this.background[r].destroy(),this.background.splice(r,1))}renderBackground(t,s){let r="animate",o={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||L(o,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[s]||(this.background[s]=this.chart.renderer.path().add(this.group),r="attr"),this.background[s][r]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(o)}updateCenter(t){this.center=(t||this.axis||{}).center=u.getCenter.call(this)}update(t,s){G(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(r){r.pane===this&&(r.pane=null,r.update({},s))},this)}},g.Pane}),et(d,"Series/AreaRange/AreaRangePoint.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u){const{area:{prototype:{pointClass:g,pointClass:{prototype:x}}}}=n.seriesTypes,{defined:b,isNumber:M}=u;return class E extends g{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const Q=this.state,L=this.series,G=L.chart.polar;b(this.plotHigh)||(this.plotHigh=L.yAxis.toPixels(this.high,!0)),b(this.plotLow)||(this.plotLow=this.plotY=L.yAxis.toPixels(this.low,!0)),L.stateMarkerGraphic&&(L.lowerStateMarkerGraphic=L.stateMarkerGraphic,L.stateMarkerGraphic=L.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,G&&M(this.plotHighX)&&(this.plotX=this.plotHighX),x.setState.apply(this,arguments),this.state=Q,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],G&&M(this.plotLowX)&&(this.plotX=this.plotLowX),L.stateMarkerGraphic&&(L.upperStateMarkerGraphic=L.stateMarkerGraphic,L.stateMarkerGraphic=L.lowerStateMarkerGraphic,L.lowerStateMarkerGraphic=void 0),x.setState.apply(this,arguments)}haloPath(){const Q=this.series.chart.polar;let L=[];return this.plotY=this.plotLow,Q&&M(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(L=x.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,Q&&M(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(L=L.concat(x.haloPath.apply(this,arguments))),L}isValid(){return M(this.low)&&M(this.high)}}}),et(d,"Series/AreaRange/AreaRangeSeries.js",[d["Series/AreaRange/AreaRangePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g,x){({noop:u}=u);const{area:b,area:{prototype:M},column:{prototype:E}}=g.seriesTypes,{addEvent:F,defined:Q,extend:L,isArray:G,isNumber:X,pick:D,merge:V}=x;class i extends b{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(s){return[s.low,s.high]}highToXY(s){const r=this.chart,o=this.xAxis.postTranslate(s.rectPlotX||0,this.yAxis.len-(s.plotHigh||0));s.plotHighX=o.x-r.plotLeft,s.plotHigh=o.y-r.plotTop,s.plotLowX=s.plotX}getGraphPath(s){var r=[],o=[];const c=M.getGraphPath;var v=this.options;const m=this.chart.polar,h=m&&!1!==v.connectEnds,P=v.connectNulls;let C,N,j,e=v.step;for(C=(s=s||this.points).length;C--;){N=s[C];const a=m?{plotX:N.rectPlotX,plotY:N.yBottom,doCurve:!1}:{plotX:N.plotX,plotY:N.plotY,doCurve:!1};N.isNull||h||P||s[C+1]&&!s[C+1].isNull||o.push(a),j={polarPlotY:N.polarPlotY,rectPlotX:N.rectPlotX,yBottom:N.yBottom,plotX:D(N.plotHighX,N.plotX),plotY:N.plotHigh,isNull:N.isNull},o.push(j),r.push(j),N.isNull||h||P||s[C-1]&&!s[C-1].isNull||o.push(a)}return s=c.call(this,s),e&&(!0===e&&(e="left"),v.step={left:"right",center:"center",right:"left"}[e]),r=c.call(this,r),o=c.call(this,o),v.step=e,v=[].concat(s,r),!this.chart.polar&&o[0]&&"M"===o[0][0]&&(o[0]=["L",o[0][1],o[0][2]]),this.graphPath=v,this.areaPath=s.concat(o),v.isArea=!0,v.xMap=s.xMap,this.areaPath.xMap=s.xMap,v}drawDataLabels(){const s=this.points,r=s.length,o=[],c=this.options.dataLabels,v=this.chart.inverted;let m,h,P,C,N;if(c){if(G(c)?(C=c[0]||{enabled:!1},N=c[1]||{enabled:!1}):(C=L({},c),C.x=c.xHigh,C.y=c.yHigh,N=L({},c),N.x=c.xLow,N.y=c.yLow),C.enabled||this._hasPointLabels){for(m=r;m--;)if(h=s[m]){const{plotHigh:j=0,plotLow:e=0}=h;P=C.inside?j<e:j>e,h.y=h.high,h._plotY=h.plotY,h.plotY=j,o[m]=h.dataLabel,h.dataLabel=h.dataLabelUpper,h.below=P,v?C.align||(C.align=P?"right":"left"):C.verticalAlign||(C.verticalAlign=P?"top":"bottom")}for(this.options.dataLabels=C,M.drawDataLabels&&M.drawDataLabels.apply(this,arguments),m=r;m--;)(h=s[m])&&(h.dataLabelUpper=h.dataLabel,h.dataLabel=o[m],delete h.dataLabels,h.y=h.low,h.plotY=h._plotY)}if(N.enabled||this._hasPointLabels){for(m=r;m--;)if(h=s[m]){const{plotHigh:j=0,plotLow:e=0}=h;P=N.inside?j<e:j>e,h.below=!P,v?N.align||(N.align=P?"left":"right"):N.verticalAlign||(N.verticalAlign=P?"bottom":"top")}this.options.dataLabels=N,M.drawDataLabels&&M.drawDataLabels.apply(this,arguments)}if(C.enabled)for(m=r;m--;)(h=s[m])&&(h.dataLabels=[h.dataLabelUpper,h.dataLabel].filter(function(j){return!!j}));this.options.dataLabels=c}}alignDataLabel(){E.alignDataLabel.apply(this,arguments)}drawPoints(){const s=this.points.length;let r,o;for(M.drawPoints.apply(this,arguments),r=0;r<s;)o=this.points[r],o.graphics=o.graphics||[],o.origProps={plotY:o.plotY,plotX:o.plotX,isInside:o.isInside,negative:o.negative,zone:o.zone,y:o.y},(o.graphic||o.graphics[0])&&(o.graphics[0]=o.graphic),o.graphic=o.graphics[1],o.plotY=o.plotHigh,Q(o.plotHighX)&&(o.plotX=o.plotHighX),o.y=D(o.high,o.origProps.y),o.negative=o.y<(this.options.threshold||0),this.zones.length&&(o.zone=o.getZone()),this.chart.polar||(o.isInside=o.isTopInside=typeof o.plotY<"u"&&0<=o.plotY&&o.plotY<=this.yAxis.len&&0<=o.plotX&&o.plotX<=this.xAxis.len),r++;for(M.drawPoints.apply(this,arguments),r=0;r<s;)o=this.points[r],o.graphics=o.graphics||[],(o.graphic||o.graphics[1])&&(o.graphics[1]=o.graphic),o.graphic=o.graphics[0],o.origProps&&(L(o,o.origProps),delete o.origProps),r++}}return i.defaultOptions=V(b.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),F(i,"afterTranslate",function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(t=>{const s=t.high,r=t.plotY;t.isNull?t.plotY=void 0:(t.plotLow=r,t.plotHigh=X(s)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(s):s,!1,!0,void 0,!0):void 0,this.dataModify&&(t.yBottom=t.plotHigh))})},{order:0}),F(i,"afterTranslate",function(){this.points.forEach(t=>{if(this.chart.polar)this.highToXY(t),t.plotLow=t.plotY,t.tooltipPos=[((t.plotHighX||0)+(t.plotLowX||0))/2,((t.plotHigh||0)+(t.plotLow||0))/2];else{const s=t.pos(!1,t.plotLow),r=t.pos(!1,t.plotHigh);s&&r&&(s[0]=(s[0]+r[0])/2,s[1]=(s[1]+r[1])/2),t.tooltipPos=s}})},{order:3}),L(i.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:n,pointValKey:"low",setStackedPoints:u}),g.registerSeriesType("arearange",i),i}),et(d,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[d["Series/AreaRange/AreaRangeSeries.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g){const{spline:{prototype:x}}=u.seriesTypes,{merge:b,extend:M}=g;class E extends n{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return E.defaultOptions=b(n.defaultOptions),M(E.prototype,{getPointSpline:x.getPointSpline}),u.registerSeriesType("areasplinerange",E),E}),et(d,"Series/BoxPlot/BoxPlotSeries.js",[d["Series/Column/ColumnSeries.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g,x){({noop:u}=u);const{extend:b,merge:M,pick:E}=x;class F extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const L=this.yAxis,G=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(X){G.forEach(function(D){null!==X[D]&&(X[D+"Plot"]=L.translate(X[D],0,1,0,1))}),X.plotHigh=X.highPlot})}drawPoints(){let V,i,t,s,r,o,v,m,h,P,N,L=this,G=L.options,X=L.chart,D=X.renderer,c=0,C=!1!==L.doQuartiles,j=L.options.whiskerLength;L.points.forEach(function(e){var a=e.graphic;let f=a?"animate":"attr",S=e.shapeArgs,y={},T={},B={},z={},tt=e.color||L.color;typeof e.plotY<"u"&&(v=Math.round(S.width),m=Math.floor(S.x),h=m+v,P=Math.round(v/2),V=Math.floor(C?e.q1Plot:e.lowPlot),i=Math.floor(C?e.q3Plot:e.lowPlot),t=Math.floor(e.highPlot),s=Math.floor(e.lowPlot),a||(e.graphic=a=D.g("point").add(L.group),e.stem=D.path().addClass("highcharts-boxplot-stem").add(a),j&&(e.whiskers=D.path().addClass("highcharts-boxplot-whisker").add(a)),C&&(e.box=D.path(void 0).addClass("highcharts-boxplot-box").add(a)),e.medianShape=D.path(void 0).addClass("highcharts-boxplot-median").add(a)),X.styledMode||(T.stroke=e.stemColor||G.stemColor||tt,T["stroke-width"]=E(e.stemWidth,G.stemWidth,G.lineWidth),T.dashstyle=e.stemDashStyle||G.stemDashStyle||G.dashStyle,e.stem.attr(T),j&&(B.stroke=e.whiskerColor||G.whiskerColor||tt,B["stroke-width"]=E(e.whiskerWidth,G.whiskerWidth,G.lineWidth),B.dashstyle=e.whiskerDashStyle||G.whiskerDashStyle||G.dashStyle,e.whiskers.attr(B)),C&&(y.fill=e.fillColor||G.fillColor||tt,y.stroke=G.lineColor||tt,y["stroke-width"]=G.lineWidth||0,y.dashstyle=e.boxDashStyle||G.boxDashStyle||G.dashStyle,e.box.attr(y)),z.stroke=e.medianColor||G.medianColor||tt,z["stroke-width"]=E(e.medianWidth,G.medianWidth,G.lineWidth),z.dashstyle=e.medianDashStyle||G.medianDashStyle||G.dashStyle,e.medianShape.attr(z)),o=e.stem.strokeWidth()%2/2,c=m+P+o,e.stem[f]({d:a=[["M",c,i],["L",c,t],["M",c,V],["L",c,s]]}),C&&(o=e.box.strokeWidth()%2/2,V=Math.floor(V)+o,i=Math.floor(i)+o,m+=o,h+=o,e.box[f]({d:a=[["M",m,i],["L",m,V],["L",h,V],["L",h,i],["L",m,i],["Z"]]})),j&&(o=e.whiskers.strokeWidth()%2/2,t+=o,s+=o,N=/%$/.test(j)?P*parseFloat(j)/100:j/2,e.whiskers[f]({d:a=[["M",c-N,t],["L",c+N,t],["M",c-N,s],["L",c+N,s]]})),r=Math.round(e.medianPlot),o=e.medianShape.strokeWidth()%2/2,r+=o,e.medianShape[f]({d:a=[["M",m,r],["L",h,r]]}))})}toYData(L){return[L.low,L.q1,L.median,L.q3,L.high]}}return F.defaultOptions=M(n.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),b(F.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:u,setStackedPoints:u}),g.registerSeriesType("boxplot",F),F}),et(d,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),et(d,"Series/Bubble/BubbleLegendItem.js",[d["Core/Color/Color.js"],d["Core/FormatUtilities.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(n,u,g,x){const{parse:b}=n,{noop:M}=g,{arrayMax:E,arrayMin:F,isNumber:Q,merge:L,pick:G,stableSort:X}=x;return class D{constructor(i,t){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=M,this.init(i,t)}init(i,t){this.options=i,this.visible=!0,this.chart=t.chart,this.legend=t}addToLegend(i){i.splice(this.options.legendIndex,0,this)}drawLegendSymbol(i){const t=G(i.options.itemDistance,20),s=this.legendItem||{},r=this.options;var o=r.ranges,c=r.connectorDistance;if(o&&o.length&&Q(o[0].value)){X(o,function(m,h){return h.value-m.value}),this.ranges=o,this.setOptions(),this.render(),i=this.getMaxLabelSize();var v=this.ranges[0].radius;o=2*v,c=0<(c=c-v+i.width)?c:0,this.maxLabel=i,this.movementX="left"===r.labels.align?c:0,s.labelWidth=o+c+t,s.labelHeight=o+i.height/2}else i.options.bubbleLegend.autoRanges=!0}setOptions(){const i=this.ranges,t=this.options,s=this.chart.series[t.seriesIndex],r=this.legend.baseline,o={zIndex:t.zIndex,"stroke-width":t.borderWidth},c={zIndex:t.zIndex,"stroke-width":t.connectorWidth},v={align:this.legend.options.rtl||"left"===t.labels.align?"right":"left",zIndex:t.zIndex},m=s.options.marker.fillOpacity,h=this.chart.styledMode;i.forEach(function(P,C){h||(o.stroke=G(P.borderColor,t.borderColor,s.color),o.fill=G(P.color,t.color,1!==m?b(s.color).setOpacity(m).get("rgba"):s.color),c.stroke=G(P.connectorColor,t.connectorColor,s.color)),i[C].radius=this.getRangeRadius(P.value),i[C]=L(i[C],{center:i[0].radius-i[C].radius+r}),h||L(!0,i[C],{bubbleAttribs:L(o),connectorAttribs:L(c),labelAttribs:v})},this)}getRangeRadius(i){const t=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,t.ranges[t.ranges.length-1].value,t.ranges[0].value,t.minSize,t.maxSize,i)}render(){const i=this.legendItem||{},t=this.chart.renderer,s=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),i.symbol=t.g("bubble-legend"),i.label=t.g("bubble-legend-item"),i.symbol.translateX=0,i.symbol.translateY=0,i.symbol.add(i.label),i.label.add(i.group);for(const r of this.ranges)r.value>=s&&this.renderRange(r);this.hideOverlappingLabels()}renderRange(i){var t=this.options;const s=t.labels;var r=this.chart;const o=r.series[t.seriesIndex],c=r.renderer,v=this.symbols;r=v.labels;const m=i.center,h=Math.abs(i.radius);var P=t.connectorDistance||0;const C=s.align,N=t.connectorWidth,j=this.ranges[0].radius||0,e=m-h-t.borderWidth/2+N/2,a=c.styledMode;P=this.legend.options.rtl||"left"===C?-P:P,"center"===C&&(P=0,t.connectorDistance=0,i.labelAttribs.align="center"),v.bubbleItems.push(c.circle(j,m+((e%1?1:.5)-(N%2?0:.5)),h).attr(a?{}:i.bubbleAttribs).addClass((a?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(t.className||"")).add(this.legendItem.symbol)),v.connectors.push(c.path(c.crispLine([["M",j,e],["L",j+P,e]],t.connectorWidth)).attr(a?{}:i.connectorAttribs).addClass((a?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(t.connectorClassName||"")).add(this.legendItem.symbol)),i=c.text(this.formatLabel(i)).attr(a?{}:i.labelAttribs).css(a?{}:s.style).addClass("highcharts-bubble-legend-labels "+(t.labels.className||"")).add(this.legendItem.symbol),t={x:j+P+t.labels.x,y:e+t.labels.y+.4*i.getBBox().height},i.attr(t),r.push(i),i.placed=!0,i.alignAttr=t}getMaxLabelSize(){let i,t;return this.symbols.labels.forEach(function(s){t=s.getBBox(!0),i=i?t.width>i.width?t:i:t}),i||{}}formatLabel(i){var t=this.options;const s=t.labels.formatter;t=t.labels.format;const{numberFormatter:r}=this.chart;return t?u.format(t,i):s?s.call(i):r(i.value,1)}hideOverlappingLabels(){const t=this.symbols;!this.options.labels.allowOverlap&&t&&(this.chart.hideOverlappingLabels(t.labels),t.labels.forEach(function(s,r){s.newOpacity?s.newOpacity!==s.oldOpacity&&t.connectors[r].show():t.connectors[r].hide()}))}getRanges(){const i=this.legend.bubbleLegend,t=i.options.ranges;let s,r,o=Number.MAX_VALUE,c=-Number.MAX_VALUE;return i.chart.series.forEach(function(v){v.isBubble&&!v.ignoreSeries&&(r=v.zData.filter(Q),r.length&&(o=G(v.options.zMin,Math.min(o,Math.max(F(r),!1===v.options.displayNegative?v.options.zThreshold:-Number.MAX_VALUE))),c=G(v.options.zMax,Math.max(c,E(r)))))}),s=o===c?[{value:c}]:[{value:o},{value:(o+c)/2},{value:c,autoRanges:!0}],t.length&&t[0].radius&&s.reverse(),s.forEach(function(v,m){t&&t[m]&&(s[m]=L(t[m],v))}),s}predictBubbleSizes(){var i=this.chart,t=i.legend.options,s=t.floating;const r=(t="horizontal"===t.layout)?i.legend.lastLineHeight:0,o=i.plotSizeX,c=i.plotSizeY;var v=i.series[this.options.seriesIndex],m=v.getPxExtremes();i=Math.ceil(m.minPxSize),m=Math.ceil(m.maxPxSize);const h=Math.min(c,o);return v=v.options.maxSize,s||!/%$/.test(v)?s=m:(s=(h+r)*(v=parseFloat(v))/100/(v/100+1),(t&&c-s>=o||!t&&o-s>=c)&&(s=m)),[i,Math.ceil(s)]}updateRanges(i,t){const s=this.legend.options.bubbleLegend;s.minSize=i,s.maxSize=t,s.ranges=this.getRanges()}correctSizes(){const i=this.legend,t=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(t.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,t.maxPxSize),i.render())}}}),et(d,"Series/Bubble/BubbleLegendComposition.js",[d["Series/Bubble/BubbleLegendDefaults.js"],d["Series/Bubble/BubbleLegendItem.js"],d["Core/Defaults.js"],d["Core/Utilities.js"]],function(n,u,g,x){function b(t,s,r){const o=this.legend;var c=0<=M(this);let v,m;o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&c?(v=o.bubbleLegend.options,c=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(c[0],c[1]),v.placed||(o.group.placed=!1,o.allItems.forEach(h=>{m=h.legendItem||{},m.group&&(m.group.translateY=null)})),o.render(),this.getMargins(),this.axes.forEach(function(h){h.visible&&h.render(),v.placed||(h.setScale(),h.updateNames(),D(h.ticks,function(P){P.isNew=!0,P.isNewLabel=!0}))}),v.placed=!0,this.getMargins(),t.call(this,s,r),o.bubbleLegend.correctSizes(),L(o,E(o))):(t.call(this,s,r),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),L(o,E(o))))}function M(t){t=t.series;let s=0;for(;s<t.length;){if(t[s]&&t[s].isBubble&&t[s].visible&&t[s].zData.length)return s;s++}return-1}function E(t){const s=[],r=(t=t.allItems).length;let o,c,v=0;for(c=0;c<r;c++){var m=t[c].legendItem||{};if(o=(t[c+1]||{}).legendItem||{},m.labelHeight&&(t[c].itemHeight=m.labelHeight),t[c]===t[r-1]||m.y!==o.y){for(s.push({height:0}),m=s[s.length-1];v<=c;v++)t[v].itemHeight>m.height&&(m.height=t[v].itemHeight);m.step=c}}return s}function F(t){const s=this.bubbleLegend,r=this.options,o=r.bubbleLegend,c=M(this.chart);s&&s.ranges&&s.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(s)),0<=c&&r.enabled&&o.enabled&&(o.seriesIndex=c,this.bubbleLegend=new u(o,this),this.bubbleLegend.addToLegend(t.allItems))}function Q(t){if(t.defaultPrevented)return!1;var s=this.chart;t=this.visible;const r=this.chart.legend;r&&r.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,s=0<=M(s),r.bubbleLegend.visible!==s&&(r.update({bubbleLegend:{enabled:s}}),r.bubbleLegend.visible=s),this.visible=t)}function L(t,s){const r=t.options.rtl;let o,c,v,m,h=0;t.allItems.forEach((P,C)=>{m=P.legendItem||{},m.group&&(o=m.group.translateX||0,c=m.y||0,((v=P.movementX)||r&&P.ranges)&&(v=r?o-P.options.maxSize/2:o+v,m.group.attr({translateX:v})),C>s[h].step&&h++,m.group.attr({translateY:Math.round(c+s[h].height/2)}),m.y=c+s[h].height/2)})}const{setOptions:G}=g,{addEvent:X,objectEach:D,wrap:V}=x,i=[];return{compose:function(t,s,r){x.pushUnique(i,t)&&(G({legend:{bubbleLegend:n}}),V(t.prototype,"drawChartBox",b)),x.pushUnique(i,s)&&X(s,"afterGetAllItems",F),x.pushUnique(i,r)&&X(r,"legendItemClick",Q)}}}),et(d,"Series/Bubble/BubblePoint.js",[d["Core/Series/Point.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g){({seriesTypes:{scatter:{prototype:{pointClass:u}}}}=u),({extend:g}=g);class x extends u{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(M){return n.prototype.haloPath.call(this,0===M?0:(this.marker&&this.marker.radius||0)+M)}}return g(x.prototype,{ttBelow:!1}),x}),et(d,"Series/Bubble/BubbleSeries.js",[d["Series/Bubble/BubbleLegendComposition.js"],d["Series/Bubble/BubblePoint.js"],d["Core/Color/Color.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g,x,b,M){function E(){const m=this.len,h=this.chart,P=this.isXAxis,C=P?"xData":"yData",N=this.min,j=this.max-N;let S,e=0,a=m,f=m/j;this.series.forEach(y=>{if(y.bubblePadding&&(y.visible||!h.options.chart.ignoreHiddenSeries)){S=this.allowZoomOutside=!0;const T=y[C];if(P&&((y.onPoint||y).getRadii(0,0,y),y.onPoint&&(y.radii=y.onPoint.radii)),0<j){let B=T.length;for(;B--;)if(s(T[B])&&this.dataMin<=T[B]&&T[B]<=this.max){const z=y.radii&&y.radii[B]||0;e=Math.min((T[B]-N)*f-z,e),a=Math.max((T[B]-N)*f+z,a)}}}}),S&&0<j&&!this.logarithmic&&(a-=m,f*=(m+Math.max(0,e)-Math.min(a,m))/m,[["min","userMin",e],["max","userMax",a]].forEach(y=>{typeof o(this.options[y[0]],this[y[1]])>"u"&&(this[y[0]]+=y[2]/f)}))}const{parse:F}=g;({noop:g}=x);const{series:Q,seriesTypes:{column:{prototype:L},scatter:G}}=b,{addEvent:X,arrayMax:D,arrayMin:V,clamp:i,extend:t,isNumber:s,merge:r,pick:o}=M,c=[];class v extends G{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(h,P,C,N){n.compose(P,C,N),M.pushUnique(c,h)&&(h.prototype.beforePadding=E)}animate(h){!h&&this.points.length<this.options.animationLimit&&this.points.forEach(function(P){const{graphic:C}=P;C&&C.width&&(this.hasRendered||C.attr({x:P.plotX,y:P.plotY,width:1,height:1}),C.animate(this.markerAttribs(P),this.options.animation))},this)}getRadii(){const h=this.zData,P=this.yData,C=[];let N,j,e,a=this.chart.bubbleZExtremes;const{minPxSize:f,maxPxSize:S}=this.getPxExtremes();if(!a){let B,y=Number.MAX_VALUE,T=-Number.MAX_VALUE;this.chart.series.forEach(z=>{z.bubblePadding&&(z.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(z=(z.onPoint||z).getZExtremes())&&(y=Math.min(o(y,z.zMin),z.zMin),T=Math.max(o(T,z.zMax),z.zMax),B=!0)}),B?(a={zMin:y,zMax:T},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0}}for(j=0,N=h.length;j<N;j++)e=h[j],C.push(this.getRadius(a.zMin,a.zMax,f,S,e,P&&P[j]));this.radii=C}getRadius(h,P,C,N,j,e){const a=this.options,f="width"!==a.sizeBy,S=a.zThreshold;let y=P-h,T=.5;if(null===e||null===j)return null;if(s(j)){if(a.sizeByAbsoluteValue&&(j=Math.abs(j-S),y=Math.max(P-S,Math.abs(h-S)),h=0),j<h)return C/2-1;0<y&&(T=(j-h)/y)}return f&&0<=T&&(T=Math.sqrt(T)),Math.ceil(C+T*(N-C))/2}hasData(){return!!this.processedXData.length}pointAttribs(h,P){const C=this.options.marker.fillOpacity;return h=Q.prototype.pointAttribs.call(this,h,P),1!==C&&(h.fill=F(h.fill).setOpacity(C).get("rgba")),h}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:h,radii:P}=this,{minPxSize:C}=this.getPxExtremes();let N=h.length;for(;N--;){const j=h[N],e=P?P[N]:0;s(e)&&e>=C/2?(j.marker=t(j.marker,{radius:e,width:2*e,height:2*e}),j.dlBox={x:j.plotX-e,y:j.plotY-e,width:2*e,height:2*e}):(j.shapeArgs=j.plotY=j.dlBox=void 0,j.isInside=!1)}}getPxExtremes(){const h=Math.min(this.chart.plotWidth,this.chart.plotHeight);var P=N=>{let j;return"string"==typeof N&&(j=/%$/.test(N),N=parseInt(N,10)),j?h*N/100:N};const C=P(o(this.options.minSize,8));return{minPxSize:C,maxPxSize:P=Math.max(P(o(this.options.maxSize,"20%")),C)}}getZExtremes(){var h=this.options;const P=(this.zData||[]).filter(s);if(P.length){const C=o(h.zMin,i(V(P),!1===h.displayNegative?h.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(h=o(h.zMax,D(P)),s(C)&&s(h))return{zMin:C,zMax:h}}}}return v.defaultOptions=r(G.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:m}=this.series.chart,{z:h}=this.point;return s(h)?m(h,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),t(v.prototype,{alignDataLabel:L.alignDataLabel,applyZones:g,bubblePadding:!0,buildKDTree:g,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:u,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),X(v,"updatedData",m=>{delete m.target.chart.bubbleZExtremes}),X(v,"remove",m=>{delete m.target.chart.bubbleZExtremes}),b.registerSeriesType("bubble",v),v}),et(d,"Series/ColumnRange/ColumnRangePoint.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u){const{seriesTypes:{column:{prototype:{pointClass:{prototype:g}}},arearange:{prototype:{pointClass:x}}}}=n,{extend:b,isNumber:M}=u;class E extends x{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return M(this.low)}}return b(E.prototype,{setState:g.setState}),E}),et(d,"Series/ColumnRange/ColumnRangeSeries.js",[d["Series/ColumnRange/ColumnRangePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g,x){({noop:u}=u);const{seriesTypes:{arearange:b,column:M,column:{prototype:E}}}=g,{addEvent:F,clamp:Q,extend:L,isNumber:G,merge:X,pick:D}=x;class V extends b{setOptions(){return X(!0,arguments[0],{stacking:void 0}),b.prototype.setOptions.apply(this,arguments)}translate(){return E.translate.apply(this)}pointAttribs(){return E.pointAttribs.apply(this,arguments)}translate3dPoints(){return E.translate3dPoints.apply(this,arguments)}translate3dShapes(){return E.translate3dShapes.apply(this,arguments)}}return V.defaultOptions=X(M.defaultOptions,b.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),F(V,"afterColumnTranslate",function(){const i=this.yAxis,t=this.xAxis,s=t.startAngleRad,r=this.chart,o=this.xAxis.isRadial,c=Math.max(r.chartWidth,r.chartHeight)+999;let v,m,h,P;this.points.forEach(C=>{const N=C.shapeArgs||{},j=this.options.minPointLength,e=C.plotY,a=i.translate(C.high,0,1,0,1);if(G(a)&&G(e))if(C.plotHigh=Q(a,-c,c),C.plotLow=Q(e,-c,c),P=C.plotHigh,v=D(C.rectPlotY,C.plotY)-C.plotHigh,Math.abs(v)<j?(m=j-v,v+=m,P-=m/2):0>v&&(v*=-1,P-=v),o&&this.polar)h=C.barX+s,C.shapeType="arc",C.shapeArgs=this.polar.arc(P+v,P,h,h+C.pointWidth);else{N.height=v,N.y=P;const{x:f=0,width:S=0}=N;C.shapeArgs=X(C.shapeArgs,this.crispCol(f,P,S,v)),C.tooltipPos=r.inverted?[i.len+i.pos-r.plotLeft-P-v/2,t.len+t.pos-r.plotTop-f-S/2,v]:[t.left-r.plotLeft+f+S/2,i.pos-r.plotTop+P+v/2,v]}})},{order:5}),L(V.prototype,{directTouch:!0,pointClass:n,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:E.adjustForMissingColumns,animate:E.animate,crispCol:E.crispCol,drawGraph:u,drawPoints:E.drawPoints,getSymbol:u,drawTracker:E.drawTracker,getColumnMetrics:E.getColumnMetrics}),g.registerSeriesType("columnrange",V),V}),et(d,"Series/ColumnPyramid/ColumnPyramidSeries.js",[d["Series/Column/ColumnSeries.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g){const{prototype:x}=n,{clamp:b,merge:M,pick:E}=g;class F extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let L=this,G=L.chart,X=L.options;var D=L.dense=2>L.closestPointRange*L.xAxis.transA;D=L.borderWidth=E(X.borderWidth,D?0:1);let V=L.yAxis,i=X.threshold,t=L.translatedThreshold=V.getThreshold(i),s=E(X.minPointLength,5),r=L.getColumnMetrics(),o=r.width,c=L.barW=Math.max(o,1+2*D),v=L.pointXOffset=r.offset;G.inverted&&(t-=.5),X.pointPadding&&(c=Math.ceil(c)),x.translate.apply(L),L.points.forEach(function(m){var h=E(m.yBottom,t),P=999+Math.abs(h),C=b(m.plotY,-P,V.len+P);P=m.plotX+v;let N=c/2,j=Math.min(C,h);var e;let a,f;h=Math.max(C,h)-j,m.barX=P,m.pointWidth=o,m.tooltipPos=G.inverted?[V.len+V.pos-G.plotLeft-C,L.xAxis.len-P-N,h]:[P+N,C+V.pos-G.plotTop,h],C=i+(m.total||m.y),"percent"===X.stacking&&(C=i+(0>m.y)?-100:100),C=V.toPixels(C,!0);var S=(e=G.plotHeight-C-(G.plotHeight-t))?N*(j-C)/e:0,y=e?N*(j+h-C)/e:0;e=P-S+N,S=P+S+N;var T=P+y+N;y=P-y+N,a=j-s,f=j+h,0>m.y&&(a=j,f=j+h+s),G.inverted&&(y=N*(C-((T=V.width-j)-h))/(e=C-(V.width-t)),S=(e=P+N+(S=N*(C-T)/e))-2*S,T=P-y+N,y=P+y+N,a=j,f=j+h-s,0>m.y&&(f=j+h+s)),m.shapeType="path",m.shapeArgs={x:e,y:a,width:S-e,height:h,d:[["M",e,a],["L",S,a],["L",T,f],["L",y,f],["Z"]]}})}}return F.defaultOptions=M(n.defaultOptions,{}),u.registerSeriesType("columnpyramid",F),F}),et(d,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),et(d,"Series/ErrorBar/ErrorBarSeries.js",[d["Series/BoxPlot/BoxPlotSeries.js"],d["Series/Column/ColumnSeries.js"],d["Series/ErrorBar/ErrorBarSeriesDefaults.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g,x,b){const{arearange:M}=x.seriesTypes,{addEvent:E,merge:F,extend:Q}=b;class L extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||u.prototype.getColumnMetrics.call(this)}drawDataLabels(){const X=this.pointValKey;M&&(M.prototype.drawDataLabels.call(this),this.data.forEach(function(D){D.y=D[X]}))}toYData(X){return[X.low,X.high]}}return L.defaultOptions=F(n.defaultOptions,g),E(L,"afterTranslate",function(){this.points.forEach(G=>{G.plotLow=G.plotY})},{order:0}),Q(L.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),x.registerSeriesType("errorbar",L),L}),et(d,"Series/Gauge/GaugePoint.js",[d["Core/Series/SeriesRegistry.js"]],function(n){return({series:{prototype:{pointClass:n}}}=n),class u extends n{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(x){this.state=x}}}),et(d,"Series/Gauge/GaugeSeries.js",[d["Series/Gauge/GaugePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g,x){({noop:u}=u);const{series:b,seriesTypes:{column:M}}=g,{clamp:E,isNumber:F,extend:Q,merge:L,pick:G,pInt:X,defined:D}=x;class V extends b{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const t=this.yAxis,s=this.options,r=t.center;this.generatePoints(),this.points.forEach(o=>{const c=L(s.dial,o.dial),v=X(c.radius)*r[2]/200,m=X(c.baseLength)*v/100,h=X(c.rearLength)*v/100,P=c.baseWidth,C=c.topWidth;let N=s.overshoot,j=t.startAngleRad+t.translate(o.y,void 0,void 0,void 0,!0);(F(N)||!1===s.wrap)&&(N=F(N)?N/180*Math.PI:0,j=E(j,t.startAngleRad-N,t.endAngleRad+N)),j=180*j/Math.PI,o.shapeType="path",o.shapeArgs={d:c.path||[["M",-h,-P/2],["L",m,-P/2],["L",v,-C/2],["L",v,C/2],["L",m,P/2],["L",-h,P/2],["Z"]],translateX:r[0],translateY:r[1],rotation:j},o.plotX=r[0],o.plotY=r[1],D(o.y)&&t.max-t.min&&(o.percentage=(o.y-t.min)/(t.max-t.min)*100)})}drawPoints(){const t=this,s=t.chart,r=t.yAxis.center,o=t.pivot,c=t.options,v=c.pivot,m=s.renderer;t.points.forEach(h=>{const P=h.graphic,C=h.shapeArgs,N=C.d,j=L(c.dial,h.dial);P?(P.animate(C),C.d=N):h.graphic=m[h.shapeType](C).addClass("highcharts-dial").add(t.group),s.styledMode||h.graphic[P?"animate":"attr"]({stroke:j.borderColor,"stroke-width":j.borderWidth,fill:j.backgroundColor})}),o?o.animate({translateX:r[0],translateY:r[1]}):v&&(t.pivot=m.circle(0,0,v.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(r[0],r[1]).add(t.group),s.styledMode||t.pivot.attr({fill:v.backgroundColor,stroke:v.borderColor,"stroke-width":v.borderWidth}))}animate(t){const s=this;t||s.points.forEach(r=>{const o=r.graphic;o&&(o.attr({rotation:180*s.yAxis.startAngleRad/Math.PI}),o.animate({rotation:r.shapeArgs.rotation},s.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),b.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(t,s){b.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),G(s,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return V.defaultOptions=L(b.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),Q(V.prototype,{angular:!0,directTouch:!0,drawGraph:u,drawTracker:M.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:n,trackerGroups:["group","dataLabelsGroup"]}),g.registerSeriesType("gauge",V),V}),et(d,"Series/DragNodesComposition.js",[d["Core/Utilities.js"]],function(n){function u(){const b=this;let M,E,F;b.container&&(M=g(b.container,"mousedown",Q=>{const L=b.hoverPoint;L&&L.series&&L.series.hasDraggableNodes&&L.series.options.draggable&&(L.series.onMouseDown(L,Q),E=g(b.container,"mousemove",G=>L&&L.series&&L.series.onMouseMove(L,G)),F=g(b.container.ownerDocument,"mouseup",G=>(E(),F(),L&&L.series&&L.series.onMouseUp(L,G))))})),g(b,"destroy",function(){M()})}const{addEvent:g}=n,x=[];return{compose:function(b){n.pushUnique(x,b)&&g(b,"load",u)},onMouseDown:function(b,M){M=this.chart.pointer.normalize(M),b.fixedPosition={chartX:M.chartX,chartY:M.chartY,plotX:b.plotX,plotY:b.plotY},b.inDragMode=!0},onMouseMove:function(b,M){if(b.fixedPosition&&b.inDragMode){const Q=this.chart;M=Q.pointer.normalize(M);var E=b.fixedPosition.chartX-M.chartX,F=b.fixedPosition.chartY-M.chartY;M=Q.graphLayoutsLookup,(5<Math.abs(E)||5<Math.abs(F))&&Q.isInsidePlot(E=b.fixedPosition.plotX-E,F=b.fixedPosition.plotY-F)&&(b.plotX=E,b.plotY=F,b.hasDragged=!0,this.redrawHalo(b),M.forEach(L=>{L.restartSimulation()}))}},onMouseUp:function(b,M){b.fixedPosition&&(b.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),b.inDragMode=b.hasDragged=!1,this.options.fixedDraggable||delete b.fixedPosition)},redrawHalo:function(b){b&&this.halo&&this.halo.attr({d:b.haloPath(this.options.states.hover.halo.size)})}}}),et(d,"Series/GraphLayoutComposition.js",[d["Core/Animation/AnimationUtilities.js"],d["Core/Utilities.js"]],function(n,u){function g(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(L=>{L.updateSimulation()}),this.redraw())}function x(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(L=>{L.updateSimulation(!1)}),this.redraw())}function b(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(L=>{L.stop()})}function M(){let L,G=!1;const X=D=>{D.maxIterations--&&isFinite(D.temperature)&&!D.isStable()&&!D.enableSimulation&&(D.beforeStep&&D.beforeStep(),D.step(),L=!1,G=!0)};if(this.graphLayoutsLookup){for(E(!1,this),this.graphLayoutsLookup.forEach(D=>D.start());!L;)L=!0,this.graphLayoutsLookup.forEach(X);G&&this.series.forEach(D=>{D&&D.layout&&D.render()})}}const{setAnimation:E}=n,{addEvent:F}=u,Q=[];return{compose:function(L){u.pushUnique(Q,L)&&(F(L,"afterPrint",g),F(L,"beforePrint",x),F(L,"predraw",b),F(L,"render",M))},integrations:{},layouts:{}}}),et(d,"Series/PackedBubble/PackedBubblePoint.js",[d["Core/Chart/Chart.js"],d["Core/Series/Point.js"],d["Core/Series/SeriesRegistry.js"]],function(n,u,g){return({seriesTypes:{bubble:{prototype:{pointClass:g}}}}=g),class x extends g{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),u.prototype.destroy.apply(this,arguments)}firePointEvent(){const M=this.series.options;if(this.isParentNode&&M.parentNode){const E=M.allowPointSelect;M.allowPointSelect=M.parentNode.allowPointSelect,u.prototype.firePointEvent.apply(this,arguments),M.allowPointSelect=E}else u.prototype.firePointEvent.apply(this,arguments)}select(){const M=this.series.chart;this.isParentNode?(M.getSelectedPoints=M.getSelectedParentNodes,u.prototype.select.apply(this,arguments),M.getSelectedPoints=n.prototype.getSelectedPoints):u.prototype.select.apply(this,arguments)}}}),et(d,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[d["Core/Utilities.js"]],function(n){const{isNumber:u}=n;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:g}=this.series.chart,{value:x}=this.point;return u(x)?g(x,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),et(d,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(n,u,g){const x=n.getMass(),b=-g.x*u*this.diffTemperature;u=-g.y*u*this.diffTemperature,n.fromNode.fixedPosition||(n.fromNode.plotX-=b*x.fromNode/n.fromNode.degree,n.fromNode.plotY-=u*x.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.plotX+=b*x.toNode/n.toNode.degree,n.toNode.plotY+=u*x.toNode/n.toNode.degree)},attractiveForceFunction:function(n,u){return(u-n)/n},barycenter:function(){let n=this.options.gravitationalConstant,u=this.barycenter.xFactor,g=this.barycenter.yFactor;u=(u-(this.box.left+this.box.width)/2)*n,g=(g-(this.box.top+this.box.height)/2)*n,this.nodes.forEach(function(x){x.fixedPosition||(x.plotX-=u/x.mass/x.degree,x.plotY-=g/x.mass/x.degree)})},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.5)},integrate:function(n,u){var g=-n.options.friction;let x=n.options.maxSpeed,b=(u.plotX+u.dispX-u.prevX)*g;g*=u.plotY+u.dispY-u.prevY;var M=Math.abs;let E=M(b)/(b||1);M=M(g)/(g||1),b=E*Math.min(x,Math.abs(b)),g=M*Math.min(x,Math.abs(g)),u.prevX=u.plotX+u.dispX,u.prevY=u.plotY+u.dispY,u.plotX+=b,u.plotY+=g,u.temperature=n.vectorLength({x:b,y:g})},repulsive:function(n,u,g){u=u*this.diffTemperature/n.mass/n.degree,n.fixedPosition||(n.plotX+=g.x*u,n.plotY+=g.y*u)},repulsiveForceFunction:function(n,u){return(u-n)/n*(u>n?1:0)}}}),et(d,"Series/PackedBubble/PackedBubbleIntegration.js",[d["Core/Globals.js"],d["Series/Networkgraph/VerletIntegration.js"]],function(n,u){return({noop:n}=n),{barycenter:function(){const g=this.options.gravitationalConstant,x=this.box,b=this.nodes;let M,E;for(const F of b)this.options.splitSeries&&!F.isParentNode?(M=F.series.parentNode.plotX,E=F.series.parentNode.plotY):(M=x.width/2,E=x.height/2),F.fixedPosition||(F.plotX-=(F.plotX-M)*g/(F.mass*Math.sqrt(b.length)),F.plotY-=(F.plotY-E)*g/(F.mass*Math.sqrt(b.length)))},getK:n,integrate:u.integrate,repulsive:function(g,x,b,M){const E=x*this.diffTemperature/g.mass/g.degree;x=b.x*E,b=b.y*E,g.fixedPosition||(g.plotX+=x,g.plotY+=b),M.fixedPosition||(M.plotX-=x,M.plotY-=b)},repulsiveForceFunction:function(g,x,b,M){return Math.min(g,(b.marker.radius+M.marker.radius)/2)}}}),et(d,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(n,u,g,x){const b=n.getMass(),M=g.x/x*u;u*=g.y/x,n.fromNode.fixedPosition||(n.fromNode.dispX-=M*b.fromNode/n.fromNode.degree,n.fromNode.dispY-=u*b.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.dispX+=M*b.toNode/n.toNode.degree,n.toNode.dispY+=u*b.toNode/n.toNode.degree)},attractiveForceFunction:function(n,u){return n*n/u},barycenter:function(){const n=this.options.gravitationalConstant,u=this.barycenter.xFactor,g=this.barycenter.yFactor;this.nodes.forEach(function(x){if(!x.fixedPosition){var b=x.getDegree();x.dispX+=(u-x.plotX)*n*(b*=1+b/2)/x.degree,x.dispY+=(g-x.plotY)*n*b/x.degree}})},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.3)},integrate:function(n,u){let g;u.dispX+=u.dispX*n.options.friction,u.dispY+=u.dispY*n.options.friction,g=u.temperature=n.vectorLength({x:u.dispX,y:u.dispY}),0!==g&&(u.plotX+=u.dispX/g*Math.min(Math.abs(u.dispX),n.temperature),u.plotY+=u.dispY/g*Math.min(Math.abs(u.dispY),n.temperature))},repulsive:function(n,u,g,x){n.dispX+=g.x/x*u/n.degree,n.dispY+=g.y/x*u/n.degree},repulsiveForceFunction:function(n,u){return u*u/n}}}),et(d,"Series/Networkgraph/QuadTreeNode.js",[],function(){class n{constructor(g){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=g,this.boxSize=Math.min(g.width,g.height)}divideBox(){const g=this.box.width/2,x=this.box.height/2;this.nodes[0]=new n({left:this.box.left,top:this.box.top,width:g,height:x}),this.nodes[1]=new n({left:this.box.left+g,top:this.box.top,width:g,height:x}),this.nodes[2]=new n({left:this.box.left+g,top:this.box.top+x,width:g,height:x}),this.nodes[3]=new n({left:this.box.left,top:this.box.top+x,width:g,height:x})}getBoxPosition(g){const x=g.plotY<this.box.top+this.box.height/2;return g.plotX<this.box.left+this.box.width/2?x?0:3:x?1:2}insert(g,x){this.isInternal?this.nodes[this.getBoxPosition(g)].insert(g,x-1):(this.isEmpty=!1,this.body?x?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,x-1),this.body=!0),this.nodes[this.getBoxPosition(g)].insert(g,x-1)):((x=new n({top:g.plotX||NaN,left:g.plotY||NaN,width:.1,height:.1})).body=g,x.isInternal=!1,this.nodes.push(x)):(this.isInternal=!1,this.body=g))}updateMassAndCenter(){let g=0,x=0,b=0;if(this.isInternal){for(const M of this.nodes)M.isEmpty||(g+=M.mass,x+=M.plotX*M.mass,b+=M.plotY*M.mass);x/=g,b/=g}else this.body&&(g=this.body.mass,x=this.body.plotX,b=this.body.plotY);this.mass=g,this.plotX=x,this.plotY=b}}return n}),et(d,"Series/Networkgraph/QuadTree.js",[d["Series/Networkgraph/QuadTreeNode.js"]],function(n){return class u{constructor(x,b,M,E){this.box={left:x,top:b,width:M,height:E},this.maxDepth=25,this.root=new n(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(x){x.updateMassAndCenter()})}insertNodes(x){for(const b of x)this.root.insert(b,this.maxDepth)}visitNodeRecursive(x,b,M){let E;if(x||(x=this.root),x===this.root&&b&&(E=b(x)),!1!==E){for(const F of x.nodes){if(F.isInternal){if(b&&(E=b(F)),!1===E)continue;this.visitNodeRecursive(F,b,M)}else F.body&&b&&b(F.body);M&&M(F)}x===this.root&&M&&M(x)}}}}),et(d,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[d["Series/Networkgraph/EulerIntegration.js"],d["Core/Globals.js"],d["Series/GraphLayoutComposition.js"],d["Series/Networkgraph/QuadTree.js"],d["Core/Utilities.js"],d["Series/Networkgraph/VerletIntegration.js"]],function(n,u,g,x,b,M){const{win:E}=u,{clamp:F,defined:Q,isFunction:L,fireEvent:G,pick:X}=b;class D{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(i){g.compose(i),g.integrations.euler=n,g.integrations.verlet=M,g.layouts["reingold-fruchterman"]=D}init(i){this.options=i,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=g.integrations[i.integration],this.enableSimulation=i.enableSimulation,this.attractiveForce=X(i.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=X(i.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=i.approximation}updateSimulation(i){this.enableSimulation=X(i,this.options.enableSimulation)}start(){const i=this.series,t=this.options;this.currentStep=0,this.forces=i[0]&&i[0].forces||[],this.chart=i[0]&&i[0].chart,this.initialRendering&&(this.initPositions(),i.forEach(function(s){s.finishedAnimating=!0,s.render()})),this.setK(),this.resetSimulation(t),this.enableSimulation&&this.step()}step(){const i=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const t of this.forces||[])this[t+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const t of i)t.chart&&t.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&E.cancelAnimationFrame(this.simulation),this.simulation=E.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(t=>{G(t,"afterSimulation")}))}}stop(){this.simulation&&E.cancelAnimationFrame(this.simulation)}setArea(i,t,s,r){this.box={left:i,top:t,width:s,height:r}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(i,t){for(const s of i)-1===t.indexOf(s)&&t.push(s)}removeElementFromCollection(i,t){-1!==(i=t.indexOf(i))&&t.splice(i,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(i){this.maxIterations=X(i,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(i){this.initialRendering=i}createQuadTree(){this.quadTree=new x(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const i=this.options.initialPositions;if(L(i)){i.call(this);for(const t of this.nodes)Q(t.prevX)||(t.prevX=t.plotX),Q(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0}else"circle"===i?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const i=this.box;var t=this.nodes;const s=2*Math.PI/(t.length+1),r=t.filter(function(h){return 0===h.linksTo.length}),o={},c=this.options.initialPositionRadius,v=h=>{for(const P of h.linksFrom||[])o[P.toNode.id]||(o[P.toNode.id]=!0,m.push(P.toNode),v(P.toNode))};let m=[];for(const h of r)m.push(h),v(h);if(m.length)for(const h of t)-1===m.indexOf(h)&&m.push(h);else m=t;for(let h=0,P=m.length;h<P;++h)(t=m[h]).plotX=t.prevX=X(t.plotX,i.width/2+c*Math.cos(h*s)),t.plotY=t.prevY=X(t.plotY,i.height/2+c*Math.sin(h*s)),t.dispX=0,t.dispY=0}setRandomPositions(){const i=this.box,t=this.nodes,s=t.length+1,r=c=>(c=c*c/Math.PI)-Math.floor(c);let o;for(let c=0,v=t.length;c<v;++c)o=t[c],o.plotX=o.prevX=X(o.plotX,i.width*r(c)),o.plotY=o.prevY=X(o.plotY,i.height*r(s+c)),o.dispX=0,o.dispY=0}force(i,...t){this.integration[i].apply(this,t)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let i=0,t=0,s=0;for(const r of this.nodes)t+=r.plotX*r.mass,s+=r.plotY*r.mass,i+=r.mass;return this.barycenter={x:t,y:s,xFactor:t/i,yFactor:s/i}}barnesHutApproximation(i,t){const s=this.getDistXY(i,t),r=this.vectorLength(s);let o,c;return i!==t&&0!==r&&(t.isInternal?t.boxSize/r<this.options.theta&&0!==r?(c=this.repulsiveForce(r,this.k),this.force("repulsive",i,c*t.mass,s,r),o=!1):o=!0:(c=this.repulsiveForce(r,this.k),this.force("repulsive",i,c*t.mass,s,r))),o}repulsiveForces(){if("barnes-hut"===this.approximation)for(const i of this.nodes)this.quadTree.visitNodeRecursive(null,t=>this.barnesHutApproximation(i,t));else{let i,t,s;for(const r of this.nodes)for(const o of this.nodes)r===o||r.fixedPosition||(s=this.getDistXY(r,o),t=this.vectorLength(s),0!==t&&(i=this.repulsiveForce(t,this.k),this.force("repulsive",r,i*o.mass,s,t)))}}attractiveForces(){let i,t,s;for(const r of this.links)r.fromNode&&r.toNode&&(i=this.getDistXY(r.fromNode,r.toNode),t=this.vectorLength(i),0!==t&&(s=this.attractiveForce(t,this.k),this.force("attractive",r,s,i,t)))}applyLimits(){const i=this.nodes;for(const t of i){if(t.fixedPosition)break;this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0}}applyLimitBox(i,t){const s=i.radius;i.plotX=F(i.plotX,t.left+s,t.width-s),i.plotY=F(i.plotY,t.top+s,t.height-s)}coolDown(i,t,s){return i-t*s}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let i=0;for(const t of this.nodes)i+=t.temperature;return i}vectorLength(i){return Math.sqrt(i.x*i.x+i.y*i.y)}getDistR(i,t){return i=this.getDistXY(i,t),this.vectorLength(i)}getDistXY(i,t){const s=i.plotX-t.plotX;return{x:s,y:i=i.plotY-t.plotY,absX:Math.abs(s),absY:Math.abs(i)}}}return D}),et(d,"Series/PackedBubble/PackedBubbleLayout.js",[d["Series/GraphLayoutComposition.js"],d["Series/PackedBubble/PackedBubbleIntegration.js"],d["Series/Networkgraph/ReingoldFruchtermanLayout.js"],d["Core/Utilities.js"]],function(n,u,g,x){function b(){const G=[];return this.series.forEach(X=>{X.parentNode&&X.parentNode.selected&&G.push(X.parentNode)}),G}function M(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:E,pick:F}=x,Q=[];class L extends g{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(X){g.compose(X),n.integrations.packedbubble=u,n.layouts.packedbubble=L,x.pushUnique(Q,X)&&(E(X,"beforeRedraw",M),X.prototype.getSelectedParentNodes=b)}beforeStep(){this.options.marker&&this.series.forEach(X=>{X&&X.calculateParentRadius()})}isStable(){const X=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>X||0>=this.temperature}setCircularPositions(){const X=this.box;var D=this.nodes;const V=2*Math.PI/(D.length+1),i=this.options.initialPositionRadius;let t,s=0;for(const r of D)this.options.splitSeries&&!r.isParentNode?(D=r.series.parentNode.plotX,t=r.series.parentNode.plotY):(D=X.width/2,t=X.height/2),r.plotX=r.prevX=F(r.plotX,D+i*Math.cos(r.index||s*V)),r.plotY=r.prevY=F(r.plotY,t+i*Math.sin(r.index||s*V)),r.dispX=0,r.dispY=0,s++}repulsiveForces(){const X=this,D=X.options.bubblePadding;let V,i,t;X.nodes.forEach(s=>{s.degree=s.mass,s.neighbours=0,X.nodes.forEach(r=>{V=0,s===r||s.fixedPosition||!X.options.seriesInteraction&&s.series!==r.series||(t=X.getDistXY(s,r),i=X.vectorLength(t)-(s.marker.radius+r.marker.radius+D),0>i&&(s.degree+=.01,s.neighbours++,V=X.repulsiveForce(-i/Math.sqrt(s.neighbours),X.k,s,r)),X.force("repulsive",s,V*r.mass,t,r,i))})})}applyLimitBox(X,D){let V,i;this.options.splitSeries&&!X.isParentNode&&this.options.parentNodeLimit&&(V=this.getDistXY(X,X.series.parentNode),i=X.series.parentNodeRadius-X.marker.radius-this.vectorLength(V),0>i&&i>-2*X.marker.radius&&(X.plotX-=.01*V.x,X.plotY-=.01*V.y)),super.applyLimitBox(X,D)}}return n.layouts.packedbubble=L}),et(d,"Series/SimulationSeriesUtilities.js",[d["Core/Utilities.js"],d["Core/Animation/AnimationUtilities.js"]],function(n,u){const{syncTimeout:g}=n,{animObject:x}=u;return{initDataLabels:function(){const b=this.options.dataLabels;if(!this.dataLabelsGroup){const M=this.initDataLabelsGroup();return!this.chart.styledMode&&null!=b&&b.style&&M.css(b.style),M.attr({opacity:0}),this.visible&&M.show(),M}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var b;const M=this.options.dataLabels;null!=M&&M.defer&&null!==(b=this.options.layoutAlgorithm)&&void 0!==b&&b.enableSimulation?g(()=>{this.deferDataLabels=!1},M?x(M.animation).defer:0):this.deferDataLabels=!1}}}),et(d,"Series/PackedBubble/PackedBubbleSeries.js",[d["Core/Color/Color.js"],d["Series/DragNodesComposition.js"],d["Series/GraphLayoutComposition.js"],d["Core/Globals.js"],d["Series/PackedBubble/PackedBubblePoint.js"],d["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],d["Series/PackedBubble/PackedBubbleLayout.js"],d["Core/Series/SeriesRegistry.js"],d["Series/SimulationSeriesUtilities.js"],d["Core/Utilities.js"],d["Core/Animation/AnimationUtilities.js"]],function(n,u,g,x,b,M,E,F,Q,L,G){const{parse:X}=n;({noop:n}=x);const{series:{prototype:D},seriesTypes:{bubble:V}}=F,{initDataLabels:i,initDataLabelsDefer:t}=Q,{addEvent:s,clamp:r,defined:o,extend:c,fireEvent:v,isArray:m,isNumber:h,merge:P,pick:C}=L;class N extends V{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(e,a,f,S){V.compose(e,a,f,S),u.compose(a),E.compose(a)}accumulateAllPoints(){const e=this.chart,a=[];let f;for(const S of e.series)if(S.is("packedbubble")&&S.visible||!e.options.chart.ignoreHiddenSeries){f=S.yData||[];for(let y=0;y<f.length;y++)a.push([null,null,f[y],S.index,y,{id:y,marker:{radius:0}}])}return a}addLayout(){const e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},a=e.type||"packedbubble",f=this.chart.options.chart;let T,S=this.chart.graphLayoutsStorage,y=this.chart.graphLayoutsLookup;S||(this.chart.graphLayoutsStorage=S={},this.chart.graphLayoutsLookup=y=[]),T=S[a],T||(e.enableSimulation=o(f.forExport)?!f.forExport:e.enableSimulation,S[a]=T=new g.layouts[a],T.init(e),y.splice(T.index,0,T)),this.layout=T,this.points.forEach(B=>{B.mass=2,B.degree=1,B.collisionNmb=1}),T.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),T.addElementsToCollection([this],T.series),T.addElementsToCollection(this.points,T.nodes)}addSeriesLayout(){var e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const a=e.type||"packedbubble",f=this.chart.graphLayoutsStorage,S=this.chart.graphLayoutsLookup;e=P(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let y=f[a+"-series"];y||(f[a+"-series"]=y=new g.layouts[a],y.init(e),S.splice(y.index,0,y)),this.parentNodeLayout=y,this.createParentNodes()}calculateParentRadius(){const e=this.seriesBox();this.parentNodeRadius=r(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let e=this.options.zMin,a=this.options.zMax,f=1/0,S=-1/0;return e&&a||(this.chart.series.forEach(y=>{y.yData.forEach(T=>{o(T)&&(T>S&&(S=T),T<f&&(f=T))})}),e=C(e,f),a=C(a,S)),[e,a]}checkOverlap(e,a){const f=e[0]-a[0],S=e[1]-a[1];return-.001>Math.sqrt(f*f+S*S)-Math.abs(e[2]+a[2])}createParentNodes(){const e=this.pointClass,a=this.chart,f=this.parentNodeLayout,S=this.layout.options;let y,T=this.parentNode,B={radius:this.parentNodeRadius,lineColor:this.color,fillColor:X(this.color).brighten(.4).get()};S.parentNodeOptions&&(B=P(S.parentNodeOptions.marker||{},B)),this.parentNodeMass=0,this.points.forEach(z=>{this.parentNodeMass+=Math.PI*Math.pow(z.marker.radius,2)}),this.calculateParentRadius(),f.nodes.forEach(z=>{z.seriesIndex===this.index&&(y=!0)}),f.setArea(0,0,a.plotWidth,a.plotHeight),y||(T||(T=(new e).init(this,{mass:this.parentNodeRadius/2,marker:B,dataLabels:{inside:!1},states:{normal:{marker:B},hover:{marker:B}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(T.plotX=this.parentNode.plotX,T.plotY=this.parentNode.plotY),this.parentNode=T,f.addElementsToCollection([this],f.series),f.addElementsToCollection([T],f.nodes))}deferLayout(){const e=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),e.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(e=>{e.removeElementFromCollection(this,e.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),D.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(D.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",D.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var e=this.chart,a=this.layout.options.parentNodeOptions.marker;a={fill:a.fillColor||X(this.color).brighten(.4).get(),opacity:a.fillOpacity,stroke:a.lineColor||this.color,"stroke-width":C(a.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,e.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var f=P({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},a);this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(a.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(f)}}drawTracker(){const e=this.parentNode;let a;super.drawTracker(),e&&(a=m(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),a.forEach(f=>{f.div?f.div.point=e:f.element.point=e}))}getPointRadius(){const e=this.chart,a=this.options,f=a.useSimulation,S=Math.min(e.plotWidth,e.plotHeight),y={},T=[],B=e.allDataPoints||[],z=B.length;let tt,st,A,p;["minSize","maxSize"].forEach(Y=>{const R=parseInt(a[Y],10),O=/%$/.test(a[Y]);y[Y]=O?S*R/100:R*Math.sqrt(z)}),e.minRadius=tt=y.minSize/Math.sqrt(z),e.maxRadius=st=y.maxSize/Math.sqrt(z);const k=f?this.calculateZExtremes():[tt,st];B.forEach((Y,R)=>{A=f?r(Y[2],k[0],k[1]):Y[2],p=this.getRadius(k[0],k[1],tt,st,A),0===p&&(p=null),B[R][2]=p,T.push(p)}),this.radii=T}init(){return D.init.apply(this,arguments),t.call(this),this.eventsToUnbind.push(s(this,"updatedData",function(){this.chart.series.forEach(e=>{e.type===this.type&&(e.isDirty=!0)},this)})),this}onMouseUp(e){const a=e;if(a.fixedPosition&&!a.removed){const f=this.layout,S=this.parentNodeLayout;let y,T;S&&f.options.dragBetweenSeries&&S.nodes.forEach(B=>{a&&a.marker&&B!==a.series.parentNode&&(y=f.getDistXY(a,B),T=f.vectorLength(y)-B.marker.radius-a.marker.radius,0>T&&(B.series.addPoint(P(a.options,{plotX:a.plotX,plotY:a.plotY}),!1),f.removeElementFromCollection(a,f.nodes),a.remove()))}),u.onMouseUp.apply(this,arguments)}}placeBubbles(e){const a=this.checkOverlap,f=this.positionBubble,S=[];let y=1,T=0,B=0;var z=[];let tt;if((e=e.sort((st,A)=>A[2]-st[2])).length){if(S.push([[0,0,e[0][2],e[0][3],e[0][4]]]),1<e.length)for(S.push([[0,0-e[1][2]-e[0][2],e[1][2],e[1][3],e[1][4]]]),tt=2;tt<e.length;tt++)e[tt][2]=e[tt][2]||1,a(z=f(S[y][T],S[y-1][B],e[tt]),S[y][0])?(S.push([]),B=0,S[y+1].push(f(S[y][T],S[y][0],e[tt])),y++,T=0):1<y&&S[y-1][B+1]&&a(z,S[y-1][B+1])?(B++,S[y].push(f(S[y][T],S[y-1][B],e[tt])),T++):(T++,S[y].push(z));this.chart.stages=S,this.chart.rawPositions=[].concat.apply([],S),this.resizeRadius(),z=this.chart.rawPositions}return z}pointAttribs(e,a){var f=this.options;let S=f.marker;return e&&e.isParentNode&&f.layoutAlgorithm&&f.layoutAlgorithm.parentNodeOptions&&(S=f.layoutAlgorithm.parentNodeOptions.marker),f=S.fillOpacity,e=D.pointAttribs.call(this,e,a),1!==f&&(e["fill-opacity"]=f),e}positionBubble(e,a,f){var S=Math.sqrt,y=Math.asin,T=Math.acos;const B=Math.pow,z=Math.abs;return S=S(B(e[0]-a[0],2)+B(e[1]-a[1],2)),T=T((B(S,2)+B(f[2]+a[2],2)-B(f[2]+e[2],2))/(2*(f[2]+a[2])*S)),y=y(z(e[0]-a[0])/S),e=(0>e[1]-a[1]?0:Math.PI)+T+y*(0>(e[0]-a[0])*(e[1]-a[1])?1:-1),[a[0]+(a[2]+f[2])*Math.sin(e),a[1]-(a[2]+f[2])*Math.cos(e),f[2],f[3],f[4]]}render(){const e=[];D.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(a=>{m(a.dataLabels)&&a.dataLabels.forEach(f=>{e.push(f)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))}resizeRadius(){const e=this.chart,a=e.rawPositions;var f=Math.min,S=Math.max;const y=e.plotLeft,T=e.plotTop,B=e.plotHeight,z=e.plotWidth;let tt,st,A,p,k;tt=A=Number.POSITIVE_INFINITY,st=p=Number.NEGATIVE_INFINITY;for(const Y of a)k=Y[2],tt=f(tt,Y[0]-k),st=S(st,Y[0]+k),A=f(A,Y[1]-k),p=S(p,Y[1]+k);if(f=f.apply([],[(z-y)/(S=[st-tt,p-A])[0],(B-T)/S[1]]),1e-10<Math.abs(f-1)){for(const Y of a)Y[2]*=f;this.placeBubbles(a)}else e.diffY=B/2+T-A-(p-A)/2,e.diffX=z/2+y-tt-(st-tt)/2}seriesBox(){const e=this.chart,a=Math.max,f=Math.min,S=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];let y;return this.data.forEach(T=>{o(T.plotX)&&o(T.plotY)&&T.marker.radius&&(y=T.marker.radius,S[0]=f(S[0],T.plotX-y),S[1]=a(S[1],T.plotX+y),S[2]=f(S[2],T.plotY-y),S[3]=a(S[3],T.plotY+y))}),h(S.width/S.height)?S:null}setVisible(){const e=this;D.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(a=>{e.layout.removeElementFromCollection(a,e.layout.nodes)}))}translate(){const e=this.chart,a=this.data,f=this.index,S=this.options.useSimulation;let y;if(this.processedXData=this.xData,this.generatePoints(),o(e.allDataPoints)||(e.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),S)var T=e.allDataPoints;else T=this.placeBubbles(e.allDataPoints),this.options.draggable=!1;for(const B of T)B[3]===f&&(T=a[B[4]],y=C(B[2],void 0),S||(T.plotX=B[0]-e.plotLeft+e.diffX,T.plotY=B[1]-e.plotTop+e.diffY),h(y)&&(T.marker=c(T.marker,{radius:y,width:2*y,height:2*y}),T.radius=y));S&&this.deferLayout(),v(this,"afterTranslate")}}return N.defaultOptions=P(V.defaultOptions,M),c(N.prototype,{pointClass:b,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:i,alignDataLabel:D.alignDataLabel,indexateNodes:n,onMouseDown:u.onMouseDown,onMouseMove:u.onMouseMove,redrawHalo:u.redrawHalo,searchPoint:n}),F.registerSeriesType("packedbubble",N),N}),et(d,"Series/Polygon/PolygonSeries.js",[d["Core/Globals.js"],d["Core/Legend/LegendSymbol.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(n,u,g,x){({noop:n}=n);const{series:b,seriesTypes:{area:M,line:E,scatter:F}}=g,{extend:Q,merge:L}=x;class G extends F{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let D=E.prototype.getGraphPath.call(this),V=D.length+1;for(;V--;)(V===D.length||"M"===D[V][0])&&0<V&&D.splice(V,0,["Z"]);return this.areaPath=D}drawGraph(){this.options.fillColor=this.color,M.prototype.drawGraph.call(this)}}return G.defaultOptions=L(F.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),Q(G.prototype,{type:"polygon",drawLegendSymbol:u.drawRectangle,drawTracker:b.prototype.drawTracker,setStackedPoints:n}),g.registerSeriesType("polygon",G),G}),et(d,"Core/Axis/WaterfallAxis.js",[d["Core/Axis/Stacking/StackItem.js"],d["Core/Utilities.js"]],function(n,u){const{addEvent:g,objectEach:x}=u;var b;return function(M){function E(){const X=this.waterfall.stacks;X&&(X.changed=!1,delete X.alreadyChanged)}function F(){const X=this.options.stackLabels;X&&X.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function Q(){let X=this.axes,D=this.series,V=D.length;for(;V--;)D[V].options.stacking&&(X.forEach(function(i){i.isXAxis||(i.waterfall.stacks.changed=!0)}),V=0)}function L(){this.waterfall||(this.waterfall=new G(this))}class G{constructor(D){this.axis=D,this.stacks={changed:!1}}renderStackTotals(){const D=this.axis,V=D.waterfall.stacks,i=D.stacking&&D.stacking.stackTotalGroup,t=new n(D,D.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=t,i&&x(V,function(s){x(s,function(r,o){t.total=r.stackTotal,t.x=+o,r.label&&(t.label=r.label),n.prototype.render.call(t,i),r.label=t.label,delete t.label})}),t.total=null}}M.Composition=G,M.compose=function(X,D){g(X,"init",L),g(X,"afterBuildStacks",E),g(X,"afterRender",F),g(D,"beforeRedraw",Q)}}(b||(b={})),b}),et(d,"Series/Waterfall/WaterfallPoint.js",[d["Series/Column/ColumnSeries.js"],d["Core/Series/Point.js"],d["Core/Utilities.js"]],function(n,u,g){const{isNumber:x}=g;return class b extends n.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let E=u.prototype.getClassName.call(this);return this.isSum?E+=" highcharts-sum":this.isIntermediateSum&&(E+=" highcharts-intermediate-sum"),E}isValid(){return x(this.y)||this.isSum||!!this.isIntermediateSum}}}),et(d,"Series/Waterfall/WaterfallSeries.js",[d["Core/Axis/Axis.js"],d["Core/Chart/Chart.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"],d["Core/Axis/WaterfallAxis.js"],d["Series/Waterfall/WaterfallPoint.js"]],function(n,u,g,x,b,M){const{seriesTypes:{column:E,line:F}}=g,{addEvent:Q,arrayMax:L,arrayMin:G,correctFloat:X,extend:D,isNumber:V,merge:i,objectEach:t,pick:s}=x;class r extends E{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){E.prototype.generatePoints.apply(this);for(let c=0,v=this.points.length;c<v;c++){const m=this.points[c],h=this.processedYData[c];V(h)&&(m.isIntermediateSum||m.isSum)&&(m.y=X(h))}}processData(c){let P,j,e,a,f,S,y,v=this.options,m=this.yData,h=v.data,C=m.length,N=v.threshold||0;for(y=e=j=a=f=0;y<C;y++)S=m[y],P=h&&h[y]?h[y]:{},"sum"===S||P.isSum?m[y]=X(e):"intermediateSum"===S||P.isIntermediateSum?(m[y]=X(j),j=0):(e+=S,j+=S),a=Math.min(e,a),f=Math.max(e,f);super.processData.call(this,c),v.stacking||(this.dataMin=a+N,this.dataMax=f)}toYData(c){return c.isSum?"sum":c.isIntermediateSum?"intermediateSum":c.y}updateParallelArrays(c,v){super.updateParallelArrays.call(this,c,v),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(c,v){const m=this.options.upColor;return m&&!c.options.color&&V(c.y)&&(c.color=0<c.y?m:void 0),delete(c=E.prototype.pointAttribs.call(this,c,v)).dashstyle,c}getGraphPath(){return[["M",0,0]]}getCrispPath(){let c=this.data.filter(y=>V(y.y)),v=this.yAxis,m=c.length,h=Math.round(this.graph.strokeWidth())%2/2,P=Math.round(this.borderWidth)%2/2,C=this.xAxis.reversed,N=this.yAxis.reversed,j=this.options.stacking,e=[];for(let y=1;y<m;y++){if(!this.options.connectNulls&&!V(this.data[c[y].index-1].y))continue;var a=c[y].box,f=c[y-1];const T=f.y||0,B=c[y-1].box;if(!a||!B)continue;var S=v.waterfall.stacks[this.stackKey];const z=0<T?-B.height:0;S&&B&&a&&(S=S[y-1],f=j?Math.round(v.translate(S.connectorThreshold,!1,!0,!1,!0)+(N?z:0))-h:B.y+f.minPointLengthOffset+P-h,e.push(["M",(B.x||0)+(C?0:B.width||0),f],["L",(a.x||0)+(C&&a.width||0),f])),B&&e.length&&(!j&&0>T&&!N||0<T&&N)&&((a=e[e.length-2])&&"number"==typeof a[2]&&(a[2]+=B.height||0),(a=e[e.length-1])&&"number"==typeof a[2]&&(a[2]+=B.height||0))}return e}drawGraph(){F.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function c(k,Y,R,O){if(a){if(T)for(;R<T;R++)a.stackState[R]+=O;else a.stackState[0]=k,T=a.stackState.length;a.stackState.push(a.stackState[T-1]+Y)}}let a,f,S,y,T,B,z,tt,v=this.options,m=this.yAxis.waterfall.stacks,h=v.threshold||0,P=h,C=P,N=this.stackKey,j=this.xData,e=j.length;var st;let A;if(this.yAxis.stacking.usePercentage=!1,f=S=y=P,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(A=m.changed,(st=m.alreadyChanged)&&0>st.indexOf(N)&&(A=!0),m[N]||(m[N]={}),st=m[N])for(let k=0;k<e;k++){var p=j[k];(!st[p]||A)&&(st[p]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:A&&st[p]?st[p].label:void 0}),a=st[p],tt=this.yData[k],0<=tt?a.posTotal+=tt:a.negTotal+=tt,z=v.data[k],p=a.absolutePos=a.posTotal,B=a.absoluteNeg=a.negTotal,a.stackTotal=p+B,T=a.stackState.length,z&&z.isIntermediateSum?(c(y,S,0,y),y=S,S=h,P^=C,C^=P,P^=C):z&&z.isSum?(c(h,f,T,0),P=h):(c(P,tt,0,f),z&&(f+=tt,S+=tt)),a.stateIndex++,a.threshold=P,P+=a.stackTotal}m.changed=!1,m.alreadyChanged||(m.alreadyChanged=[]),m.alreadyChanged.push(N)}}getExtremes(){let v,m,c=this.options.stacking;if(c){var h=this.yAxis;return h=h.waterfall.stacks,v=this.stackedYNeg=[],m=this.stackedYPos=[],t(h[this.stackKey],"overlap"===c?function(P){v.push(G(P.stackState)),m.push(L(P.stackState))}:function(P){v.push(P.negTotal+P.threshold),m.push(P.posTotal+P.threshold)}),{dataMin:G(v),dataMax:L(m)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return r.defaultOptions=i(E.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),Q(r,"afterColumnTranslate",function(){const{options:o,points:c,yAxis:v}=this,m=s(o.minPointLength,5),h=m/2,P=o.threshold||0,C=o.stacking,N=v.waterfall.stacks[this.stackKey];let j=P,e=P;for(let T=0;T<c.length;T++){const B=c[T];var a=this.processedYData[T];const z=D({x:0,y:0,width:0,height:0},B.shapeArgs||{});B.box=z;var f=[0,a],S=B.y||0;if(C){if(N){if(f=N[T],"overlap"===C){var y=f.stackState[f.stateIndex--];y=0<=S?y:y-S,Object.hasOwnProperty.call(f,"absolutePos")&&delete f.absolutePos,Object.hasOwnProperty.call(f,"absoluteNeg")&&delete f.absoluteNeg}else 0<=S?(y=f.threshold+f.posTotal,f.posTotal-=S):(y=f.threshold+f.negTotal,f.negTotal-=S,y-=S),!f.posTotal&&V(f.absolutePos)&&Object.hasOwnProperty.call(f,"absolutePos")&&(f.posTotal=f.absolutePos,delete f.absolutePos),!f.negTotal&&V(f.absoluteNeg)&&Object.hasOwnProperty.call(f,"absoluteNeg")&&(f.negTotal=f.absoluteNeg,delete f.absoluteNeg);B.isSum||(f.connectorThreshold=f.threshold+f.stackTotal),v.reversed?a=0<=S?y-S:y+S:(a=y,y-=S),B.below=a<=P,z.y=v.translate(a,!1,!0,!1,!0),z.height=Math.abs(z.y-v.translate(y,!1,!0,!1,!0)),(y=v.waterfall.dummyStackItem)&&(y.x=T,y.label=N[T].label,y.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[T],this.stackedYPos[T],void 0,this.xAxis))}}else y=Math.max(e,e+S)+f[0],z.y=v.translate(y,!1,!0,!1,!0),B.isSum?(z.y=v.translate(f[1],!1,!0,!1,!0),z.height=Math.min(v.translate(f[0],!1,!0,!1,!0),v.len)-z.y,B.below=f[1]<=P):B.isIntermediateSum?(0<=S?(a=f[1]+j,y=j):(a=j,y=f[1]+j),v.reversed&&(a^=y,a^=y^=a),z.y=v.translate(a,!1,!0,!1,!0),z.height=Math.abs(z.y-Math.min(v.translate(y,!1,!0,!1,!0),v.len)),j+=f[1],B.below=a<=P):(z.height=0<a?v.translate(e,!1,!0,!1,!0)-z.y:v.translate(e,!1,!0,!1,!0)-v.translate(e-a,!1,!0,!1,!0),e+=a,B.below=e<P),0>z.height&&(z.y+=z.height,z.height*=-1);B.plotY=z.y=Math.round(z.y||0)-this.borderWidth%2/2,z.height=Math.max(Math.round(z.height||0),.001),B.yBottom=z.y+z.height,z.height<=m&&!B.isNull?(z.height=m,z.y-=h,B.plotY=z.y,B.minPointLengthOffset=0>S?-h:h):(B.isNull&&(z.width=0),B.minPointLengthOffset=0),S=B.plotY+(B.negative?z.height:0),B.below&&(B.plotY+=z.height),B.tooltipPos&&(this.chart.inverted?B.tooltipPos[0]=v.len-S:B.tooltipPos[1]=S),B.isInside=this.isPointInside(B),i(!0,B.shapeArgs,z)}},{order:2}),D(r.prototype,{getZonesGraphs:F.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:M}),g.registerSeriesType("waterfall",r),b.compose(n,u),r}),et(d,"Core/Axis/RadialAxis.js",[d["Core/Axis/AxisDefaults.js"],d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(n,u,g,x){const{defaultOptions:b}=u,{noop:M}=g,{addEvent:E,correctFloat:F,defined:Q,extend:L,fireEvent:G,merge:X,pick:D,relativeLength:V,wrap:i}=x;var t;return function(s){function r(){this.autoConnect=this.isCircular&&typeof D(this.userMax,this.options.max)>"u"&&F(this.endAngleRad-this.startAngleRad)===F(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function o(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map(l=>this.ticks[l]&&this.ticks[l].label).filter(l=>!!l)}}function c(){return M}function v(l,w,I){const q=this.pane.center;let H,U=l.value;if(this.isCircular){if(Q(U))l.point&&(K=l.point.shapeArgs||{}).start&&(U=this.chart.inverted?this.translate(l.point.rectPlotY,!0):l.point.x);else{var K=l.chartX||0;H=l.chartY||0,U=this.translate(Math.atan2(H-I,K-w)-this.startAngleRad,!0)}K=(l=this.getPosition(U)).x,H=l.y}else Q(U)||(K=l.chartX,H=l.chartY),Q(K)&&Q(H)&&(I=q[1]+this.chart.plotTop,U=this.translate(Math.min(Math.sqrt(Math.pow(K-w,2)+Math.pow(H-I,2)),q[2]/2)-q[3]/2,!0));return[U,K||0,H||0]}function m(l,w,I){const q=this.chart,U=this.left||0,H=this.top||0;let K=D(w,(l=this.pane.center)[2]/2-this.offset);return typeof I>"u"&&(I=this.horiz?0:this.center&&-this.center[3]/2),I&&(K+=I),this.isCircular||typeof w<"u"?((w=this.chart.renderer.symbols.arc(U+l[0],H+l[1],K,K,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[U+l[0]],w.yBounds=[H+l[1]-K]):(w=this.postTranslate(this.angleRad,K),w=[["M",this.center[0]+q.plotLeft,this.center[1]+q.plotTop],["L",w.x,w.y]]),w}function h(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function P(l,w,I){const q=this.chart;var U=lt=>{if("string"==typeof lt){let ct=parseInt(lt,10);return at.test(lt)&&(ct=ct*_/100),ct}return lt};const H=this.center;var K=this.startAngleRad;const _=H[2]/2;var J=Math.min(this.offset,0),it=this.left||0;const rt=this.top||0,at=/%$/;var $=this.isCircular;let nt,ot=D(U(I.outerRadius),_),ht=U(I.innerRadius);return U=D(U(I.thickness),10),"polygon"===this.options.gridLineInterpolation?J=this.getPlotLinePath({value:l}).concat(this.getPlotLinePath({value:w,reverse:!0})):(l=Math.max(l,this.min),w=Math.min(w,this.max),l=this.translate(l),w=this.translate(w),$||(ot=l||0,ht=w||0),"circle"!==I.shape&&$?(I=K+(l||0),K+=w||0):(I=-Math.PI/2,K=1.5*Math.PI,nt=!0),ot-=J,J=q.renderer.symbols.arc(it+H[0],rt+H[1],ot,ot,{start:Math.min(I,K),end:Math.max(I,K),innerR:D(ht,ot-(U-J)),open:nt}),$&&($=(K+I)/2,it=it+H[0]+H[2]/2*Math.cos($),J.xBounds=$>-Math.PI/2&&$<Math.PI/2?[it,q.plotWidth]:[0,it],J.yBounds=[rt+H[1]+H[2]/2*Math.sin($)],J.yBounds[0]+=$>-Math.PI&&0>$||$>Math.PI?-10:10)),J}function C(l){var w=this.pane.center,I=this.chart;const q=I.inverted;var U=l.reverse,H=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const K=H.innerRadius||"0%",_=H.outerRadius||"100%";var J=w[0]+I.plotLeft,it=w[1]+I.plotTop;const rt=this.height,at=l.isCrosshair;H=w[3]/2;var $=l.value;let nt;var ot=this.getPosition($);let ht=ot.x;if(ot=ot.y,at&&($=(ot=this.getCrosshairPosition(l,J,it))[0],ht=ot[1],ot=ot[2]),this.isCircular)$=Math.sqrt(Math.pow(ht-J,2)+Math.pow(ot-it,2)),U="string"==typeof K?V(K,1):K/$,I="string"==typeof _?V(_,1):_/$,w&&H&&(U<(H/=$)&&(U=H),I<H&&(I=H)),w=[["M",J+U*(ht-J),it-U*(it-ot)],["L",ht-(1-I)*(ht-J),ot+(1-I)*(it-ot)]];else if(($=this.translate($))&&(0>$||$>rt)&&($=0),"circle"===this.options.gridLineInterpolation)w=this.getLinePath(0,$,H);else if(w=[],I[q?"yAxis":"xAxis"].forEach(lt=>{lt.pane===this.pane&&(nt=lt)}),nt)for(J=nt.tickPositions,nt.autoConnect&&(J=J.concat([J[0]])),U&&(J=J.slice().reverse()),$&&($+=H),it=0;it<J.length;it++)H=nt.getPosition(J[it],$),w.push(it?["L",H.x,H.y]:["M",H.x,H.y]);return w}function N(l,w){return l=this.translate(l),this.postTranslate(this.isCircular?l:this.angleRad,D(this.isCircular?w:0>l?0:l,this.center[2]/2)-this.offset)}function j(){const l=this.center,w=this.chart,I=this.options.title;return{x:w.plotLeft+l[0]+(I.x||0),y:w.plotTop+l[1]-{high:.5,middle:.25,low:0}[I.align]*l[2]+(I.y||0)}}function e(l){l.beforeSetTickPositions=r,l.createLabelCollector=o,l.getCrosshairPosition=v,l.getLinePath=m,l.getOffset=h,l.getPlotBandPath=P,l.getPlotLinePath=C,l.getPosition=N,l.getTitlePosition=j,l.postTranslate=tt,l.setAxisSize=A,l.setAxisTranslation=p,l.setOptions=k}function a(){var l=this.chart,w=this.options,I=this.pane,q=I&&I.options;l.angular&&this.isXAxis||!I||!l.angular&&!l.polar||(l=2*Math.PI,I=(D(q.startAngle,0)-90)*Math.PI/180,q=(D(q.endAngle,D(q.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(w.angle||0)*Math.PI/180,this.startAngleRad=I,this.endAngleRad=q,this.offset=w.offset||0,q=(q%l+l)%l,(w=(I%l+l)%l)>Math.PI&&(w-=l),q>Math.PI&&(q-=l),this.normalizedStartAngleRad=w,this.normalizedEndAngleRad=q)}function f(l){this.isRadial&&(l.align=void 0,l.preventDefault())}function S(){if(this.chart&&this.chart.labelCollectors){const l=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=l&&this.chart.labelCollectors.splice(l,1)}}function y(l){const w=this.chart,I=w.inverted,q=w.angular,U=w.polar,H=this.isXAxis,K=this.coll,_=q&&H;let J;l=l.userOptions.pane||0,l=this.pane=w.pane&&w.pane[l],"colorAxis"===K?this.isRadial=!1:(q?(_?(this.isHidden=!0,this.createLabelCollector=c,this.getOffset=M,this.render=this.redraw=st,this.setTitle=this.setCategories=this.setScale=M):e(this),(J=!H)&&(this.defaultPolarOptions=W)):U&&(e(this),this.defaultPolarOptions=(J=this.horiz)?O:X("xAxis"===K?n.defaultXAxisOptions:n.defaultYAxisOptions,Z),I&&"yAxis"===K&&(this.defaultPolarOptions.stackLabels=n.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),q||U?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&w.labelCollectors.push(this.labelCollector)):this.isRadial=!1,l&&J&&(l.axis=this),this.isCircular=J)}function T(){this.isRadial&&this.beforeSetTickPositions()}function B(l){const w=this.label;if(w){var I=this.axis,q=w.getBBox(),U=I.options.labels,H=(I.translate(this.pos)+I.startAngleRad+Math.PI/2)/Math.PI*180%360,K=Math.round(H),_=Q(U.y)?0:.3*-q.height,J=U.y,it=20,rt=U.align,at="end",$=0>K?K+360:K,nt=$,ot=0,ht=0;if(I.isRadial){var lt=I.getPosition(this.pos,I.center[2]/2+V(D(U.distance,-25),I.center[2]/2,-I.center[2]/2));"auto"===U.rotation?w.attr({rotation:H}):Q(J)||(J=I.chart.renderer.fontMetrics(w).b-q.height/2),Q(rt)||(I.isCircular?(q.width>I.len*I.tickInterval/(I.max-I.min)&&(it=0),rt=H>it&&H<180-it?"left":H>180+it&&H<360-it?"right":"center"):rt="center",w.attr({align:rt})),"auto"===rt&&2===I.tickPositions.length&&I.isCircular&&(90<$&&180>$?$=180-$:270<$&&360>=$&&($=540-$),180<nt&&360>=nt&&(nt=360-nt),(I.pane.options.startAngle===K||I.pane.options.startAngle===K+360||I.pane.options.startAngle===K-360)&&(at="start"),rt=-90<=K&&90>=K||-360<=K&&-270>=K||270<=K&&360>=K?"start"===at?"right":"left":"start"===at?"left":"right",70<nt&&110>nt&&(rt="center"),15>$||180<=$&&195>$?ot=.3*q.height:15<=$&&35>=$?ot="start"===at?0:.75*q.height:195<=$&&215>=$?ot="start"===at?.75*q.height:0:35<$&&90>=$?ot="start"===at?.25*-q.height:q.height:215<$&&270>=$&&(ot="start"===at?q.height:.25*-q.height),15>nt?ht="start"===at?.15*-q.height:.15*q.height:165<nt&&180>=nt&&(ht="start"===at?.15*q.height:.15*-q.height),w.attr({align:rt}),w.translate(ht,ot+_)),l.pos.x=lt.x+(U.x||0),l.pos.y=lt.y+(J||0)}}}function z(l){this.axis.getPosition&&L(l.pos,this.axis.getPosition(this.pos))}function tt(l,w){const I=this.chart,q=this.center;return l=this.startAngleRad+l,{x:I.plotLeft+q[0]+Math.cos(l)*w,y:I.plotTop+q[1]+Math.sin(l)*w}}function st(){this.isDirty=!1}function A(){let l,w;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),l=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(w=this.postTranslate(this.angleRad,l[3]/2),l[0]=w.x-this.chart.plotLeft,l[1]=w.y-this.chart.plotTop),this.len=this.width=this.height=(l[2]-l[3])*D(this.sector,1)/2)}function p(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function k(l){(l=this.options=X(this.constructor.defaultOptions,this.defaultPolarOptions,b[this.coll],l)).plotBands||(l.plotBands=[]),G(this,"afterSetOptions")}function Y(l,w,I,q,U,H,K){const _=this.axis;return _.isRadial?["M",w,I,"L",(l=_.getPosition(this.pos,_.center[2]/2+q)).x,l.y]:l.call(this,w,I,q,U,H,K)}const R=[],O={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},W={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},Z={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};s.compose=function(l,w){return x.pushUnique(R,l)&&(E(l,"afterInit",a),E(l,"autoLabelAlign",f),E(l,"destroy",S),E(l,"init",y),E(l,"initialAxisTranslation",T)),x.pushUnique(R,w)&&(E(w,"afterGetLabelPosition",B),E(w,"afterGetPosition",z),i(w.prototype,"getMarkPath",Y)),l}}(t||(t={})),t}),et(d,"Series/PolarComposition.js",[d["Core/Animation/AnimationUtilities.js"],d["Core/Globals.js"],d["Core/Series/Series.js"],d["Extensions/Pane.js"],d["Core/Axis/RadialAxis.js"],d["Core/Utilities.js"]],function(n,u,g,x,b,M){function E(A,p,k,Y){var R=Y?1:0,O=0<=p&&p<=A.length-1?p:0>p?A.length-1+p:0,W=A[p=0>O-1?A.length-(1+R):O-1],Z=W.plotY,l=(R=A[O+1>A.length-1?R:O+1]).plotX,w=R.plotY;W=(1.5*(R=A[O].plotX)+W.plotX)/2.5,Z=(1.5*(O=A[O].plotY)+Z)/2.5,l=(1.5*R+l)/2.5;var I=(1.5*O+w)/2.5;w=Math.sqrt(Math.pow(W-R,2)+Math.pow(Z-O,2));const q=Math.sqrt(Math.pow(l-R,2)+Math.pow(I-O,2));return W=Math.atan2(Z-O,W-R),I=Math.PI/2+(W+Math.atan2(I-O,l-R))/2,Math.abs(W-I)>Math.PI/2&&(I-=Math.PI),W=R+Math.cos(I)*w,Z=O+Math.sin(I)*w,R={rightContX:l=R+Math.cos(Math.PI+I)*q,rightContY:I=O+Math.sin(Math.PI+I)*q,leftContX:W,leftContY:Z,plotX:R,plotY:O},k&&(R.prevPointCont=E(A,p,!1,Y)),R}function F(){(this.pane||[]).forEach(A=>{A.render()})}function Q(A){const p=A.args[0].xAxis,k=A.args[0].yAxis;A=A.args[0].chart,p&&k&&("polygon"===k.gridLineInterpolation?(p.startOnTick=!0,p.endOnTick=!0):"polygon"===p.gridLineInterpolation&&A.inverted&&(k.startOnTick=!0,k.endOnTick=!0))}function L(){this.pane||(this.pane=[]),this.options.pane=T(this.options.pane),this.options.pane.forEach(A=>{new x(A,this)},this)}function G(A){var p=A.args.marker,k=this.chart.xAxis[0],Y=this.chart.yAxis[0],R=this.chart.inverted;const O=R?Y:k;if(k=R?k:Y,this.chart.polar){A.preventDefault(),Y=(p.attr?p.attr("start"):p.start)-O.startAngleRad,R=p.attr?p.attr("r"):p.r;let W=(p.attr?p.attr("end"):p.end)-O.startAngleRad;p=p.attr?p.attr("innerR"):p.innerR,A.result.x=Y+O.pos,A.result.width=W-Y,A.result.y=k.len+k.pos-p,A.result.height=p-R}}function X(A){var p=this.chart;if(p.polar&&p.hoverPane&&p.hoverPane.axis){A.preventDefault();var k=p.hoverPane.center,Y=this.mouseDownX||0;const H=this.mouseDownY||0;var R=A.args.chartY;const K=A.args.chartX;var O=2*Math.PI,W=p.hoverPane.axis.startAngleRad,Z=p.hoverPane.axis.endAngleRad,l=p.inverted?p.xAxis[0]:p.yAxis[0];const _={};var w="arc";if(_.x=k[0]+p.plotLeft,_.y=k[1]+p.plotTop,this.zoomHor){var I=0<W?Z-W:Math.abs(W)+Math.abs(Z),q=Math.atan2(H-p.plotTop-k[1],Y-p.plotLeft-k[0])-W,U=Math.atan2(R-p.plotTop-k[1],K-p.plotLeft-k[0])-W;if(_.r=k[2]/2,_.innerR=k[3]/2,0>=q&&(q+=O),0>=U&&(U+=O),U<q&&(U=[q,q=U][0]),I<O&&W+U>Z+(O-I)/2&&(U=q,q=0>=W?W:0),O=_.start=Math.max(q+W,W),I=_.end=Math.min(U+W,Z),"polygon"===l.options.gridLineInterpolation){if(U=O-(w=p.hoverPane.axis).startAngleRad+w.pos,q=I-O,O=l.getPlotLinePath({value:l.max}),I=w.toValue(U),U=w.toValue(U+q),I<w.getExtremes().min){const{min:J,max:it}=w.getExtremes();I=it-(J-I)}if(U<w.getExtremes().min){const{min:J,max:it}=w.getExtremes();U=it-(J-U)}U<I&&(U=[I,I=U][0]),(O=t(O,I,U,w)).push(["L",k[0]+p.plotLeft,p.plotTop+k[1]]),_.d=O,w="path"}}this.zoomVert&&(U=p.inverted?p.xAxis[0]:p.yAxis[0],Y=Math.sqrt(Math.pow(Y-p.plotLeft-k[0],2)+Math.pow(H-p.plotTop-k[1],2)),(R=Math.sqrt(Math.pow(K-p.plotLeft-k[0],2)+Math.pow(R-p.plotTop-k[1],2)))<Y&&(Y=[R,R=Y][0]),R>k[2]/2&&(R=k[2]/2),Y<k[3]/2&&(Y=k[3]/2),this.zoomHor||(_.start=W,_.end=Z),_.r=R,_.innerR=Y,"polygon"===U.options.gridLineInterpolation&&(k=U.toValue(U.len+U.pos-Y),W=U.toValue(U.len+U.pos-R),k=U.getPlotLinePath({value:W}).concat(U.getPlotLinePath({value:k,reverse:!0})),_.d=k,w="path")),this.zoomHor&&this.zoomVert&&"polygon"===l.options.gridLineInterpolation&&(Z=(_.end||0)-(l=_.start||0),l=(k=p.hoverPane.axis).toValue(W=l-k.startAngleRad+k.pos),k=k.toValue(W+Z),_.d instanceof Array&&(W=_.d.slice(0,_.d.length/2),Z=_.d.slice(_.d.length/2,_.d.length),Z=[...Z].reverse(),W=t(W,l,k,p=p.hoverPane.axis),(Z=t(Z,l,k,p))&&(Z[0][0]="L"),Z=[...Z].reverse(),_.d=W.concat(Z),w="path")),A.attrs=_,A.shapeType=w}}function D(){const A=this.chart;A.polar&&(this.polar=new st(this),A.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function V(){if(this.chart.polar&&this.xAxis){const{xAxis:A,yAxis:p}=this,k=this.chart;(this.kdByAngle=k.tooltip&&k.tooltip.shared)?this.searchPoint=i:this.options.findNearestPointBy="xy";const Y=this.points;let R=Y.length;for(;R--;)this.is("column")||this.is("columnrange")||this.polar.toXY(Y[R]),k.hasParallelCoordinates||this.yAxis.reversed||(S(Y[R].y,Number.MIN_VALUE)<p.min||Y[R].x<A.min||Y[R].x>A.max?(Y[R].isNull=!0,Y[R].plotY=NaN):Y[R].isNull=Y[R].isValid&&!Y[R].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(N(this,"afterRender",function(){if(k.polar){var O=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:O[0],y:O[1],r:O[2]/2,innerR:O[3]/2});else{{var W=k.renderer,Z=O[0],l=O[1],w=O[2]/2,I=O[3]/2;O=B();const q=W.createElement("clipPath").attr({id:O}).add(W.defs);(W=I?W.arc(Z,l,w,I,0,2*Math.PI).add(q):W.circle(Z,l,w).add(q)).id=O,W.clipPath=q}this.clipCircle=W}this.group.clip(this.clipCircle),this.setClip=u.noop}})))}}function i(A){const p=this.chart;var k=this.xAxis;return k=k.pane&&k.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(A.chartX-(k&&k[0]||0)-p.plotLeft,A.chartY-(k&&k[1]||0)-p.plotTop)})}function t(A,p,k,Y){const R=Y.tickInterval;let O=e(Y=Y.tickPositions,Z=>Z>=k),W=e([...Y].reverse(),Z=>Z<=p);return j(O)||(O=Y[Y.length-1]),j(W)||(W=Y[0],O+=R,A[0][0]="L",A.unshift(A[A.length-3])),(A=A.slice(Y.indexOf(W),Y.indexOf(O)+1))[0][0]="M",A}function s(A,p){return e(this.pane||[],function(k){return k.options.id===p})||A.call(this,p)}function r(A,p,k,Y,R,O){const W=this.chart;var Z=S(Y.inside,!!this.options.stacking);W.polar?(A=p.rectPlotX/Math.PI*180,W.inverted?(this.forceDL=W.isInsidePlot(p.plotX,p.plotY),Z&&p.shapeArgs?(Z=this.yAxis.postTranslate((((Z=p.shapeArgs).start||0)+(Z.end||0))/2-this.xAxis.startAngleRad,p.barX+p.pointWidth/2),R=f(R,{x:Z.x-W.plotLeft,y:Z.y-W.plotTop})):p.tooltipPos&&(R=f(R,{x:p.tooltipPos[0],y:p.tooltipPos[1]})),Y.align=S(Y.align,"center"),Y.verticalAlign=S(Y.verticalAlign,"middle")):(null===Y.align&&(Y.align=20<A&&160>A?"left":200<A&&340>A?"right":"center"),null===Y.verticalAlign&&(Y.verticalAlign=45>A||315<A?"bottom":135<A&&225>A?"top":"middle")),g.prototype.alignDataLabel.call(this,p,k,Y,R,O),this.isRadialBar&&p.shapeArgs&&p.shapeArgs.start===p.shapeArgs.end?k.hide():k.show()):A.call(this,p,k,Y,R,O)}function o(){const A=this.options,p=A.stacking,k=this.chart;var Y=this.xAxis;const R=this.yAxis,O=R.reversed,W=R.center,Z=Y.startAngleRad,l=Y.endAngleRad-Z;let I,q,U,w=0,H=0;var K=0;if(Y.isRadial){I=(Y=this.points).length,q=R.translate(R.min),U=R.translate(R.max);var _=A.threshold||0;for(k.inverted&&a(_)&&(w=R.translate(_),j(w)&&(0>w?w=0:w>l&&(w=l),this.translatedThreshold=w+Z));I--;){var J=(_=Y[I]).barX,it=_.x,rt=_.y;if(_.shapeType="arc",k.inverted){_.plotY=R.translate(rt),p&&R.stacking?(rt=R.stacking.stacks[(0>rt?"-":"")+this.stackKey],this.visible&&rt&&rt[it]&&!_.isNull&&(K=rt[it].points[this.getStackIndicator(void 0,it,this.index).key],H=R.translate(K[0]),K=R.translate(K[1]),j(H)&&(H=M.clamp(H,0,l)))):(H=w,K=_.plotY),H>K&&(K=[H,H=K][0]),O?K>q?K=q:H<U?H=U:(H>q||K<U)&&(H=K=l):H<q?H=q:K>U?K=U:(K<q||H>U)&&(H=K=0),R.min>R.max&&(H=K=O?l:0),H+=Z,K+=Z,W&&(_.barX=J+=W[3]/2),it=Math.max(J,0),rt=Math.max(J+_.pointWidth,0);var at=A.borderRadius;at=y(("object"==typeof at?at.radius:at)||0,rt-it),_.shapeArgs={x:W[0],y:W[1],r:rt,innerR:it,start:H,end:K,borderRadius:at},_.opacity=H===K?0:void 0,_.plotY=(j(this.translatedThreshold)&&(H<this.translatedThreshold?H:K))-Z}else H=J+Z,_.shapeArgs=this.polar.arc(_.yBottom,_.plotY,H,H+_.pointWidth),_.shapeArgs.borderRadius=0;this.polar.toXY(_),k.inverted?(J=R.postTranslate(_.rectPlotY,J+_.pointWidth/2),_.tooltipPos=[J.x-k.plotLeft,J.y-k.plotTop]):_.tooltipPos=[_.plotX,_.plotY],W&&(_.ttBelow=_.plotY>W[1])}}}function c(A,p){const k=this;let Y;if(this.chart.polar){p=p||this.points;for(let O=0;O<p.length;O++)if(!p[O].isNull){var R=O;break}!1!==this.options.connectEnds&&typeof R<"u"&&(this.connectEnds=!0,p.splice(p.length,0,p[R]),Y=!0),p.forEach(O=>{typeof O.polarPlotY>"u"&&k.polar.toXY(O)})}return R=A.apply(this,[].slice.call(arguments,1)),Y&&p.pop(),R}function v(A,p){const k=this.chart;let Y={xAxis:[],yAxis:[]};return k.polar?k.axes.forEach(R=>{if("colorAxis"!==R.coll){var O=R.isXAxis,W=R.center,Z=p.chartX-W[0]-k.plotLeft;W=p.chartY-W[1]-k.plotTop,Y[O?"xAxis":"yAxis"].push({axis:R,value:R.translate(O?Math.PI-Math.atan2(Z,W):Math.sqrt(Math.pow(Z,2)+Math.pow(W,2)),!0)})}}):Y=A.call(this,p),Y}function m(A,p){this.chart.polar||A.call(this,p)}function h(A,p){const k=this,Y=this.chart,R=this.group,O=this.markerGroup,W=this.xAxis&&this.xAxis.center,Z=Y.plotLeft,l=Y.plotTop;let I,q,U,H,K,w=this.options.animation;Y.polar?k.isRadialBar?p||(k.startAngleRad=S(k.translatedThreshold,k.xAxis.startAngleRad),u.seriesTypes.pie.prototype.animate.call(k,p)):(w=C(w),k.is("column")?p||(I=W[3]/2,k.points.forEach(_=>{q=_.graphic,H=(U=_.shapeArgs)&&U.r,K=U&&U.innerR,q&&U&&(q.attr({r:I,innerR:I}),q.animate({r:H,innerR:K},k.options.animation))})):p?(R.attr(A={translateX:W[0]+Z,translateY:W[1]+l,scaleX:.001,scaleY:.001}),O&&O.attr(A)):(R.animate(A={translateX:Z,translateY:l,scaleX:1,scaleY:1},w),O&&O.animate(A,w))):A.call(this,p)}function P(A,p,k,Y){return this.chart.polar?Y?(k=(A=E(p,Y,!0,this.connectEnds)).prevPointCont&&A.prevPointCont.rightContY,A=["C",a(p=A.prevPointCont&&A.prevPointCont.rightContX)?p:A.plotX,a(k)?k:A.plotY,a(A.leftContX)?A.leftContX:A.plotX,a(A.leftContY)?A.leftContY:A.plotY,A.plotX,A.plotY]):A=["M",k.plotX,k.plotY]:A=A.call(this,p,k,Y),A}const{animObject:C}=n,{addEvent:N,defined:j,find:e,isNumber:a,merge:f,pick:S,relativeLength:y,splat:T,uniqueKey:B,wrap:z}=M,tt=[];class st{static compose(p,k,Y,R,O,W,Z,l,w){b.compose(p,O),M.pushUnique(tt,k)&&(N(k,"afterDrawChartBox",F),N(k,"getAxes",L),N(k,"init",Q),z(k.prototype,"get",s)),M.pushUnique(tt,Y)&&(z(p=Y.prototype,"getCoordinates",v),z(p,"pinch",m),N(Y,"getSelectionMarkerAttrs",X),N(Y,"getSelectionBox",G)),M.pushUnique(tt,R)&&(N(R,"afterInit",D),N(R,"afterTranslate",V,{order:2}),N(R,"afterColumnTranslate",o,{order:4}),z(R.prototype,"animate",h)),Z&&M.pushUnique(tt,Z)&&(z(Y=Z.prototype,"alignDataLabel",r),z(Y,"animate",h)),l&&M.pushUnique(tt,l)&&z(l.prototype,"getGraphPath",c),w&&M.pushUnique(tt,w)&&(z(l=w.prototype,"getPointSpline",P),W&&M.pushUnique(tt,W)&&(W.prototype.getPointSpline=l.getPointSpline))}constructor(p){this.series=p}arc(p,k,Y,R){const O=this.series,W=O.xAxis.center,Z=O.yAxis.len,l=W[3]/2;return k=Z-k+l,p=Z-S(p,Z)+l,O.yAxis.reversed&&(0>k&&(k=l),0>p&&(p=l)),{x:W[0],y:W[1],r:k,innerR:p,start:Y,end:R}}toXY(p){var k=this.series;const Y=k.chart,R=k.xAxis;var O=k.yAxis;const W=p.plotX,Z=Y.inverted,l=p.y;let w=p.plotY,I=Z?W:O.len-w;Z&&k&&!k.isRadialBar&&(p.plotY=w=a(l)?O.translate(l):0),p.rectPlotX=W,p.rectPlotY=w,O.center&&(I+=O.center[3]/2),a(w)&&(O=Z?O.postTranslate(w,I):R.postTranslate(W,I),p.plotX=p.polarPlotX=O.x-Y.plotLeft,p.plotY=p.polarPlotY=O.y-Y.plotTop),k.kdByAngle?(0>(k=(W/Math.PI*180+R.pane.options.startAngle)%360)&&(k+=360),p.clientX=k):p.clientX=p.plotX}}return st}),et(d,"masters/highcharts-more.src.js",[d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Series/Bubble/BubbleSeries.js"],d["Series/PackedBubble/PackedBubbleSeries.js"],d["Series/PolarComposition.js"]],function(n,u,g,x,b){g.compose(n.Axis,n.Chart,n.Legend,n.Series),x.compose(n.Axis,n.Chart,n.Legend,n.Series),b.compose(n.Axis,n.Chart,n.Pointer,n.Series,n.Tick,u.seriesTypes.areasplinerange,u.seriesTypes.column,u.seriesTypes.line,u.seriesTypes.spline)})},pt.exports?(d.default=d,pt.exports=d):(ut=[ft(1845)],void 0!==(dt=function(et){return d(et),d.Highcharts=et,d}.apply(gt,ut))&&(pt.exports=dt))}}]);