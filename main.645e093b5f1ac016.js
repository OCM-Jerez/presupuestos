"use strict";(self.webpackChunkpresupuestos=self.webpackChunkpresupuestos||[]).push([[179],{4510:(l,t,e)=>{e.d(t,{i:()=>d});var r=e(5619),o=e(553),s=e(4946);let d=(()=>{class f{constructor(){this.subject$=new r.X(o.N.currentYear.toString()),this.yearsSubject$=new r.X([o.N.currentYear]),this.yearsSelected=[]}getAvalaibleYear(){return this.subject$.asObservable()}getYearsSelected(){return 0===this.yearsSelected.length&&this.yearsSelected.push((new Date).getFullYear()),this.yearsSelected}setYearsSelected(m){return this.yearsSelected=m,this.yearsSubject$.next(this.yearsSelected),this.yearsSelected}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275prov=s.Yz7({token:f,factory:f.\u0275fac}),f})()},553:(l,t,e)=>{e.d(t,{N:()=>r});const r={production:!0,currentYear:2023,liqDate2022:"01/12/2022",liqDate2023:"05/06/2023"}},4649:(l,t,e)=>{var r=e(4946),o=e(2096),s=e(7715),d=e(5592),f=e(6328),y=e(2181),m=e(7398),E=e(4716),O=e(4664),D=e(6814);class P{}class R{}class x{constructor(z){this.normalizedNames=new Map,this.lazyUpdate=null,z?"string"==typeof z?this.lazyInit=()=>{this.headers=new Map,z.split("\n").forEach(be=>{const tt=be.indexOf(":");if(tt>0){const ot=be.slice(0,tt),Ot=ot.toLowerCase(),Ct=be.slice(tt+1).trim();this.maybeSetNormalizedName(ot,Ot),this.headers.has(Ot)?this.headers.get(Ot).push(Ct):this.headers.set(Ot,[Ct])}})}:typeof Headers<"u"&&z instanceof Headers?(this.headers=new Map,z.forEach((be,tt)=>{this.setHeaderEntries(tt,be)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(z).forEach(([be,tt])=>{this.setHeaderEntries(be,tt)})}:this.headers=new Map}has(z){return this.init(),this.headers.has(z.toLowerCase())}get(z){this.init();const be=this.headers.get(z.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(z){return this.init(),this.headers.get(z.toLowerCase())||null}append(z,be){return this.clone({name:z,value:be,op:"a"})}set(z,be){return this.clone({name:z,value:be,op:"s"})}delete(z,be){return this.clone({name:z,value:be,op:"d"})}maybeSetNormalizedName(z,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,z)}init(){this.lazyInit&&(this.lazyInit instanceof x?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(z=>this.applyUpdate(z)),this.lazyUpdate=null))}copyFrom(z){z.init(),Array.from(z.headers.keys()).forEach(be=>{this.headers.set(be,z.headers.get(be)),this.normalizedNames.set(be,z.normalizedNames.get(be))})}clone(z){const be=new x;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof x?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([z]),be}applyUpdate(z){const be=z.name.toLowerCase();switch(z.op){case"a":case"s":let tt=z.value;if("string"==typeof tt&&(tt=[tt]),0===tt.length)return;this.maybeSetNormalizedName(z.name,be);const ot=("a"===z.op?this.headers.get(be):void 0)||[];ot.push(...tt),this.headers.set(be,ot);break;case"d":const Ot=z.value;if(Ot){let Ct=this.headers.get(be);if(!Ct)return;Ct=Ct.filter(Gr=>-1===Ot.indexOf(Gr)),0===Ct.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,Ct)}else this.headers.delete(be),this.normalizedNames.delete(be)}}setHeaderEntries(z,be){const tt=(Array.isArray(be)?be:[be]).map(Ot=>Ot.toString()),ot=z.toLowerCase();this.headers.set(ot,tt),this.maybeSetNormalizedName(z,ot)}forEach(z){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>z(this.normalizedNames.get(be),this.headers.get(be)))}}class B{encodeKey(z){return oe(z)}encodeValue(z){return oe(z)}decodeKey(z){return decodeURIComponent(z)}decodeValue(z){return decodeURIComponent(z)}}const Y=/%(\d[a-f0-9])/gi,ee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oe(Ve){return encodeURIComponent(Ve).replace(Y,(z,be)=>ee[be]??z)}function re(Ve){return`${Ve}`}class ie{constructor(z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=z.encoder||new B,z.fromString){if(z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U(Ve,z){const be=new Map;return Ve.length>0&&Ve.replace(/^\?/,"").split("&").forEach(ot=>{const Ot=ot.indexOf("="),[Ct,Gr]=-1==Ot?[z.decodeKey(ot),""]:[z.decodeKey(ot.slice(0,Ot)),z.decodeValue(ot.slice(Ot+1))],$t=be.get(Ct)||[];$t.push(Gr),be.set(Ct,$t)}),be}(z.fromString,this.encoder)}else z.fromObject?(this.map=new Map,Object.keys(z.fromObject).forEach(be=>{const tt=z.fromObject[be],ot=Array.isArray(tt)?tt.map(re):[re(tt)];this.map.set(be,ot)})):this.map=null}has(z){return this.init(),this.map.has(z)}get(z){this.init();const be=this.map.get(z);return be?be[0]:null}getAll(z){return this.init(),this.map.get(z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(z,be){return this.clone({param:z,value:be,op:"a"})}appendAll(z){const be=[];return Object.keys(z).forEach(tt=>{const ot=z[tt];Array.isArray(ot)?ot.forEach(Ot=>{be.push({param:tt,value:Ot,op:"a"})}):be.push({param:tt,value:ot,op:"a"})}),this.clone(be)}set(z,be){return this.clone({param:z,value:be,op:"s"})}delete(z,be){return this.clone({param:z,value:be,op:"d"})}toString(){return this.init(),this.keys().map(z=>{const be=this.encoder.encodeKey(z);return this.map.get(z).map(tt=>be+"="+this.encoder.encodeValue(tt)).join("&")}).filter(z=>""!==z).join("&")}clone(z){const be=new ie({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(z),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(z=>this.map.set(z,this.cloneFrom.map.get(z))),this.updates.forEach(z=>{switch(z.op){case"a":case"s":const be=("a"===z.op?this.map.get(z.param):void 0)||[];be.push(re(z.value)),this.map.set(z.param,be);break;case"d":if(void 0===z.value){this.map.delete(z.param);break}{let tt=this.map.get(z.param)||[];const ot=tt.indexOf(re(z.value));-1!==ot&&tt.splice(ot,1),tt.length>0?this.map.set(z.param,tt):this.map.delete(z.param)}}}),this.cloneFrom=this.updates=null)}}class se{constructor(){this.map=new Map}set(z,be){return this.map.set(z,be),this}get(z){return this.map.has(z)||this.map.set(z,z.defaultValue()),this.map.get(z)}delete(z){return this.map.delete(z),this}has(z){return this.map.has(z)}keys(){return this.map.keys()}}function ge(Ve){return typeof ArrayBuffer<"u"&&Ve instanceof ArrayBuffer}function ve(Ve){return typeof Blob<"u"&&Ve instanceof Blob}function Ce(Ve){return typeof FormData<"u"&&Ve instanceof FormData}class Me{constructor(z,be,tt,ot){let Ot;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=z.toUpperCase(),function ue(Ve){switch(Ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ot?(this.body=void 0!==tt?tt:null,Ot=ot):Ot=tt,Ot&&(this.reportProgress=!!Ot.reportProgress,this.withCredentials=!!Ot.withCredentials,Ot.responseType&&(this.responseType=Ot.responseType),Ot.headers&&(this.headers=Ot.headers),Ot.context&&(this.context=Ot.context),Ot.params&&(this.params=Ot.params)),this.headers||(this.headers=new x),this.context||(this.context=new se),this.params){const Ct=this.params.toString();if(0===Ct.length)this.urlWithParams=be;else{const Gr=be.indexOf("?");this.urlWithParams=be+(-1===Gr?"?":Gr<be.length-1?"&":"")+Ct}}else this.params=new ie,this.urlWithParams=be}serializeBody(){return null===this.body?null:ge(this.body)||ve(this.body)||Ce(this.body)||function Pe(Ve){return typeof URLSearchParams<"u"&&Ve instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ce(this.body)?null:ve(this.body)?this.body.type||null:ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(z={}){const be=z.method||this.method,tt=z.url||this.url,ot=z.responseType||this.responseType,Ot=void 0!==z.body?z.body:this.body,Ct=void 0!==z.withCredentials?z.withCredentials:this.withCredentials,Gr=void 0!==z.reportProgress?z.reportProgress:this.reportProgress;let $t=z.headers||this.headers,Pn=z.params||this.params;const Bn=z.context??this.context;return void 0!==z.setHeaders&&($t=Object.keys(z.setHeaders).reduce((xr,Cn)=>xr.set(Cn,z.setHeaders[Cn]),$t)),z.setParams&&(Pn=Object.keys(z.setParams).reduce((xr,Cn)=>xr.set(Cn,z.setParams[Cn]),Pn)),new Me(be,tt,Ot,{params:Pn,headers:$t,context:Bn,reportProgress:Gr,responseType:ot,withCredentials:Ct})}}var Re=(()=>((Re=Re||{})[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re))();class Ne{constructor(z,be=200,tt="OK"){this.headers=z.headers||new x,this.status=void 0!==z.status?z.status:be,this.statusText=z.statusText||tt,this.url=z.url||null,this.ok=this.status>=200&&this.status<300}}class he extends Ne{constructor(z={}){super(z),this.type=Re.ResponseHeader}clone(z={}){return new he({headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class De extends Ne{constructor(z={}){super(z),this.type=Re.Response,this.body=void 0!==z.body?z.body:null}clone(z={}){return new De({body:void 0!==z.body?z.body:this.body,headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class _e extends Ne{constructor(z){super(z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${z.url||"(unknown url)"}`:`Http failure response for ${z.url||"(unknown url)"}: ${z.status} ${z.statusText}`,this.error=z.error||null}}function Oe(Ve,z){return{body:z,headers:Ve.headers,context:Ve.context,observe:Ve.observe,params:Ve.params,reportProgress:Ve.reportProgress,responseType:Ve.responseType,withCredentials:Ve.withCredentials}}let Le=(()=>{class Ve{constructor(be){this.handler=be}request(be,tt,ot={}){let Ot;if(be instanceof Me)Ot=be;else{let $t,Pn;$t=ot.headers instanceof x?ot.headers:new x(ot.headers),ot.params&&(Pn=ot.params instanceof ie?ot.params:new ie({fromObject:ot.params})),Ot=new Me(be,tt,void 0!==ot.body?ot.body:null,{headers:$t,context:ot.context,params:Pn,reportProgress:ot.reportProgress,responseType:ot.responseType||"json",withCredentials:ot.withCredentials})}const Ct=(0,o.of)(Ot).pipe((0,f.b)($t=>this.handler.handle($t)));if(be instanceof Me||"events"===ot.observe)return Ct;const Gr=Ct.pipe((0,y.h)($t=>$t instanceof De));switch(ot.observe||"body"){case"body":switch(Ot.responseType){case"arraybuffer":return Gr.pipe((0,m.U)($t=>{if(null!==$t.body&&!($t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return $t.body}));case"blob":return Gr.pipe((0,m.U)($t=>{if(null!==$t.body&&!($t.body instanceof Blob))throw new Error("Response is not a Blob.");return $t.body}));case"text":return Gr.pipe((0,m.U)($t=>{if(null!==$t.body&&"string"!=typeof $t.body)throw new Error("Response is not a string.");return $t.body}));default:return Gr.pipe((0,m.U)($t=>$t.body))}case"response":return Gr;default:throw new Error(`Unreachable: unhandled observe type ${ot.observe}}`)}}delete(be,tt={}){return this.request("DELETE",be,tt)}get(be,tt={}){return this.request("GET",be,tt)}head(be,tt={}){return this.request("HEAD",be,tt)}jsonp(be,tt){return this.request("JSONP",be,{params:(new ie).append(tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,tt={}){return this.request("OPTIONS",be,tt)}patch(be,tt,ot={}){return this.request("PATCH",be,Oe(ot,tt))}post(be,tt,ot={}){return this.request("POST",be,Oe(ot,tt))}put(be,tt,ot={}){return this.request("PUT",be,Oe(ot,tt))}}return Ve.\u0275fac=function(be){return new(be||Ve)(r.LFG(P))},Ve.\u0275prov=r.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();function vt(Ve,z){return z(Ve)}function Nt(Ve,z){return(be,tt)=>z.intercept(be,{handle:ot=>Ve(ot,tt)})}const bt=new r.OlP(""),er=new r.OlP(""),Ht=new r.OlP("");function _r(){let Ve=null;return(z,be)=>{null===Ve&&(Ve=((0,r.f3M)(bt,{optional:!0})??[]).reduceRight(Nt,vt));const tt=(0,r.f3M)(r.HDt),ot=tt.add();return Ve(z,be).pipe((0,E.x)(()=>tt.remove(ot)))}}let ir=(()=>{class Ve extends P{constructor(be,tt){super(),this.backend=be,this.injector=tt,this.chain=null,this.pendingTasks=(0,r.f3M)(r.HDt)}handle(be){if(null===this.chain){const ot=Array.from(new Set([...this.injector.get(er),...this.injector.get(Ht,[])]));this.chain=ot.reduceRight((Ot,Ct)=>function xt(Ve,z,be){return(tt,ot)=>be.runInContext(()=>z(tt,Ot=>Ve(Ot,ot)))}(Ot,Ct,this.injector),vt)}const tt=this.pendingTasks.add();return this.chain(be,ot=>this.backend.handle(ot)).pipe((0,E.x)(()=>this.pendingTasks.remove(tt)))}}return Ve.\u0275fac=function(be){return new(be||Ve)(r.LFG(R),r.LFG(r.lqb))},Ve.\u0275prov=r.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Or=/^\)\]\}',?\n/;let tn=(()=>{class Ve{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new r.vHH(-2800,!1);const tt=this.xhrFactory;return(tt.\u0275loadImpl?(0,s.D)(tt.\u0275loadImpl()):(0,o.of)(null)).pipe((0,O.w)(()=>new d.y(Ot=>{const Ct=tt.build();if(Ct.open(be.method,be.urlWithParams),be.withCredentials&&(Ct.withCredentials=!0),be.headers.forEach((cr,ur)=>Ct.setRequestHeader(cr,ur.join(","))),be.headers.has("Accept")||Ct.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const cr=be.detectContentTypeHeader();null!==cr&&Ct.setRequestHeader("Content-Type",cr)}if(be.responseType){const cr=be.responseType.toLowerCase();Ct.responseType="json"!==cr?cr:"text"}const Gr=be.serializeBody();let $t=null;const Pn=()=>{if(null!==$t)return $t;const cr=Ct.statusText||"OK",ur=new x(Ct.getAllResponseHeaders()),li=function rt(Ve){return"responseURL"in Ve&&Ve.responseURL?Ve.responseURL:/^X-Request-URL:/m.test(Ve.getAllResponseHeaders())?Ve.getResponseHeader("X-Request-URL"):null}(Ct)||be.url;return $t=new he({headers:ur,status:Ct.status,statusText:cr,url:li}),$t},Bn=()=>{let{headers:cr,status:ur,statusText:li,url:_i}=Pn(),gn=null;204!==ur&&(gn=typeof Ct.response>"u"?Ct.responseText:Ct.response),0===ur&&(ur=gn?200:0);let En=ur>=200&&ur<300;if("json"===be.responseType&&"string"==typeof gn){const Sn=gn;gn=gn.replace(Or,"");try{gn=""!==gn?JSON.parse(gn):null}catch(Bo){gn=Sn,En&&(En=!1,gn={error:Bo,text:gn})}}En?(Ot.next(new De({body:gn,headers:cr,status:ur,statusText:li,url:_i||void 0})),Ot.complete()):Ot.error(new _e({error:gn,headers:cr,status:ur,statusText:li,url:_i||void 0}))},xr=cr=>{const{url:ur}=Pn(),li=new _e({error:cr,status:Ct.status||0,statusText:Ct.statusText||"Unknown Error",url:ur||void 0});Ot.error(li)};let Cn=!1;const vi=cr=>{Cn||(Ot.next(Pn()),Cn=!0);let ur={type:Re.DownloadProgress,loaded:cr.loaded};cr.lengthComputable&&(ur.total=cr.total),"text"===be.responseType&&Ct.responseText&&(ur.partialText=Ct.responseText),Ot.next(ur)},si=cr=>{let ur={type:Re.UploadProgress,loaded:cr.loaded};cr.lengthComputable&&(ur.total=cr.total),Ot.next(ur)};return Ct.addEventListener("load",Bn),Ct.addEventListener("error",xr),Ct.addEventListener("timeout",xr),Ct.addEventListener("abort",xr),be.reportProgress&&(Ct.addEventListener("progress",vi),null!==Gr&&Ct.upload&&Ct.upload.addEventListener("progress",si)),Ct.send(Gr),Ot.next({type:Re.Sent}),()=>{Ct.removeEventListener("error",xr),Ct.removeEventListener("abort",xr),Ct.removeEventListener("load",Bn),Ct.removeEventListener("timeout",xr),be.reportProgress&&(Ct.removeEventListener("progress",vi),null!==Gr&&Ct.upload&&Ct.upload.removeEventListener("progress",si)),Ct.readyState!==Ct.DONE&&Ct.abort()}})))}}return Ve.\u0275fac=function(be){return new(be||Ve)(r.LFG(D.JF))},Ve.\u0275prov=r.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Et=new r.OlP("XSRF_ENABLED"),Wr=new r.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mt=new r.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $i{}let Cr=(()=>{class Ve{constructor(be,tt,ot){this.doc=be,this.platform=tt,this.cookieName=ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return Ve.\u0275fac=function(be){return new(be||Ve)(r.LFG(D.K0),r.LFG(r.Lbi),r.LFG(Wr))},Ve.\u0275prov=r.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();function rn(Ve,z){const be=Ve.url.toLowerCase();if(!(0,r.f3M)(Et)||"GET"===Ve.method||"HEAD"===Ve.method||be.startsWith("http://")||be.startsWith("https://"))return z(Ve);const tt=(0,r.f3M)($i).getToken(),ot=(0,r.f3M)(mt);return null!=tt&&!Ve.headers.has(ot)&&(Ve=Ve.clone({headers:Ve.headers.set(ot,tt)})),z(Ve)}var Pr=(()=>((Pr=Pr||{})[Pr.Interceptors=0]="Interceptors",Pr[Pr.LegacyInterceptors=1]="LegacyInterceptors",Pr[Pr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pr[Pr.NoXsrfProtection=3]="NoXsrfProtection",Pr[Pr.JsonpSupport=4]="JsonpSupport",Pr[Pr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pr[Pr.Fetch=6]="Fetch",Pr))();const nn=new r.OlP("LEGACY_INTERCEPTOR_FN");var fn=e(95),Jn=e(6593),An=e(4510),gi=e(8234);let hn=(()=>{class Ve{constructor(){this.version="1.08.03"}}return Ve.\u0275fac=function(be){return new(be||Ve)},Ve.\u0275cmp=r.Xpm({type:Ve,selectors:[["app-footer"]],standalone:!0,features:[r.jDz],decls:13,vars:1,consts:[[1,"footer"],[1,"footer--text"],[1,"footer--rrss"],["href","https://www.ocmjerez.org","target","_blank","rel","nofollow","aria-label","Sitio WEB de OCM Jerez",1,"logoWWW"],["href","https://facebook.com/OcmJerez/","target","_blank","rel","nofollow","aria-label","Facebook de OCM Jerez",1,"logoFacebook"],["href","https://twitter.com/ocmjerez","target","_blank","rel","nofollow","aria-label","Twitter de OCM Jerez",1,"logoTwitter"],[1,"footer--mail"],["href","mailto:info@ocmjerez.org"]],template:function(be,tt){1&be&&(r.TgZ(0,"div",0)(1,"div",1)(2,"span"),r._uU(3),r.qZA()(),r.TgZ(4,"div",2),r._UZ(5,"a",3)(6,"a",4)(7,"a",5),r.qZA(),r.TgZ(8,"div",6)(9,"span"),r._uU(10,"Email:\xa0 "),r.qZA(),r.TgZ(11,"a",7),r._uU(12," info@ocmjerez.org"),r.qZA()()()),2&be&&(r.xp6(3),r.hij("Versi\xf3n ",tt.version,""))},styles:['.spinner-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:999999;inset:0;background:#fff}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:3.75rem;height:1.25rem;margin:-.625rem 0 0 -1.875rem;text-align:center}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:100%;background-color:#00bfd8;animation:_ngcontent-%COMP%_sk-bouncedelay 1.4s infinite ease-in-out both}.spinner[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{animation-delay:-.32s}.spinner[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes _ngcontent-%COMP%_sk-bouncedelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}html[_ngcontent-%COMP%]{box-sizing:border-box;font-size:62.5%;max-height:950px;width:100vw}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}body[_ngcontent-%COMP%]{width:100vw;max-height:950px;display:flex;flex-direction:column;line-height:2rem}[_ngcontent-%COMP%]:root{--fuente-principal: "Roboto", serif}body[_ngcontent-%COMP%]{font-family:var(--fuente-principal)}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-flow:row wrap;width:100%;height:50px;background-color:#1769aa}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.footer--text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;color:#fff;font-weight:700;font-size:18px;margin-left:10px}.footer--rrss[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.footer--rrss[_ngcontent-%COMP%]   .logoWWW[_ngcontent-%COMP%]{height:30px;width:30px;margin-left:10px;margin-right:5px;background-size:contain;vertical-align:middle;border-radius:191px;-moz-border-radius:191px 191px 191px 191px;-webkit-border-radius:191px 191px 191px 191px;background:url(www.8652b1e2a296339b.svg) no-repeat center center}.footer--rrss[_ngcontent-%COMP%]   .logoWWW[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.footer--rrss[_ngcontent-%COMP%]   .logoFacebook[_ngcontent-%COMP%]{height:30px;width:30px;margin-left:10px;margin-right:5px;background-size:contain;vertical-align:middle;border-radius:191px;-moz-border-radius:191px 191px 191px 191px;-webkit-border-radius:191px 191px 191px 191px;background:url(facebook.af6ce877088d9abc.svg) no-repeat center center}.footer--rrss[_ngcontent-%COMP%]   .logoFacebook[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.footer--rrss[_ngcontent-%COMP%]   .logoTwitter[_ngcontent-%COMP%]{height:30px;width:30px;margin-left:10px;margin-right:5px;background-size:contain;vertical-align:middle;border-radius:191px;-moz-border-radius:191px 191px 191px 191px;-webkit-border-radius:191px 191px 191px 191px;background:url(twitter.d60eeb2f9c5cc69c.svg) no-repeat center center}.footer--rrss[_ngcontent-%COMP%]   .logoTwitter[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.footer--mail[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;color:#fff;font-weight:700;text-decoration-style:none;margin-right:20px;font-size:18px}.footer--mail[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media screen and (max-width: 844px){.footer[_ngcontent-%COMP%]{display:none}}']}),Ve})();function Gn(Ve,z){1&Ve&&r._UZ(0,"input",10)}function Dn(Ve,z){if(1&Ve){const be=r.EpF();r.TgZ(0,"ul",11)(1,"li")(2,"a",12),r.NdJ("click",function(){r.CHM(be);const ot=r.oxw();return r.KtG(ot.inicio())}),r._uU(3,"Inicio"),r.qZA()(),r.TgZ(4,"li")(5,"a",12),r.NdJ("click",function(){r.CHM(be);const ot=r.oxw();return r.KtG(ot.visionGlobal())}),r._uU(6,"Visi\xf3n global"),r.qZA()(),r.TgZ(7,"li")(8,"a",12),r.NdJ("click",function(){r.CHM(be);const ot=r.oxw();return r.KtG(ot.detalle())}),r._uU(9,"Detalle del presupuesto"),r.qZA()(),r.TgZ(10,"li")(11,"a",12),r.NdJ("click",function(){r.CHM(be);const ot=r.oxw();return r.KtG(ot.licitaciones())}),r._uU(12,"Licitaciones"),r.qZA()(),r.TgZ(13,"li")(14,"a",12),r.NdJ("click",function(){r.CHM(be);const ot=r.oxw();return r.KtG(ot.empleados())}),r._uU(15,"Empleados"),r.qZA()(),r.TgZ(16,"li")(17,"a",12),r.NdJ("click",function(){r.CHM(be);const ot=r.oxw();return r.KtG(ot.explicamos())}),r._uU(18,"Te lo explicamos"),r.qZA()(),r.TgZ(19,"li")(20,"a",12),r.NdJ("click",function(){r.CHM(be);const ot=r.oxw();return r.KtG(ot.glosario())}),r._uU(21,"\xbfQu\xe9 significa ...?"),r.qZA()()()}}let or=(()=>{class Ve{constructor(){this._router=(0,r.f3M)(gi.F0),this.collapsed=!1}inicio(){this._router.navigateByUrl("/"),this.collapsed=!0,setTimeout(()=>{this.collapsed=!1},0)}visionGlobal(){this._router.navigateByUrl("/visionGlobal"),this.collapsed=!0,setTimeout(()=>{this.collapsed=!1},0)}detalle(){this._router.navigateByUrl("/detalle"),this.collapsed=!0,setTimeout(()=>{this.collapsed=!1},0)}licitaciones(){window.open("https://con.ocmjerez.org/","_blank"),this.collapsed=!0,setTimeout(()=>{this.collapsed=!1},0)}empleados(){this._router.navigateByUrl("/empleados"),this.collapsed=!0,setTimeout(()=>{this.collapsed=!1},0)}explicamos(){this._router.navigateByUrl("/explicamos"),this.collapsed=!0,setTimeout(()=>{this.collapsed=!1},0)}glosario(){this._router.navigateByUrl("/glosario"),this.collapsed=!0,setTimeout(()=>{this.collapsed=!1},0)}}return Ve.\u0275fac=function(be){return new(be||Ve)},Ve.\u0275cmp=r.Xpm({type:Ve,selectors:[["app-navbar"]],standalone:!0,features:[r.jDz],decls:11,vars:2,consts:[[1,"navbar"],[1,"navbar--1row"],[1,"navbar--1row--logo"],[1,"navbar--1row--title"],[1,"navMenu"],[1,"header"],["class","menu-btn","type","checkbox","id","menu-btn",4,"ngIf"],["for","menu-btn",1,"menu-icon"],[1,"navicon"],["class","menu",4,"ngIf"],["type","checkbox","id","menu-btn",1,"menu-btn"],[1,"menu"],[3,"click"]],template:function(be,tt){1&be&&(r.TgZ(0,"nav",0)(1,"div",1),r._UZ(2,"div",2),r.TgZ(3,"div",3),r._uU(4,"Datos presupuestos Ayuntamiento Jerez"),r.qZA()(),r.TgZ(5,"div",4)(6,"header",5),r.YNc(7,Gn,1,0,"input",6),r.TgZ(8,"label",7),r._UZ(9,"span",8),r.qZA(),r.YNc(10,Dn,22,0,"ul",9),r.qZA()()()),2&be&&(r.xp6(7),r.Q6J("ngIf",!tt.collapsed),r.xp6(3),r.Q6J("ngIf",!tt.collapsed))},dependencies:[D.O5],styles:['.spinner-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:999999;inset:0;background:#fff}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:3.75rem;height:1.25rem;margin:-.625rem 0 0 -1.875rem;text-align:center}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:100%;background-color:#00bfd8;animation:_ngcontent-%COMP%_sk-bouncedelay 1.4s infinite ease-in-out both}.spinner[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{animation-delay:-.32s}.spinner[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes _ngcontent-%COMP%_sk-bouncedelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}html[_ngcontent-%COMP%]{box-sizing:border-box;font-size:62.5%;max-height:950px;width:100vw}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}body[_ngcontent-%COMP%]{width:100vw;max-height:950px;display:flex;flex-direction:column;line-height:2rem}[_ngcontent-%COMP%]:root{--fuente-principal: "Roboto", serif}body[_ngcontent-%COMP%]{font-family:var(--fuente-principal)}@media screen and (max-width: 3399.98px){.header[_ngcontent-%COMP%]{display:block;background-color:#f5f5f5;box-shadow:1px 1px 4px #0000001a;position:fixed;width:100%;height:4rem;z-index:3}.menu[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:75%;padding:0 1rem}.menu-btn[_ngcontent-%COMP%]{display:none}li[_ngcontent-%COMP%]{list-style:none}.header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-right:1px solid #f4f4f4;text-decoration:none;color:#2e2828;font-size:1.8rem;font-weight:700;cursor:grab}.header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover{color:#d8afaf}.navbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:repeat(3,1fr);grid-column-gap:0px;grid-row-gap:0px;width:99%;height:100px}.navbar--1row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#1769aa;height:50px}.navbar--1row--logo[_ngcontent-%COMP%]{background:url(logoOCM.3f0ffcdce2af7298.png);height:40px;width:184px;margin-left:20px}.navbar--1row--title[_ngcontent-%COMP%]{width:82%;display:flex;flex-direction:column;justify-content:center;text-align:center;color:#fff;font-weight:700;font-size:clamp(1.5rem,5vw,2.5rem)}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.navMenu[_ngcontent-%COMP%]{display:flex;direction:row;height:50px;width:100%;margin:0,auto;justify-content:center;background-color:#fff}.navMenuButton[_ngcontent-%COMP%]{padding:10px;border:unset;height:40px;margin:10px;color:#8f8787;background:white;font-weight:600;font-size:18px;cursor:grab}.navMenuButton[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#000}.barraBuscar[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:flex-start;align-content:center;width:100%;height:60px;gap:20px;background:#e7f2fc;margin-top:0}.barraBuscar--text[_ngcontent-%COMP%]{margin-top:20px;font-size:2.5rem;font-weight:600}.buttonBuscar[_ngcontent-%COMP%]{padding:10px;border:unset;border-radius:5px;height:35px;margin:10px;color:#fff;z-index:1;background:#2612e2;position:relative;font-weight:500;font-size:17px;cursor:grab}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:380px;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}}@media screen and (max-width: 991.98px){.navMenuButton[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 767.98px){.barraBuscar--text[_ngcontent-%COMP%]{margin-top:16px;margin-right:2px;margin-left:10px;font-size:1.4rem;font-weight:600}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:270px}}@media screen and (max-width: 575.98px){.navMenu[_ngcontent-%COMP%]{height:25px}.header[_ngcontent-%COMP%]{display:block;background-color:#e12222;box-shadow:1px 1px 4px #0000001a;position:fixed;width:100%;height:0rem}.header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;overflow:hidden;background-color:#fff}.header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;margin-left:5%;text-decoration:none;color:#090a01;font-size:1.5rem}.header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover{background-color:#ea0f0f}.header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:block;clear:both;max-height:0;transition:max-height .2s ease-out;background-color:#f6f6f1;height:14rem;width:90%;margin-left:58%}.header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding:18px 20px;position:relative;-webkit-user-select:none;user-select:none}.header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]{background:#333;display:block;height:2px;position:relative;transition:background .2s ease-out;width:18px}.header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]:before, .header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]:after{background:#333;content:"";display:block;height:100%;position:absolute;transition:all .2s ease-out;width:100%}.header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]:before{top:5px}.header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]:after{top:-5px}.header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]{max-height:240px}.header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:checked ~ .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]{background:transparent}.header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:checked ~ .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]:before{transform:rotate(-45deg)}.header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:checked ~ .menu-icon[_ngcontent-%COMP%]   .navicon[_ngcontent-%COMP%]:after{transform:rotate(45deg)}.header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:checked ~ .menu-icon[_ngcontent-%COMP%]:not(.steps)   .navicon[_ngcontent-%COMP%]:before, .header[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:checked ~ .menu-icon[_ngcontent-%COMP%]:not(.steps)   .navicon[_ngcontent-%COMP%]:after{top:0}.navbar[_ngcontent-%COMP%]{height:67px}.navbar--1row[_ngcontent-%COMP%]{width:390px}.navbar--1row--brand[_ngcontent-%COMP%]{width:90px;height:30px}.navbar--1row--brand--logo[_ngcontent-%COMP%]{background:url(logoOCM.3f0ffcdce2af7298.png) no-repeat center center}.navbar--1row--brand--text[_ngcontent-%COMP%]{display:none}.navbar--1row--brand--text1[_ngcontent-%COMP%]{display:block;color:#fff;font-size:9px}.navbar--1row--title[_ngcontent-%COMP%]{align-items:center;width:55%;width:300px;font-size:12px}.navbar--1row--homeEmpty[_ngcontent-%COMP%], .navbar--1row--home[_ngcontent-%COMP%]{width:0%}.barraBuscar[_ngcontent-%COMP%]{display:none;margin-bottom:10px}}']}),Ve})();e(3742);let ai=(()=>{class Ve{ngOnInit(){localStorage.removeItem("selected_years")}}return Ve.\u0275fac=function(be){return new(be||Ve)},Ve.\u0275cmp=r.Xpm({type:Ve,selectors:[["app-root"]],standalone:!0,features:[r.jDz],decls:4,vars:0,consts:[[1,"OCM-app-root"]],template:function(be,tt){1&be&&(r.TgZ(0,"div",0),r._UZ(1,"app-navbar")(2,"router-outlet")(3,"app-footer"),r.qZA())},dependencies:[or,gi.lC,hn],encapsulation:2}),Ve})();var nt=e(553);const Go=[{path:"home",loadComponent:()=>Promise.all([e.e(510),e.e(314),e.e(592),e.e(257)]).then(e.bind(e,257))},{path:"visionGlobal",loadComponent:()=>Promise.all([e.e(845),e.e(674),e.e(510),e.e(314),e.e(592),e.e(157)]).then(e.bind(e,9157))},{path:"detalle",loadComponent:()=>Promise.all([e.e(845),e.e(569),e.e(510),e.e(314),e.e(592),e.e(243)]).then(e.bind(e,2243))},{path:"fichaIndice",loadComponent:()=>e.e(173).then(e.bind(e,9173))},{path:"fichaPresupuesto",loadComponent:()=>Promise.all([e.e(845),e.e(674),e.e(933),e.e(219)]).then(e.bind(e,3219))},{path:"fichaGastos",loadComponent:()=>Promise.all([e.e(845),e.e(674),e.e(933),e.e(450)]).then(e.bind(e,3450))},{path:"fichaRemanentes",loadComponent:()=>Promise.all([e.e(845),e.e(674),e.e(933),e.e(876)]).then(e.bind(e,876))},{path:"fichaEmpleados",loadComponent:()=>Promise.all([e.e(845),e.e(674),e.e(557)]).then(e.bind(e,9557))},{path:"tableProgramaDetails/:origen",loadComponent:()=>Promise.all([e.e(569),e.e(510),e.e(592),e.e(826)]).then(e.bind(e,2826))},{path:"empleados",loadComponent:()=>Promise.all([e.e(592),e.e(483)]).then(e.bind(e,5483))},{path:"graphDetalle",loadComponent:()=>Promise.all([e.e(845),e.e(674),e.e(569),e.e(592),e.e(973)]).then(e.bind(e,8973))},{path:"rpt",loadComponent:()=>Promise.all([e.e(569),e.e(592),e.e(543)]).then(e.bind(e,7543))},{path:"retribuciones2022",loadComponent:()=>Promise.all([e.e(569),e.e(592),e.e(526)]).then(e.bind(e,526))},{path:"**",pathMatch:"full",redirectTo:"/home"}],Dr=void 0;(0,D.qS)(["de",[["AM","PM"],Dr,Dr],Dr,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],Dr,Dr],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Dr,"{1} 'um' {0}",Dr],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[Dr,"\u0440."],CUC:[Dr,"Cub$"],DEM:["DM"],FKP:[Dr,"Fl\xa3"],GHS:[Dr,"\u20b5"],GNF:[Dr,"F.G."],KMF:[Dr,"FC"],PHP:[Dr,"\u20b1"],RON:[Dr,"L"],RUR:[Dr,"\u0440."],RWF:[Dr,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[Dr,"K"]},"ltr",function ei(Ve){const be=Math.floor(Math.abs(Ve)),tt=Ve.toString().replace(/^[^.]*\.?/,"").length;return 1===be&&0===tt?1:5}],"de-DE"),nt.N.production&&(0,r.G48)(),(0,Jn.Cg)(ai,{providers:[(0,gi.bU)(Go),(0,r.RIp)(Jn.b2,fn.u5,fn.UX),An.i,function Oi(...Ve){const z=[Le,tn,ir,{provide:P,useExisting:ir},{provide:R,useExisting:tn},{provide:er,useValue:rn,multi:!0},{provide:Et,useValue:!0},{provide:$i,useClass:Cr}];for(const be of Ve)z.push(...be.\u0275providers);return(0,r.MR2)(z)}(function qn(){return function br(Ve,z){return{\u0275kind:Ve,\u0275providers:z}}(Pr.LegacyInterceptors,[{provide:nn,useFactory:_r},{provide:er,useExisting:nn,multi:!0}])}()),{provide:r.soG,useValue:"de-DE"}]}).catch(Ve=>console.error(Ve))},4298:(l,t,e)=>{function r(p){return null==p||""===p?null:p}function o(p,i){return void 0===i&&(i=!1),null!=p&&(""!==p||i)}function s(p){return!o(p)}function d(p){return null==p||0===p.length}function f(p){return null!=p&&"function"==typeof p.toString?p.toString():null}function y(p){if(void 0!==p){if(null===p||""===p)return null;if("number"==typeof p)return isNaN(p)?void 0:p;var i=parseInt(p,10);return isNaN(i)?void 0:i}}function m(p){if(void 0!==p)return null!==p&&""!==p&&("boolean"==typeof p?p:/true/i.test(p))}function R(p){if(p instanceof Set||p instanceof Map){var i=[];return p.forEach(function(n){return i.push(n)}),i}return Object.values(p)}e.d(t,{$j7:()=>Xr,$zI:()=>xg,AGU:()=>du,AS9:()=>nt,BxR:()=>Wu,CPJ:()=>lE,Cvn:()=>wh,D_6:()=>dr,Dkq:()=>ad,EHG:()=>Bv,Ekq:()=>Ga,F$j:()=>Gf,FXL:()=>ct,FiY:()=>Tt,Fxk:()=>yr,GXE:()=>rt,Gxm:()=>As,H1u:()=>rf,IFn:()=>Nv,INo:()=>To,IUB:()=>Gv,J8Z:()=>Is,KTm:()=>Bt,LQq:()=>hu,Lm6:()=>fa,MQo:()=>Wd,Nk3:()=>hv,NlK:()=>sd,NqP:()=>Xe,O3h:()=>Et,O_3:()=>Rg,POd:()=>Or,QVL:()=>ep,Qk6:()=>ga,RXH:()=>yu,StC:()=>Jo,VDZ:()=>Je,Vu6:()=>lt,WD6:()=>vg,WKU:()=>Lo,WU2:()=>vv,YaM:()=>Ff,ZST:()=>qf,_:()=>Wt,aCu:()=>Da,aVm:()=>No,at1:()=>Ja,cqo:()=>gt,d2Z:()=>_v,eHy:()=>Qi,fKL:()=>Zp,fQL:()=>Ol,fsG:()=>ae,h7_:()=>ud,hhW:()=>gv,jMC:()=>Fv,jUB:()=>pi,j_S:()=>Ci,jkc:()=>cl,nN0:()=>bg,nPL:()=>qo,plv:()=>$t,rjZ:()=>pv,rvo:()=>yn,rwP:()=>di,sJC:()=>ds,sO1:()=>Fm,sgG:()=>Cr,vA3:()=>uf,wA2:()=>lr,wGv:()=>Oc,wSp:()=>sf,z0n:()=>ea,zW2:()=>z});var x=Object.freeze({__proto__:null,makeNull:r,exists:o,missing:s,missingOrEmpty:d,toStringOrNull:f,attrToNumber:y,attrToBoolean:m,attrToString:function E(p){if(null!=p&&""!==p)return p},referenceCompare:function O(p,i){return null==p&&null==i||!(null==p&&null!=i||null!=p&&null==i)&&p===i},jsonEquals:function D(p,i){return(p?JSON.stringify(p):null)===(i?JSON.stringify(i):null)},defaultComparator:function P(p,i,n){void 0===n&&(n=!1);var a=null==p,u=null==i;if(p&&p.toNumber&&(p=p.toNumber()),i&&i.toNumber&&(i=i.toNumber()),a&&u)return 0;if(a)return-1;if(u)return 1;function c(v,C){return v>C?1:v<C?-1:0}if("string"!=typeof p||!n)return c(p,i);try{return p.localeCompare(i)}catch{return c(p,i)}},values:R}),L=function(){function p(){this.existingKeys={}}return p.prototype.addExistingKeys=function(i){for(var n=0;n<i.length;n++)this.existingKeys[i[n]]=!0},p.prototype.getUniqueKey=function(i,n){i=f(i);for(var a=0;;){var u=void 0;if(i?(u=i,0!==a&&(u+="_"+a)):n?(u=n,0!==a&&(u+="_"+a)):u=""+a,!this.existingKeys[u])return this.existingKeys[u]=!0,u;a++}},p}();function B(p,i){null!=p&&(Array.isArray(p)?p.forEach(function(n,a){return i(""+a,n)}):Object.keys(p).forEach(function(n){return i(n,p[n])}))}function U(p){for(var i={},n=Object.keys(p),a=0;a<n.length;a++){var u=n[a];i[u]=p[u]}return i}function ee(p,i){if(p){var n=p,a={};return Object.keys(n).forEach(function(u){if(!(i&&i.indexOf(u)>=0)){var c=n[u],v=Ne(c)&&c.constructor===Object;a[u]=v?ee(c):c}}),a}}function oe(p,i){return p[i]}function re(p,i,n){p[i]=n}function q(p,i,n,a){var u=oe(p,n);void 0!==u&&re(i,n,a?a(u):u)}function se(p){var i={};return p.filter(function(n){return null!=n}).forEach(function(n){Object.keys(n).forEach(function(a){return i[a]=null})}),Object.keys(i)}function ue(p){if(!p)return[];var i=Object;if("function"==typeof i.values)return i.values(p);var n=[];for(var a in p)p.hasOwnProperty(a)&&p.propertyIsEnumerable(a)&&n.push(p[a]);return n}function ge(p,i,n,a){void 0===n&&(n=!0),void 0===a&&(a=!1),o(i)&&B(i,function(u,c){var v=p[u];v!==c&&(a&&null==v&&null!=c&&"object"==typeof c&&c.constructor===Object&&(p[u]=v={}),Ne(c)&&Ne(v)&&!Array.isArray(v)?ge(v,c,n,a):(n||void 0!==c)&&(p[u]=c))})}function Me(p,i,n){if(i&&p){if(!n)return p[i];for(var a=i.split("."),u=p,c=0;c<a.length;c++){if(null==u)return;u=u[a[c]]}return u}}function Re(p,i){Object.keys(p).forEach(function(u){"object"==typeof p[u]&&(p[u]=void 0)});var n=Object.getPrototypeOf(p),a={};Object.keys(n).forEach(function(u){"function"==typeof n[u]&&(a[u]={value:function(){console.warn("AG Grid: "+i+" function "+u+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(p,a)}function Ne(p){return"object"==typeof p&&null!==p}var he=Object.freeze({__proto__:null,iterateObject:B,cloneObject:U,deepCloneObject:function Y(p){return JSON.parse(JSON.stringify(p))},deepCloneDefinition:ee,getProperty:oe,setProperty:re,copyPropertiesIfPresent:function ie(p,i){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];n.forEach(function(u){return q(p,i,u)})},copyPropertyIfPresent:q,getAllKeysInObjects:se,getAllValuesInObject:ue,mergeDeep:ge,missingOrEmptyObject:function ve(p){return s(p)||0===Object.keys(p).length},get:function Ce(p,i,n){if(null==p)return n;for(var a=i.split("."),u=p;a.length>1;)if(null==(u=u[a.shift()]))return n;return u[a[0]]??n},set:function Pe(p,i,n){if(null!=p){var a=i.split("."),u=p;a.forEach(function(c,v){u[c]||(u[c]={}),v<a.length-1&&(u=u[c])}),u[a[a.length-1]]=n}},getValueUsingField:Me,removeAllReferences:Re,isNonNullObject:Ne}),De={};function _e(p,i){De[i]||(p(),De[i]=!0)}function Oe(p){if(p.name)return p.name;var i=/function\s+([^\(]+)/.exec(p.toString());return i&&2===i.length?i[1].trim():null}function Le(p){return!!(p&&p.constructor&&p.call&&p.apply)}function Ie(p){pt(p,400)}var Ye=[],dt=!1;function ht(p){Ye.push(p),!dt&&(dt=!0,window.setTimeout(function(){var i=Ye.slice();Ye.length=0,dt=!1,i.forEach(function(n){return n()})},0))}function pt(p,i){void 0===i&&(i=0),p.length>0&&window.setTimeout(function(){return p.forEach(function(n){return n()})},i)}function Pt(p,i){var n;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=this;window.clearTimeout(n),n=window.setTimeout(function(){p.apply(c,a)},i)}}function Qe(p,i){var n=0;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var v=(new Date).getTime();v-n<i||(n=v,p.apply(this,a))}}function vt(p,i,n,a){void 0===n&&(n=100);var u=(new Date).getTime(),c=null,v=!1,C=function(){var T=(new Date).getTime()-u>n;(p()||T)&&(i(),v=!0,null!=c&&(window.clearInterval(c),c=null),T&&a&&console.warn(a))};C(),v||(c=window.setInterval(C,10))}function xt(p){p&&p()}var er=Object.freeze({__proto__:null,doOnce:_e,getFunctionName:Oe,isFunction:Le,executeInAWhile:Ie,executeNextVMTurn:ht,executeAfter:pt,debounce:Pt,throttle:Qe,waitUntil:vt,compose:function Nt(){for(var p=[],i=0;i<arguments.length;i++)p[i]=arguments[i];return function(n){return p.reduce(function(a,u){return u(a)},n)}},callIfPresent:xt,noop:function(){}}),Ht=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},ir=function(){function p(i,n){if(this.beanWrappers={},this.destroyed=!1,i&&i.beanClasses){this.contextParams=i,this.logger=n,this.logger.log(">> creating ag-Application Context"),this.createBeans();var a=this.getBeanInstances();this.wireBeans(a),this.logger.log(">> ag-Application Context ready - component is alive")}}return p.prototype.getBeanInstances=function(){return R(this.beanWrappers).map(function(i){return i.beanInstance})},p.prototype.createBean=function(i,n){if(!i)throw Error("Can't wire to bean since it is null");return this.wireBeans([i],n),i},p.prototype.wireBeans=function(i,n){this.autoWireBeans(i),this.methodWireBeans(i),this.callLifeCycleMethods(i,"preConstructMethods"),o(n)&&i.forEach(n),this.callLifeCycleMethods(i,"postConstructMethods")},p.prototype.createBeans=function(){var i=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),B(this.beanWrappers,function(a,u){var c;u.bean.__agBeanMetaData&&u.bean.__agBeanMetaData.autowireMethods&&u.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=u.bean.__agBeanMetaData.autowireMethods.agConstructor);var v=i.getBeansForParameters(c,u.bean.name),C=new(u.bean.bind.apply(u.bean,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ht(arguments[i]));return p}([null],v)));u.beanInstance=C});var n=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+n)},p.prototype.createBeanWrapper=function(i){var n=i.__agBeanMetaData;if(!n){var a;return a=i.prototype.constructor?Oe(i.prototype.constructor):""+i,void console.error("Context item "+a+" is not a bean")}this.beanWrappers[n.beanName]={bean:i,beanInstance:null,beanName:n.beanName}},p.prototype.autoWireBeans=function(i){var n=this;i.forEach(function(a){n.forEachMetaDataInHierarchy(a,function(u,c){var v=u.agClassAttributes;v&&v.forEach(function(C){var T=n.lookupBeanInstance(c,C.beanName,C.optional);a[C.attributeName]=T})})})},p.prototype.methodWireBeans=function(i){var n=this;i.forEach(function(a){n.forEachMetaDataInHierarchy(a,function(u,c){B(u.autowireMethods,function(v,C){if("agConstructor"!==v){var T=n.getBeansForParameters(C,c);a[v].apply(a,T)}})})})},p.prototype.forEachMetaDataInHierarchy=function(i,n){for(var a=Object.getPrototypeOf(i);null!=a;){var u=a.constructor;u.hasOwnProperty("__agBeanMetaData")&&n(u.__agBeanMetaData,this.getBeanName(u)),a=Object.getPrototypeOf(a)}},p.prototype.getBeanName=function(i){if(i.__agBeanMetaData&&i.__agBeanMetaData.beanName)return i.__agBeanMetaData.beanName;var n=i.toString();return n.substring(9,n.indexOf("("))},p.prototype.getBeansForParameters=function(i,n){var a=this,u=[];return i&&B(i,function(c,v){var C=a.lookupBeanInstance(n,v);u[Number(c)]=C}),u},p.prototype.lookupBeanInstance=function(i,n,a){if(void 0===a&&(a=!1),"context"===n)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(n))return this.contextParams.providedBeanInstances[n];var u=this.beanWrappers[n];return u?u.beanInstance:(a||console.error("AG Grid: unable to find bean reference "+n+" while initialising "+i),null)},p.prototype.callLifeCycleMethods=function(i,n){var a=this;i.forEach(function(u){return a.callLifeCycleMethodsOnBean(u,n)})},p.prototype.callLifeCycleMethodsOnBean=function(i,n,a){var u={};this.forEachMetaDataInHierarchy(i,function(v){var C=v[n];C&&C.forEach(function(T){T!=a&&(u[T]=!0)})}),Object.keys(u).forEach(function(v){return i[v]()})},p.prototype.getBean=function(i){return this.lookupBeanInstance("getBean",i,!0)},p.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var i=this.getBeanInstances();this.destroyBeans(i),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},p.prototype.destroyBean=function(i){i&&this.destroyBeans([i])},p.prototype.destroyBeans=function(i){var n=this;return i?(i.forEach(function(a){n.callLifeCycleMethodsOnBean(a,"preDestroyMethods","destroy"),"function"==typeof a.destroy&&a.destroy()}),[]):[]},p}();function Xr(p,i,n){var a=_t(p.constructor);a.preConstructMethods||(a.preConstructMethods=[]),a.preConstructMethods.push(i)}function Xe(p,i,n){var a=_t(p.constructor);a.postConstructMethods||(a.postConstructMethods=[]),a.postConstructMethods.push(i)}function ct(p,i,n){var a=_t(p.constructor);a.preDestroyMethods||(a.preDestroyMethods=[]),a.preDestroyMethods.push(i)}function lt(p){return function(i){_t(i).beanName=p}}function ae(p){return function(i,n,a){rr(i,p,!1,0,n,null)}}function Tt(p){return function(i,n,a){rr(i,p,!0,0,n,null)}}function rr(p,i,n,a,u,c){if(null!==i)if("number"!=typeof c){var v=_t(p.constructor);v.agClassAttributes||(v.agClassAttributes=[]),v.agClassAttributes.push({attributeName:u,beanName:i,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Zt(p){return function(i,n,a){var c,u="function"==typeof i?i:i.constructor;if("number"==typeof a){var v=void 0;n?(c=_t(u),v=n):(c=_t(u),v="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[v]||(c.autowireMethods[v]={}),c.autowireMethods[v][a]=p}}}function _t(p){return p.hasOwnProperty("__agBeanMetaData")||(p.__agBeanMetaData={}),p.__agBeanMetaData}var Mt=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},sn=function(p,i){return function(n,a){i(n,a,p)}},Or=function(){function p(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return p.prototype.setBeans=function(i,n,a,u){if(void 0===u&&(u=null),this.frameworkOverrides=a,this.gridOptionsService=n,u){var c=n.useAsyncEvents();this.addGlobalListener(u,c)}},p.prototype.getListeners=function(i,n,a){var u=n?this.allAsyncListeners:this.allSyncListeners,c=u.get(i);return!c&&a&&u.set(i,c=new Set),c},p.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},p.prototype.addEventListener=function(i,n,a){void 0===a&&(a=!1),this.getListeners(i,a,!0).add(n)},p.prototype.removeEventListener=function(i,n,a){void 0===a&&(a=!1);var u=this.getListeners(i,a,!1);u&&(u.delete(n),0===u.size)&&(a?this.allAsyncListeners:this.allSyncListeners).delete(i)},p.prototype.addGlobalListener=function(i,n){void 0===n&&(n=!1),(n?this.globalAsyncListeners:this.globalSyncListeners).add(i)},p.prototype.removeGlobalListener=function(i,n){void 0===n&&(n=!1),(n?this.globalAsyncListeners:this.globalSyncListeners).delete(i)},p.prototype.dispatchEvent=function(i){var n=i;if(this.gridOptionsService){var a=this.gridOptionsService,c=a.columnApi,v=a.context;n.api=a.api,n.columnApi=c,n.context=v}this.dispatchToListeners(n,!0),this.dispatchToListeners(n,!1),this.firedEvents[n.type]=!0},p.prototype.dispatchEventOnce=function(i){this.firedEvents[i.type]||this.dispatchEvent(i)},p.prototype.dispatchToListeners=function(i,n){var a=this,u=i.type;if(n&&"event"in i){var c=i.event;c instanceof Event&&(i.eventPath=c.composedPath())}var C=this.getListeners(u,n,!1);C&&C.forEach(function(F){n?a.dispatchAsync(function(){return F(i)}):F(i)}),(n?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(M){n?a.dispatchAsync(function(){return a.frameworkOverrides.dispatchEvent(u,function(){return M(u,i)},!0)}):a.frameworkOverrides.dispatchEvent(u,function(){return M(u,i)},!0)})},p.prototype.dispatchAsync=function(i){this.asyncFunctionsQueue.push(i),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},p.prototype.flushAsyncQueue=function(){this.scheduled=!1;var i=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],i.forEach(function(n){return n()})},Mt([sn(0,Zt("loggerFactory")),sn(1,Zt("gridOptionsService")),sn(2,Zt("frameworkOverrides")),sn(3,Zt("globalEventListener"))],p.prototype,"setBeans",null),Mt([lt("eventService")],p)}(),rt=(()=>((rt=rt||{}).CommunityCoreModule="@ag-grid-community/core",rt.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",rt.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",rt.CsvExportModule="@ag-grid-community/csv-export",rt.EnterpriseCoreModule="@ag-grid-enterprise/core",rt.RowGroupingModule="@ag-grid-enterprise/row-grouping",rt.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",rt.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",rt.MenuModule="@ag-grid-enterprise/menu",rt.SetFilterModule="@ag-grid-enterprise/set-filter",rt.MultiFilterModule="@ag-grid-enterprise/multi-filter",rt.StatusBarModule="@ag-grid-enterprise/status-bar",rt.SideBarModule="@ag-grid-enterprise/side-bar",rt.RangeSelectionModule="@ag-grid-enterprise/range-selection",rt.MasterDetailModule="@ag-grid-enterprise/master-detail",rt.RichSelectModule="@ag-grid-enterprise/rich-select",rt.GridChartsModule="@ag-grid-enterprise/charts",rt.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",rt.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",rt.ExcelExportModule="@ag-grid-enterprise/excel-export",rt.ClipboardModule="@ag-grid-enterprise/clipboard",rt.SparklinesModule="@ag-grid-enterprise/sparklines",rt.AngularModule="@ag-grid-community/angular",rt.ReactModule="@ag-grid-community/react",rt.VueModule="@ag-grid-community/vue",rt))(),Et=function(){function p(){}return p.register=function(i,n){void 0===n&&(n=!0),p.runVersionChecks(i),p.modulesMap[i.moduleName]=i,p.setModuleBased(n)},p.runVersionChecks=function(i){if(p.currentModuleVersion||(p.currentModuleVersion=i.version),i.version?i.version!==p.currentModuleVersion&&console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+i.moduleName+"' is version "+i.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+i.moduleName+"' is incompatible. Please update all modules to the same version."),i.validate){var n=i.validate();n.isValid||console.error("AG Grid: "+n.message)}},p.setModuleBased=function(i){void 0===p.moduleBased?p.moduleBased=i:p.moduleBased!==i&&_e(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},p.setIsBundled=function(){p.isBundled=!0},p.registerModules=function(i,n){void 0===n&&(n=!0),p.setModuleBased(n),i&&i.forEach(function(a){return p.register(a,n)})},p.assertRegistered=function(i,n){var a;if(this.isRegistered(i))return!0;var c,u=n+i;if(p.isBundled)c="AG Grid: unable to use "+n+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(p.moduleBased||void 0===p.moduleBased){var v=null===(a=Object.entries(rt).find(function(C){var T=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c}(C,2);return T[1]===i}))||void 0===a?void 0:a[0];c="AG Grid: unable to use "+n+" as the "+v+" is not registered. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+v+" } from '"+i+"';\n    \n    ModuleRegistry.registerModules([ "+v+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else c="AG Grid: unable to use "+n+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return _e(function(){console.warn(c)},u),!1},p.isRegistered=function(i){return!!p.modulesMap[i]},p.getRegisteredModules=function(){return R(p.modulesMap)},p.isPackageBased=function(){return!p.moduleBased},p.modulesMap={},p}(),fi=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Wr=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},mt=0;function $i(){return mt++}var Cr=function(){function p(i,n,a,u){this.instanceId=$i(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Or,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=i,this.userProvidedColDef=n,this.colId=a,this.primary=u,this.setState(i)}return p.prototype.getInstanceId=function(){return this.instanceId},p.prototype.setState=function(i){void 0!==i.sort?("asc"===i.sort||"desc"===i.sort)&&(this.sort=i.sort):("asc"===i.initialSort||"desc"===i.initialSort)&&(this.sort=i.initialSort);var n=y(i.sortIndex),a=y(i.initialSortIndex);void 0!==n?null!==n&&(this.sortIndex=n):null!==a&&(this.sortIndex=a);var u=m(i.hide),c=m(i.initialHide);this.visible=void 0!==u?!u:!c,this.setPinned(void 0!==i.pinned?i.pinned:i.initialPinned);var v=y(i.flex),C=y(i.initialFlex);void 0!==v?this.flex=v:void 0!==C&&(this.flex=C)},p.prototype.setColDef=function(i,n){this.colDef=i,this.userProvidedColDef=n,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},p.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},p.prototype.setParent=function(i){this.parent=i},p.prototype.getParent=function(){return this.parent},p.prototype.setOriginalParent=function(i){this.originalParent=i},p.prototype.getOriginalParent=function(){return this.originalParent},p.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},p.prototype.initDotNotation=function(){var i=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=o(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=o(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i},p.prototype.initMinAndMaxWidths=function(){var i=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(i),this.maxWidth=this.columnUtils.calculateColMaxWidth(i)},p.prototype.initTooltip=function(){this.tooltipEnabled=o(this.colDef.tooltipField)||o(this.colDef.tooltipValueGetter)||o(this.colDef.tooltipComponent)||o(this.colDef.tooltipComponentFramework)},p.prototype.resetActualWidth=function(i){void 0===i&&(i="api");var n=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(n,i,!0)},p.prototype.isEmptyGroup=function(){return!1},p.prototype.isRowGroupDisplayed=function(i){return!(s(this.colDef)||s(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==i)},p.prototype.isPrimary=function(){return this.primary},p.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},p.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},p.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},p.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},p.prototype.validate=function(){var i=this.colDef;function n(M,F,$){_e(function(){$?console.warn(M,$):_e(function(){return console.warn(M)},F)},F)}if(this.gridOptionsService.isRowModelType("clientSide")&&!Et.isRegistered(rt.RowGroupingModule)&&(c=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(function(M){return o(i[M])})).length>0&&Et.assertRegistered(rt.RowGroupingModule,c.map(function(M){return"colDef."+M}).join(", ")),("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&Et.assertRegistered(rt.RichSelectModule,this.colDef.cellEditor),this.gridOptionsService.isTreeData()&&(c=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(function(F){return o(i[F])})).length>0&&n("AG Grid: "+c.join()+" is not possible when doing tree data, your column definition should not have "+c.join(),"TreeDataCannotRowGroup"),o(i.menuTabs))if(Array.isArray(i.menuTabs)){var c,C=["filterMenuTab"],T=["columnsMenuTab","generalMenuTab"];(c=T.filter(function(F){return i.menuTabs.includes(F)})).length>0&&Et.assertRegistered(rt.MenuModule,"menuTab(s): "+c.map(function(F){return"'"+F+"'"}).join()),i.menuTabs.forEach(function(F){!T.includes(F)&&!C.includes(F)&&n("AG Grid: '"+F+"' is not valid for 'colDef.menuTabs'. Valid values are: "+function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Wr(arguments[i]));return p}(C,T).map(function($){return"'"+$+"'"}).join()+".","wrongValue_menuTabs_"+F)})}else n("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof i.menuTabs,"wrongType_menuTabs");o(i.columnsMenuParams)&&Et.assertRegistered(rt.MenuModule,"columnsMenuParams"),o(i.columnsMenuParams)&&Et.assertRegistered(rt.ColumnsToolPanelModule,"columnsMenuParams"),o(this.colDef.width)&&"number"!=typeof this.colDef.width&&n("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),(i.pinnedRowCellRenderer||i.pinnedRowCellRendererParams||i.pinnedRowCellRendererFramework)&&n("AG Grid: pinnedRowCellRenderer[Params,Framework] no longer exist. Use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned.","colDef.pinnedRowCellRenderer-deprecated"),o(i.columnGroupShow)&&"closed"!==i.columnGroupShow&&"open"!==i.columnGroupShow&&n("AG Grid: '"+i.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},p.prototype.addEventListener=function(i,n){this.eventService.addEventListener(i,n)},p.prototype.removeEventListener=function(i,n){this.eventService.removeEventListener(i,n)},p.prototype.createColumnFunctionCallbackParams=function(i){return{node:i,data:i.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},p.prototype.isSuppressNavigable=function(i){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var n=this.createColumnFunctionCallbackParams(i);return(0,this.colDef.suppressNavigable)(n)}return!1},p.prototype.isCellEditable=function(i){return!(i.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(i,this.colDef.editable)},p.prototype.isSuppressFillHandle=function(){return!!m(this.colDef.suppressFillHandle)},p.prototype.isAutoHeight=function(){return!!m(this.colDef.autoHeight)},p.prototype.isAutoHeaderHeight=function(){return!!m(this.colDef.autoHeaderHeight)},p.prototype.isRowDrag=function(i){return this.isColumnFunc(i,this.colDef.rowDrag)},p.prototype.isDndSource=function(i){return this.isColumnFunc(i,this.colDef.dndSource)},p.prototype.isCellCheckboxSelection=function(i){return this.isColumnFunc(i,this.colDef.checkboxSelection)},p.prototype.isSuppressPaste=function(i){return this.isColumnFunc(i,this.colDef?this.colDef.suppressPaste:null)},p.prototype.isResizable=function(){return!!m(this.colDef.resizable)},p.prototype.isColumnFunc=function(i,n){return"boolean"==typeof n?n:"function"==typeof n&&n(this.createColumnFunctionCallbackParams(i))},p.prototype.setMoving=function(i,n){void 0===n&&(n="api"),this.moving=i,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",n))},p.prototype.createColumnEvent=function(i,n){return{type:i,column:this,columns:[this],source:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},p.prototype.isMoving=function(){return this.moving},p.prototype.getSort=function(){return this.sort},p.prototype.setSort=function(i,n){void 0===n&&(n="api"),this.sort!==i&&(this.sort=i,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",n)))},p.prototype.setMenuVisible=function(i,n){void 0===n&&(n="api"),this.menuVisible!==i&&(this.menuVisible=i,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",n)))},p.prototype.isMenuVisible=function(){return this.menuVisible},p.prototype.isSortAscending=function(){return"asc"===this.sort},p.prototype.isSortDescending=function(){return"desc"===this.sort},p.prototype.isSortNone=function(){return s(this.sort)},p.prototype.isSorting=function(){return o(this.sort)},p.prototype.getSortIndex=function(){return this.sortIndex},p.prototype.setSortIndex=function(i){this.sortIndex=i},p.prototype.setAggFunc=function(i){this.aggFunc=i},p.prototype.getAggFunc=function(){return this.aggFunc},p.prototype.getLeft=function(){return this.left},p.prototype.getOldLeft=function(){return this.oldLeft},p.prototype.getRight=function(){return this.left+this.actualWidth},p.prototype.setLeft=function(i,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==i&&(this.left=i,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",n)))},p.prototype.isFilterActive=function(){return this.filterActive},p.prototype.setFilterActive=function(i,n,a){void 0===n&&(n="api"),this.filterActive!==i&&(this.filterActive=i,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",n)));var u=this.createColumnEvent("filterChanged",n);a&&ge(u,a),this.eventService.dispatchEvent(u)},p.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},p.prototype.setPinned=function(i){this.pinned=!0===i||"left"===i?"left":"right"===i?"right":null},p.prototype.setFirstRightPinned=function(i,n){void 0===n&&(n="api"),this.firstRightPinned!==i&&(this.firstRightPinned=i,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",n)))},p.prototype.setLastLeftPinned=function(i,n){void 0===n&&(n="api"),this.lastLeftPinned!==i&&(this.lastLeftPinned=i,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",n)))},p.prototype.isFirstRightPinned=function(){return this.firstRightPinned},p.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},p.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},p.prototype.isPinnedLeft=function(){return"left"===this.pinned},p.prototype.isPinnedRight=function(){return"right"===this.pinned},p.prototype.getPinned=function(){return this.pinned},p.prototype.setVisible=function(i,n){void 0===n&&(n="api");var a=!0===i;this.visible!==a&&(this.visible=a,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",n)))},p.prototype.isVisible=function(){return this.visible},p.prototype.isSpanHeaderHeight=function(){return!!this.getColDef().spanHeaderHeight},p.prototype.getColDef=function(){return this.colDef},p.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},p.prototype.getColId=function(){return this.colId},p.prototype.getId=function(){return this.colId},p.prototype.getUniqueId=function(){return this.colId},p.prototype.getDefinition=function(){return this.colDef},p.prototype.getActualWidth=function(){return this.actualWidth},p.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},p.prototype.setAutoHeaderHeight=function(i){var n=i!==this.autoHeaderHeight;return this.autoHeaderHeight=i,n},p.prototype.createBaseColDefParams=function(i){return{node:i,data:i.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},p.prototype.getColSpan=function(i){if(s(this.colDef.colSpan))return 1;var n=this.createBaseColDefParams(i),a=this.colDef.colSpan(n);return Math.max(a,1)},p.prototype.getRowSpan=function(i){if(s(this.colDef.rowSpan))return 1;var n=this.createBaseColDefParams(i),a=this.colDef.rowSpan(n);return Math.max(a,1)},p.prototype.setActualWidth=function(i,n,a){void 0===n&&(n="api"),void 0===a&&(a=!1),null!=this.minWidth&&(i=Math.max(i,this.minWidth)),null!=this.maxWidth&&(i=Math.min(i,this.maxWidth)),this.actualWidth!==i&&(this.actualWidth=i,this.flex&&"flex"!==n&&"gridInitializing"!==n&&(this.flex=null),a||this.fireColumnWidthChangedEvent(n))},p.prototype.fireColumnWidthChangedEvent=function(i){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",i))},p.prototype.isGreaterThanMax=function(i){return null!=this.maxWidth&&i>this.maxWidth},p.prototype.getMinWidth=function(){return this.minWidth},p.prototype.getMaxWidth=function(){return this.maxWidth},p.prototype.getFlex=function(){return this.flex||0},p.prototype.setFlex=function(i){this.flex!==i&&(this.flex=i)},p.prototype.setMinimum=function(i){void 0===i&&(i="api"),o(this.minWidth)&&this.setActualWidth(this.minWidth,i)},p.prototype.setRowGroupActive=function(i,n){void 0===n&&(n="api"),this.rowGroupActive!==i&&(this.rowGroupActive=i,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",n)))},p.prototype.isRowGroupActive=function(){return this.rowGroupActive},p.prototype.setPivotActive=function(i,n){void 0===n&&(n="api"),this.pivotActive!==i&&(this.pivotActive=i,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",n)))},p.prototype.isPivotActive=function(){return this.pivotActive},p.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},p.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},p.prototype.setValueActive=function(i,n){void 0===n&&(n="api"),this.aggregationActive!==i&&(this.aggregationActive=i,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",n)))},p.prototype.isValueActive=function(){return this.aggregationActive},p.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},p.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},p.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},p.prototype.getMenuTabs=function(i){var n=this.getColDef().menuTabs;return null==n&&(n=i),n},p.EVENT_MOVING_CHANGED="movingChanged",p.EVENT_LEFT_CHANGED="leftChanged",p.EVENT_WIDTH_CHANGED="widthChanged",p.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",p.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",p.EVENT_VISIBLE_CHANGED="visibleChanged",p.EVENT_FILTER_CHANGED="filterChanged",p.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",p.EVENT_SORT_CHANGED="sortChanged",p.EVENT_COL_DEF_CHANGED="colDefChanged",p.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",p.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",p.EVENT_PIVOT_CHANGED="columnPivotChanged",p.EVENT_VALUE_CHANGED="columnValueChanged",fi([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),fi([ae("columnUtils")],p.prototype,"columnUtils",void 0),fi([ae("columnHoverService")],p.prototype,"columnHoverService",void 0),fi([Xe],p.prototype,"initialise",null),p}(),Bt=function(){function p(i,n,a,u){this.localEventService=new Or,this.expandable=!1,this.instanceId=$i(),this.expandableListenerRemoveCallback=null,this.colGroupDef=i,this.groupId=n,this.expanded=!!i&&!!i.openByDefault,this.padding=a,this.level=u}return p.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},p.prototype.reset=function(i,n){this.colGroupDef=i,this.level=n,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},p.prototype.getInstanceId=function(){return this.instanceId},p.prototype.setOriginalParent=function(i){this.originalParent=i},p.prototype.getOriginalParent=function(){return this.originalParent},p.prototype.getLevel=function(){return this.level},p.prototype.isVisible=function(){return!!this.children&&this.children.some(function(i){return i.isVisible()})},p.prototype.isPadding=function(){return this.padding},p.prototype.setExpanded=function(i){this.expanded=void 0!==i&&i,this.localEventService.dispatchEvent({type:p.EVENT_EXPANDED_CHANGED})},p.prototype.isExpandable=function(){return this.expandable},p.prototype.isExpanded=function(){return this.expanded},p.prototype.getGroupId=function(){return this.groupId},p.prototype.getId=function(){return this.getGroupId()},p.prototype.setChildren=function(i){this.children=i},p.prototype.getChildren=function(){return this.children},p.prototype.getColGroupDef=function(){return this.colGroupDef},p.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},p.prototype.addLeafColumns=function(i){this.children&&this.children.forEach(function(n){n instanceof Cr?i.push(n):n instanceof p&&n.addLeafColumns(i)})},p.prototype.getColumnGroupShow=function(){var i=this.colGroupDef;if(i)return i.columnGroupShow},p.prototype.setupExpandable=function(){var i=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var n=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(a){return a.addEventListener("visibleChanged",n)}),this.expandableListenerRemoveCallback=function(){i.getLeafColumns().forEach(function(a){return a.removeEventListener("visibleChanged",n)}),i.expandableListenerRemoveCallback=null}},p.prototype.setExpandable=function(){if(!this.isPadding()){for(var i=!1,n=!1,a=!1,u=this.findChildrenRemovingPadding(),c=0,v=u.length;c<v;c++){var C=u[c];if(C.isVisible()){var T=C.getColumnGroupShow();"open"===T?(i=!0,a=!0):"closed"===T?(n=!0,a=!0):(i=!0,n=!0)}}var M=i&&n&&a;this.expandable!==M&&(this.expandable=M,this.localEventService.dispatchEvent({type:p.EVENT_EXPANDABLE_CHANGED}))}},p.prototype.findChildrenRemovingPadding=function(){var i=[],n=function(a){a.forEach(function(u){u instanceof p&&u.isPadding()?n(u.children):i.push(u)})};return n(this.children),i},p.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},p.prototype.addEventListener=function(i,n){this.localEventService.addEventListener(i,n)},p.prototype.removeEventListener=function(i,n){this.localEventService.removeEventListener(i,n)},p.EVENT_EXPANDED_CHANGED="expandedChanged",p.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([ct],p.prototype,"destroy",null),p}(),Pr={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function br(){for(var p=[],i=0;i<arguments.length;i++)p[i]=arguments[i];for(var n=0;n<p.length;n++){var a=p[n];if(o(a))return a}return null}function wr(p){if(p&&p.length)return p[p.length-1]}function nn(p,i,n){return null==p&&null==i||null!=p&&null!=i&&p.length===i.length&&p.every(function(a,u){return n?n(a,i[u]):i[u]===a})}function oi(p){return p.sort(function(i,n){return i-n})}function Kr(p,i){var n=p.indexOf(i);n>=0&&p.splice(n,1)}function Ke(p,i){i.forEach(function(n){return Kr(p,n)})}function Fe(p,i,n){p.splice(n,0,i)}function ke(p,i,n){Ke(p,i),i.slice().reverse().forEach(function(a){return Fe(p,a,n)})}function qe(p,i){return p.indexOf(i)>-1}function yt(p){return[].concat.apply([],p)}function kt(p,i){null==i||null==p||i.forEach(function(n){return p.push(n)})}var tr=Object.freeze({__proto__:null,firstExistingValue:br,existsAndNotEmpty:function Oi(p){return null!=p&&p.length>0},last:wr,areEqual:nn,shallowCompare:function qn(p,i){return nn(p,i)},sortNumerically:oi,removeRepeatsFromArray:function Zn(p,i){if(p)for(var n=p.length-2;n>=0;n--)p[n]===i&&p[n+1]===i&&p.splice(n+1,1)},removeFromArray:Kr,removeAllFromArray:Ke,insertIntoArray:Fe,insertArrayIntoArray:function we(p,i,n){if(null!=p&&null!=i)for(var a=i.length-1;a>=0;a--)Fe(p,i[a],n)},moveInArray:ke,includes:qe,flatten:yt,pushAll:kt,toStrings:function Yt(p){return p.map(f)},forEachReverse:function Ar(p,i){if(null!=p)for(var n=p.length-1;n>=0;n--)i(p[n],n)}}),pn="__ag_Grid_Stop_Propagation",hi=["touchstart","touchend","touchmove","touchcancel","scroll"],fn={};function Jn(p){p[pn]=!0}function An(p){return!0===p[pn]}var p,gi=(p={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(n){if("boolean"==typeof fn[n])return fn[n];var a=document.createElement(p[n]||"div");return fn[n="on"+n]=n in a});function ln(p,i,n){for(var a=i;a;){var u=p.getDomData(a,n);if(u)return u;a=a.parentElement}return null}function hn(p,i){return!(!i||!p)&&Dn(i).indexOf(p)>=0}function Gn(p){for(var i=[],n=p.target;n;)i.push(n),n=n.parentElement;return i}function Dn(p){var i=p;return i.path?i.path:i.composedPath?i.composedPath():Gn(i)}function or(p,i,n,a){var u=qe(hi,n);p&&p.addEventListener&&p.addEventListener(i,n,a,u?{passive:!0}:void 0)}var Qn=Object.freeze({__proto__:null,stopPropagationForAgGrid:Jn,isStopPropagationForAgGrid:An,isEventSupported:gi,getCtrlForEventTarget:ln,isElementInEventPath:hn,createEventPath:Gn,getEventPath:Dn,addSafePassiveEventListener:or}),ai=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},nt=function(){function p(){var i=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!i.destroyed}}return p.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},p.prototype.getContext=function(){return this.context},p.prototype.destroy=function(){this.destroyFunctions.forEach(function(i){return i()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:p.EVENT_DESTROYED})},p.prototype.addEventListener=function(i,n){this.localEventService||(this.localEventService=new Or),this.localEventService.addEventListener(i,n)},p.prototype.removeEventListener=function(i,n){this.localEventService&&this.localEventService.removeEventListener(i,n)},p.prototype.dispatchEventAsync=function(i){var n=this;window.setTimeout(function(){return n.dispatchEvent(i)},0)},p.prototype.dispatchEvent=function(i){this.localEventService&&this.localEventService.dispatchEvent(i)},p.prototype.addManagedListener=function(i,n,a){var u=this;if(!this.destroyed){i instanceof HTMLElement?or(this.getFrameworkOverrides(),i,n,a):i.addEventListener(n,a);var c=function(){return i.removeEventListener(n,a),u.destroyFunctions=u.destroyFunctions.filter(function(v){return v!==c}),null};return this.destroyFunctions.push(c),c}},p.prototype.addManagedPropertyListener=function(i,n){var a=this;if(!this.destroyed){this.gridOptionsService.addEventListener(i,n);var u=function(){return a.gridOptionsService.removeEventListener(i,n),a.destroyFunctions=a.destroyFunctions.filter(function(c){return c!==u}),null};return this.destroyFunctions.push(u),u}},p.prototype.addDestroyFunc=function(i){this.isAlive()?this.destroyFunctions.push(i):i()},p.prototype.createManagedBean=function(i,n){var a=this.createBean(i,n);return this.addDestroyFunc(this.destroyBean.bind(this,i,n)),a},p.prototype.createBean=function(i,n,a){return(n||this.getContext()).createBean(i,a)},p.prototype.destroyBean=function(i,n){return(n||this.getContext()).destroyBean(i)},p.prototype.destroyBeans=function(i,n){var a=this;return i&&i.forEach(function(u){return a.destroyBean(u,n)}),[]},p.EVENT_DESTROYED="destroyed",ai([ae("frameworkOverrides")],p.prototype,"frameworkOverrides",void 0),ai([ae("context")],p.prototype,"context",void 0),ai([ae("eventService")],p.prototype,"eventService",void 0),ai([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),ai([ae("localeService")],p.prototype,"localeService",void 0),ai([ae("environment")],p.prototype,"environment",void 0),ai([ct],p.prototype,"destroy",null),p}(),Go=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Dr=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ei=function(p,i){return function(n,a){i(n,a,p)}},vo=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Go(i,p),i.prototype.setBeans=function(n){this.logger=n.create("ColumnFactory")},i.prototype.createColumnTree=function(n,a,u){var c=new L,v=this.extractExistingTreeData(u),C=v.existingCols,T=v.existingGroups;c.addExistingKeys(v.existingColKeys);var F=this.recursivelyCreateColumns(n,0,a,C,c,T),$=this.findMaxDept(F,0);this.logger.log("Number of levels for grouped columns is "+$);var ne=this.balanceColumnTree(F,0,$,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,ne,function(me,Te){me instanceof Bt&&me.setupExpandable(),me.setOriginalParent(Te)}),{columnTree:ne,treeDept:$}},i.prototype.extractExistingTreeData=function(n){var a=[],u=[],c=[];return n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(v){if(v instanceof Bt)u.push(v);else{var T=v;c.push(T.getId()),a.push(T)}}),{existingCols:a,existingGroups:u,existingColKeys:c}},i.prototype.createForAutoGroups=function(n,a){var u=this;return n.map(function(c){return u.createAutoGroupTreeItem(a,c)})},i.prototype.createAutoGroupTreeItem=function(n,a){for(var c=a,v=this.findDepth(n)-1;v>=0;v--){var C=new Bt(null,"FAKE_PATH_"+a.getId()+"}_"+v,!0,v);this.createBean(C),C.setChildren([c]),c.setOriginalParent(C),c=C}return c},i.prototype.findDepth=function(n){for(var a=0,u=n;u&&u[0]&&u[0]instanceof Bt;)a++,u=u[0].getChildren();return a},i.prototype.balanceColumnTree=function(n,a,u,c){for(var v=[],C=0;C<n.length;C++){var T=n[C];if(T instanceof Bt){var M=T,F=this.balanceColumnTree(M.getChildren(),a+1,u,c);M.setChildren(F),v.push(M)}else{for(var $=void 0,ne=void 0,pe=u-1;pe>=a;pe--){var me=c.getUniqueKey(null,null),Te=this.createMergedColGroupDef(null),Ae=new Bt(Te,me,!0,a);this.createBean(Ae),ne&&ne.setChildren([Ae]),ne=Ae,$||($=ne)}if($&&ne){if(v.push($),n.some(function(Ue){return Ue instanceof Bt})){ne.setChildren([T]);continue}ne.setChildren(n);break}v.push(T)}}return v},i.prototype.findMaxDept=function(n,a){for(var u=a,c=0;c<n.length;c++){var v=n[c];if(v instanceof Bt){var T=this.findMaxDept(v.getChildren(),a+1);u<T&&(u=T)}}return u},i.prototype.recursivelyCreateColumns=function(n,a,u,c,v,C){var T=this;return(n||[]).map(function(M){return T.isColumnGroup(M)?T.createColumnGroup(u,M,a,c,v,C):T.createColumn(u,M,c,v)})},i.prototype.createColumnGroup=function(n,a,u,c,v,C){var T=this.createMergedColGroupDef(a),M=v.getUniqueKey(T.groupId||null,null),F=new Bt(T,M,!1,u);this.createBean(F);var $=this.findExistingGroup(a,C);$&&Kr(C,$),$&&$.isExpanded()&&F.setExpanded(!0);var ne=this.recursivelyCreateColumns(T.children,u+1,n,c,v,C);return F.setChildren(ne),F},i.prototype.createMergedColGroupDef=function(n){var a={};return Object.assign(a,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(a,n),a},i.prototype.createColumn=function(n,a,u,c){var v=this.mergeColDefs(a),C=this.findExistingColumn(a,u);if(u&&C&&Kr(u,C),C)C.setColDef(v,a),this.applyColumnState(C,v);else{var T=c.getUniqueKey(v.colId,v.field);C=new Cr(v,a,T,n),this.context.createBean(C)}return C},i.prototype.applyColumnState=function(n,a){var u=y(a.flex);if(void 0!==u&&n.setFlex(u),n.getFlex()<=0){var v=y(a.width);if(null!=v)n.setActualWidth(v);else{var C=n.getActualWidth();n.setActualWidth(C)}}void 0!==a.sort&&n.setSort("asc"==a.sort||"desc"==a.sort?a.sort:void 0);var T=y(a.sortIndex);void 0!==T&&n.setSortIndex(T);var M=m(a.hide);void 0!==M&&n.setVisible(!M),void 0!==a.pinned&&n.setPinned(a.pinned)},i.prototype.findExistingColumn=function(n,a){return(a||[]).find(function(u){var c=u.getUserProvidedColDef();if(!c)return!1;var C=null!=n.field;return null!=n.colId?u.getId()===n.colId:C?c.field===n.field:c===n})},i.prototype.findExistingGroup=function(n,a){return a.find(function(u){return!(!u.getColGroupDef()||null==n.groupId||u.getId()!==n.groupId)})},i.prototype.mergeColDefs=function(n){var a={},u=this.gridOptionsService.get("defaultColDef");ge(a,u,!1,!0);var c=n.type;c||(c=u&&u.type),c&&this.assignColumnTypes(c,a),ge(a,n,!1,!0);var v=this.gridOptionsService.get("autoGroupColumnDef"),C=this.gridOptionsService.isColumnsSortingCoupledToGroup();return n.rowGroup&&v&&C&&ge(a,{sort:v.sort,initialSort:v.initialSort},!1,!0),a},i.prototype.assignColumnTypes=function(n,a){var u=[];if(n instanceof Array)n.some(function(T){return"string"!=typeof T})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):u=n;else{if("string"!=typeof n)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");u=n.split(",")}var v=Object.assign({},Pr);B(this.gridOptionsService.get("columnTypes")||{},function(T,M){T in v?console.warn("AG Grid: the column type '"+T+"' is a default column type and cannot be overridden."):v[T]=M}),u.forEach(function(T){var M=v[T.trim()];M?ge(a,M,!1,!0):console.warn("AG Grid: colDef.type '"+T+"' does not correspond to defined gridOptions.columnTypes")})},i.prototype.isColumnGroup=function(n){return void 0!==n.children},Dr([ae("columnUtils")],i.prototype,"columnUtils",void 0),Dr([ei(0,Zt("loggerFactory"))],i.prototype,"setBeans",null),Dr([lt("columnFactory")],i)}(nt),Ve=function(){function p(){}return p.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentFramework:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellRendererFramework:void 0,cellEditor:void 0,cellEditorFramework:void 0,cellEditorParams:void 0,filterFramework:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentFramework:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,floatingFilterComponentFramework:void 0,tooltipComponentParams:void 0,tooltipComponentFramework:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,stickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,spanHeaderHeight:void 0},p.ALL_PROPERTIES=Object.keys(p.ColDefPropertyMap),p.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],p}(),z=function(){function p(){}return p.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",p.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",p.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",p.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",p.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",p.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",p.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",p.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",p.EVENT_COLUMN_MOVED="columnMoved",p.EVENT_COLUMN_VISIBLE="columnVisible",p.EVENT_COLUMN_PINNED="columnPinned",p.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",p.EVENT_COLUMN_RESIZED="columnResized",p.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",p.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",p.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",p.EVENT_ROW_GROUP_OPENED="rowGroupOpened",p.EVENT_ROW_DATA_CHANGED="rowDataChanged",p.EVENT_ROW_DATA_UPDATED="rowDataUpdated",p.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",p.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",p.EVENT_CHART_CREATED="chartCreated",p.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",p.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",p.EVENT_CHART_DESTROYED="chartDestroyed",p.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",p.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",p.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED="internalToolPanelVisibleChanged",p.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",p.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",p.EVENT_MODEL_UPDATED="modelUpdated",p.EVENT_PASTE_START="pasteStart",p.EVENT_PASTE_END="pasteEnd",p.EVENT_FILL_START="fillStart",p.EVENT_FILL_END="fillEnd",p.EVENT_UNDO_STARTED="undoStarted",p.EVENT_UNDO_ENDED="undoEnded",p.EVENT_REDO_STARTED="redoStarted",p.EVENT_REDO_ENDED="redoEnded",p.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",p.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",p.EVENT_CELL_CLICKED="cellClicked",p.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",p.EVENT_CELL_MOUSE_DOWN="cellMouseDown",p.EVENT_CELL_CONTEXT_MENU="cellContextMenu",p.EVENT_CELL_VALUE_CHANGED="cellValueChanged",p.EVENT_CELL_EDIT_REQUEST="cellEditRequest",p.EVENT_ROW_VALUE_CHANGED="rowValueChanged",p.EVENT_CELL_FOCUSED="cellFocused",p.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",p.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",p.EVENT_ROW_SELECTED="rowSelected",p.EVENT_SELECTION_CHANGED="selectionChanged",p.EVENT_CELL_KEY_DOWN="cellKeyDown",p.EVENT_CELL_KEY_PRESS="cellKeyPress",p.EVENT_CELL_MOUSE_OVER="cellMouseOver",p.EVENT_CELL_MOUSE_OUT="cellMouseOut",p.EVENT_FILTER_CHANGED="filterChanged",p.EVENT_FILTER_MODIFIED="filterModified",p.EVENT_FILTER_OPENED="filterOpened",p.EVENT_SORT_CHANGED="sortChanged",p.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",p.EVENT_ROW_CLICKED="rowClicked",p.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",p.EVENT_GRID_READY="gridReady",p.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",p.EVENT_VIEWPORT_CHANGED="viewportChanged",p.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",p.EVENT_FIRST_DATA_RENDERED="firstDataRendered",p.EVENT_DRAG_STARTED="dragStarted",p.EVENT_DRAG_STOPPED="dragStopped",p.EVENT_CHECKBOX_CHANGED="checkboxChanged",p.EVENT_ROW_EDITING_STARTED="rowEditingStarted",p.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",p.EVENT_CELL_EDITING_STARTED="cellEditingStarted",p.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",p.EVENT_BODY_SCROLL="bodyScroll",p.EVENT_BODY_SCROLL_END="bodyScrollEnd",p.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",p.EVENT_PAGINATION_CHANGED="paginationChanged",p.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",p.EVENT_STORE_REFRESHED="storeRefreshed",p.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",p.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",p.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",p.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",p.EVENT_FLASH_CELLS="flashCells",p.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",p.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",p.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",p.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",p.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",p.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",p.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",p.EVENT_ROW_DRAG_ENTER="rowDragEnter",p.EVENT_ROW_DRAG_MOVE="rowDragMove",p.EVENT_ROW_DRAG_LEAVE="rowDragLeave",p.EVENT_ROW_DRAG_END="rowDragEnd",p.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",p.EVENT_POPUP_TO_FRONT="popupToFront",p.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",p.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",p.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",p.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",p.EVENT_KEYBOARD_FOCUS="keyboardFocus",p.EVENT_MOUSE_FOCUS="mouseFocus",p.EVENT_STORE_UPDATED="storeUpdated",p.EVENT_FILTER_DESTROYED="filterDestroyed",p}(),be=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},tt=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(be(arguments[i]));return p},ot=function(){function p(){}return p.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],p.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],p.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],p.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],p.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],p.FUNCTION_PROPERTIES=tt(p.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupOrderComparator","rowDragText","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],p.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"]),p.ALL_PROPERTIES=tt(p.ARRAY_PROPERTIES,p.OBJECT_PROPERTIES,p.STRING_PROPERTIES,p.NUMBER_PROPERTIES,p.FUNCTION_PROPERTIES,p.BOOLEAN_PROPERTIES),p.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],p}(),Ot=function(){return Ot=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Ot.apply(this,arguments)},Ct=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},$t=function(){function p(){}return p.getCallbackForEvent=function(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substr(1)},p.getCoercionLookup=function(){var i={};return function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ct(arguments[i]));return p}(p.ARRAY_PROPERTIES,p.OBJECT_PROPERTIES,p.STRING_PROPERTIES,p.FUNCTION_PROPERTIES,p.EVENT_CALLBACKS).forEach(function(n){return i[n]="none"}),p.BOOLEAN_PROPERTIES.forEach(function(n){return i[n]="boolean"}),p.NUMBER_PROPERTIES.forEach(function(n){return i[n]="number"}),i},p.getValue=function(i,n){var a=p.coercionLookup[i];if(a){var u=n;switch(a){case"number":u=p.toNumber(n);break;case"boolean":u=p.toBoolean(n);break;case"none":"groupAggFiltering"===i&&"function"!=typeof n&&(u=p.toBoolean(n))}return u}},p.getGridOptionKeys=function(i,n){return Object.keys(n?p.coercionLookup:i)},p.copyAttributesToGridOptions=function(i,n,a){void 0===a&&(a=!1),"object"!=typeof i&&(i={});var u=i;return p.getGridOptionKeys(n,a).forEach(function(v){var C=n[v];if(typeof C<"u"){var T=p.getValue(v,C);void 0!==T&&(u[v]=T)}}),i},p.processOnChange=function(i,n){if(i&&0!==Object.keys(i).length){var a=Ot({},i);a.columnTypes&&(n.setColumnTypes(a.columnTypes.currentValue,"gridOptionsChanged"),delete a.columnTypes),a.autoGroupColumnDef&&(n.setAutoGroupColumnDef(a.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete a.autoGroupColumnDef),a.defaultColDef&&(n.setDefaultColDef(a.defaultColDef.currentValue,"gridOptionsChanged"),delete a.defaultColDef),a.columnDefs&&(n.setColumnDefs(a.columnDefs.currentValue,"gridOptionsChanged"),delete a.columnDefs),Object.keys(a).forEach(function(c){var v=c,C=p.getValue(v,a[v].currentValue);n.__setProperty(v,C)});var u={type:z.EVENT_COMPONENT_STATE_CHANGED};B(i,function(c,v){u[c]=v}),n.dispatchEvent(u)}},p.toBoolean=function(i){return"boolean"==typeof i?i:"string"==typeof i&&("TRUE"===i.toUpperCase()||""==i)},p.toNumber=function(i){return"number"==typeof i?i:"string"==typeof i?Number(i):void 0},p.EVENTS=R(z),p.EXCLUDED_INTERNAL_EVENTS=[z.EVENT_SCROLLBAR_WIDTH_CHANGED,z.EVENT_CHECKBOX_CHANGED,z.EVENT_HEIGHT_SCALE_CHANGED,z.EVENT_BODY_HEIGHT_CHANGED,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,z.EVENT_SCROLL_VISIBILITY_CHANGED,z.EVENT_COLUMN_HOVER_CHANGED,z.EVENT_FLASH_CELLS,z.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,z.EVENT_DISPLAYED_ROWS_CHANGED,z.EVENT_LEFT_PINNED_WIDTH_CHANGED,z.EVENT_RIGHT_PINNED_WIDTH_CHANGED,z.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,z.EVENT_POPUP_TO_FRONT,z.EVENT_KEYBOARD_FOCUS,z.EVENT_MOUSE_FOCUS,z.EVENT_STORE_UPDATED,z.EVENT_COLUMN_PANEL_ITEM_DRAG_START,z.EVENT_COLUMN_PANEL_ITEM_DRAG_END,z.EVENT_FILL_START,z.EVENT_FILL_END,z.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,z.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,z.EVENT_FULL_WIDTH_ROW_FOCUSED,z.EVENT_HEADER_HEIGHT_CHANGED,z.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,z.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,z.EVENT_CELL_FOCUS_CLEARED,z.EVENT_GRID_STYLES_CHANGED,z.EVENT_FILTER_DESTROYED],p.PUBLIC_EVENTS=p.EVENTS.filter(function(i){return!qe(p.EXCLUDED_INTERNAL_EVENTS,i)}),p.EVENT_CALLBACKS=p.EVENTS.map(function(i){return p.getCallbackForEvent(i)}),p.STRING_PROPERTIES=ot.STRING_PROPERTIES,p.OBJECT_PROPERTIES=ot.OBJECT_PROPERTIES,p.ARRAY_PROPERTIES=ot.ARRAY_PROPERTIES,p.NUMBER_PROPERTIES=ot.NUMBER_PROPERTIES,p.BOOLEAN_PROPERTIES=ot.BOOLEAN_PROPERTIES,p.FUNCTION_PROPERTIES=ot.FUNCTION_PROPERTIES,p.ALL_PROPERTIES=ot.ALL_PROPERTIES,p.ALL_PROPERTIES_SET=new Set(ot.ALL_PROPERTIES),p.coercionLookup=p.getCoercionLookup(),p}();function Pn(p,i,n){var a={},u=p.filter(function(c){return!i.some(function(v){return v===c})});return u.length>0&&u.forEach(function(c){return a[c]=Bn(c,n)}),a}function Bn(p,i,n,a){var u=i.map(function(C){return{value:C,relevance:xr(p.toLowerCase(),C.toLocaleLowerCase())}});if(u.sort(function(C,T){return T.relevance-C.relevance}),n&&(u=u.filter(function(C){return 0!==C.relevance})),a&&a>0){var v=u[0].relevance*a;u=u.filter(function(C){return v-C.relevance<0})}return u.map(function(C){return C.value})}function xr(p,i){for(var n=p.replace(/\s/g,""),a=i.replace(/\s/g,""),u=0,c=-1,v=0;v<n.length;v++){var C=a.indexOf(n[v],c+1);-1!==C&&(u+=100-100*(c=C)/1e4*100)}return u}var Cn=Object.freeze({__proto__:null,fuzzyCheckStrings:Pn,fuzzySuggestions:Bn}),vi=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},si=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},cr=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(si(arguments[i]));return p};function ur(p,i,n,a){var u=n?"Please use '"+n+"' instead. ":"";_e(function(){return console.warn("AG Grid: since v"+p+", '"+i+"' is deprecated. "+u+(a??""))},"Deprecated_"+i)}var li=function(){function p(){this.deprecatedProperties={serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},suppressEnterpriseResetOnNewColumns:{version:"25",message:"Now that it is possible to dynamically change columns in the grid, this is no longer needed."},suppressColumnStateEvents:{version:"25",message:'Events should be ignored based on the `event.source`, which will be "api" if the event was due to setting column state via the API.'},defaultExportParams:{version:"25.2",message:"The property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`"},stopEditingWhenGridLosesFocus:{version:"25.2.2",newProp:"stopEditingWhenCellsLoseFocus",copyToNewProp:!0},applyColumnDefOrder:{version:"26",message:"The property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"},groupMultiAutoColumn:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"multipleColumns"},groupUseEntireRow:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"groupRows"},defaultGroupSortComparator:{version:"26",newProp:"initialGroupOrderComparator"},enableMultiRowDragging:{version:"26.1",newProp:"rowDragMultiRow",copyToNewProp:!0},colWidth:{version:"26.1",newProp:"defaultColDef.width"},minColWidth:{version:"26.1",newProp:"defaultColDef.minWidth"},maxColWidth:{version:"26.1",newProp:"defaultColDef.maxWidth"},reactUi:{version:"26.1",message:"React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."},suppressCellSelection:{version:"27",newProp:"suppressCellFocus",copyToNewProp:!0},clipboardDeliminator:{version:"27.1",newProp:"clipboardDelimiter",copyToNewProp:!0},getRowNodeId:{version:"27.1",newProp:"getRowId",message:"The difference: if getRowId() is implemented then immutable data is enabled by default."},defaultGroupOrderComparator:{version:"27.2",newProp:"initialGroupOrderComparator"},groupRowAggNodes:{version:"27.2",newProp:"getGroupRowAgg"},postSort:{version:"27.2",newProp:"postSortRows"},isFullWidthCell:{version:"27.2",newProp:"isFullWidthRow"},localeTextFunc:{version:"27.2",newProp:"getLocaleText"},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideFilterAllLevels",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"}}}return p.prototype.pickOneWarning=function(i,n){console.warn("AG Grid: "+i+" and "+n+" do not work with each other, you need to pick one.")},p.prototype.init=function(){var i=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),"autoHeight"===this.gridOptionsService.get("domLayout")&&!this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.is("pagination")||(console.warn("AG Grid: domLayout='autoHeight' was ignored as it is only supported by the Client-Side row model, unless using pagination."),this.gridOptions.domLayout="normal")),this.gridOptionsService.isRowModelType("serverSide")){var n=function(u,c){return"AG Grid: '"+u+"' is not supported on the Server-Side Row Model."+(c?" Please use "+c+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(n("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&console.warn(n("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(n("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?Et.assertRegistered(rt.RangeSelectionModule,"enableRangeSelection"):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var a=function(u,c){return i.gridOptionsService.exists(u)&&Et.assertRegistered(c,u)};a("sideBar",rt.SideBarModule),a("statusBar",rt.StatusBarModule),a("enableCharts",rt.GridChartsModule),a("getMainMenuItems",rt.MenuModule),a("getContextMenuItems",rt.MenuModule),a("allowContextMenuWithControlKey",rt.MenuModule),this.gridOptionsService.is("groupRowsSticky")&&(this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRowsSticky","groupHideOpenParents"),this.gridOptionsService.is("masterDetail")&&this.pickOneWarning("groupRowsSticky","masterDetail"),this.gridOptionsService.is("pagination")&&this.pickOneWarning("groupRowsSticky","pagination"))},p.prototype.checkColumnDefProperties=function(){var i=this;if(null!=this.gridOptions.columnDefs){var n=cr(Ve.ALL_PROPERTIES,Ve.FRAMEWORK_PROPERTIES),a=function(u,c){var v=Object.getOwnPropertyNames(u);i.checkProperties(v,n,n,c,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),u.children&&u.children.forEach(function(C){return a(C,"columnDefs.children")})};this.gridOptions.columnDefs.forEach(function(u){return a(u,"columnDefs")}),this.gridOptions.defaultColDef&&a(this.gridOptions.defaultColDef,"defaultColDef")}},p.prototype.checkColumnDefViolations=function(){var i,n=null!==(i=this.gridOptionsService.get("rowModelType"))&&void 0!==i?i:"clientSide",u={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[n];if(u?.length){var c=function(v){u.forEach(function(C){C in v&&v[C]&&console.warn("AG Grid: Column property "+C+" is not supported with the row model type "+n+".")})};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(v){return c(v)}),null!=this.gridOptions.autoGroupColumnDef&&c(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&c(this.gridOptions.defaultColDef)}},p.prototype.checkGridOptionsProperties=function(){var i=Object.getOwnPropertyNames(this.gridOptions),n=cr(ot.ALL_PROPERTIES,ot.FRAMEWORK_PROPERTIES,$t.EVENT_CALLBACKS),a=cr(n,["api","columnApi"],Object.keys(this.deprecatedProperties));this.checkProperties(i,a,n,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},p.prototype.checkProperties=function(i,n,a,u,c){var v=Pn(i,n,a);B(v,function(C,T){_e(function(){return console.warn("AG Grid: invalid "+u+" property '"+C+"' did you mean any of these: "+T.slice(0,8).join(", "))},"invalidProperty"+u+C)}),Object.keys(v).length>0&&_e(function(){return console.warn("AG Grid: to see all the valid "+u+" properties please check: "+c)},"invalidProperties"+u+c)},p.prototype.checkForDeprecated=function(){var i=this.gridOptions;if(Object.entries(this.deprecatedProperties).forEach(function(a){var u,c=si(a,2),v=c[0],C=c[1],T=i[v];T&&(ur(C.version,v,C.newProp,C.message),C.copyToNewProp&&C.newProp&&null==i[C.newProp]&&(i[C.newProp]=null!==(u=C.newPropValue)&&void 0!==u?u:T))}),i.groupSuppressAutoColumn){var n=i.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+n+" = 'custom'`"),i[n]="custom"}i.immutableData&&(i.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),i.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),i.suppressServerSideInfiniteScroll="partial"!==i.serverSideStoreType)},p.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},p.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},vi([ae("gridOptions")],p.prototype,"gridOptions",void 0),vi([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),vi([Xe],p.prototype,"init",null),vi([lt("gridOptionsValidator")],p)}();function _i(p,i){var n=["groupRows","multipleColumns","custom","singleColumn"];return n.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid groupDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):i===p}var Sn=function(){function p(i,n,a,u){this.displayedChildren=[],this.localEventService=new Or,this.groupId=n,this.partId=a,this.providedColumnGroup=i,this.pinned=u}return p.createUniqueId=function(i,n){return i+"_"+n},p.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},p.prototype.getParent=function(){return this.parent},p.prototype.setParent=function(i){this.parent=i},p.prototype.getUniqueId=function(){return p.createUniqueId(this.groupId,this.partId)},p.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},p.prototype.isMoving=function(){var i=this.getProvidedColumnGroup().getLeafColumns();return!(!i||0===i.length)&&i.every(function(n){return n.isMoving()})},p.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(u){u instanceof p&&u.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var n=wr(this.displayedChildren).getLeft();this.setLeft(n)}else{var a=this.displayedChildren[0].getLeft();this.setLeft(a)}else this.setLeft(null)},p.prototype.getLeft=function(){return this.left},p.prototype.getOldLeft=function(){return this.oldLeft},p.prototype.setLeft=function(i){this.oldLeft=i,this.left!==i&&(this.left=i,this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_LEFT_CHANGED)))},p.prototype.getPinned=function(){return this.pinned},p.prototype.createAgEvent=function(i){return{type:i}},p.prototype.addEventListener=function(i,n){this.localEventService.addEventListener(i,n)},p.prototype.removeEventListener=function(i,n){this.localEventService.removeEventListener(i,n)},p.prototype.getGroupId=function(){return this.groupId},p.prototype.getPartId=function(){return this.partId},p.prototype.isChildInThisGroupDeepSearch=function(i){var n=!1;return this.children.forEach(function(a){i===a&&(n=!0),a instanceof p&&a.isChildInThisGroupDeepSearch(i)&&(n=!0)}),n},p.prototype.getActualWidth=function(){var i=0;return this.displayedChildren&&this.displayedChildren.forEach(function(n){i+=n.getActualWidth()}),i},p.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var i=!1;return this.displayedChildren.forEach(function(n){n.isResizable()&&(i=!0)}),i},p.prototype.getMinWidth=function(){var i=0;return this.displayedChildren.forEach(function(n){i+=n.getMinWidth()||0}),i},p.prototype.addChild=function(i){this.children||(this.children=[]),this.children.push(i)},p.prototype.getDisplayedChildren=function(){return this.displayedChildren},p.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},p.prototype.getDisplayedLeafColumns=function(){var i=[];return this.addDisplayedLeafColumns(i),i},p.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},p.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},p.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},p.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},p.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},p.prototype.setExpanded=function(i){this.providedColumnGroup.setExpanded(i)},p.prototype.addDisplayedLeafColumns=function(i){this.displayedChildren.forEach(function(n){n instanceof Cr?i.push(n):n instanceof p&&n.addDisplayedLeafColumns(i)})},p.prototype.addLeafColumns=function(i){this.children.forEach(function(n){n instanceof Cr?i.push(n):n instanceof p&&n.addLeafColumns(i)})},p.prototype.getChildren=function(){return this.children},p.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},p.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},p.prototype.getOriginalColumnGroup=function(){return ur("27","getOriginalColumnGroup","getProvidedColumnGroup"),this.getProvidedColumnGroup()},p.prototype.getPaddingLevel=function(){var i=this.getParent();return this.isPadding()&&i&&i.isPadding()?1+i.getPaddingLevel():0},p.prototype.calculateDisplayedColumns=function(){var i=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();if(!n||!n.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(u){if(!(u instanceof p)||u.displayedChildren&&u.displayedChildren.length)switch(u.getColumnGroupShow()){case"open":n.providedColumnGroup.isExpanded()&&i.displayedChildren.push(u);break;case"closed":n.providedColumnGroup.isExpanded()||i.displayedChildren.push(u);break;default:i.displayedChildren.push(u)}}),this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_DISPLAYED_CHILDREN_CHANGED))},p.EVENT_LEFT_CHANGED="leftChanged",p.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),p}(),Bo=function(){function p(){this.existingIds={}}return p.prototype.getInstanceIdForKey=function(i){var a,n=this.existingIds[i];return this.existingIds[i]=a="number"!=typeof n?0:n+1,a},p}(),ms=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ta=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Qi="ag-Grid-AutoColumn",ra=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return ms(i,p),i.prototype.createAutoGroupColumns=function(n,a){var u=this,c=[],v=this.gridOptionsService.isTreeData(),C=this.gridOptionsService.isGroupMultiAutoColumn();return v&&C&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),C=!1),C?a.forEach(function(T,M){c.push(u.createOneAutoGroupColumn(n,T,M))}):c.push(this.createOneAutoGroupColumn(n)),c},i.prototype.createOneAutoGroupColumn=function(n,a,u){var v,c=this.generateDefaultColDef(a);v=a?Qi+"-"+a.getId():Qi,ge(c,this.gridOptionsService.get("autoGroupColumnDef")),(c=this.columnFactory.mergeColDefs(c)).colId=v,this.gridOptionsService.isTreeData()||s(c.field)&&s(c.valueGetter)&&s(c.filterValueGetter)&&"agGroupColumnFilter"!==c.filter&&(c.filter=!1),u&&u>0&&(c.headerCheckboxSelection=!1);var M=n.find(function(ne){return ne.getId()==v});if(M)return M.setColDef(c,null),this.columnFactory.applyColumnState(M,c),M;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&(c.sort||c.initialSort)&&!c.field&&ge(c,{sort:null,initialSort:null},!0,!0);var $=new Cr(c,null,v,!0);return this.context.createBean($),$},i.prototype.generateDefaultColDef=function(n){var a=this.gridOptionsService.get("autoGroupColumnDef"),c={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(a&&(a.cellRenderer||a.cellRendererFramework||a.cellRendererSelector)||(c.cellRenderer="agGroupCellRenderer"),n){var C=n.getColDef();Object.assign(c,{headerName:this.columnModel.getDisplayNameForColumn(n,"header"),headerValueGetter:C.headerValueGetter}),(C.cellRenderer||C.cellRendererFramework)&&Object.assign(c,{cellRendererParams:{innerRenderer:C.cellRenderer,innerRendererFramework:C.cellRendererFramework,innerRendererParams:C.cellRendererParams}}),c.showRowGroup=n.getColId()}else c.showRowGroup=!0;return c},ta([ae("columnModel")],i.prototype,"columnModel",void 0),ta([ae("columnFactory")],i.prototype,"columnFactory",void 0),ta([lt("autoGroupColService")],i)}(nt),ba=/[&<>"']/g,Wa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function na(p){return p[0].toUpperCase()+p.substr(1).toLowerCase()}function ar(p,i){if(null==p)return null;var n=p.toString().toString();return i?n:n.replace(ba,function(a){return Wa[a]})}function xn(p){return p&&null!=p?p.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(u){return u.substring(0,1).toUpperCase()+(u.length>1?u.substring(1,u.length):"")}).join(" "):null}var kn=Object.freeze({__proto__:null,utf8_encode:function $a(p){var i=String.fromCharCode;function u($,ne){return i($>>ne&63|128)}function c($){if($>=0&&$<=31&&10!==$)return"_x"+$.toString(16).toUpperCase().padStart(4,"0")+"_";if(!(4294967168&$))return i($);var me="";return 4294965248&$?4294901760&$?4292870144&$||(me=i($>>18&7|240),me+=u($,12),me+=u($,6)):(function a($){if($>=55296&&$<=57343)throw Error("Lone surrogate U+"+$.toString(16).toUpperCase()+" is not a scalar value")}($),me=i($>>12&15|224),me+=u($,6)):me=i($>>6&31|192),me+i(63&$|128)}for(var v=function n($){var ne=[];if(!$)return[];for(var Te,Ae,pe=$.length,me=0;me<pe;)(Te=$.charCodeAt(me++))>=55296&&Te<=56319&&me<pe?56320==(64512&(Ae=$.charCodeAt(me++)))?ne.push(((1023&Te)<<10)+(1023&Ae)+65536):(ne.push(Te),me--):ne.push(Te);return ne}(p),C=v.length,T=-1,F="";++T<C;)F+=c(v[T]);return F},capitalise:na,escapeString:ar,camelCaseToHumanText:xn});function Vn(p){var i=new Map;return p.forEach(function(n){return i.set(n[0],n[1])}),i}var ko=Object.freeze({__proto__:null,convertToMap:Vn,mapById:function vn(p,i){var n=new Map;return p.forEach(function(a){return n.set(i(a),a)}),n},keys:function Ta(p){var i=[];return p.forEach(function(n,a){return i.push(a)}),i}}),ji=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$r=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Ki=function(p,i){return function(n,a){i(n,a,p)}},wt=function(p){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&p[i],a=0;if(n)return n.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},qt=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},gr=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(qt(arguments[i]));return p},Hn=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.primaryHeaderRowCount=0,n.secondaryHeaderRowCount=0,n.gridHeaderRowCount=0,n.displayedColumnsLeft=[],n.displayedColumnsRight=[],n.displayedColumnsCenter=[],n.displayedColumns=[],n.displayedColumnsAndGroupsMap={},n.viewportColumns=[],n.viewportColumnsHash="",n.headerViewportColumns=[],n.viewportColumnsCenter=[],n.headerViewportColumnsCenter=[],n.autoHeightActiveAtLeastOnce=!1,n.rowGroupColumns=[],n.valueColumns=[],n.pivotColumns=[],n.ready=!1,n.autoGroupsNeedBuilding=!1,n.forceRecreateAutoGroups=!1,n.pivotMode=!1,n.bodyWidth=0,n.leftWidth=0,n.rightWidth=0,n.bodyWidthDirty=!0,n}return ji(i,p),i.prototype.init=function(){var n=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var a=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(a)&&(this.pivotMode=a),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",function(){return n.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return n.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(u){return n.onSharedColDefChanged(u.source)}),this.addManagedPropertyListener("columnTypes",function(u){return n.onSharedColDefChanged(u.source)})},i.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},i.prototype.onSharedColDefChanged=function(n){void 0===n&&(n="api"),this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,n)},i.prototype.setColumnDefs=function(n,a){void 0===a&&(a="api");var u=!!this.columnDefs;this.columnDefs=n,this.createColumnsFromColumnDefs(u,a)},i.prototype.destroyOldColumns=function(n,a){var u={};if(n){this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(v){u[v.getInstanceId()]=v}),a&&this.columnUtils.depthFirstOriginalTreeSearch(null,a,function(v){u[v.getInstanceId()]=null});var c=Object.values(u).filter(function(v){return null!=v});this.destroyBeans(c)}},i.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},i.prototype.createColumnsFromColumnDefs=function(n,a){var u=this;void 0===a&&(a="api");var c=n?this.compareColumnStatesAndDispatchEvents(a):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var v=this.primaryColumns,T=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,T.columnTree),this.primaryColumnTree=T.columnTree,this.primaryHeaderRowCount=T.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function($){return u.primaryColumnsMap[$.getId()]=$}),this.extractRowGroupColumns(a,v),this.extractPivotColumns(a,v),this.extractValueColumns(a,v),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),n&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(a),this.checkViewportColumns()),this.dispatchEverythingChanged(a),c&&c(),this.dispatchNewColumnsLoaded()},i.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:z.EVENT_NEW_COLUMNS_LOADED})},i.prototype.dispatchEverythingChanged=function(n){void 0===n&&(n="api"),this.eventService.dispatchEvent({type:z.EVENT_COLUMN_EVERYTHING_CHANGED,source:n})},i.prototype.orderGridColumnsLikePrimary=function(){var n=this,a=this.primaryColumns;a&&(this.gridColumns.sort(function(u,c){var v=a.indexOf(u),C=a.indexOf(c),T=v>=0,M=C>=0;return T&&M?v-C:T?1:M?-1:n.gridColumns.indexOf(u)-n.gridColumns.indexOf(c)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},i.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},i.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},i.prototype.getDisplayedColumnsStartingAt=function(n){for(var a=n,u=[];null!=a;)u.push(a),a=this.getDisplayedColAfter(a);return u},i.prototype.checkViewportColumns=function(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:z.EVENT_VIRTUAL_COLUMNS_CHANGED})},i.prototype.setViewportPosition=function(n,a){(n!==this.scrollWidth||a!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=n,this.scrollPosition=a,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},i.prototype.isPivotMode=function(){return this.pivotMode},i.prototype.isPivotSettingAllowed=function(n){return!n||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},i.prototype.setPivotMode=function(n,a){void 0===a&&(a="api"),n!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=n,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:z.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},i.prototype.getSecondaryPivotColumn=function(n,a){if(s(this.secondaryColumns))return null;var u=this.getPrimaryColumn(a),c=null;return this.secondaryColumns.forEach(function(v){var C=v.getColDef().pivotKeys,T=v.getColDef().pivotValueColumn;nn(C,n)&&T===u&&(c=v)}),c},i.prototype.setBeans=function(n){this.logger=n.create("columnModel")},i.prototype.setFirstRightAndLastLeftPinned=function(n){var a,u;this.gridOptionsService.is("enableRtl")?(a=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,u=this.displayedColumnsRight?wr(this.displayedColumnsRight):null):(a=this.displayedColumnsLeft?wr(this.displayedColumnsLeft):null,u=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===a,n),c.setFirstRightPinned(c===u,n)})},i.prototype.autoSizeColumns=function(n){var a=this,u=n.columns,c=n.skipHeader,v=n.skipHeaderGroups,C=n.stopAtGroup,T=n.source,M=void 0===T?"api":T;this.animationFrameService.flushAllFrames();for(var F=[],$=-1,ne=c??this.gridOptionsService.is("skipHeaderOnAutoSize"),pe=v??ne;0!==$;)$=0,this.actionOnGridColumns(u,function(me){if(F.indexOf(me)>=0)return!1;var Te=a.autoWidthCalculator.getPreferredWidthForColumn(me,ne);if(Te>0){var Ae=a.normaliseColumnWidth(me,Te);me.setActualWidth(Ae,M),F.push(me),$++}return!0},M);pe||this.autoSizeColumnGroupsByColumns(u,M,C),this.dispatchColumnResizedEvent(F,!0,"autosizeColumns")},i.prototype.dispatchColumnResizedEvent=function(n,a,u,c){void 0===c&&(c=null),n&&n.length&&this.eventService.dispatchEvent({type:z.EVENT_COLUMN_RESIZED,columns:n,column:1===n.length?n[0]:null,flexColumns:c,finished:a,source:u})},i.prototype.dispatchColumnChangedEvent=function(n,a,u){this.eventService.dispatchEvent({type:n,columns:a,column:a&&1==a.length?a[0]:null,source:u})},i.prototype.dispatchColumnMovedEvent=function(n){var a=n.movedColumns;this.eventService.dispatchEvent({type:z.EVENT_COLUMN_MOVED,columns:a,column:a&&1===a.length?a[0]:null,toIndex:n.toIndex,finished:n.finished,source:n.source})},i.prototype.dispatchColumnPinnedEvent=function(n,a){if(n.length){var u=1===n.length?n[0]:null,c=this.getCommonValue(n,function(C){return C.getPinned()});this.eventService.dispatchEvent({type:z.EVENT_COLUMN_PINNED,pinned:c??null,columns:n,column:u,source:a})}},i.prototype.dispatchColumnVisibleEvent=function(n,a){if(n.length){var u=1===n.length?n[0]:null,c=this.getCommonValue(n,function(C){return C.isVisible()});this.eventService.dispatchEvent({type:z.EVENT_COLUMN_VISIBLE,visible:c,columns:n,column:u,source:a})}},i.prototype.autoSizeColumn=function(n,a,u){void 0===u&&(u="api"),n&&this.autoSizeColumns({columns:[n],skipHeader:a,skipHeaderGroups:!0,source:u})},i.prototype.autoSizeColumnGroupsByColumns=function(n,a,u){var c,v,C,T,$,M=new Set;this.getGridColumns(n).forEach(function(Ze){for(var st=Ze.getParent();st&&st!=u;)st.isPadding()||M.add(st),st=st.getParent()});try{for(var pe=wt(M),me=pe.next();!me.done;me=pe.next()){var Te=me.value;try{for(var Ae=(C=void 0,wt(this.ctrlsService.getHeaderRowContainerCtrls())),He=Ae.next();!He.done&&!($=He.value.getHeaderCtrlForColumn(Te));He=Ae.next());}catch(Ze){C={error:Ze}}finally{try{He&&!He.done&&(T=Ae.return)&&T.call(Ae)}finally{if(C)throw C.error}}$&&$.resizeLeafColumnsToFit(a)}}catch(Ze){c={error:Ze}}finally{try{me&&!me.done&&(v=pe.return)&&v.call(pe)}finally{if(c)throw c.error}}return[]},i.prototype.autoSizeAllColumns=function(n,a){void 0===a&&(a="api");var u=this.getAllDisplayedColumns();this.autoSizeColumns({columns:u,skipHeader:n,source:a})},i.prototype.getColumnsFromTree=function(n){var a=[],u=function(c){for(var v=0;v<c.length;v++){var C=c[v];C instanceof Cr?a.push(C):C instanceof Bt&&u(C.getChildren())}};return u(n),a},i.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},i.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},i.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},i.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},i.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},i.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},i.prototype.isColumnDisplayed=function(n){return this.getAllDisplayedColumns().indexOf(n)>=0},i.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},i.prototype.getViewportColumns=function(){return this.viewportColumns},i.prototype.getDisplayedLeftColumnsForRow=function(n){return this.colSpanActive?this.getDisplayedColumnsForRow(n,this.displayedColumnsLeft):this.displayedColumnsLeft},i.prototype.getDisplayedRightColumnsForRow=function(n){return this.colSpanActive?this.getDisplayedColumnsForRow(n,this.displayedColumnsRight):this.displayedColumnsRight},i.prototype.isColSpanActive=function(){return this.colSpanActive},i.prototype.getDisplayedColumnsForRow=function(n,a,u,c){for(var M,v=[],C=null,T=function($){var Ue,ne=a[$],pe=a.length-$,me=Math.min(ne.getColSpan(n),pe),Te=[ne];if(me>1){for(var Ae=me-1,He=1;He<=Ae;He++)Te.push(a[$+He]);$+=Ae}u?(Ue=!1,Te.forEach(function(st){u(st)&&(Ue=!0)})):Ue=!0,Ue&&(0===v.length&&C&&c&&c(ne)&&v.push(C),v.push(ne)),C=ne,M=$},F=0;F<a.length;F++)T(F),F=M;return v},i.prototype.getViewportCenterColumnsForRow=function(n){var a=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(n,this.displayedColumnsCenter,c,function(v){var C=v.getLeft();return o(C)&&C>a.viewportLeft})},i.prototype.getAriaColumnIndex=function(n){return this.getAllGridColumns().indexOf(n)+1},i.prototype.isColumnInHeaderViewport=function(n){return!!n.isAutoHeaderHeight()||this.isColumnInRowViewport(n)},i.prototype.isColumnInRowViewport=function(n){if(n.isAutoHeight())return!0;var a=n.getLeft()||0,u=a+n.getActualWidth(),c=this.viewportLeft-200,v=this.viewportRight+200;return!(a<c&&u<c||a>v&&u>v)},i.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},i.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},i.prototype.updatePrimaryColumnList=function(n,a,u,c,v,C){var T=this;if(void 0===C&&(C="api"),n&&!d(n)){var M=!1;n.forEach(function($){var ne=T.getPrimaryColumn($);if(ne){if(u){if(a.indexOf(ne)>=0)return;a.push(ne)}else{if(a.indexOf(ne)<0)return;Kr(a,ne)}c(ne),M=!0}}),M&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(C),this.eventService.dispatchEvent({type:v,columns:a,column:1===a.length?a[0]:null,source:C}))}},i.prototype.setRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(n,this.rowGroupColumns,z.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),a)},i.prototype.setRowGroupActive=function(n,a,u){n!==a.isRowGroupActive()&&(a.setRowGroupActive(n,u),n&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(a,!1,u),!n&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(a,!0,u))},i.prototype.addRowGroupColumn=function(n,a){void 0===a&&(a="api"),n&&this.addRowGroupColumns([n],a)},i.prototype.addRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(n,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),z.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(n,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),z.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumn=function(n,a){void 0===a&&(a="api"),n&&this.removeRowGroupColumns([n],a)},i.prototype.addPivotColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.pivotColumns,!0,function(u){return u.setPivotActive(!0,a)},z.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.setPivotColumns=function(n,a){void 0===a&&(a="api"),this.setPrimaryColumnList(n,this.pivotColumns,z.EVENT_COLUMN_PIVOT_CHANGED,function(u,c){c.setPivotActive(u,a)},a)},i.prototype.addPivotColumn=function(n,a){void 0===a&&(a="api"),this.addPivotColumns([n],a)},i.prototype.removePivotColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.pivotColumns,!1,function(u){return u.setPivotActive(!1,a)},z.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.removePivotColumn=function(n,a){void 0===a&&(a="api"),this.removePivotColumns([n],a)},i.prototype.setPrimaryColumnList=function(n,a,u,c,v){var C=this;a.length=0,o(n)&&n.forEach(function(T){var M=C.getPrimaryColumn(T);M&&a.push(M)}),(this.primaryColumns||[]).forEach(function(T){var M=a.indexOf(T)>=0;c(M,T)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(v),this.dispatchColumnChangedEvent(u,a,v)},i.prototype.setValueColumns=function(n,a){void 0===a&&(a="api"),this.setPrimaryColumnList(n,this.valueColumns,z.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),a)},i.prototype.setValueActive=function(n,a,u){if(n!==a.isValueActive()&&(a.setValueActive(n,u),n&&!a.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(a);a.setAggFunc(c)}},i.prototype.addValueColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.valueColumns,!0,this.setValueActive.bind(this,!0),z.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.addValueColumn=function(n,a){void 0===a&&(a="api"),n&&this.addValueColumns([n],a)},i.prototype.removeValueColumn=function(n,a){void 0===a&&(a="api"),this.removeValueColumns([n],a)},i.prototype.removeValueColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.valueColumns,!1,this.setValueActive.bind(this,!1),z.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.normaliseColumnWidth=function(n,a){var u=n.getMinWidth();o(u)&&a<u&&(a=u);var c=n.getMaxWidth();return o(c)&&n.isGreaterThanMax(a)&&(a=c),a},i.prototype.getPrimaryOrGridColumn=function(n){return this.getPrimaryColumn(n)||this.getGridColumn(n)},i.prototype.setColumnWidths=function(n,a,u,c){var v=this;void 0===c&&(c="api");var C=[];n.forEach(function(T){var M=v.getPrimaryOrGridColumn(T.key);if(M&&(C.push({width:T.newWidth,ratios:[1],columns:[M]}),"shift"===v.gridOptionsService.get("colResizeDefault")&&(a=!a),a)){var $=v.getDisplayedColAfter(M);if(!$)return;var ne=M.getActualWidth()-T.newWidth,pe=$.getActualWidth()+ne;C.push({width:pe,ratios:[1],columns:[$]})}}),0!==C.length&&this.resizeColumnSets({resizeSets:C,finished:u,source:c})},i.prototype.checkMinAndMaxWidthsForSet=function(n){var u=n.width,c=0,v=0,C=!0;return n.columns.forEach(function(F){var $=F.getMinWidth();c+=$||0;var ne=F.getMaxWidth();o(ne)&&ne>0?v+=ne:C=!1}),u>=c&&(!C||u<=v)},i.prototype.resizeColumnSets=function(n){var a=this,u=n.resizeSets,c=n.finished,v=n.source;if(!u||u.every(function(me){return a.checkMinAndMaxWidthsForSet(me)})){var M=[],F=[];u.forEach(function(me){var Te=me.width,Ae=me.columns,He=me.ratios,Ue={},Ze={};Ae.forEach(function(At){return F.push(At)});for(var st=!0,St=0,Ut=function(){if(++St>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";st=!1;var At=[],Jt=0,fr=Te;Ae.forEach(function(Nr,Si){Ze[Nr.getId()]?fr-=Ue[Nr.getId()]:(At.push(Nr),Jt+=He[Si])});var Jr=1/Jt;At.forEach(function(Nr,Si){var mn;Si===At.length-1?mn=fr:(mn=Math.round(He[Si]*Te*Jr),fr-=mn);var Yr=Nr.getMinWidth(),Li=Nr.getMaxWidth();o(Yr)&&mn<Yr?(mn=Yr,Ze[Nr.getId()]=!0,st=!0):o(Li)&&Li>0&&mn>Li&&(mn=Li,Ze[Nr.getId()]=!0,st=!0),Ue[Nr.getId()]=mn})};st&&"break"!==Ut(););Ae.forEach(function(At){var Jt=Ue[At.getId()];At.getActualWidth()!==Jt&&(At.setActualWidth(Jt,v),M.push(At))})});var $=M.length>0,ne=[];$&&(ne=this.refreshFlexedColumns({resizingCols:F,skipSetLeft:!0}),this.setLeftValues(v),this.updateBodyWidths(),this.checkViewportColumns());var pe=F.concat(ne);($||c)&&this.dispatchColumnResizedEvent(pe,c,v,ne)}else c&&this.dispatchColumnResizedEvent(u&&u.length>0?u[0].columns:null,c,v)},i.prototype.setColumnAggFunc=function(n,a,u){if(void 0===u&&(u="api"),n){var c=this.getPrimaryColumn(n);c&&(c.setAggFunc(a),this.dispatchColumnChangedEvent(z.EVENT_COLUMN_VALUE_CHANGED,[c],u))}},i.prototype.moveRowGroupColumn=function(n,a,u){void 0===u&&(u="api");var c=this.rowGroupColumns[n];this.rowGroupColumns.splice(n,1),this.rowGroupColumns.splice(a,0,c),this.eventService.dispatchEvent({type:z.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:u})},i.prototype.moveColumns=function(n,a,u,c){if(void 0===u&&(u="api"),void 0===c&&(c=!0),this.columnAnimationService.start(),a>this.gridColumns.length-n.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+a),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var v=this.getGridColumns(n);!this.doesMovePassRules(v,a)||(ke(this.gridColumns,v,a),this.updateDisplayedColumns(u),this.dispatchColumnMovedEvent({movedColumns:v,source:u,toIndex:a,finished:c}),this.columnAnimationService.finish())},i.prototype.doesMovePassRules=function(n,a){var u=this.getProposedColumnOrder(n,a);return this.doesOrderPassRules(u)},i.prototype.doesOrderPassRules=function(n){return!(!this.doesMovePassMarryChildren(n)||!this.doesMovePassLockedPositions(n))},i.prototype.getProposedColumnOrder=function(n,a){var u=this.gridColumns.slice();return ke(u,n,a),u},i.prototype.sortColumnsLikeGridColumns=function(n){var a=this;!n||n.length<=1||n.filter(function(c){return a.gridColumns.indexOf(c)<0}).length>0||n.sort(function(c,v){return a.gridColumns.indexOf(c)-a.gridColumns.indexOf(v)})},i.prototype.doesMovePassLockedPositions=function(n){var a=0,u=!0;return n.forEach(function(v){var C=function(v){return v?!0===v||"left"===v?0:2:1}(v.getColDef().lockPosition);C<a&&(u=!1),a=C}),u},i.prototype.doesMovePassMarryChildren=function(n){var a=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof Bt){var c=u,v=c.getColGroupDef();if(v&&v.marryChildren){var T=[];c.getLeafColumns().forEach(function(pe){var me=n.indexOf(pe);T.push(me)}),Math.max.apply(Math,T)-Math.min.apply(Math,T)>c.getLeafColumns().length-1&&(a=!1)}}}),a},i.prototype.moveColumn=function(n,a,u){void 0===u&&(u="api"),this.moveColumns([n],a,u)},i.prototype.moveColumnByIndex=function(n,a,u){void 0===u&&(u="api"),this.moveColumn(this.gridColumns[n],a,u)},i.prototype.getColumnDefs=function(){var n=this;if(this.primaryColumns){var a=this.primaryColumns.slice();return this.gridColsArePrimary?a.sort(function(u,c){return n.gridColumns.indexOf(u)-n.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&a.sort(function(u,c){return n.lastPrimaryOrder.indexOf(u)-n.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(a,this.rowGroupColumns,this.pivotColumns)}},i.prototype.getBodyContainerWidth=function(){return this.bodyWidth},i.prototype.getContainerWidth=function(n){switch(n){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},i.prototype.updateBodyWidths=function(){var n=this.getWidthOfColsInList(this.displayedColumnsCenter),a=this.getWidthOfColsInList(this.displayedColumnsLeft),u=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==n,(this.bodyWidth!==n||this.leftWidth!==a||this.rightWidth!==u)&&(this.bodyWidth=n,this.leftWidth=a,this.rightWidth=u,this.eventService.dispatchEvent({type:z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},i.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},i.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},i.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},i.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},i.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},i.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},i.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},i.prototype.getDisplayedColumns=function(n){switch(n){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},i.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},i.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},i.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},i.prototype.getAllGridColumns=function(){return this.gridColumns},i.prototype.isEmpty=function(){return d(this.gridColumns)},i.prototype.isRowGroupEmpty=function(){return d(this.rowGroupColumns)},i.prototype.setColumnVisible=function(n,a,u){void 0===u&&(u="api"),this.setColumnsVisible([n],a,u)},i.prototype.setColumnsVisible=function(n,a,u){void 0===a&&(a=!1),void 0===u&&(u="api"),this.applyColumnState({state:n.map(function(c){return{colId:"string"==typeof c?c:c.getColId(),hide:!a}})},u)},i.prototype.setColumnPinned=function(n,a,u){void 0===u&&(u="api"),n&&this.setColumnsPinned([n],a,u)},i.prototype.setColumnsPinned=function(n,a,u){var c;void 0===u&&(u="api"),this.gridOptionsService.isDomLayout("print")?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),c=!0===a||"left"===a?"left":"right"===a?"right":null,this.actionOnGridColumns(n,function(v){return v.getPinned()!==c&&(v.setPinned(c),!0)},u,function(){return{type:z.EVENT_COLUMN_PINNED,pinned:c,column:null,columns:null,source:u}}),this.columnAnimationService.finish())},i.prototype.actionOnGridColumns=function(n,a,u,c){var v=this;if(!d(n)){var C=[];if(n.forEach(function(M){var F=v.getGridColumn(M);F&&!1!==a(F)&&C.push(F)}),C.length&&(this.updateDisplayedColumns(u),o(c)&&c)){var T=c();T.columns=C,T.column=1===C.length?C[0]:null,this.eventService.dispatchEvent(T)}}},i.prototype.getDisplayedColBefore=function(n){var a=this.getAllDisplayedColumns(),u=a.indexOf(n);return u>0?a[u-1]:null},i.prototype.getDisplayedColAfter=function(n){var a=this.getAllDisplayedColumns(),u=a.indexOf(n);return u<a.length-1?a[u+1]:null},i.prototype.getDisplayedGroupAfter=function(n){return this.getDisplayedGroupAtDirection(n,"After")},i.prototype.getDisplayedGroupBefore=function(n){return this.getDisplayedGroupAtDirection(n,"Before")},i.prototype.getDisplayedGroupAtDirection=function(n,a){for(var u=n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel(),c=n.getDisplayedLeafColumns(),v="After"===a?wr(c):c[0],C="getDisplayedCol"+a;;){var T=this[C](v);if(!T)return null;var M=this.getColumnGroupAtLevel(T,u);if(M!==n)return M}},i.prototype.getColumnGroupAtLevel=function(n,a){for(var u=n.getParent();!(u.getProvidedColumnGroup().getLevel()+u.getPaddingLevel()<=a);)u=u.getParent();return u},i.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},i.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},i.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var n;return(n=[]).concat.apply(n,gr([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},i.prototype.createStateItemFromColumn=function(n){var a=n.isRowGroupActive()?this.rowGroupColumns.indexOf(n):null,u=n.isPivotActive()?this.pivotColumns.indexOf(n):null,c=n.isValueActive()?n.getAggFunc():null,v=null!=n.getSort()?n.getSort():null,C=null!=n.getSortIndex()?n.getSortIndex():null,T=null!=n.getFlex()&&n.getFlex()>0?n.getFlex():null;return{colId:n.getColId(),width:n.getActualWidth(),hide:!n.isVisible(),pinned:n.getPinned(),sort:v,sortIndex:C,aggFunc:c,rowGroup:n.isRowGroupActive(),rowGroupIndex:a,pivot:n.isPivotActive(),pivotIndex:u,flex:T}},i.prototype.getColumnState=function(){if(s(this.primaryColumns)||!this.isAlive())return[];var a=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(a),a},i.prototype.orderColumnStateList=function(n){var a=Vn(this.gridColumns.map(function(u,c){return[u.getColId(),c]}));n.sort(function(u,c){return(a.has(u.colId)?a.get(u.colId):-1)-(a.has(c.colId)?a.get(c.colId):-1)})},i.prototype.resetColumnState=function(n){void 0===n&&(n="api");var a=this.getColumnsFromTree(this.primaryColumnTree),u=[],c=1e3,v=1e3,C=[];this.groupAutoColumns&&(C=C.concat(this.groupAutoColumns)),a&&(C=C.concat(a)),C.forEach(function(T){var M=function(jt,At){return jt??At??null},F=T.getColDef(),$=M(F.sort,F.initialSort),ne=M(F.sortIndex,F.initialSortIndex),pe=M(F.hide,F.initialHide),me=M(F.pinned,F.initialPinned),Te=M(F.width,F.initialWidth),Ae=M(F.flex,F.initialFlex),He=M(F.rowGroupIndex,F.initialRowGroupIndex),Ue=M(F.rowGroup,F.initialRowGroup);null==He&&(null==Ue||0==Ue)&&(He=null,Ue=null);var Ze=M(F.pivotIndex,F.initialPivotIndex),st=M(F.pivot,F.initialPivot);null==Ze&&(null==st||0==st)&&(Ze=null,st=null);var St=M(F.aggFunc,F.initialAggFunc),Ut={colId:T.getColId(),sort:$,sortIndex:ne,hide:pe,pinned:me,width:Te,flex:Ae,rowGroup:Ue,rowGroupIndex:He,pivot:st,pivotIndex:Ze,aggFunc:St};s(He)&&Ue&&(Ut.rowGroupIndex=c++),s(Ze)&&st&&(Ut.pivotIndex=v++),u.push(Ut)}),this.applyColumnState({state:u,applyOrder:!0},n)},i.prototype.applyColumnState=function(n,a){var u=this;if(d(this.primaryColumns))return!1;if(n&&n.state&&!n.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var c=function(M,F,$){var ne=u.compareColumnStatesAndDispatchEvents(a);u.autoGroupsNeedBuilding=!0;var pe=F.slice(),me={},Te={},Ae=[],He=[],Ue=0,Ze=u.rowGroupColumns.slice(),st=u.pivotColumns.slice();M.forEach(function(At){var Jt=At.colId||"";if(Jt.startsWith(Qi))return Ae.push(At),void He.push(At);var Jr=$(Jt);Jr?(u.syncColumnWithStateItem(Jr,At,n.defaultState,me,Te,!1,a),Kr(pe,Jr)):(He.push(At),Ue+=1)});var St=function(At){return u.syncColumnWithStateItem(At,null,n.defaultState,me,Te,!1,a)};pe.forEach(St);var Ut=function(At,Jt,fr,Jr){var Nr=At[fr.getId()],Si=At[Jr.getId()],Zi=null!=Nr,mn=null!=Si;if(Zi&&mn)return Nr-Si;if(Zi)return-1;if(mn)return 1;var Yr=Jt.indexOf(fr),Li=Jt.indexOf(Jr),Ha=Yr>=0;return Ha&&Li>=0?Yr-Li:Ha?-1:1};u.rowGroupColumns.sort(Ut.bind(u,me,Ze)),u.pivotColumns.sort(Ut.bind(u,Te,st)),u.updateGridColumns();var jt=u.groupAutoColumns?u.groupAutoColumns.slice():[];return Ae.forEach(function(At){var Jt=u.getAutoColumn(At.colId);Kr(jt,Jt),u.syncColumnWithStateItem(Jt,At,n.defaultState,null,null,!0,a)}),jt.forEach(St),u.applyOrderAfterApplyState(n),u.updateDisplayedColumns(a),u.dispatchEverythingChanged(a),ne(),{unmatchedAndAutoStates:He,unmatchedCount:Ue}};this.columnAnimationService.start();var v=c(n.state||[],this.primaryColumns||[],function(M){return u.getPrimaryColumn(M)}),C=v.unmatchedAndAutoStates,T=v.unmatchedCount;return(C.length>0||o(n.defaultState))&&(T=c(C,this.secondaryColumns||[],function(M){return u.getSecondaryColumn(M)}).unmatchedCount),this.columnAnimationService.finish(),0===T},i.prototype.applyOrderAfterApplyState=function(n){var a=this;if(n.applyOrder&&n.state){var u=[],c={};n.state.forEach(function(C){if(C.colId&&!c[C.colId]){var T=a.gridColumnsMap[C.colId];T&&(u.push(T),c[C.colId]=!0)}});var v=0;if(this.gridColumns.forEach(function(C){var T=C.getColId();null!=c[T]||(T.startsWith(Qi)?Fe(u,C,v++):u.push(C))}),u=this.placeLockedColumns(u),!this.doesMovePassMarryChildren(u))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=u}},i.prototype.compareColumnStatesAndDispatchEvents=function(n){var a=this,u={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},c=this.getColumnState(),v={};return c.forEach(function(C){v[C.colId]=C}),function(){var C=a.getPrimaryAndSecondaryAndAutoColumns(),T=function(He,Ue,Ze,st){nn(Ue.map(st),Ze.map(st))||a.eventService.dispatchEvent({type:He,columns:Ze,column:1===Ze.length?Ze[0]:null,source:n})},M=function(He){var Ue=[];return C.forEach(function(Ze){var st=v[Ze.getColId()];st&&He(st,Ze)&&Ue.push(Ze)}),Ue},F=function(He){return He.getColId()};T(z.EVENT_COLUMN_ROW_GROUP_CHANGED,u.rowGroupColumns,a.rowGroupColumns,F),T(z.EVENT_COLUMN_PIVOT_CHANGED,u.pivotColumns,a.pivotColumns,F),M(function(He,Ue){var Ze=null!=He.aggFunc,st=Ze!=Ue.isValueActive(),St=Ze&&He.aggFunc!=Ue.getAggFunc();return st||St}).length>0&&a.dispatchColumnChangedEvent(z.EVENT_COLUMN_VALUE_CHANGED,a.valueColumns,n),a.dispatchColumnResizedEvent(M(function(He,Ue){return He.width!=Ue.getActualWidth()}),!0,n),a.dispatchColumnPinnedEvent(M(function(He,Ue){return He.pinned!=Ue.getPinned()}),n),a.dispatchColumnVisibleEvent(M(function(He,Ue){return He.hide==Ue.isVisible()}),n),M(function(He,Ue){return He.sort!=Ue.getSort()||He.sortIndex!=Ue.getSortIndex()}).length>0&&a.sortController.dispatchSortChangedEvents(n),a.normaliseColumnMovedEventForColumnState(c,n)}},i.prototype.getCommonValue=function(n,a){if(n&&0!=n.length){for(var u=a(n[0]),c=1;c<n.length;c++)if(u!==a(n[c]))return;return u}},i.prototype.normaliseColumnMovedEventForColumnState=function(n,a){var u=this,c=this.getColumnState(),v={};c.forEach(function($){return v[$.colId]=$});var C={};n.forEach(function($){v[$.colId]&&(C[$.colId]=!0)});var T=n.filter(function($){return C[$.colId]}),M=c.filter(function($){return C[$.colId]}),F=[];M.forEach(function($,ne){var pe=T&&T[ne];if(pe&&pe.colId!==$.colId){var me=u.getGridColumn(pe.colId);me&&F.push(me)}}),F.length&&this.dispatchColumnMovedEvent({movedColumns:F,source:a,finished:!0})},i.prototype.syncColumnWithStateItem=function(n,a,u,c,v,C,T){if(n){var M=function(Jt,fr){var Jr={value1:void 0,value2:void 0},Nr=!1;return a&&(void 0!==a[Jt]&&(Jr.value1=a[Jt],Nr=!0),o(fr)&&void 0!==a[fr]&&(Jr.value2=a[fr],Nr=!0)),!Nr&&u&&(void 0!==u[Jt]&&(Jr.value1=u[Jt]),o(fr)&&void 0!==u[fr]&&(Jr.value2=u[fr])),Jr},F=M("hide").value1;void 0!==F&&n.setVisible(!F,T);var $=M("pinned").value1;void 0!==$&&n.setPinned($);var ne=this.columnUtils.calculateColMinWidth(n.getColDef()),pe=M("flex").value1;if(void 0!==pe&&n.setFlex(pe),n.getFlex()<=0){var Te=M("width").value1;null!=Te&&null!=ne&&Te>=ne&&n.setActualWidth(Te,T)}var Ae=M("sort").value1;void 0!==Ae&&n.setSort("desc"===Ae||"asc"===Ae?Ae:void 0,T);var He=M("sortIndex").value1;if(void 0!==He&&n.setSortIndex(He),!C&&n.isPrimary()){var Ue=M("aggFunc").value1;void 0!==Ue&&("string"==typeof Ue?(n.setAggFunc(Ue),n.isValueActive()||(n.setValueActive(!0,T),this.valueColumns.push(n))):(o(Ue)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),n.isValueActive()&&(n.setValueActive(!1,T),Kr(this.valueColumns,n))));var Ze=M("rowGroup","rowGroupIndex"),st=Ze.value1,St=Ze.value2;(void 0!==st||void 0!==St)&&("number"==typeof St||st?(n.isRowGroupActive()||(n.setRowGroupActive(!0,T),this.rowGroupColumns.push(n)),c&&"number"==typeof St&&(c[n.getId()]=St)):n.isRowGroupActive()&&(n.setRowGroupActive(!1,T),Kr(this.rowGroupColumns,n)));var Ut=M("pivot","pivotIndex"),jt=Ut.value1,At=Ut.value2;(void 0!==jt||void 0!==At)&&("number"==typeof At||jt?(n.isPivotActive()||(n.setPivotActive(!0,T),this.pivotColumns.push(n)),v&&"number"==typeof At&&(v[n.getId()]=At)):n.isPivotActive()&&(n.setPivotActive(!1,T),Kr(this.pivotColumns,n)))}}},i.prototype.getGridColumns=function(n){return this.getColumns(n,this.getGridColumn.bind(this))},i.prototype.getColumns=function(n,a){var u=[];return n&&n.forEach(function(c){var v=a(c);v&&u.push(v)}),u},i.prototype.getColumnWithValidation=function(n){if(null==n)return null;var a=this.getGridColumn(n);return a||console.warn("AG Grid: could not find column "+n),a},i.prototype.getPrimaryColumn=function(n){return this.primaryColumns?this.getColumn(n,this.primaryColumns,this.primaryColumnsMap):null},i.prototype.getGridColumn=function(n){return this.getColumn(n,this.gridColumns,this.gridColumnsMap)},i.prototype.getSecondaryColumn=function(n){return this.secondaryColumns?this.getColumn(n,this.secondaryColumns,this.secondaryColumnsMap):null},i.prototype.getColumn=function(n,a,u){if(!n)return null;if("string"==typeof n&&u[n])return u[n];for(var c=0;c<a.length;c++)if(this.columnsMatch(a[c],n))return a[c];return this.getAutoColumn(n)},i.prototype.getSourceColumnsForGroupColumn=function(n){var a=n.getColDef().showRowGroup;if(!a)return null;if(!0===a)return this.rowGroupColumns.slice(0);var u=this.getPrimaryColumn(a);return u?[u]:null},i.prototype.getAutoColumn=function(n){var a=this;return this.groupAutoColumns&&o(this.groupAutoColumns)&&!s(this.groupAutoColumns)&&this.groupAutoColumns.find(function(u){return a.columnsMatch(u,n)})||null},i.prototype.columnsMatch=function(n,a){var u=n===a,c=n.getColDef()===a,v=n.getColId()==a;return u||c||v},i.prototype.getDisplayNameForColumn=function(n,a,u){if(void 0===u&&(u=!1),!n)return null;var c=this.getHeaderName(n.getColDef(),n,null,null,a);return u?this.wrapHeaderNameWithAggFunc(n,c):c},i.prototype.getDisplayNameForProvidedColumnGroup=function(n,a,u){var c=a?a.getColGroupDef():null;return c?this.getHeaderName(c,null,n,a,u):null},i.prototype.getDisplayNameForColumnGroup=function(n,a){return this.getDisplayNameForProvidedColumnGroup(n,n.getProvidedColumnGroup(),a)},i.prototype.getHeaderName=function(n,a,u,c,v){var C=n.headerValueGetter;if(C){var T={colDef:n,column:a,columnGroup:u,providedColumnGroup:c,location:v,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof C?C(T):"string"==typeof C?this.expressionService.evaluate(C,T):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=n.headerName?n.headerName:n.field?xn(n.field):""},i.prototype.wrapHeaderNameWithAggFunc=function(n,a){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return a;var C,u=n.getColDef().pivotValueColumn,v=null;if(o(u)){var T=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,M=void 0!==n.getColDef().pivotTotalColumnIds;if(T&&!M)return a;v=u?u.getAggFunc():null,C=!0}else{var F=n.isValueActive(),$=this.pivotMode||!this.isRowGroupEmpty();F&&$?(v=n.getAggFunc(),C=!0):C=!1}if(C){var ne="string"==typeof v?v:"func";return this.localeService.getLocaleTextFunc()(ne,ne)+"("+a+")"}return a},i.prototype.getColumnGroup=function(n,a){if(!n)return null;if(n instanceof Sn)return n;var u=this.getAllDisplayedTrees(),c="number"==typeof a,v=null;return this.columnUtils.depthFirstAllColumnTreeSearch(u,function(C){if(C instanceof Sn){var T=C;(c?n===T.getGroupId()&&a===T.getPartId():n===T.getGroupId())&&(v=T)}}),v},i.prototype.isReady=function(){return this.ready},i.prototype.extractValueColumns=function(n,a){this.valueColumns=this.extractColumns(a,this.valueColumns,function(u,c){return u.setValueActive(c,n)},function(){},function(){},function(u){var c=u.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(u){return null!=u.initialAggFunc&&""!=u.initialAggFunc}),this.valueColumns.forEach(function(u){var c=u.getColDef();null!=c.aggFunc&&""!=c.aggFunc?u.setAggFunc(c.aggFunc):u.getAggFunc()||u.setAggFunc(c.initialAggFunc)})},i.prototype.extractRowGroupColumns=function(n,a){this.rowGroupColumns=this.extractColumns(a,this.rowGroupColumns,function(u,c){return u.setRowGroupActive(c,n)},function(u){return u.rowGroupIndex},function(u){return u.initialRowGroupIndex},function(u){return u.rowGroup},function(u){return u.initialRowGroup})},i.prototype.extractColumns=function(n,a,u,c,v,C,T){void 0===n&&(n=[]),void 0===a&&(a=[]);var M=[],F=[];(this.primaryColumns||[]).forEach(function(pe){var me=n.indexOf(pe)<0,Te=pe.getColDef(),Ae=m(C(Te)),He=m(T(Te)),Ue=y(c(Te)),Ze=y(v(Te));(void 0!==Ae?Ae:void 0!==Ue?null!==Ue&&Ue>=0:me?void 0!==He?He:void 0!==Ze&&null!=Ze&&Ze>=0:a.indexOf(pe)>=0)&&((me?null!=Ue||null!=Ze:null!=Ue)?M.push(pe):F.push(pe))});var $=function(pe){var me=c(pe.getColDef()),Te=v(pe.getColDef());return me??Te};M.sort(function(pe,me){var Te=$(pe),Ae=$(me);return Te===Ae?0:Te<Ae?-1:1});var ne=[].concat(M);return a.forEach(function(pe){F.indexOf(pe)>=0&&ne.push(pe)}),F.forEach(function(pe){ne.indexOf(pe)<0&&ne.push(pe)}),a.forEach(function(pe){ne.indexOf(pe)<0&&u(pe,!1)}),ne.forEach(function(pe){a.indexOf(pe)<0&&u(pe,!0)}),ne},i.prototype.extractPivotColumns=function(n,a){this.pivotColumns=this.extractColumns(a,this.pivotColumns,function(u,c){return u.setPivotActive(c,n)},function(u){return u.pivotIndex},function(u){return u.initialPivotIndex},function(u){return u.pivot},function(u){return u.initialPivot})},i.prototype.resetColumnGroupState=function(n){void 0===n&&(n="api");var a=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(u){if(u instanceof Bt){var c=u.getColGroupDef(),v={groupId:u.getGroupId(),open:c?c.openByDefault:void 0};a.push(v)}}),this.setColumnGroupState(a,n)},i.prototype.getColumnGroupState=function(){var n=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(a){a instanceof Bt&&n.push({groupId:a.getGroupId(),open:a.isExpanded()})}),n},i.prototype.setColumnGroupState=function(n,a){var u=this;void 0===a&&(a="api"),this.columnAnimationService.start();var c=[];n.forEach(function(v){var T=v.open,M=u.getProvidedColumnGroup(v.groupId);M&&M.isExpanded()!==T&&(u.logger.log("columnGroupOpened("+M.getGroupId()+","+T+")"),M.setExpanded(T),c.push(M))}),this.updateGroupsAndDisplayedColumns(a),this.setFirstRightAndLastLeftPinned(a),c.forEach(function(v){u.eventService.dispatchEvent({type:z.EVENT_COLUMN_GROUP_OPENED,columnGroup:v})}),this.columnAnimationService.finish()},i.prototype.setColumnGroupOpened=function(n,a,u){var c;void 0===u&&(u="api"),c=n instanceof Bt?n.getId():n||"",this.setColumnGroupState([{groupId:c,open:a}],u)},i.prototype.getProvidedColumnGroup=function(n){"string"!=typeof n&&console.error("AG Grid: group key must be a string");var a=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){u instanceof Bt&&u.getId()===n&&(a=u)}),a},i.prototype.calculateColumnsForDisplay=function(){var n=this;return this.pivotMode&&s(this.secondaryColumns)?this.gridColumns.filter(function(u){var c=n.groupAutoColumns&&qe(n.groupAutoColumns,u),v=n.valueColumns&&qe(n.valueColumns,u);return c||v}):this.gridColumns.filter(function(u){return n.groupAutoColumns&&qe(n.groupAutoColumns,u)||u.isVisible()})},i.prototype.checkColSpanActiveInCols=function(n){var a=!1;return n.forEach(function(u){o(u.getColDef().colSpan)&&(a=!0)}),a},i.prototype.calculateColumnsForGroupDisplay=function(){var n=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var a=function(u){var c=u.getColDef(),v=c.showRowGroup;c&&o(v)&&(n.groupDisplayColumns.push(u),"string"==typeof v?n.groupDisplayColumnsMap[v]=u:!0===v&&n.getRowGroupColumns().forEach(function(C){n.groupDisplayColumnsMap[C.getId()]=u}))};this.gridColumns.forEach(a),this.groupAutoColumns&&this.groupAutoColumns.forEach(a)},i.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},i.prototype.getGroupDisplayColumnForGroup=function(n){return this.groupDisplayColumnsMap[n]},i.prototype.updateDisplayedColumns=function(n){var a=this.calculateColumnsForDisplay();this.buildDisplayedTrees(a),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n)},i.prototype.isSecondaryColumnsPresent=function(){return o(this.secondaryColumns)},i.prototype.setSecondaryColumns=function(n,a){var u=this;void 0===a&&(a="api");var c=n&&n.length>0;if(c||!s(this.secondaryColumns)){if(c){this.processSecondaryColumnDefinitions(n);var v=this.columnFactory.createColumnTree(n,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,v.columnTree),this.secondaryBalancedTree=v.columnTree,this.secondaryHeaderRowCount=v.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(C){return u.secondaryColumnsMap[C.getId()]=C}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(a)}},i.prototype.processSecondaryColumnDefinitions=function(n){var a=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),u=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(a||u){var c=function(v){v.forEach(function(C){if(o(C.children)){var M=C;u&&u(M),c(M.children)}else a&&a(C)})};n&&c(n)}},i.prototype.updateGridColumns=function(){var u,n=this,a=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var c=this.secondaryColumns.every(function(M){return void 0!==n.gridColumnsMap[M.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,c&&(u=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,u=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&u){var C=Vn(this.groupAutoColumns.map(function(M){return[M,!0]}));u=u.filter(function(M){return!C.has(M)}),u=gr(this.groupAutoColumns,u)}this.addAutoGroupToGridColumns(),this.orderGridColsLike(u),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(M){return n.gridColumnsMap[M.getId()]=M}),this.setAutoHeightActive(),nn(a,this.gridBalancedTree)||this.eventService.dispatchEvent({type:z.EVENT_GRID_COLUMNS_CHANGED})},i.prototype.setAutoHeightActive=function(){this.autoHeightActive=this.gridColumns.filter(function(u){return u.isAutoHeight()}).length>0,!this.autoHeightActive||(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide"))||_e(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")},i.prototype.orderGridColsLike=function(n){if(!s(n)){var a=Vn(n.map(function(F,$){return[F,$]})),u=!0;if(this.gridColumns.forEach(function(F){a.has(F)&&(u=!1)}),!u){var c=Vn(this.gridColumns.map(function(F){return[F,!0]})),v=n.filter(function(F){return c.has(F)}),C=Vn(v.map(function(F){return[F,!0]})),T=this.gridColumns.filter(function(F){return!C.has(F)}),M=v.slice();T.forEach(function(F){var $=F.getOriginalParent();if($){for(var ne=[];!ne.length&&$;)$.getLeafColumns().forEach(function(Ae){var He=M.indexOf(Ae)>=0,Ue=ne.indexOf(Ae)<0;He&&Ue&&ne.push(Ae)}),$=$.getOriginalParent();if(ne.length){var me=ne.map(function(Ae){return M.indexOf(Ae)}),Te=Math.max.apply(Math,gr(me));Fe(M,F,Te+1)}else M.push(F)}else M.push(F)}),this.gridColumns=M}}},i.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},i.prototype.refreshQuickFilterColumns=function(){var n,a;this.groupAutoColumns?a=(null!==(n=this.primaryColumns)&&void 0!==n?n:[]).concat(this.groupAutoColumns):this.primaryColumns&&(a=this.primaryColumns),a=a??[],this.columnsForQuickFilter=this.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")?a.filter(function(u){return u.isVisible()||u.isRowGroupActive()}):a},i.prototype.placeLockedColumns=function(n){var a=[],u=[],c=[];return n.forEach(function(v){var C=v.getColDef().lockPosition;"right"===C?c.push(v):"left"===C||!0===C?a.push(v):u.push(v)}),gr(a,u,c)},i.prototype.addAutoGroupToGridColumns=function(){if(s(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var n=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,n),this.groupAutoColsBalancedTree=n,this.gridBalancedTree=n.concat(this.gridBalancedTree)},i.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},i.prototype.updateGroupsAndDisplayedColumns=function(n){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(n),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:z.EVENT_DISPLAYED_COLUMNS_CHANGED})},i.prototype.deriveDisplayedColumns=function(n){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(n),this.displayedAutoHeightCols=this.displayedColumns.filter(function(a){return a.isAutoHeight()})},i.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},i.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},i.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},i.prototype.setLeftValues=function(n){this.setLeftValuesOfColumns(n),this.setLeftValuesOfGroups()},i.prototype.setLeftValuesOfColumns=function(n){var a=this;if(this.primaryColumns){var u=this.primaryColumns.slice(0),c=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(v){if(c){var C=a.getWidthOfColsInList(v);v.forEach(function(M){C-=M.getActualWidth(),M.setLeft(C,n)})}else{var T=0;v.forEach(function(M){M.setLeft(T,n),T+=M.getActualWidth()})}Ke(u,v)}),u.forEach(function(v){v.setLeft(null,n)})}},i.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(n){n.forEach(function(a){a instanceof Sn&&a.checkLeft()})})},i.prototype.derivedDisplayedColumnsFromDisplayedTree=function(n,a){a.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(n,function(u){u instanceof Cr&&a.push(u)})},i.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},i.prototype.getVirtualHeaderGroupRow=function(n,a){var u;switch(n){case"left":u=this.viewportRowLeft[a];break;case"right":u=this.viewportRowRight[a];break;default:u=this.viewportRowCenter[a]}return s(u)&&(u=[]),u},i.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var n={};this.headerViewportColumns.forEach(function(u){return n[u.getId()]=!0});var a=function(u,c,v){for(var C=!1,T=0;T<u.length;T++){var M=u[T],F=!1;if(M instanceof Cr)F=!0===n[M.getId()];else{var ne=M.getDisplayedChildren();ne&&(F=a(ne,c,v+1))}F&&(C=!0,c[v]||(c[v]=[]),c[v].push(M))}return C};a(this.displayedTreeLeft,this.viewportRowLeft,0),a(this.displayedTreeRight,this.viewportRowRight,0),a(this.displayedTreeCentre,this.viewportRowCenter,0)},i.prototype.extractViewport=function(){this.extractViewportColumns();var a=this.viewportColumns.map(function(c){return c.getId()+"-"+(c.getPinned()||"normal")}).join("#"),u=this.viewportColumnsHash!==a;return u&&(this.viewportColumnsHash=a,this.calculateHeaderRows()),u},i.prototype.refreshFlexedColumns=function(n){var a=this;void 0===n&&(n={});var u=n.source?n.source:"flex";if(null!=n.viewportWidth&&(this.flexViewportWidth=n.viewportWidth),!this.flexViewportWidth)return[];var c=-1;n.resizingCols&&n.resizingCols.forEach(function(st){var St=a.displayedColumnsCenter.indexOf(st);c<St&&(c=St)});var v=function(st){var St=a.displayedColumnsCenter.indexOf(st)>c;return st.getFlex()&&St},C=this.displayedColumnsCenter.filter(function(st){return!v(st)}),T=this.displayedColumnsCenter.filter(function(st){return v(st)}),M=[];if(!T.length)return[];var $,F=[];e:for(;;){var ne=T.reduce(function(st,St){return st+St.getFlex()},0);$=this.flexViewportWidth-this.getWidthOfColsInList(C);for(var pe=0;pe<T.length;pe++){var me=T[pe],Te=$*me.getFlex()/ne,Ae=0,He=me.getMinWidth(),Ue=me.getMaxWidth();if(o(He)&&Te<He?Ae=He:o(Ue)&&Te>Ue&&(Ae=Ue),Ae){me.setActualWidth(Ae,u),Kr(T,me),M.push(me),C.push(me);continue e}F[pe]=Math.round(Te)}break}var Ze=$;return T.forEach(function(st,St){st.setActualWidth(Math.min(F[St],Ze),u),M.push(st),Ze-=F[St]}),n.skipSetLeft||this.setLeftValues(u),n.updateBodyWidths&&this.updateBodyWidths(),n.fireResizedEvent&&this.dispatchColumnResizedEvent(M,!0,u,T),T},i.prototype.sizeColumnsToFit=function(n,a,u,c){var v,C,T,M,F;void 0===a&&(a="sizeColumnsToFit");var $={};c&&(null===(v=c?.columnLimits)||void 0===v||v.forEach(function(Yr){var Li=Yr.key,Ha=function(p,i){var n={};for(var a in p)Object.prototype.hasOwnProperty.call(p,a)&&i.indexOf(a)<0&&(n[a]=p[a]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(a=Object.getOwnPropertySymbols(p);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(p,a[u])&&(n[a[u]]=p[a[u]])}return n}(Yr,["key"]);$["string"==typeof Li?Li:Li.getColId()]=Ha}));var ne=this.getAllDisplayedColumns(),pe=n===this.getWidthOfColsInList(ne);if(!(n<=0||!ne.length||pe)){var me=[],Te=[];ne.forEach(function(Yr){!0===Yr.getColDef().suppressSizeToFit?Te.push(Yr):me.push(Yr)});var Ae=me.slice(0),He=!1,Ue=function(Yr){Kr(me,Yr),Te.push(Yr)};for(me.forEach(function(Yr){return Yr.resetActualWidth(a)});!He;){He=!0;var Ze=n-this.getWidthOfColsInList(Te);if(Ze<=0)me.forEach(function(Yr){var Li,Ha,fc=null!==(Ha=null===(Li=$?.[Yr.getId()])||void 0===Li?void 0:Li.minWidth)&&void 0!==Ha?Ha:c?.defaultMinWidth;"number"!=typeof fc?Yr.setMinimum(a):Yr.setActualWidth(fc)});else for(var st=Ze/this.getWidthOfColsInList(me),St=Ze,Ut=me.length-1;Ut>=0;Ut--){var jt=me[Ut],At=$?.[jt.getId()],Jt=null!==(C=At?.minWidth)&&void 0!==C?C:c?.defaultMinWidth,fr=null!==(T=At?.maxWidth)&&void 0!==T?T:c?.defaultMaxWidth,Jr=null!==(M=jt.getMinWidth())&&void 0!==M?M:0,Nr=null!==(F=jt.getMaxWidth())&&void 0!==F?F:Number.MAX_VALUE,Si="number"==typeof Jt&&Jt>Jr?Jt:jt.getMinWidth(),Zi="number"==typeof fr&&fr<Nr?fr:jt.getMaxWidth(),mn=Math.round(jt.getActualWidth()*st);o(Si)&&mn<Si?(mn=Si,Ue(jt),He=!1):o(Zi)&&mn>Zi?(mn=Zi,Ue(jt),He=!1):0===Ut&&(mn=St),jt.setActualWidth(mn,a,!0),St-=mn}}Ae.forEach(function(Yr){Yr.fireColumnWidthChangedEvent(a)}),this.setLeftValues(a),this.updateBodyWidths(),!u&&this.dispatchColumnResizedEvent(Ae,!0,a)}},i.prototype.buildDisplayedTrees=function(n){var a=[],u=[],c=[];n.forEach(function(C){switch(C.getPinned()){case"left":a.push(C);break;case"right":u.push(C);break;default:c.push(C)}});var v=new Bo;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(a,this.gridBalancedTree,v,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(u,this.gridBalancedTree,v,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,v,null,this.displayedTreeCentre),this.updateDisplayedMap()},i.prototype.updateDisplayedMap=function(){var n=this;this.displayedColumnsAndGroupsMap={};var a=function(u){n.displayedColumnsAndGroupsMap[u.getUniqueId()]=u};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,a)},i.prototype.isDisplayed=function(n){return this.displayedColumnsAndGroupsMap[n.getUniqueId()]===n},i.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var n=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(n,function(a){a instanceof Sn&&a.calculateDisplayedColumns()})},i.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},i.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),a=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||a||n)this.groupAutoColumns=null;else{var C=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);if(!this.autoColsEqual(C,this.groupAutoColumns)||this.forceRecreateAutoGroups)return this.groupAutoColumns=C,!0}return!1},i.prototype.isGroupSuppressAutoColumn=function(){var n=this.gridOptionsService.get("groupDisplayType");if(n&&_i("custom",n))return!0;var u=this.gridOptionsService.get("treeDataDisplayType");return!!u&&function gn(p,i){var n=["auto","custom"];return n.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid treeDataDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):i===p}("custom",u)},i.prototype.autoColsEqual=function(n,a){return nn(n,a,function(u,c){return u.getColId()===c.getColId()})},i.prototype.getWidthOfColsInList=function(n){return n.reduce(function(a,u){return a+u.getActualWidth()},0)},i.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},i.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(a){return a.getColDef().floatingFilter})},i.prototype.getFirstDisplayedColumn=function(){var n=this.gridOptionsService.is("enableRtl"),a=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];n&&a.reverse();for(var u=0;u<a.length;u++){var c=this[a[u]]();if(c.length)return n?wr(c):c[0]}return null},i.prototype.setColumnHeaderHeight=function(n,a){n.setAutoHeaderHeight(a)&&this.eventService.dispatchEvent({type:z.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:n,columns:[n],source:"autosizeColumnHeaderHeight"})},i.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},i.prototype.getColumnHeaderRowHeight=function(){var n=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),a=this.getAllDisplayedColumns().filter(function(u){return u.isAutoHeaderHeight()}).map(function(u){return u.getAutoHeaderHeight()||0});return Math.max.apply(Math,gr([n],a))},i.prototype.getHeaderHeight=function(){var n;return null!==(n=this.gridOptionsService.getNum("headerHeight"))&&void 0!==n?n:this.environment.getFromTheme(25,"headerHeight")},i.prototype.getFloatingFiltersHeight=function(){var n;return null!==(n=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==n?n:this.getHeaderHeight()},i.prototype.getGroupHeaderHeight=function(){var n;return null!==(n=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==n?n:this.getHeaderHeight()},i.prototype.getPivotHeaderHeight=function(){var n;return null!==(n=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==n?n:this.getHeaderHeight()},i.prototype.getPivotGroupHeaderHeight=function(){var n;return null!==(n=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==n?n:this.getGroupHeaderHeight()},$r([ae("expressionService")],i.prototype,"expressionService",void 0),$r([ae("columnFactory")],i.prototype,"columnFactory",void 0),$r([ae("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),$r([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),$r([ae("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),$r([ae("columnUtils")],i.prototype,"columnUtils",void 0),$r([ae("columnAnimationService")],i.prototype,"columnAnimationService",void 0),$r([ae("autoGroupColService")],i.prototype,"autoGroupColService",void 0),$r([Tt("aggFuncService")],i.prototype,"aggFuncService",void 0),$r([Tt("valueCache")],i.prototype,"valueCache",void 0),$r([Tt("animationFrameService")],i.prototype,"animationFrameService",void 0),$r([ae("sortController")],i.prototype,"sortController",void 0),$r([ae("columnDefFactory")],i.prototype,"columnDefFactory",void 0),$r([Xe],i.prototype,"init",null),$r([ct],i.prototype,"destroyColumns",null),$r([Ki(0,Zt("loggerFactory"))],i.prototype,"setBeans",null),$r([lt("columnModel")],i)}(nt),_o=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),eo=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return _o(i,p),i.prototype.calculateColMinWidth=function(n){return null!=n.minWidth?n.minWidth:this.environment.getMinColWidth()},i.prototype.calculateColMaxWidth=function(n){return null!=n.maxWidth?n.maxWidth:Number.MAX_SAFE_INTEGER},i.prototype.calculateColInitialWidth=function(n){var a=this.calculateColMinWidth(n),u=this.calculateColMaxWidth(n),v=y(n.width),C=y(n.initialWidth);return Math.max(Math.min(null!=v?v:null!=C?C:200,u),a)},i.prototype.getOriginalPathForColumn=function(n,a){var u=[],c=!1,v=function(C,T){for(var M=0;M<C.length;M++){if(c)return;var F=C[M];F instanceof Bt?(v(F.getChildren(),T+1),u[T]=F):F===n&&(c=!0)}};return v(a,0),c?u:null},i.prototype.depthFirstOriginalTreeSearch=function(n,a,u){var c=this;a&&a.forEach(function(v){v instanceof Bt&&c.depthFirstOriginalTreeSearch(v,v.getChildren(),u),u(v,n)})},i.prototype.depthFirstAllColumnTreeSearch=function(n,a){var u=this;n&&n.forEach(function(c){c instanceof Sn&&u.depthFirstAllColumnTreeSearch(c.getChildren(),a),a(c)})},i.prototype.depthFirstDisplayedColumnTreeSearch=function(n,a){var u=this;n&&n.forEach(function(c){c instanceof Sn&&u.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),a),a(c)})},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("columnUtils")],i),i}(nt),zr=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wi=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return zr(i,p),i.prototype.createDisplayedGroups=function(n,a,u,c,v){var M,F,C=this,T=[],$=this.mapOldGroupsById(v);return n.forEach(function(ne){for(var pe=C.getOriginalPathForColumn(a,ne),me=[],Te=!F,Ae=0;Ae<pe.length;Ae++)if(Te||pe[Ae]!==F[Ae]){var He=C.createColumnGroup(pe[Ae],u,$,c);me[Ae]=He,0==Ae?T.push(He):me[Ae-1].addChild(He)}else me[Ae]=M[Ae];0===me.length?T.push(ne):wr(me).addChild(ne),M=me,F=pe}),this.setupParentsIntoColumns(T,null),T},i.prototype.createColumnGroup=function(n,a,u,c){var v=n.getGroupId(),C=a.getInstanceIdForKey(v),M=u[Sn.createUniqueId(v,C)];return M&&M.getProvidedColumnGroup()!==n&&(M=null),o(M)?M.reset():(M=new Sn(n,v,C,c),this.context.createBean(M)),M},i.prototype.mapOldGroupsById=function(n){var a={},u=function(c){c.forEach(function(v){if(v instanceof Sn){var C=v;a[v.getUniqueId()]=C,u(C.getChildren())}})};return n&&u(n),a},i.prototype.setupParentsIntoColumns=function(n,a){var u=this;n.forEach(function(c){if(c.setParent(a),c instanceof Sn){var v=c;u.setupParentsIntoColumns(v.getChildren(),v)}})},i.prototype.getOriginalPathForColumn=function(n,a){var u=[],c=!1,v=function(C,T){for(var M=0;M<C.length;M++){if(c)return;var F=C[M];F instanceof Bt?(v(F.getChildren(),T+1),u[T]=F):F===a&&(c=!0)}};return v(n,0),c?u:(console.warn("AG Grid: could not get path"),null)},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("displayedGroupCreator")],i),i}(nt),Xt=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ja=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.componentsMappedByName={},n}return Xt(i,p),i.prototype.setupComponents=function(n){var a=this;n&&n.forEach(function(u){return a.addComponent(u)})},i.prototype.addComponent=function(n){var u=n.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[u]=n.componentClass},i.prototype.getComponentClass=function(n){return this.componentsMappedByName[n]},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("agStackComponentsRegistry")],i),i}(nt);function bn(p,i,n){null==n||""==n?yo(p,i):Tr(p,i,n)}function Tr(p,i,n){p.setAttribute(Ni(i),n.toString())}function yo(p,i){p.removeAttribute(Ni(i))}function Ni(p){return"aria-"+p}function Br(p,i){i?p.setAttribute("role",i):p.removeAttribute("role")}function ro(p){return"asc"===p?"ascending":"desc"===p?"descending":"mixed"===p?"other":"none"}function mo(p){return parseInt(p.getAttribute("aria-level"),10)}function Di(p){return parseInt(p.getAttribute("aria-posinset"),10)}function Pi(p,i){bn(p,"label",i)}function bi(p,i){bn(p,"labelledby",i)}function vr(p,i){bn(p,"description",i)}function Ka(p,i){bn(p,"describedby",i)}function Ya(p,i){bn(p,"level",i)}function Mn(p,i){bn(p,"disabled",i)}function no(p,i){bn(p,"hidden",i)}function In(p,i){Tr(p,"expanded",i)}function Co(p){yo(p,"expanded")}function _n(p,i){Tr(p,"setsize",i)}function Xa(p,i){Tr(p,"posinset",i)}function Ln(p,i){Tr(p,"multiselectable",i)}function Hr(p,i){Tr(p,"rowcount",i)}function Vo(p,i){Tr(p,"rowindex",i)}function ti(p,i){Tr(p,"colcount",i)}function Ma(p,i){Tr(p,"colindex",i)}function Ti(p,i){Tr(p,"colspan",i)}function Ra(p,i){Tr(p,"sort",i)}function ia(p){yo(p,"sort")}function Fi(p,i){bn(p,"selected",i)}function Yl(p,i){Tr(p,"checked",void 0===i?"mixed":i)}var io,Eo,Cs,rl,oa,Ur,Es,Z,Xl=Object.freeze({__proto__:null,setAriaRole:Br,getAriaSortState:ro,getAriaLevel:mo,getAriaPosInSet:Di,getAriaDescribedBy:function Tn(p){return p.getAttribute("aria-describedby")||""},setAriaLabel:Pi,setAriaLabelledBy:bi,setAriaDescription:vr,setAriaDescribedBy:Ka,setAriaLive:function za(p,i){bn(p,"live",i)},setAriaLevel:Ya,setAriaDisabled:Mn,setAriaHidden:no,setAriaExpanded:In,removeAriaExpanded:Co,setAriaSetSize:_n,setAriaPosInSet:Xa,setAriaMultiSelectable:Ln,setAriaRowCount:Hr,setAriaRowIndex:Vo,setAriaColCount:ti,setAriaColIndex:Ma,setAriaColSpan:Ti,setAriaSort:Ra,removeAriaSort:ia,setAriaSelected:Fi,setAriaChecked:Yl});function X(){return void 0===io&&(io=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),io}function j(){if(void 0===Eo)if(X()){var p=navigator.userAgent.match(/version\/(\d+)/i);p&&(Eo=null!=p[1]?parseFloat(p[1]):0)}else Eo=0;return Eo}function de(){if(void 0===Cs){var p=window;Cs=!!p.chrome&&(!!p.chrome.webstore||!!p.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Cs}function je(){return void 0===rl&&(rl=/(firefox)/i.test(navigator.userAgent)),rl}function Ft(){return void 0===oa&&(oa=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),oa}function Rr(){return void 0===Ur&&(Ur=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Ur}function On(){return!X()||j()>=15}function yi(p){if(!p)return null;var i=p.tabIndex,n=p.getAttribute("tabIndex");return-1!==i||null!==n&&(""!==n||je())?i.toString():null}function ui(){if(!document.body)return-1;var p=1e6,i=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var a=2*p;if(n.style.height=a+"px",a>i||n.clientHeight!==a)break;p=a}return document.body.removeChild(n),p}function aa(){var p,i,n;return null!==(i=null===(p=document.body)||void 0===p?void 0:p.clientWidth)&&void 0!==i?i:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientWidth)||-1}function Mi(){var p,i,n;return null!==(i=null===(p=document.body)||void 0===p?void 0:p.clientHeight)&&void 0!==i?i:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientHeight)||-1}function Ho(){return null==Z&&Aa(),Z}function Aa(){var p=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",p.appendChild(i);var n=i.offsetWidth-i.clientWidth;0===n&&0===i.clientWidth&&(n=null),i.parentNode&&i.parentNode.removeChild(i),null!=n&&(Z=n,Es=0===n)}function Uo(){return null==Es&&Aa(),Es}var ql=Object.freeze({__proto__:null,isBrowserSafari:X,getSafariVersion:j,isBrowserChrome:de,isBrowserFirefox:je,isMacOsUserAgent:Ft,isIOSUserAgent:Rr,browserSupportsPreventScroll:On,getTabIndex:yi,getMaxDivHeight:ui,getBodyWidth:aa,getBodyHeight:Mi,getScrollbarWidth:Ho,isInvisibleScrollbar:Uo});function Wo(p,i){return p.toString().padStart(i,"0")}function Ss(p,i){for(var n=[],a=p;a<=i;a++)n.push(a);return n}function Un(p,i,n){return"number"!=typeof p?"":p.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)}var Ld=Object.freeze({__proto__:null,padStartWidthZeros:Wo,createArrayOfNumbers:Ss,cleanNumber:function vc(p){return"string"==typeof p&&(p=parseInt(p,10)),"number"==typeof p?Math.floor(p):null},decToHex:function yc(p,i){for(var n="",a=0;a<i;a++)n+=String.fromCharCode(255&p),p>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function Zl(p,i,n){return"number"!=typeof p?"":Un(Math.round(100*p)/100,i,n)},formatNumberCommas:Un,sum:function qa(p){return null==p?null:p.reduce(function(i,n){return i+n},0)},zeroOrGreater:function an(p,i){return p>=0?p:i},oneOrGreater:function nl(p,i){var n=parseInt(p,10);return!isNaN(n)&&isFinite(n)&&n>0?n:i}}),Za=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c};function sa(p,i,n){if(void 0===i&&(i=!0),void 0===n&&(n="-"),!p)return null;var a=[p.getFullYear(),p.getMonth()+1,p.getDate()].map(function(u){return Wo(u,2)}).join(n);return i&&(a+=" "+[p.getHours(),p.getMinutes(),p.getSeconds()].map(function(u){return Wo(u,2)}).join(":")),a}var $o=function(p){if(p>3&&p<21)return"th";switch(p%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Os(p,i){void 0===i&&(i="YYYY-MM-DD");var n=Wo(p.getFullYear(),4),a=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c={YYYY:function(){return n.slice(n.length-4,n.length)},YY:function(){return n.slice(n.length-2,n.length)},Y:function(){return""+p.getFullYear()},MMMM:function(){return a[p.getMonth()]},MMM:function(){return a[p.getMonth()].slice(0,3)},MM:function(){return Wo(p.getMonth()+1,2)},Mo:function(){return""+(p.getMonth()+1)+$o(p.getMonth()+1)},M:function(){return""+(p.getMonth()+1)},Do:function(){return""+p.getDate()+$o(p.getDate())},DD:function(){return Wo(p.getDate(),2)},D:function(){return""+p.getDate()},dddd:function(){return u[p.getDay()]},ddd:function(){return u[p.getDay()].slice(0,3)},dd:function(){return u[p.getDay()].slice(0,2)},do:function(){return""+p.getDay()+$o(p.getDay())},d:function(){return""+p.getDay()}},v=new RegExp(Object.keys(c).join("|"),"g");return i.replace(v,function(C){return C in c?c[C]():C})}function oo(p){if(!p)return null;var i=Za(p.split(" "),2),n=i[0],a=i[1];if(!n)return null;var u=n.split("-").map(function(me){return parseInt(me,10)});if(3!==u.filter(function(me){return!isNaN(me)}).length)return null;var c=Za(u,3),v=c[0],C=c[1],T=c[2],M=new Date(v,C-1,T);if(M.getFullYear()!==v||M.getMonth()!==C-1||M.getDate()!==T)return null;if(!a||"00:00:00"===a)return M;var F=Za(a.split(":").map(function(me){return parseInt(me,10)}),3),$=F[0],ne=F[1],pe=F[2];return $>=0&&$<24&&M.setHours($),ne>=0&&ne<60&&M.setMinutes(ne),pe>=0&&pe<60&&M.setSeconds(pe),M}var la,il=Object.freeze({__proto__:null,serialiseDate:sa,dateToFormattedString:Os,parseDateTimeFromString:oo}),Jl=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},Ds="[tabindex], input, select, button, textarea, [href]",Ql=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function ol(p){var i=Element.prototype.matches||Element.prototype.msMatchesSelector,a=i.call(p,"input, select, button, textarea"),u=i.call(p,Ql),c=Vt(p);return a&&!u&&c}function Er(p,i,n){void 0===n&&(n={});var a=n.skipAriaHidden;p.classList.toggle("ag-hidden",!i),a||no(p,!i)}function eu(p,i,n){void 0===n&&(n={});var a=n.skipAriaHidden;p.classList.toggle("ag-invisible",!i),a||no(p,!i)}function xa(p,i){var n="disabled",a=i?function(u){return u.setAttribute(n,"")}:function(u){return u.removeAttribute(n)};a(p),nu(p.querySelectorAll("input"),function(u){return a(u)})}function So(p,i,n){for(var a=0;p;){if(p.classList.contains(i))return!0;if(p=p.parentElement,"number"==typeof n){if(++a>n)break}else if(p===n)break}return!1}function Oo(p){var i=window.getComputedStyle(p),a=i.width,u=i.borderTopWidth,c=i.borderRightWidth,v=i.borderBottomWidth,C=i.borderLeftWidth,T=i.paddingTop,M=i.paddingRight,F=i.paddingBottom,$=i.paddingLeft,ne=i.marginTop,pe=i.marginRight,me=i.marginBottom,Te=i.marginLeft,Ae=i.boxSizing;return{height:parseFloat(i.height),width:parseFloat(a),borderTopWidth:parseFloat(u),borderRightWidth:parseFloat(c),borderBottomWidth:parseFloat(v),borderLeftWidth:parseFloat(C),paddingTop:parseFloat(T),paddingRight:parseFloat(M),paddingBottom:parseFloat(F),paddingLeft:parseFloat($),marginTop:parseFloat(ne),marginRight:parseFloat(pe),marginBottom:parseFloat(me),marginLeft:parseFloat(Te),boxSizing:Ae}}function jo(p){var i=Oo(p);return"border-box"===i.boxSizing?i.height-i.paddingTop-i.paddingBottom:i.height}function H(p){var i=Oo(p);return"border-box"===i.boxSizing?i.width-i.paddingLeft-i.paddingRight:i.width}function te(p){var i=Oo(p);return Math.ceil(p.offsetHeight+(i.marginBottom+i.marginTop))}function K(p){var i=Oo(p);return Math.ceil(p.offsetWidth+(i.marginLeft+i.marginRight))}function ce(){if("boolean"==typeof la)return la;var p=document.createElement("div");return p.style.direction="rtl",p.style.width="1px",p.style.height="1px",p.style.position="fixed",p.style.top="0px",p.style.overflow="hidden",p.dir="rtl",p.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(p),p.scrollLeft=1,la=0===Math.floor(p.scrollLeft),document.body.removeChild(p),la}function Se(p,i){var n=p.scrollLeft;return i&&(n=Math.abs(n),de()&&!ce()&&(n=p.scrollWidth-p.clientWidth-n)),n}function $e(p,i,n){n&&(ce()?i*=-1:(X()||de())&&(i=p.scrollWidth-p.clientWidth-i)),p.scrollLeft=i}function ze(p){for(;p&&p.firstChild;)p.removeChild(p.firstChild)}function Sr(p){p&&p.parentNode&&p.parentNode.removeChild(p)}function Vt(p){return null!==p.offsetParent}function zt(p){var i=document.createElement("div");return i.innerHTML=(p||"").trim(),i.firstChild}function kr(p){return p&&p.clientHeight?p.clientHeight:0}function Qr(p){return p&&p.clientWidth?p.clientWidth:0}function Wn(p,i,n){if(!n||n.nextSibling!==i){var a=document.activeElement,u=i.contains(a);n?n.nextSibling?p.insertBefore(i,n.nextSibling):p.appendChild(i):p.firstChild&&p.firstChild!==i&&p.insertAdjacentElement("afterbegin",i),u&&a&&On()&&a.focus({preventScroll:!0})}}function en(p,i){for(var n=0;n<i.length;n++){var a=i[n],u=p.children[n];u!==a&&p.insertBefore(a,u)}}function Ko(p,i,n){n?n.insertAdjacentElement("afterend",i):p.firstChild?p.insertAdjacentElement("afterbegin",i):p.appendChild(i)}function ao(p,i){var n,a;if(i)try{for(var u=function(p){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&p[i],a=0;if(n)return n.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(i)),c=u.next();!c.done;c=u.next()){var v=Jl(c.value,2),C=v[0],T=v[1];if(C&&C.length&&null!=T){var M=C.replace(/[A-Z]/g,function(pe){return"-"+pe.toLocaleLowerCase()}),F=T.toString(),$=F.replace(/\s*!important/g,"");p.style.setProperty(M,T,$.length!=F.length?"important":void 0)}}}catch(pe){n={error:pe}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}}function ri(p){return p.clientWidth<p.scrollWidth}function Yi(p){return p.clientHeight<p.scrollHeight}function Ps(p,i){"flex"===i?(p.style.removeProperty("width"),p.style.removeProperty("minWidth"),p.style.removeProperty("maxWidth"),p.style.flex="1 1 auto"):Bi(p,i)}function Bi(p,i){i=tu(i),p.style.width=i.toString(),p.style.maxWidth=i.toString(),p.style.minWidth=i.toString()}function zo(p,i){i=tu(i),p.style.height=i.toString(),p.style.maxHeight=i.toString(),p.style.minHeight=i.toString()}function tu(p){return"number"==typeof p?p+"px":p}function Kt(p){return p instanceof Node||p instanceof HTMLElement}function ru(p){if(null==p)return[];var i=[];return nu(p,function(n){return i.push(n)}),i}function Nd(p,i){if(p)for(var n=0;n<p.length;n++){var a=p[n];i(a.name,a.value)}}function mi(p,i,n){null==n?p.removeAttribute(i):p.setAttribute(i,n.toString())}function nu(p,i){if(null!=p)for(var n=0;n<p.length;n++)i(p[n])}var iu=Object.freeze({__proto__:null,radioCssClass:function mc(p,i,n){for(var a=p.parentElement,u=a&&a.firstChild;u;)i&&u.classList.toggle(i,u===p),n&&u.classList.toggle(n,u!==p),u=u.nextSibling},FOCUSABLE_SELECTOR:Ds,FOCUSABLE_EXCLUDE:Ql,isFocusableFormField:ol,setDisplayed:Er,setVisible:eu,setDisabled:xa,isElementChildOfClass:So,getElementSize:Oo,getInnerHeight:jo,getInnerWidth:H,getAbsoluteHeight:te,getAbsoluteWidth:K,isRtlNegativeScroll:ce,getScrollLeft:Se,setScrollLeft:$e,clearElement:ze,removeElement:function It(p,i){Sr(p.querySelector(i))},removeFromParent:Sr,isVisible:Vt,loadTemplate:zt,appendHtml:function sr(p,i){p.lastChild?p.insertAdjacentHTML("afterbegin",i):p.innerHTML=i},getElementAttribute:function Mr(p,i){return p.attributes&&p.attributes[i]?p.attributes[i].value:null},offsetHeight:kr,offsetWidth:Qr,ensureDomOrder:Wn,setDomChildOrder:en,insertWithDomOrder:Ko,prependDC:function Gi(p,i){o(p.firstChild)?p.insertBefore(i,p.firstChild):p.appendChild(i)},addStylesToElement:ao,isHorizontalScrollShowing:ri,isVerticalScrollShowing:Yi,setElementWidth:Ps,setFixedWidth:Bi,setElementHeight:function Ri(p,i){"flex"===i?(p.style.removeProperty("height"),p.style.removeProperty("minHeight"),p.style.removeProperty("maxHeight"),p.style.flex="1 1 auto"):zo(p,i)},setFixedHeight:zo,formatSize:tu,isNodeOrElement:Kt,copyNodeList:ru,iterateNamedNodeMap:Nd,addOrRemoveAttribute:mi,nodeListForEach:nu}),ou={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function ni(p,i,n){var a=wn(p,i,n);if(a){var u=a.className;if("string"==typeof u&&u.indexOf("ag-icon")>-1||"object"==typeof u&&u["ag-icon"])return a}var c=document.createElement("span");return c.appendChild(a),c}function wn(p,i,n,a){var u=null,c=n&&n.getColDef().icons;if(c&&(u=c[p]),i&&!u){var v=i.get("icons");v&&(u=v[p])}if(!u){var T=document.createElement("span"),M=ou[p];return M||(a?M=p:(console.warn("AG Grid: Did not find icon "+p),M="")),T.setAttribute("class","ag-icon ag-icon-"+M),T.setAttribute("unselectable","on"),Br(T,"presentation"),T}var C=void 0;if("function"==typeof u)C=u();else{if("string"!=typeof u)throw new Error("icon from grid options needs to be a string or a function");C=u}return"string"==typeof C?zt(C):Kt(C)?C:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var zf=Object.freeze({__proto__:null,iconNameClassMap:ou,createIcon:ni,createIconNoSpan:wn}),Je=function(){function p(){}return p.BACKSPACE="Backspace",p.TAB="Tab",p.ENTER="Enter",p.ESCAPE="Escape",p.SPACE=" ",p.LEFT="ArrowLeft",p.UP="ArrowUp",p.RIGHT="ArrowRight",p.DOWN="ArrowDown",p.DELETE="Delete",p.F2="F2",p.PAGE_UP="PageUp",p.PAGE_DOWN="PageDown",p.PAGE_HOME="Home",p.PAGE_END="End",p.A="KeyA",p.C="KeyC",p.D="KeyD",p.V="KeyV",p.X="KeyX",p.Y="KeyY",p.Z="KeyZ",p}();function $n(p){return!(p.altKey||p.ctrlKey||p.metaKey)&&1===p.key.length}function al(p,i,n,a,u){var c=a?a.getColDef().suppressKeyboardEvent:void 0;if(!c)return!1;var v={event:i,editing:u,column:a,api:p.api,node:n,data:n.data,colDef:a.getColDef(),context:p.context,columnApi:p.columnApi};return!(!c||!c(v))}function bs(p,i,n,a){var u=a.getDefinition(),c=u&&u.suppressHeaderKeyboardEvent;return!!o(c)&&!!c({api:p.api,columnApi:p.columnApi,context:p.context,colDef:u,column:a,headerRowIndex:n,event:i})}function Do(p){var n;switch(p.keyCode){case 65:n=Je.A;break;case 67:n=Je.C;break;case 86:n=Je.V;break;case 68:n=Je.D;break;case 90:n=Je.Z;break;case 89:n=Je.Y;break;default:n=p.code}return n}function Ts(p,i){return void 0===i&&(i=!1),p===Je.DELETE||!i&&p===Je.BACKSPACE&&Ft()}var sl=Object.freeze({__proto__:null,isEventFromPrintableCharacter:$n,isUserSuppressingKeyboardEvent:al,isUserSuppressingHeaderKeyboardEvent:bs,normaliseQwertyAzerty:Do,isDeleteKey:Ts});function Ms(p,i,n){if(0===n)return!1;var a=Math.abs(p.clientX-i.clientX),u=Math.abs(p.clientY-i.clientY);return Math.max(a,u)<=n}var Yf=Object.freeze({__proto__:null,areEventsNear:Ms}),Po=Object.freeze({__proto__:null,sortRowNodesByOrder:function Cc(p,i){if(!p)return!1;for(var n=function(C,T){var M=i[C.id],F=i[T.id],$=void 0!==M,ne=void 0!==F;return $&&ne?M-F:$||ne?$?1:-1:C.__objectId-T.__objectId},c=!1,v=0;v<p.length-1;v++)if(n(p[v],p[v+1])>0){c=!0;break}return!!c&&(p.sort(n),!0)},traverseNodesWithKey:function Ai(p,i){var n=[];!function a(u){u&&u.forEach(function(c){if(c.group||c.hasChildren()){n.push(c.key);var v=n.join("|");i(c,v),a(c.childrenAfterGroup),n.pop()}})}(p)}});function lu(p){var i=new Set;return p.forEach(function(n){return i.add(n)}),i}var Rs=Object.freeze({__proto__:null,convertToSet:lu}),qr=function(){return qr=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},qr.apply(this,arguments)},Wt=qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr(qr({},Xl),tr),ql),il),iu),Qn),er),Cn),x),zf),sl),ko),Yf),Ld),he),Po),Rs),kn),Ja=function(){function p(i,n){void 0===i&&(i=0),void 0===n&&(n=1),this.nextValue=i,this.step=n}return p.prototype.next=function(){var i=this.nextValue;return this.nextValue+=this.step,i},p.prototype.peek=function(){return this.nextValue},p.prototype.skip=function(i){this.nextValue+=i},p}(),bo=(()=>((bo=bo||{})[bo.IN_PROGRESS=0]="IN_PROGRESS",bo[bo.RESOLVED=1]="RESOLVED",bo))(),Ci=function(){function p(i){var n=this;this.status=bo.IN_PROGRESS,this.resolution=null,this.waiters=[],i(function(a){return n.onDone(a)},function(a){return n.onReject(a)})}return p.all=function(i){return new p(function(n){var a=i.length,u=new Array(a);i.forEach(function(c,v){c.then(function(C){u[v]=C,0==--a&&n(u)})})})},p.resolve=function(i){return void 0===i&&(i=null),new p(function(n){return n(i)})},p.prototype.then=function(i){var n=this;return new p(function(a){n.status===bo.RESOLVED?a(i(n.resolution)):n.waiters.push(function(u){return a(i(u))})})},p.prototype.resolveNow=function(i,n){return this.status===bo.RESOLVED?n(this.resolution):i},p.prototype.onDone=function(i){this.status=bo.RESOLVED,this.resolution=i,this.waiters.forEach(function(n){return n(i)})},p.prototype.onReject=function(i){console.warn("TBI")},p}(),Bd=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ll=function(){return ll=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},ll.apply(this,arguments)},Ec=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},jn=(()=>((jn=jn||{})[jn.NOTHING=0]="NOTHING",jn[jn.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",jn[jn.SHOWING=2]="SHOWING",jn))(),ul=function(p){function i(n){var a=p.call(this)||this;return a.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,a.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,a.SHOW_QUICK_TOOLTIP_DIFF=1e3,a.FADE_OUT_TOOLTIP_TIMEOUT=1e3,a.state=jn.NOTHING,a.tooltipInstanceCount=0,a.tooltipMouseTrack=!1,a.parentComp=n,a}return Bd(i,p),i.prototype.postConstruct=function(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var n=this.parentComp.getGui();this.addManagedListener(n,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(n,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this))},i.prototype.destroy=function(){this.setToDoNothing(),p.prototype.destroy.call(this)},i.prototype.onMouseEnter=function(n){if(!Rr()&&this.state==jn.NOTHING){var a=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.lastMouseEvent=n,this.state=jn.WAITING_TO_SHOW}},i.prototype.onMouseLeave=function(){this.setToDoNothing()},i.prototype.onKeyDown=function(){this.setToDoNothing()},i.prototype.setToDoNothing=function(){this.state===jn.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=jn.NOTHING},i.prototype.onMouseMove=function(n){this.lastMouseEvent=n,this.tooltipMouseTrack&&this.state===jn.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},i.prototype.onMouseDown=function(){this.setToDoNothing()},i.prototype.getTooltipDelay=function(n){var a=this.gridOptionsService.getNum("tooltipShowDelay"),u=this.gridOptionsService.getNum("tooltipHideDelay"),c="show"===n?a:u,v=na(n);return o(c)?(c<0&&_e(function(){return console.warn("AG Grid: tooltip"+v+"Delay should not be lower than 0")},"tooltip"+v+"DelayWarn"),Math.max(200,c)):null},i.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),i.lastTooltipHideTime=(new Date).getTime()),this.state=jn.NOTHING},i.prototype.destroyTooltipComp=function(){var n=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var a=this.tooltipPopupDestroyFunc,u=this.tooltipComp;window.setTimeout(function(){a(),n.getContext().destroyBean(u)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},i.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-i.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},i.prototype.showTooltip=function(){var n=ll({},this.parentComp.getTooltipParams());if(o(n.value)){this.state=jn.SHOWING,this.tooltipInstanceCount++;var a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(n).newAgStackInstance().then(a)}else this.setToDoNothing()},i.prototype.newTooltipComponentCallback=function(n,a){if(this.state!==jn.SHOWING||this.tooltipInstanceCount!==n)this.getContext().destroyBean(a);else{var c=a.getGui();this.tooltipComp=a,c.classList.contains("ag-tooltip")||c.classList.add("ag-tooltip-custom");var v=this.localeService.getLocaleTextFunc(),C=this.popupService.addPopup({eChild:c,ariaLabel:v("ariaLabelTooltip","Tooltip")});C&&(this.tooltipPopupDestroyFunc=C.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},i.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},i.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Ec([ae("popupService")],i.prototype,"popupService",void 0),Ec([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Ec([Xe],i.prototype,"postConstruct",null),i}(nt),kd=function(){function p(i){this.cssClassStates={},this.getGui=i}return p.prototype.addCssClass=function(i){var n=this,a=(i||"").split(" ");if(a.length>1)a.forEach(function(v){return n.addCssClass(v)});else if(!0!==this.cssClassStates[i]&&i.length){var c=this.getGui();c&&c.classList.add(i),this.cssClassStates[i]=!0}},p.prototype.removeCssClass=function(i){var n=this,a=(i||"").split(" ");if(a.length>1)a.forEach(function(v){return n.removeCssClass(v)});else if(!1!==this.cssClassStates[i]&&i.length){var c=this.getGui();c&&c.classList.remove(i),this.cssClassStates[i]=!1}},p.prototype.containsCssClass=function(i){var n=this.getGui();return!!n&&n.classList.contains(i)},p.prototype.addOrRemoveCssClass=function(i,n){var a=this;if(i){if(i.indexOf(" ")>=0){var u=(i||"").split(" ");if(u.length>1)return void u.forEach(function(C){return a.addOrRemoveCssClass(C,n)})}if(this.cssClassStates[i]!==n&&i.length){var v=this.getGui();v&&v.classList.toggle(i,n),this.cssClassStates[i]=n}}},p}(),uu=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Vd=new Ja,lr=function(p){function i(n){var a=p.call(this)||this;return a.displayed=!0,a.visible=!0,a.compId=Vd.next(),a.cssClassManager=new kd(function(){return a.eGui}),n&&a.setTemplate(n),a}return uu(i,p),i.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},i.prototype.getCompId=function(){return this.compId},i.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},i.prototype.setTooltip=function(n){var a=this;this.tooltipText!=n&&(this.tooltipText&&(a.usingBrowserTooltips?a.getGui().removeAttribute("title"):a.tooltipFeature=a.destroyBean(a.tooltipFeature)),null!=n&&(this.tooltipText=n,this.tooltipText&&(a.usingBrowserTooltips?a.getGui().setAttribute("title",a.tooltipText):a.tooltipFeature=a.createBean(new ul(a)))))},i.prototype.createChildComponentsFromTags=function(n,a){var u=this;ru(n.childNodes).forEach(function(v){if(v instanceof HTMLElement){var C=u.createComponentFromElement(v,function(M){M.getGui()&&u.copyAttributesFromNode(v,M.getGui())},a);if(C){if(C.addItems&&v.children.length){u.createChildComponentsFromTags(v,a);var T=Array.prototype.slice.call(v.children);C.addItems(T)}u.swapComponentForNode(C,n,v)}else v.childNodes&&u.createChildComponentsFromTags(v,a)}})},i.prototype.createComponentFromElement=function(n,a,u){var c=n.nodeName,v=u?u[n.getAttribute("ref")]:void 0,C=this.agStackComponentsRegistry.getComponentClass(c);if(C){i.elementGettingCreated=n;var T=new C(v);return T.setParentComponent(this),this.createBean(T,null,a),T}return null},i.prototype.copyAttributesFromNode=function(n,a){Nd(n.attributes,function(u,c){return a.setAttribute(u,c)})},i.prototype.swapComponentForNode=function(n,a,u){var c=n.getGui();a.replaceChild(c,u),a.insertBefore(document.createComment(u.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,n)),this.swapInComponentForQuerySelectors(n,u)},i.prototype.swapInComponentForQuerySelectors=function(n,a){var u=this;this.iterateOverQuerySelectors(function(c){u[c.attributeName]===a&&(u[c.attributeName]=n)})},i.prototype.iterateOverQuerySelectors=function(n){for(var a=Object.getPrototypeOf(this);null!=a;){var u=a.__agComponentMetaData,c=Oe(a.constructor);u&&u[c]&&u[c].querySelectors&&u[c].querySelectors.forEach(function(v){return n(v)}),a=Object.getPrototypeOf(a)}},i.prototype.setTemplate=function(n,a){var u=zt(n);this.setTemplateFromElement(u,a)},i.prototype.setTemplateFromElement=function(n,a){this.eGui=n,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),a)},i.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},i.prototype.wireQuerySelectors=function(){var n=this;if(this.eGui){var a=this;this.iterateOverQuerySelectors(function(u){var c=function(T){return a[u.attributeName]=T};if(u.refSelector&&n.eGui.getAttribute("ref")===u.refSelector)c(n.eGui);else{var C=n.eGui.querySelector(u.querySelector);C&&c(C.__agComponent||C)}})}},i.prototype.getGui=function(){return this.eGui},i.prototype.getFocusableElement=function(){return this.eGui},i.prototype.setParentComponent=function(n){this.parentComponent=n},i.prototype.getParentComponent=function(){return this.parentComponent},i.prototype.setGui=function(n){this.eGui=n},i.prototype.queryForHtmlElement=function(n){return this.eGui.querySelector(n)},i.prototype.queryForHtmlInputElement=function(n){return this.eGui.querySelector(n)},i.prototype.appendChild=function(n,a){null!=n&&(a||(a=this.eGui),Kt(n)?a.appendChild(n):a.appendChild(n.getGui()))},i.prototype.isDisplayed=function(){return this.displayed},i.prototype.setVisible=function(n,a){void 0===a&&(a={}),n!==this.visible&&(this.visible=n,eu(this.eGui,n,{skipAriaHidden:a.skipAriaHidden}))},i.prototype.setDisplayed=function(n,a){void 0===a&&(a={}),n!==this.displayed&&(this.displayed=n,Er(this.eGui,n,{skipAriaHidden:a.skipAriaHidden}),this.dispatchEvent({type:i.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},i.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var n=this.eGui;n&&n.__agComponent&&(n.__agComponent=void 0),p.prototype.destroy.call(this)},i.prototype.addGuiEventListener=function(n,a,u){var c=this;this.eGui.addEventListener(n,a,u),this.addDestroyFunc(function(){return c.eGui.removeEventListener(n,a)})},i.prototype.addCssClass=function(n){this.cssClassManager.addCssClass(n)},i.prototype.removeCssClass=function(n){this.cssClassManager.removeCssClass(n)},i.prototype.containsCssClass=function(n){return this.cssClassManager.containsCssClass(n)},i.prototype.addOrRemoveCssClass=function(n,a){this.cssClassManager.addOrRemoveCssClass(n,a)},i.prototype.getAttribute=function(n){var a=this.eGui;return a?a.getAttribute(n):null},i.prototype.getRefElement=function(n){return this.queryForHtmlElement('[ref="'+n+'"]')},i.EVENT_DISPLAYED_CHANGED="displayedChanged",cu([ae("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),cu([Xr],i.prototype,"preConstructOnComponent",null),cu([Xr],i.prototype,"createChildComponentsPreConstruct",null),i}(nt);function gt(p){return Ei.bind(this,"[ref="+p+"]",p)}function Ei(p,i,n,a,u){null!==p?"number"!=typeof u?function Qa(p,i,n){var a=function N(p,i){return p.__agComponentMetaData||(p.__agComponentMetaData={}),p.__agComponentMetaData[i]||(p.__agComponentMetaData[i]={}),p.__agComponentMetaData[i]}(p,Oe(p.constructor));a[i]||(a[i]=[]),a[i].push(n)}(n,"querySelectors",{attributeName:a,querySelector:p,refSelector:i}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var k=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),I=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},W=function(p){function i(){return p.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return k(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(n){this.params=n;var a=this.columnModel.getDisplayNameForColumn(n.column,"header",!0),u=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(a+" "+u("ariaFilterInput","Filter Input"))},i.prototype.onParentModelChanged=function(n){var a=this;n?this.params.parentFilterInstance(function(u){if(u.getModelAsString){var c=u.getModelAsString(n);a.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},I([gt("eFloatingFilterText")],i.prototype,"eFloatingFilterText",void 0),I([ae("columnModel")],i.prototype,"columnModel",void 0),i}(lr),Q=function(){function p(i,n,a,u){var c=this;this.alive=!0,this.context=i,this.eParent=u,n.getDateCompDetails(a).newAgStackInstance().then(function(T){c.alive?(c.dateComp=T,T&&(u.appendChild(T.getGui()),T.afterGuiAttached&&T.afterGuiAttached(),c.tempValue&&T.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):i.destroyBean(T)})}return p.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},p.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},p.prototype.setDate=function(i){this.dateComp?this.dateComp.setDate(i):this.tempValue=i},p.prototype.setDisabled=function(i){this.dateComp?this.setDateCompDisabled(i):this.disabled=i},p.prototype.setDisplayed=function(i){Er(this.eParent,i)},p.prototype.setInputPlaceholder=function(i){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(i)},p.prototype.setInputAriaLabel=function(i){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(i)},p.prototype.afterGuiAttached=function(i){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(i)},p.prototype.setDateCompDisabled=function(i){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(i)},p}(),fe=function(){return fe=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},fe.apply(this,arguments)},ye=function(){function p(){this.customFilterOptions={}}return p.prototype.init=function(i,n){this.filterOptions=i.filterOptions||n,this.mapCustomOptions(),this.selectDefaultItem(i),this.checkForDeprecatedParams()},p.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},p.prototype.getFilterOptions=function(){return this.filterOptions},p.prototype.mapCustomOptions=function(){var i=this;this.filterOptions&&this.filterOptions.forEach(function(n){if("string"!=typeof n){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(C){return!!C.some(function(T){return null!=n[T]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+C+"'"),!1)}))return void(i.filterOptions=i.filterOptions.filter(function(C){return C===n})||[]);var c=n.test,v=fe({},n);null!=c&&null==n.predicate&&(v.predicate=function(C,T){return c(C[0],T)},delete v.test),v.hideFilterInput&&null==v.numberOfInputs&&(v.numberOfInputs=0,delete v.hideFilterInput),i.customFilterOptions[n.displayKey]=v}})},p.prototype.selectDefaultItem=function(i){if(i.defaultOption)this.defaultOption=i.defaultOption;else if(this.filterOptions.length>=1){var n=this.filterOptions[0];"string"==typeof n?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},p.prototype.getDefaultOption=function(){return this.defaultOption},p.prototype.getCustomOption=function(i){return this.customFilterOptions[i]},p}(),Ge={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},at=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Lt=function(){return Lt=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Lt.apply(this,arguments)},Rt=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},dr=function(p){function i(n,a){void 0===a&&(a={});var u=p.call(this)||this;return u.eFocusableElement=n,u.callbacks=a,u.callbacks=Lt({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var v=u.focusService.findNextFocusableElement(u.eFocusableElement,!1,c.shiftKey);v&&(v.focus(),c.preventDefault())}}},a),u}return at(i,p),i.prototype.postConstruct=function(){this.eFocusableElement.classList.add(i.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},i.prototype.addKeyDownListeners=function(n){var a=this;this.addManagedListener(n,"keydown",function(u){if(!u.defaultPrevented&&!An(u)){if(a.callbacks.shouldStopEventPropagation(u))return void Jn(u);u.key===Je.TAB?a.callbacks.onTabKeyDown(u):a.callbacks.handleKeyDown&&a.callbacks.handleKeyDown(u)}})},i.FOCUS_MANAGED_CLASS="ag-focus-managed",Rt([ae("focusService")],i.prototype,"focusService",void 0),Rt([Xe],i.prototype,"postConstruct",null),i}(nt),ci=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ia=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},La="ag-resizer-wrapper",es='<div class="'+La+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',As=function(p){function i(n,a){var u=p.call(this)||this;return u.element=n,u.dragStartPosition={x:0,y:0},u.position={x:0,y:0},u.lastSize={width:-1,height:-1},u.positioned=!1,u.resizersAdded=!1,u.resizeListeners=[],u.boundaryEl=null,u.isResizing=!1,u.isMoving=!1,u.resizable={},u.movable=!1,u.currentResizer=null,u.config=Object.assign({},{popup:!1},a),u}return ci(i,p),i.prototype.center=function(){var n=this.offsetParent,a=n.clientHeight,c=n.clientWidth/2-this.getWidth()/2,v=a/2-this.getHeight()/2;this.offsetElement(c,v)},i.prototype.initialisePosition=function(){if(!this.positioned){var n=this.config,a=n.centered,u=n.forcePopupParentAsOffsetParent,c=n.minWidth,v=n.width,C=n.minHeight,T=n.height,M=n.x,F=n.y;this.offsetParent||this.setOffsetParent();var $=0,ne=0,pe=!!this.element.offsetParent;if(pe){var me=this.findBoundaryElement(),Te=window.getComputedStyle(me);if(null!=Te.minWidth){var Ae=me.offsetWidth-this.element.offsetWidth;ne=parseInt(Te.minWidth,10)-Ae}if(null!=Te.minHeight){var He=me.offsetHeight-this.element.offsetHeight;$=parseInt(Te.minHeight,10)-He}}if(this.minHeight=C||$,this.minWidth=c||ne,v&&this.setWidth(v),T&&this.setHeight(T),(!v||!T)&&this.refreshSize(),a)this.center();else if(M||F)this.offsetElement(M,F);else if(pe&&u&&this.boundaryEl){var Ue=parseFloat(this.boundaryEl.style.top),Ze=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Ze)?0:Ze,isNaN(Ue)?0:Ue)}this.positioned=!!this.offsetParent}},i.prototype.isPositioned=function(){return this.positioned},i.prototype.getPosition=function(){return this.position},i.prototype.setMovable=function(n,a){if(this.config.popup&&n!==this.movable){this.movable=n;var u=this.moveElementDragListener||{eElement:a,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};n?(this.dragService.addDragSource(u),this.moveElementDragListener=u):(this.dragService.removeDragSource(u),this.moveElementDragListener=void 0)}},i.prototype.setResizable=function(n){var a=this;if(this.clearResizeListeners(),n?this.addResizers():this.removeResizers(),"boolean"==typeof n){if(!1===n)return;n={topLeft:n,top:n,topRight:n,right:n,bottomRight:n,bottom:n,bottomLeft:n,left:n}}Object.keys(n).forEach(function(u){var v=!!n[u],C=a.getResizerElement(u),T={dragStartPixels:0,eElement:C,onDragStart:function(M){return a.onResizeStart(M,u)},onDragging:a.onResize.bind(a),onDragStop:function(M){return a.onResizeEnd(M,u)}};(v||!a.isAlive()&&!v)&&(v?(a.dragService.addDragSource(T),a.resizeListeners.push(T),C.style.pointerEvents="all"):C.style.pointerEvents="none",a.resizable[u]=v)})},i.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},i.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var n=this.lastSize,a=n.height,u=n.width;-1!==u&&(this.element.style.width=u+"px"),-1!==a&&(this.element.style.height=a+"px")},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setHeight=function(n){var a=this.config.popup,u=this.element,c=!1;if("string"==typeof n&&-1!==n.indexOf("%"))zo(u,n),n=te(u),c=!0;else if(this.positioned){n=Math.max(this.minHeight,n);var v=this.getAvailableHeight();v&&n>v&&(n=v)}this.getHeight()!==n&&(c?(u.style.maxHeight="unset",u.style.minHeight="unset"):a?zo(u,n):(u.style.height=n+"px",u.style.flex="0 0 auto",this.lastSize.height="number"==typeof n?n:parseFloat(n)))},i.prototype.getAvailableHeight=function(){var n=this.config,a=n.popup,u=n.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var c=this.offsetParent.clientHeight;if(!c)return null;var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),T=a?this.position.y:v.top,M=a?0:C.top,F=0;if(u){var $=this.element.parentElement;$&&(F=$.getBoundingClientRect().bottom-v.bottom)}return c+M-T-F},i.prototype.getWidth=function(){return this.element.offsetWidth},i.prototype.setWidth=function(n){var a=this.element,u=this.config.popup,c=!1;if("string"==typeof n&&-1!==n.indexOf("%"))Bi(a,n),n=K(a),c=!0;else if(this.positioned){n=Math.max(this.minWidth,n);var v=this.offsetParent.clientWidth,C=u?this.position.x:this.element.getBoundingClientRect().left;v&&n+C>v&&(n=v-C)}this.getWidth()!==n&&(c?(a.style.maxWidth="unset",a.style.minWidth="unset"):this.config.popup?Bi(a,n):(a.style.width=n+"px",a.style.flex=" unset",this.lastSize.width="number"==typeof n?n:parseFloat(n)))},i.prototype.offsetElement=function(n,a){void 0===n&&(n=0),void 0===a&&(a=0);var u=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:u,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:n,y:a}}}),this.setPosition(parseFloat(u.style.left),parseFloat(u.style.top))},i.prototype.constrainSizeToAvailableHeight=function(n){var a=this;this.config.forcePopupParentAsOffsetParent&&(n?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),function(){var c=a.getAvailableHeight();a.element.style.setProperty("max-height",c+"px")}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))},i.prototype.setPosition=function(n,a){this.position.x=n,this.position.y=a},i.prototype.updateDragStartPosition=function(n,a){this.dragStartPosition={x:n,y:a}},i.prototype.calculateMouseMovement=function(n){var a=n.e,c=n.isTop,C=n.topBuffer,T=a.clientX-this.dragStartPosition.x,M=a.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(a,!!n.isLeft,!!n.anywhereWithin,T)?0:T,movementY:this.shouldSkipY(a,!!c,C,M)?0:M}},i.prototype.shouldSkipX=function(n,a,u,c){var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),T=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.x:v.left,F=M<=0&&C.left>=n.clientX||C.right<=n.clientX&&C.right<=T.right;return!!F||(a?c<0&&n.clientX>M+C.left||c>0&&n.clientX<M+C.left:u?c<0&&n.clientX>T.right||c>0&&n.clientX<M+C.left:c<0&&n.clientX>T.right||c>0&&n.clientX<T.right)},i.prototype.shouldSkipY=function(n,a,u,c){void 0===u&&(u=0);var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),T=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.y:v.top,F=M<=0&&C.top>=n.clientY||C.bottom<=n.clientY&&C.bottom<=T.bottom;return!!F||(a?c<0&&n.clientY>M+C.top+u||c>0&&n.clientY<M+C.top:c<0&&n.clientY>T.bottom||c>0&&n.clientY<T.bottom)},i.prototype.createResizeMap=function(){var n=this.element;this.resizerMap={topLeft:{element:n.querySelector("[ref=eTopLeftResizer]")},top:{element:n.querySelector("[ref=eTopResizer]")},topRight:{element:n.querySelector("[ref=eTopRightResizer]")},right:{element:n.querySelector("[ref=eRightResizer]")},bottomRight:{element:n.querySelector("[ref=eBottomRightResizer]")},bottom:{element:n.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:n.querySelector("[ref=eBottomLeftResizer]")},left:{element:n.querySelector("[ref=eLeftResizer]")}}},i.prototype.addResizers=function(){if(!this.resizersAdded){var n=this.element;if(n){var u=(new DOMParser).parseFromString(es,"text/html").body;n.appendChild(u.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},i.prototype.removeResizers=function(){this.resizerMap=void 0;var n=this.element.querySelector("."+La);n&&this.element.removeChild(n),this.resizersAdded=!1},i.prototype.getResizerElement=function(n){return this.resizerMap[n].element},i.prototype.onResizeStart=function(n,a){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!a.match(/top/i),isRight:!!a.match(/right/i),isBottom:!!a.match(/bottom/i),isLeft:!!a.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[a].element.classList.add("ag-active");var u=this.config;!u.popup&&!u.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(n.clientX,n.clientY)},i.prototype.getSiblings=function(){var a=this.element.parentElement;return a?Array.prototype.slice.call(a.children).filter(function(u){return!u.classList.contains("ag-hidden")}):null},i.prototype.getMinSizeOfSiblings=function(){for(var n=this.getSiblings()||[],a=0,u=0,c=0;c<n.length;c++){var v=n[c];if(v!==this.element){var T=this.minHeight||0,M=this.minWidth||0;if(v.style.flex&&"0 0 auto"!==v.style.flex){var F=window.getComputedStyle(v);F.minHeight&&(T=parseInt(F.minHeight,10)),F.minWidth&&(M=parseInt(F.minWidth,10))}else T=v.offsetHeight,M=v.offsetWidth;a+=T,u+=M}}return{height:a,width:u}},i.prototype.applySizeToSiblings=function(n){var a=null,u=this.getSiblings();if(u){for(var c=0;c<u.length;c++){var v=u[c];v!==a&&(n?v.style.height=v.offsetHeight+"px":v.style.width=v.offsetWidth+"px",v.style.flex="0 0 auto",v===this.element&&(a=u[c+1]))}a&&(a.style.removeProperty("height"),a.style.removeProperty("min-height"),a.style.removeProperty("max-height"),a.style.flex="1 1 auto")}},i.prototype.isResizable=function(){return Object.values(this.resizable).some(function(n){return n})},i.prototype.onResize=function(n){if(this.isResizing&&this.currentResizer){var a=this.config,u=a.popup,c=a.forcePopupParentAsOffsetParent,v=this.currentResizer,C=v.isTop,F=v.isLeft,$=v.isRight||F,ne=v.isBottom||C,pe=this.calculateMouseMovement({e:n,isLeft:F,isTop:C}),me=pe.movementX,Te=pe.movementY,Ae=this.position.x,He=this.position.y,Ue=0,Ze=0;if($&&me){var st=F?-1:1,St=this.getWidth(),Ut=St+me*st,jt=!1;F&&(Ae+(Ue=St-Ut)<=0||Ut<=this.minWidth)&&(jt=!0,Ue=0),jt||this.setWidth(Ut)}if(ne&&Te){st=C?-1:1;var At=this.getHeight(),Jt=At+Te*st,fr=!1;C?(He+(Ze=At-Jt)<=0||Jt<=this.minHeight)&&(fr=!0,Ze=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&At<Jt&&this.getMinSizeOfSiblings().height+Jt>this.element.parentElement.offsetHeight&&(fr=!0),fr||this.setHeight(Jt)}this.updateDragStartPosition(n.clientX,n.clientY),((u||c)&&Ue||Ze)&&this.offsetElement(Ae+Ue,He+Ze)}},i.prototype.onResizeEnd=function(n,a){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var u={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[a].element.classList.remove("ag-active"),this.dispatchEvent(u)},i.prototype.refreshSize=function(){var n=this.element;this.config.popup&&(this.config.width||this.setWidth(n.offsetWidth),this.config.height||this.setHeight(n.offsetHeight))},i.prototype.onMoveStart=function(n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(n.clientX,n.clientY)},i.prototype.onMove=function(n){if(this.isMoving){var v,a=this.position,u=a.x,c=a.y;this.config.calculateTopBuffer&&(v=this.config.calculateTopBuffer());var C=this.calculateMouseMovement({e:n,isTop:!0,anywhereWithin:!0,topBuffer:v});this.offsetElement(u+C.movementX,c+C.movementY),this.updateDragStartPosition(n.clientX,n.clientY)}},i.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},i.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},i.prototype.findBoundaryElement=function(){for(var n=this.element;n;){if("static"!==window.getComputedStyle(n).position)return n;n=n.parentElement}return this.element},i.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var n=this.resizeListeners.pop();this.dragService.removeDragSource(n)}},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},Ia([ae("popupService")],i.prototype,"popupService",void 0),Ia([ae("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Ia([ae("dragService")],i.prototype,"dragService",void 0),i}(nt),Yo=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),xs=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},du=function(p){function i(n){var a=p.call(this)||this;return a.filterNameKey=n,a.applyActive=!1,a.hidePopup=null,a.debouncePending=!1,a.appliedModel=null,a}return Yo(i,p),i.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new dr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new As(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},i.prototype.handleKeyDown=function(n){},i.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},i.prototype.isFilterActive=function(){return!!this.appliedModel},i.prototype.resetTemplate=function(n){var a=this.getGui();a&&a.removeEventListener("submit",this.onFormSubmit);var u='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(u,n),(a=this.getGui())&&a.addEventListener("submit",this.onFormSubmit)},i.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},i.prototype.init=function(n){var a=this;this.setParams(n),this.resetUiToDefaults(!0).then(function(){a.updateUiVisibility(),a.setupOnBtApplyDebounce()})},i.prototype.setParams=function(n){this.providedFilterParams=n,this.applyActive=i.isUseApplyButton(n),this.createButtonPanel()},i.prototype.createButtonPanel=function(){var n=this,a=this.providedFilterParams.buttons;if(!(!a||a.length<1||this.isReadOnly())){var u=document.createElement("div");u.classList.add("ag-filter-apply-panel"),lu(a).forEach(function(v){return function(v){var C,T;switch(v){case"apply":C=n.translate("applyFilter"),T=function($){return n.onBtApply(!1,!1,$)};break;case"clear":C=n.translate("clearFilter"),T=function(){return n.onBtClear()};break;case"reset":C=n.translate("resetFilter"),T=function(){return n.onBtReset()};break;case"cancel":C=n.translate("cancelFilter"),T=function($){n.onBtCancel($)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var F=zt('<button\n                    type="'+("apply"===v?"submit":"button")+'"\n                    ref="'+v+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+C+"\n                </button>");u.appendChild(F),n.addManagedListener(F,"click",T)}(v)}),this.getGui().appendChild(u)}},i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.setupOnBtApplyDebounce=function(){var n=this,a=i.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),u=Pt(this.checkApplyDebounce.bind(this),a);this.onBtApplyDebounce=function(){n.debouncePending=!0,u()}},i.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},i.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},i.prototype.setModel=function(n){var a=this;return(null!=n?this.setModelIntoUi(n):this.resetUiToDefaults()).then(function(){a.updateUiVisibility(),a.applyModel("api")})},i.prototype.onBtCancel=function(n){var a=this;this.resetUiToActiveModel(this.getModel(),function(){a.handleCancelEnd(n)})},i.prototype.handleCancelEnd=function(n){this.providedFilterParams.closeOnApply&&this.close(n)},i.prototype.resetUiToActiveModel=function(n,a){var u=this,c=function(){u.onUiChanged(!1,"prevent"),a?.()};null!=n?this.setModelIntoUi(n).then(c):this.resetUiToDefaults().then(c)},i.prototype.onBtClear=function(){var n=this;this.resetUiToDefaults().then(function(){return n.onUiChanged()})},i.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},i.prototype.applyModel=function(n){var a=this.getModelFromUi();if(!this.isModelValid(a))return!1;var u=this.appliedModel;return this.appliedModel=a,!this.areModelsEqual(u,a)},i.prototype.isModelValid=function(n){return!0},i.prototype.onFormSubmit=function(n){n.preventDefault()},i.prototype.onBtApply=function(n,a,u){void 0===n&&(n=!1),void 0===a&&(a=!1),u&&u.preventDefault(),this.applyModel(a?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:n,afterDataChange:a}),this.providedFilterParams.closeOnApply&&this.applyActive&&!n&&!a&&this.close(u)},i.prototype.onNewRowsLoaded=function(){},i.prototype.close=function(n){if(this.hidePopup){var c,u=n&&n.key;("Enter"===u||"Space"===u)&&(c={keyboardEvent:n}),this.hidePopup(c),this.hidePopup=null}},i.prototype.onUiChanged=function(n,a){if(void 0===n&&(n=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var u=this.isModelValid(this.getModelFromUi());xa(this.getRefElement("applyFilterButton"),!u)}n&&!a||"immediately"===a?this.onBtApply(n):(!this.applyActive&&!a||"debounce"===a)&&this.onBtApplyDebounce()},i.prototype.afterGuiAttached=function(n){n&&(this.hidePopup=n.hidePopup),this.refreshFilterResizer(n?.container)},i.prototype.refreshFilterResizer=function(n){if(this.positionableFeature&&"toolPanel"!==n){var c=this.positionableFeature,v=this.gridOptionsService;"floatingFilter"===n?(c.restoreLastSize(),c.setResizable(v.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},i.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},i.getDebounceMs=function(n,a){return i.isUseApplyButton(n)?(null!=n.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=n.debounceMs?n.debounceMs:a},i.isUseApplyButton=function(n){return!!n.buttons&&n.buttons.indexOf("apply")>=0},i.prototype.destroy=function(){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),p.prototype.destroy.call(this)},i.prototype.translate=function(n){return this.localeService.getLocaleTextFunc()(n,Ge[n])},i.prototype.getCellValue=function(n){var a=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:a.api,colDef:a.colDef,column:a.column,columnApi:a.columnApi,context:a.context,data:n.data,getValue:function(M){return n.data[M]},node:n})},i.prototype.getPositionableElement=function(){return this.eFilterBody},xs([ae("rowModel")],i.prototype,"rowModel",void 0),xs([gt("eFilterBody")],i.prototype,"eFilterBody",void 0),xs([Xe],i.prototype,"postConstruct",null),i}(lr),NC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qf=function(p){function i(n,a){var u=p.call(this,a)||this;return u.labelSeparator="",u.labelAlignment="left",u.disabled=!1,u.label="",u.config=n||{},u}return NC(i,p),i.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var n=this.config,a=n.labelSeparator,u=n.label,c=n.labelWidth,v=n.labelAlignment;null!=a&&this.setLabelSeparator(a),null!=u&&this.setLabel(u),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(v||this.labelAlignment),this.refreshLabel()},i.prototype.refreshLabel=function(){ze(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Er(this.eLabel,!1),Br(this.eLabel,"presentation")):(Er(this.eLabel,!0),Br(this.eLabel,null))},i.prototype.setLabelSeparator=function(n){return this.labelSeparator===n||(this.labelSeparator=n,null!=this.label&&this.refreshLabel()),this},i.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},i.prototype.getLabel=function(){return this.label},i.prototype.setLabel=function(n){return this.label===n||(this.label=n,this.refreshLabel()),this},i.prototype.setLabelAlignment=function(n){var u=this.getGui().classList;return u.toggle("ag-label-align-left","left"===n),u.toggle("ag-label-align-right","right"===n),u.toggle("ag-label-align-top","top"===n),this},i.prototype.setLabelEllipsis=function(n){return this.eLabel.classList.toggle("ag-label-ellipsis",n),this},i.prototype.setLabelWidth=function(n){return null==this.label||Ps(this.eLabel,n),this},i.prototype.setDisabled=function(n){n=!!n;var a=this.getGui();return xa(a,n),a.classList.toggle("ag-disabled",n),this.disabled=n,this},i.prototype.isDisabled=function(){return!!this.disabled},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(lr),Qv=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Is=function(p){function i(n,a,u){var c=p.call(this,n,a)||this;return c.className=u,c}return Qv(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},i.prototype.onValueChange=function(n){var a=this;return this.addManagedListener(this,i.EVENT_CHANGED,function(){return n(a.getValue())}),this},i.prototype.getWidth=function(){return this.getGui().clientWidth},i.prototype.setWidth=function(n){return Bi(this.getGui(),n),this},i.prototype.getPreviousValue=function(){return this.previousValue},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(n,a){return this.value===n||(this.previousValue=this.value,this.value=n,a||this.dispatchEvent({type:i.EVENT_CHANGED})),this},i.EVENT_CHANGED="valueChange",i}(qf),FC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ud=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Wd=function(p){function i(n,a,u,c){var v=p.call(this,n,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(c?'role="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',a)||this;return v.pickerIcon=u,v.isPickerDisplayed=!1,v.isDestroyingPicker=!1,v.skipClick=!1,v}return FC(i,p),i.prototype.postConstruct=function(){var n=this;p.prototype.postConstruct.call(this);var a=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",a),Ka(this.eWrapper,a);var u=function(){n.skipClick?n.skipClick=!1:n.isDisabled()||(n.pickerComponent=n.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(C){!n.skipClick&&n.pickerComponent&&n.pickerComponent.isAlive()&&Vt(n.pickerComponent.getGui())&&c.contains(C.target)&&(n.skipClick=!0)}),this.addManagedListener(c,"keydown",function(C){switch(C.key){case Je.UP:case Je.DOWN:case Je.ENTER:case Je.SPACE:u();case Je.ESCAPE:n.isPickerDisplayed&&C.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",u),this.addManagedListener(this.eLabel,"click",u),this.pickerIcon){var v=wn(this.pickerIcon,this.gridOptionsService);v&&this.eIcon.appendChild(v)}},i.prototype.refreshLabel=function(){o(this.getLabel())?bi(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),p.prototype.refreshLabel.call(this)},i.prototype.setAriaLabel=function(n){return Pi(this.eWrapper,n),this},i.prototype.setInputWidth=function(n){return Ps(this.eWrapper,n),this},i.prototype.getFocusableElement=function(){return this.eWrapper},Ud([gt("eLabel")],i.prototype,"eLabel",void 0),Ud([gt("eWrapper")],i.prototype,"eWrapper",void 0),Ud([gt("eDisplayField")],i.prototype,"eDisplayField",void 0),Ud([gt("eIcon")],i.prototype,"eIcon",void 0),i}(Is),Sc=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pu=function(p){function i(n){void 0===n&&(n="default");var a=p.call(this,'<div class="ag-list ag-'+n+'-list" role="listbox"></div>')||this;return a.cssIdentifier=n,a.options=[],a.itemEls=[],a}return Sc(i,p),i.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},i.prototype.handleKeyDown=function(n){var a=n.key;switch(a){case Je.ENTER:if(this.highlightedEl){var u=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(u)}else this.setValue(this.getValue());break;case Je.DOWN:case Je.UP:var c=a===Je.DOWN,v=void 0;if(n.preventDefault(),this.highlightedEl){var T=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);T=Math.min(Math.max(T,0),this.itemEls.length-1),v=this.itemEls[T]}else v=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(v)}},i.prototype.addOptions=function(n){var a=this;return n.forEach(function(u){return a.addOption(u)}),this},i.prototype.addOption=function(n){var a=n.value,c=ar(n.text||a);return this.options.push({value:a,text:c}),this.renderOption(a,c),this.updateIndices(),this},i.prototype.updateIndices=function(){var n=this.getGui().querySelectorAll(".ag-list-item");n.forEach(function(a,u){Xa(a,u+1),_n(a,n.length)})},i.prototype.renderOption=function(n,a){var u=this,c=document.createElement("div");Br(c,"option"),c.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+a+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return u.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return u.clearHighlighted()}),this.addManagedListener(c,"click",function(){return u.setValue(n)}),this.getGui().appendChild(c)},i.prototype.setValue=function(n,a){if(this.value===n)return this.fireItemSelected(),this;if(null==n)return this.reset(),this;var u=this.options.findIndex(function(v){return v.value===n});if(-1!==u){var c=this.options[u];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[u]),a||this.fireChangeEvent()}return this},i.prototype.setValueByIndex=function(n){return this.setValue(this.options[n].value)},i.prototype.getValue=function(){return this.value},i.prototype.getDisplayValue=function(){return this.displayValue},i.prototype.refreshHighlighted=function(){var n=this;this.clearHighlighted();var a=this.options.findIndex(function(u){return u.value===n.value});-1!==a&&this.highlightItem(this.itemEls[a])},i.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},i.prototype.highlightItem=function(n){n.offsetParent&&(this.clearHighlighted(),this.highlightedEl=n,this.highlightedEl.classList.add(i.ACTIVE_CLASS),Fi(this.highlightedEl,!0),this.highlightedEl.focus())},i.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(i.ACTIVE_CLASS),Fi(this.highlightedEl,!1),this.highlightedEl=null)},i.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Is.EVENT_CHANGED}),this.fireItemSelected()},i.prototype.fireItemSelected=function(){this.dispatchEvent({type:i.EVENT_ITEM_SELECTED})},i.EVENT_ITEM_SELECTED="selectedItem",i.ACTIVE_CLASS="ag-active-item",function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"init",null),i}(lr),$d=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Oc=function(p){function i(n){return p.call(this,n,"ag-select","smallDown","listbox")||this}return $d(i,p),i.prototype.init=function(){var n=this;this.listComponent=this.createBean(new pu("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,pu.EVENT_ITEM_SELECTED,function(){n.hideList&&n.hideList(),n.dispatchEvent({type:i.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,Is.EVENT_CHANGED,function(){n.setValue(n.listComponent.getValue(),!1,!0),n.hideList&&n.hideList()})},i.prototype.showPicker=function(){var n=this,a=this.listComponent.getGui(),u=this.gridOptionsService.getDocument(),c=this.addManagedListener(u.body,"wheel",function(M){!a.contains(M.target)&&n.hideList&&n.hideList()}),v=this.addManagedListener(a,"focusout",function(M){!a.contains(M.relatedTarget)&&n.hideList&&n.hideList()}),C=this.localeService.getLocaleTextFunc(),T=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(){n.hideList=null,n.isPickerDisplayed=!1,v(),c(),n.isAlive()&&(In(n.eWrapper,!1),n.getFocusableElement().focus())},ariaLabel:C("ariaLabelSelectField","Select Field")});return T&&(this.hideList=T.hideFunc),this.isPickerDisplayed=!0,Ps(a,K(this.eWrapper)),In(this.eWrapper,!0),a.style.maxHeight=jo(this.popupService.getPopupParent())+"px",a.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:a,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},i.prototype.addOptions=function(n){var a=this;return n.forEach(function(u){return a.addOption(u)}),this},i.prototype.addOption=function(n){return this.listComponent.addOption(n),this},i.prototype.setValue=function(n,a,u){return this.value===n?this:(u||this.listComponent.setValue(n,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),p.prototype.setValue.call(this,n,a)))},i.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),p.prototype.destroy.call(this)},i.EVENT_ITEM_SELECTED="selectedItem",fu([ae("popupService")],i.prototype,"popupService",void 0),fu([Xe],i.prototype,"init",null),i}(Wd),Zf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Na=function(p){function i(n,a,u,c){void 0===u&&(u="text"),void 0===c&&(c="input");var v=p.call(this,n,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",a)||this;return v.inputType=u,v.displayFieldTag=c,v}return Zf(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var n=this.config,a=n.width,u=n.value;null!=a&&this.setWidth(a),null!=u&&this.setValue(u),this.addInputListeners()},i.prototype.refreshLabel=function(){o(this.getLabel())?bi(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),p.prototype.refreshLabel.call(this)},i.prototype.addInputListeners=function(){var n=this;this.addManagedListener(this.eInput,"input",function(a){return n.setValue(a.target.value)})},i.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},i.prototype.getInputElement=function(){return this.eInput},i.prototype.setInputWidth=function(n){return Ps(this.eWrapper,n),this},i.prototype.setInputName=function(n){return this.getInputElement().setAttribute("name",n),this},i.prototype.getFocusableElement=function(){return this.eInput},i.prototype.setMaxLength=function(n){return this.eInput.maxLength=n,this},i.prototype.setInputPlaceholder=function(n){return mi(this.eInput,"placeholder",n),this},i.prototype.setInputAriaLabel=function(n){return Pi(this.eInput,n),this},i.prototype.setDisabled=function(n){return xa(this.eInput,n),p.prototype.setDisabled.call(this,n)},wc([gt("eLabel")],i.prototype,"eLabel",void 0),wc([gt("eWrapper")],i.prototype,"eWrapper",void 0),wc([gt("eInput")],i.prototype,"eInput",void 0),i}(Is),ua=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cl=function(p){function i(n,a,u){void 0===a&&(a="ag-checkbox"),void 0===u&&(u="checkbox");var c=p.call(this,n,a,u)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return ua(i,p),i.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(n){this.passive=n},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setReadOnly=function(n){this.eWrapper.classList.toggle("ag-disabled",n),this.eInput.disabled=n,this.readOnly=n},i.prototype.setDisabled=function(n){return this.eWrapper.classList.toggle("ag-disabled",n),p.prototype.setDisabled.call(this,n)},i.prototype.toggle=function(){if(!this.eInput.disabled){var n=this.isSelected(),a=this.getNextValue();this.passive?this.dispatchChange(a,n):this.setValue(a)}},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(n,a){return this.refreshSelectedClass(n),this.setSelected(n,a),this},i.prototype.setName=function(n){return this.getInputElement().name=n,this},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(n,a){this.isSelected()!==n&&(this.previousValue=this.isSelected(),n=this.selected="boolean"==typeof n?n:void 0,this.eInput.checked=n,this.eInput.indeterminate=void 0===n,a||this.dispatchChange(this.selected,this.previousValue))},i.prototype.dispatchChange=function(n,a,u){this.dispatchEvent({type:i.EVENT_CHANGED,selected:n,previousValue:a,event:u});var c=this.getInputElement();this.eventService.dispatchEvent({type:z.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:n,previousValue:a})},i.prototype.onCheckboxClick=function(n){if(!this.passive&&!this.eInput.disabled){var a=this.isSelected(),u=this.selected=n.target.checked;this.refreshSelectedClass(u),this.dispatchChange(u,a,n)}},i.prototype.refreshSelectedClass=function(n){this.eWrapper.classList.toggle("ag-checked",!0===n),this.eWrapper.classList.toggle("ag-indeterminate",null==n)},i}(Na),Dc=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hu=function(p){function i(n){return p.call(this,n,"ag-radio-button","radio")||this}return Dc(i,p),i.prototype.isSelected=function(){return this.eInput.checked},i.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},i.prototype.addInputListeners=function(){p.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,z.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},i.prototype.onChange=function(n){n.selected&&n.name&&this.eInput.name&&this.eInput.name===n.name&&n.id&&this.eInput.id!==n.id&&this.setValue(!1,!0)},i}(cl),Jf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jd=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},zd=function(){function p(i,n){this.localeService=i,this.optionsFactory=n}return p.prototype.getModelAsString=function(i){var n=this;if(!i)return null;var a=null!=i.operator,u=this.localeService.getLocaleTextFunc();if(a){var c=i,v=c.conditions;v||(v=[c.condition1,c.condition2]);var M=v.map(function(He){return n.getModelAsString(He)}),F="AND"===c.operator?"andCondition":"orCondition";return M.join(" "+u(F,Ge[F])+" ")}if(i.type===cn.BLANK||i.type===cn.NOT_BLANK)return u(i.type,i.type);var $=i,ne=this.optionsFactory.getCustomOption($.type),pe=ne||{},me=pe.displayKey,Te=pe.displayName;return me&&Te&&0===pe.numberOfInputs?(u(me,Te),Te):this.conditionToString($,ne)},p}(),cn=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.eTypes=[],n.eJoinOperatorPanels=[],n.eJoinOperatorsAnd=[],n.eJoinOperatorsOr=[],n.eConditionBodies=[],n.listener=function(){return n.onUiChanged()},n.lastUiCompletePosition=null,n.joinOperatorId=0,n}return Jf(i,p),i.prototype.getNumberOfInputs=function(n){var a=this.optionsFactory.getCustomOption(n);return a?a.numberOfInputs??1:n&&[i.EMPTY,i.NOT_BLANK,i.BLANK].indexOf(n)>=0?0:n===i.IN_RANGE?2:1},i.prototype.onFloatingFilterChanged=function(n,a){this.setTypeFromFloatingFilter(n),this.setValueFromFloatingFilter(a),this.onUiChanged(!0)},i.prototype.setTypeFromFloatingFilter=function(n){var a=this;this.eTypes.forEach(function(u,c){u.setValue(0===c?n:a.optionsFactory.getDefaultOption(),!0)})},i.prototype.getModelFromUi=function(){var n=this.getUiCompleteConditions();return 0===n.length?null:this.maxNumConditions>1&&n.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:n[0],condition2:n[1],conditions:n}:n[0]},i.prototype.getConditionTypes=function(){return this.eTypes.map(function(n){return n.getValue()})},i.prototype.getConditionType=function(n){return this.eTypes[n].getValue()},i.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},i.prototype.areModelsEqual=function(n,a){var u=this;if(!n&&!a)return!0;if(!n&&a||n&&!a)return!1;var c=!n.operator,v=!a.operator;return!(!c&&v||c&&!v)&&(c?this.areSimpleModelsEqual(n,a):n.operator===a.operator&&nn(n.conditions,a.conditions,function(pe,me){return u.areSimpleModelsEqual(pe,me)}))},i.prototype.setModelIntoUi=function(n){var a=this;if(n.operator){var c=n;c.conditions||(c.conditions=[c.condition1,c.condition2]);var v=this.validateAndUpdateConditions(c.conditions),C=this.getNumConditions();if(v<C)this.removeConditionsAndOperators(v);else if(v>C)for(var T=C;T<v;T++)this.createJoinOperatorPanel(),this.createOption();var M="OR"===c.operator;this.eJoinOperatorsAnd.forEach(function($){return $.setValue(!M,!0)}),this.eJoinOperatorsOr.forEach(function($){return $.setValue(M,!0)}),c.conditions.forEach(function($,ne){a.eTypes[ne].setValue($.type,!0),a.setConditionIntoUi($,ne)})}else{var F=n;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(F.type,!0),this.setConditionIntoUi(F,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Ci.resolve()},i.prototype.validateAndUpdateConditions=function(n){var a=n.length;return a>this.maxNumConditions&&(n.splice(this.maxNumConditions),_e(function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')},"simpleFilterSetModelMaxNumConditions"),a=this.maxNumConditions),a},i.prototype.doesFilterPass=function(n){var u,a=this,c=this.getModel();if(null==c)return!0;var v=c.operator,C=[];return v?C.push.apply(C,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(jd(arguments[i]));return p}(null!==(u=c.conditions)&&void 0!==u?u:[])):C.push(c),C[v&&"OR"===v?"some":"every"](function(F){return a.individualConditionPasses(n,F)})},i.prototype.setParams=function(n){p.prototype.setParams.call(this,n),this.setNumConditions(n),this.defaultJoinOperator=this.getDefaultJoinOperator(n.defaultJoinOperator),this.filterPlaceholder=n.filterPlaceholder,this.optionsFactory=new ye,this.optionsFactory.init(n,this.getDefaultFilterOptions()),this.createOption(),this.createMissingConditionsAndOperators()},i.prototype.setNumConditions=function(n){var a,u;null!=n.suppressAndOrCondition&&_e(function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')},"simpleFilterSuppressAndOrCondition"),null!=n.alwaysShowBothConditions&&_e(function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')},"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(a=n.maxNumConditions)&&void 0!==a?a:n.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(_e(function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')},"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(u=n.numAlwaysVisibleConditions)&&void 0!==u?u:n.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(_e(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')},"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(_e(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')},"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},i.prototype.createOption=function(){var n=this,a=this.createManagedBean(new Oc);this.eTypes.push(a),a.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(a.getGui());var u=this.createValueElement();this.eConditionBodies.push(u),this.eFilterBody.appendChild(u),this.putOptionsIntoDropdown(a),this.resetType(a);var c=this.getNumConditions()-1;this.forEachPositionInput(c,function(v){return n.resetInput(v)}),this.addChangedListeners(a,c)},i.prototype.createJoinOperatorPanel=function(){var n=document.createElement("div");this.eJoinOperatorPanels.push(n),n.classList.add("ag-filter-condition");var a=this.createJoinOperator(this.eJoinOperatorsAnd,n,"and"),u=this.createJoinOperator(this.eJoinOperatorsOr,n,"or");this.eFilterBody.appendChild(n);var c=this.eJoinOperatorPanels.length-1,v=this.joinOperatorId++;this.resetJoinOperatorAnd(a,c,v),this.resetJoinOperatorOr(u,c,v),this.isReadOnly()||(a.onValueChange(this.listener),u.onValueChange(this.listener))},i.prototype.createJoinOperator=function(n,a,u){var c=this.createManagedBean(new hu);return n.push(c),c.addCssClass("ag-filter-condition-operator"),c.addCssClass("ag-filter-condition-operator-"+u),a.appendChild(c.getGui()),c},i.prototype.getDefaultJoinOperator=function(n){return"AND"===n||"OR"===n?n:"AND"},i.prototype.putOptionsIntoDropdown=function(n){var a=this,u=this.optionsFactory.getFilterOptions();u.forEach(function(c){var v="string"==typeof c?a.createBoilerplateListOption(c):a.createCustomListOption(c);n.addOption(v)}),n.setDisabled(u.length<=1)},i.prototype.createBoilerplateListOption=function(n){return{value:n,text:this.translate(n)}},i.prototype.createCustomListOption=function(n){var a=n.displayKey,u=this.optionsFactory.getCustomOption(n.displayKey);return{value:a,text:u?this.localeService.getLocaleTextFunc()(u.displayKey,u.displayName):this.translate(a)}},i.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},i.prototype.createBodyTemplate=function(){return""},i.prototype.getCssIdentifier=function(){return"simple-filter"},i.prototype.updateUiVisibility=function(){var n=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,n)},i.prototype.updateNumConditions=function(){for(var n,a=-1,u=!0,c=0;c<this.getNumConditions();c++)this.isConditionUiComplete(c)?a=c:u=!1;if(this.shouldAddNewConditionAtEnd(u))this.createJoinOperatorPanel(),this.createOption();else{var v=null!==(n=this.lastUiCompletePosition)&&void 0!==n?n:this.getNumConditions()-2;if(a<v){this.removeConditionsAndOperators(v+1);var C=a+1,T=v-C;T>0&&this.removeConditionsAndOperators(C,T),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=a},i.prototype.updateConditionStatusesAndValues=function(n,a){var u=this;this.eTypes.forEach(function(v,C){var T=u.isConditionDisabled(C,n);(1===C?[v,u.eJoinOperatorPanels[0],u.eJoinOperatorsAnd[0],u.eJoinOperatorsOr[0]]:[v]).forEach(function(F){F instanceof Na||F instanceof Oc?F.setDisabled(T):xa(F,T)})}),this.eConditionBodies.forEach(function(v,C){Er(v,u.isConditionBodyVisible(C))});var c="OR"===(a??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(function(v,C){v.setValue(!c,!0)}),this.eJoinOperatorsOr.forEach(function(v,C){v.setValue(c,!0)}),this.forEachInput(function(v,C,T,M){u.setElementDisplayed(v,C<M),u.setElementDisabled(v,u.isConditionDisabled(T,n))}),this.resetPlaceholder()},i.prototype.shouldAddNewConditionAtEnd=function(n){return n&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},i.prototype.removeConditionsAndOperators=function(n,a){if(!(n>=this.getNumConditions())){this.removeComponents(this.eTypes,n,a),this.removeElements(this.eConditionBodies,n,a),this.removeValueElements(n,a);var u=Math.max(n-1,0);this.removeElements(this.eJoinOperatorPanels,u,a),this.removeComponents(this.eJoinOperatorsAnd,u,a),this.removeComponents(this.eJoinOperatorsOr,u,a)}},i.prototype.removeElements=function(n,a,u){this.removeItems(n,a,u).forEach(function(v){return Sr(v)})},i.prototype.removeComponents=function(n,a,u){var c=this;this.removeItems(n,a,u).forEach(function(C){Sr(C.getGui()),c.destroyBean(C)})},i.prototype.removeItems=function(n,a,u){return null==u?n.splice(a):n.splice(a,u)},i.prototype.afterGuiAttached=function(n){if(p.prototype.afterGuiAttached.call(this,n),this.resetPlaceholder(),!n||!n.suppressFocus&&!this.isReadOnly()){var a=this.getInputs(0)[0];if(!a)return;a instanceof Na&&a.getInputElement().focus()}},i.prototype.afterGuiDetached=function(){p.prototype.afterGuiDetached.call(this);var n=this.getModel();this.areModelsEqual(n,this.getModelFromUi())||this.resetUiToActiveModel(n);for(var a=-1,u=-1,c=!1,v=this.getJoinOperator(),C=this.getNumConditions()-1;C>=0;C--)if(this.isConditionUiComplete(C))-1===a&&(a=C,u=C);else{var M=C<a;(C>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(C-1)||M)&&(this.removeConditionsAndOperators(C,1),c=!0,M&&u--)}var F=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),F=!0),this.shouldAddNewConditionAtEnd(u===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),F=!0),F&&this.updateConditionStatusesAndValues(u,v),c&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=u},i.prototype.getPlaceholderText=function(n,a){var u=this.translate(n);if(Le(this.filterPlaceholder)){var c=this.filterPlaceholder,v=this.eTypes[a].getValue();u=c({filterOptionKey:v,filterOption:this.translate(v),placeholder:u})}else"string"==typeof this.filterPlaceholder&&(u=this.filterPlaceholder);return u},i.prototype.resetPlaceholder=function(){var n=this,a=this.localeService.getLocaleTextFunc();this.forEachInput(function(u,c,v,C){if(u instanceof Na){var T=0===c&&C>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",M=0===c&&C>1?a("ariaFilterFromValue","Filter from value"):0===c?a("ariaFilterValue","Filter Value"):a("ariaFilterToValue","Filter to Value");u.setInputPlaceholder(n.getPlaceholderText(T,v)),u.setInputAriaLabel(M)}})},i.prototype.setElementValue=function(n,a){n instanceof Na&&n.setValue(null!=a?String(a):null,!0)},i.prototype.setElementDisplayed=function(n,a){n instanceof lr&&Er(n.getGui(),a)},i.prototype.setElementDisabled=function(n,a){n instanceof lr&&xa(n.getGui(),a)},i.prototype.attachElementOnChange=function(n,a){n instanceof Na&&n.onValueChange(a)},i.prototype.forEachInput=function(n){var a=this;this.getConditionTypes().forEach(function(u,c){a.forEachPositionTypeInput(c,u,n)})},i.prototype.forEachPositionInput=function(n,a){var u=this.getConditionType(n);this.forEachPositionTypeInput(n,u,a)},i.prototype.forEachPositionTypeInput=function(n,a,u){for(var c=this.getNumberOfInputs(a),v=this.getInputs(n),C=0;C<v.length;C++){var T=v[C];null!=T&&u(T,C,n,c)}},i.prototype.isConditionDisabled=function(n,a){return!!this.isReadOnly()||0!==n&&n>a+1},i.prototype.isConditionBodyVisible=function(n){var a=this.getConditionType(n);return this.getNumberOfInputs(a)>0},i.prototype.isConditionUiComplete=function(n){return!(n>=this.getNumConditions()||this.getConditionType(n)===i.EMPTY||this.getValues(n).some(function(u){return null==u}))},i.prototype.getNumConditions=function(){return this.eTypes.length},i.prototype.getUiCompleteConditions=function(){for(var n=[],a=0;a<this.getNumConditions();a++)this.isConditionUiComplete(a)&&n.push(this.createCondition(a));return n},i.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var n=this.getNumConditions();n<this.numAlwaysVisibleConditions;n++)this.createJoinOperatorPanel(),this.createOption()},i.prototype.resetUiToDefaults=function(n){var a=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(u){return a.resetType(u)}),this.eJoinOperatorsAnd.forEach(function(u,c){return a.resetJoinOperatorAnd(u,c,a.joinOperatorId+c)}),this.eJoinOperatorsOr.forEach(function(u,c){return a.resetJoinOperatorOr(u,c,a.joinOperatorId+c)}),this.joinOperatorId++,this.forEachInput(function(u){return a.resetInput(u)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,n||this.onUiChanged(),Ci.resolve()},i.prototype.resetType=function(n){var u=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");n.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(u).setDisabled(this.isReadOnly())},i.prototype.resetJoinOperatorAnd=function(n,a,u){this.resetJoinOperator(n,a,this.isDefaultOperator("AND"),this.translate("andCondition"),u)},i.prototype.resetJoinOperatorOr=function(n,a,u){this.resetJoinOperator(n,a,this.isDefaultOperator("OR"),this.translate("orCondition"),u)},i.prototype.resetJoinOperator=function(n,a,u,c,v){this.updateJoinOperatorDisabled(n.setValue(u,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+v).setLabel(c),a)},i.prototype.updateJoinOperatorsDisabled=function(){var n=this;this.eJoinOperatorsAnd.forEach(function(a,u){return n.updateJoinOperatorDisabled(a,u)}),this.eJoinOperatorsOr.forEach(function(a,u){return n.updateJoinOperatorDisabled(a,u)})},i.prototype.updateJoinOperatorDisabled=function(n,a){n.setDisabled(this.isReadOnly()||a>0)},i.prototype.resetInput=function(n){this.setElementValue(n,null),this.setElementDisabled(n,this.isReadOnly())},i.prototype.setConditionIntoUi=function(n,a){var u=this,c=this.mapValuesFromModel(n);this.forEachInput(function(v,C,T,M){T===a&&u.setElementValue(v,null!=c[C]?c[C]:null)})},i.prototype.setValueFromFloatingFilter=function(n){var a=this;this.forEachInput(function(u,c,v,C){a.setElementValue(u,0===c&&0===v?n:null)})},i.prototype.isDefaultOperator=function(n){return n===this.defaultJoinOperator},i.prototype.addChangedListeners=function(n,a){var u=this;this.isReadOnly()||(n.onValueChange(this.listener),this.forEachPositionInput(a,function(c){u.attachElementOnChange(c,u.listener)}))},i.prototype.individualConditionPasses=function(n,a){var u=this.getCellValue(n.node),c=this.mapValuesFromModel(a),v=this.optionsFactory.getCustomOption(a.type);return this.evaluateCustomFilter(v,c,u)??(null==u?this.evaluateNullValue(a.type):this.evaluateNonNullValue(c,u,a,n))},i.prototype.evaluateCustomFilter=function(n,a,u){if(null!=n){var c=n.predicate;if(null!=c&&!a.some(function(v){return null==v}))return c(a,u)}},i.prototype.isBlank=function(n){return null==n||"string"==typeof n&&0===n.trim().length},i.EMPTY="empty",i.BLANK="blank",i.NOT_BLANK="notBlank",i.EQUALS="equals",i.NOT_EQUAL="notEqual",i.LESS_THAN="lessThan",i.LESS_THAN_OR_EQUAL="lessThanOrEqual",i.GREATER_THAN="greaterThan",i.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",i.IN_RANGE="inRange",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.STARTS_WITH="startsWith",i.ENDS_WITH="endsWith",i}(du),Qf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ii=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Qf(i,p),i.prototype.setParams=function(n){p.prototype.setParams.call(this,n),this.scalarFilterParams=n},i.prototype.evaluateNullValue=function(n){switch(n){case i.EQUALS:case i.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case i.GREATER_THAN:case i.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case i.LESS_THAN:case i.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case i.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case i.BLANK:return!0;case i.NOT_BLANK:return!1}return!1},i.prototype.evaluateNonNullValue=function(n,a,u){var c=this.comparator(),v=null!=n[0]?c(n[0],a):0;switch(u.type){case i.EQUALS:return 0===v;case i.NOT_EQUAL:return 0!==v;case i.GREATER_THAN:return v>0;case i.GREATER_THAN_OR_EQUAL:return v>=0;case i.LESS_THAN:return v<0;case i.LESS_THAN_OR_EQUAL:return v<=0;case i.IN_RANGE:var C=c(n[1],a);return this.scalarFilterParams.inRangeInclusive?v>=0&&C<=0:v>0&&C<0;case i.BLANK:return this.isBlank(a);case i.NOT_BLANK:return!this.isBlank(a);default:return console.warn('AG Grid: Unexpected type of filter "'+u.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},i}(cn),Yd=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xd=function(){return Xd=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Xd.apply(this,arguments)},qd=function(p){function i(n,a,u){var c=p.call(this,a,u)||this;return c.dateFilterParams=n,c}return Yd(i,p),i.prototype.conditionToString=function(n,a){var u=n.type,v=u==cn.IN_RANGE||2===(a||{}).numberOfInputs,C=oo(n.dateFrom),T=oo(n.dateTo),M=this.dateFilterParams.inRangeFloatingFilterDateFormat;return v?(null!==C?Os(C,M):"null")+"-"+(null!==T?Os(T,M):"null"):null!=C?Os(C,M):""+u},i}(zd),Zd=function(p){function i(){var n=p.call(this,"dateFilter")||this;return n.eConditionPanelsFrom=[],n.eConditionPanelsTo=[],n.dateConditionFromComps=[],n.dateConditionToComps=[],n.minValidYear=1e3,n.maxValidYear=1/0,n}return Yd(i,p),i.prototype.afterGuiAttached=function(n){p.prototype.afterGuiAttached.call(this,n),this.dateConditionFromComps[0].afterGuiAttached(n)},i.prototype.mapValuesFromModel=function(n){var a=n||{},u=a.dateFrom,c=a.dateTo,v=a.type;return[u&&oo(u)||null,c&&oo(c)||null].slice(0,this.getNumberOfInputs(v))},i.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},i.prototype.defaultComparator=function(n,a){return null==a||a<n?-1:a>n?1:0},i.prototype.setParams=function(n){this.dateFilterParams=n,p.prototype.setParams.call(this,n);var a=function(u,c){if(null!=n[u]){if(!isNaN(n[u]))return null==n[u]?c:Number(n[u]);console.warn("AG Grid: DateFilter "+u+" is not a number")}return c};this.minValidYear=a("minValidYear",1e3),this.maxValidYear=a("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new qd(this.dateFilterParams,this.localeService,this.optionsFactory)},i.prototype.createDateCompWrapper=function(n){var a=this,u=new Q(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return a.onUiChanged()},filterParams:this.dateFilterParams},n);return this.addDestroyFunc(function(){return u.destroy()}),u},i.prototype.setElementValue=function(n,a){n.setDate(a)},i.prototype.setElementDisplayed=function(n,a){n.setDisplayed(a)},i.prototype.setElementDisabled=function(n,a){n.setDisabled(a)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueElement=function(){var n=document.createElement("div");return n.classList.add("ag-filter-body"),this.createFromToElement(n,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(n,this.eConditionPanelsTo,this.dateConditionToComps,"to"),n},i.prototype.createFromToElement=function(n,a,u,c){var v=document.createElement("div");v.classList.add("ag-filter-"+c),v.classList.add("ag-filter-date-"+c),a.push(v),n.appendChild(v),u.push(this.createDateCompWrapper(v))},i.prototype.removeValueElements=function(n,a){this.removeDateComps(this.dateConditionFromComps,n,a),this.removeDateComps(this.dateConditionToComps,n,a),this.removeItems(this.eConditionPanelsFrom,n,a),this.removeItems(this.eConditionPanelsTo,n,a)},i.prototype.removeDateComps=function(n,a,u){this.removeItems(n,a,u).forEach(function(v){return v.destroy()})},i.prototype.isConditionUiComplete=function(n){var a=this;if(!p.prototype.isConditionUiComplete.call(this,n))return!1;var c=!0;return this.forEachInput(function(v,C,T,M){T!==n||!c||C>=M||(c=c&&function(v){return null!=v&&v.getUTCFullYear()>=a.minValidYear&&v.getUTCFullYear()<=a.maxValidYear}(v.getDate()))}),c},i.prototype.areSimpleModelsEqual=function(n,a){return n.dateFrom===a.dateFrom&&n.dateTo===a.dateTo&&n.type===a.type},i.prototype.getFilterType=function(){return"date"},i.prototype.createCondition=function(n){var a=this.getConditionType(n),u={},c=this.getValues(n);return c.length>0&&(u.dateFrom=sa(c[0])),c.length>1&&(u.dateTo=sa(c[1])),Xd({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:a},u)},i.prototype.resetPlaceholder=function(){var n=this.localeService.getLocaleTextFunc(),a=this.translate("dateFormatOoo"),u=n("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(a),c.setInputAriaLabel(u)})},i.prototype.getInputs=function(n){return n>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[n],this.dateConditionToComps[n]]},i.prototype.getValues=function(n){var a=[];return this.forEachPositionInput(n,function(u,c,v,C){c<C&&a.push(u.getDate())}),a},i.prototype.getModelAsString=function(n){var a;return null!==(a=this.filterModelFormatter.getModelAsString(n))&&void 0!==a?a:""},i.DEFAULT_FILTER_OPTIONS=[ii.EQUALS,ii.GREATER_THAN,ii.LESS_THAN,ii.NOT_EQUAL,ii.IN_RANGE,ii.BLANK,ii.NOT_BLANK],function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(ii),dl=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),th=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return dl(i,p),i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.isEventFromFloatingFilter=function(n){return n&&n.afterFloatingFilter},i.prototype.isEventFromDataChange=function(n){return n?.afterDataChange},i.prototype.getLastType=function(){return this.lastType},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setLastTypeFromModel=function(n){n?this.lastType=(n.operator?n.conditions[0]:n).type:this.lastType=this.optionsFactory.getDefaultOption()},i.prototype.canWeEditAfterModelFromParentFilter=function(n){return n?!n.operator&&this.isTypeEditable(n.type):this.isTypeEditable(this.lastType)},i.prototype.init=function(n){this.optionsFactory=new ye,this.optionsFactory.init(n.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!n.filterParams.readOnly;var a=this.isTypeEditable(this.lastType);this.setEditable(a)},i.prototype.doesFilterHaveSingleInput=function(n){var u=(this.optionsFactory.getCustomOption(n)||{}).numberOfInputs;return null==u||1==u},i.prototype.isTypeEditable=function(n){var a=[cn.IN_RANGE,cn.EMPTY,cn.BLANK,cn.NOT_BLANK];return!!n&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(n)&&a.indexOf(n)<0},i}(lr),rh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},t_=function(p){function i(){return p.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return rh(i,p),i.prototype.getDefaultFilterOptions=function(){return Zd.DEFAULT_FILTER_OPTIONS},i.prototype.init=function(n){p.prototype.init.call(this,n),this.params=n,this.filterParams=n.filterParams,this.createDateComponent();var a=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(a("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new qd(this.filterParams,this.localeService,this.optionsFactory)},i.prototype.setEditable=function(n){Er(this.eDateWrapper,n),Er(this.eReadOnlyText.getGui(),!n)},i.prototype.onParentModelChanged=function(n,a){if(!this.isEventFromFloatingFilter(a)&&!this.isEventFromDataChange(a)){p.prototype.setLastTypeFromModel.call(this,n);var u=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(n);this.setEditable(u),u?(this.dateComp.setDate(n?oo(n.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(n)),this.dateComp.setDate(null))}},i.prototype.onDateChanged=function(){var n=this,u=sa(this.dateComp.getDate());this.params.parentFilterInstance(function(c){if(c){var v=oo(u);c.onFloatingFilterChanged(n.getLastType()||null,v)}})},i.prototype.createDateComponent=function(){var n=this,a=du.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u={onDateChanged:Pt(this.onDateChanged.bind(this),a),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Q(this.getContext(),this.userComponentFactory,u,this.eDateWrapper),this.addDestroyFunc(function(){return n.dateComp.destroy()})},i.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},gu([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),gu([gt("eReadOnlyText")],i.prototype,"eReadOnlyText",void 0),gu([gt("eDateWrapper")],i.prototype,"eDateWrapper",void 0),i}(th),nh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pl=function(p){function i(){return p.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return nh(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(n){var a=this,u=this.gridOptionsService.getDocument(),c=this.eDateInput.getInputElement(),v=this.shouldUseBrowserDatePicker(n);v&&(c.type="date");var C=v&&X();this.addManagedListener(c,"mousedown",function(){a.eDateInput.isDisabled()||C||c.focus()}),this.addManagedListener(c,"input",function($){$.target===u.activeElement&&(a.eDateInput.isDisabled()||n.onDateChanged())});var T=n.filterParams||{},M=T.minValidYear,F=T.maxValidYear;M&&(c.min=M+"-01-01"),F&&(c.max=F+"-12-31")},i.prototype.getDate=function(){return oo(this.eDateInput.getValue())},i.prototype.setDate=function(n){this.eDateInput.setValue(sa(n,!1))},i.prototype.setInputPlaceholder=function(n){this.eDateInput.setInputPlaceholder(n)},i.prototype.setDisabled=function(n){this.eDateInput.setDisabled(n)},i.prototype.afterGuiAttached=function(n){(!n||!n.suppressFocus)&&this.eDateInput.getInputElement().focus()},i.prototype.shouldUseBrowserDatePicker=function(n){return n.filterParams&&null!=n.filterParams.browserDatePicker?n.filterParams.browserDatePicker:de()||je()||X()&&j()>=14.1},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([gt("eDateInput")],i.prototype,"eDateInput",void 0),i}(lr),fl=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),To=function(p){function i(n,a,u){return void 0===a&&(a="ag-text-field"),void 0===u&&(u="text"),p.call(this,n,a,u)||this}return fl(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},i.prototype.setValue=function(n,a){var u=p.prototype.setValue.call(this,n,a);return this.eInput.value!==n&&(this.eInput.value=o(n)?n:""),u},i.prototype.preventDisallowedCharacters=function(){var n=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(u){u.ctrlKey||u.metaKey||u.key&&!n.test(u.key)&&u.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(u){var c,v=null===(c=u.clipboardData)||void 0===c?void 0:c.getData("text");v&&v.split("").some(function(C){return!n.test(C)})&&u.preventDefault()})},i}(Na),ih=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vu=function(p){function i(n){return p.call(this,n,"ag-number-field","number")||this}return ih(i,p),i.prototype.postConstruct=function(){var n=this;p.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var a=parseFloat(n.eInput.value),u=isNaN(a)?"":n.normalizeValue(a.toString());n.value!==u&&n.setValue(u)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},i.prototype.onWheel=function(n){document.activeElement===this.eInput&&n.preventDefault()},i.prototype.normalizeValue=function(n){if(""===n)return"";this.precision&&(n=this.adjustPrecision(n));var a=parseFloat(n);return null!=this.min&&a<this.min?n=this.min.toString():null!=this.max&&a>this.max&&(n=this.max.toString()),n},i.prototype.adjustPrecision=function(n){if(this.precision){var a=parseFloat(n).toFixed(this.precision);n=parseFloat(a).toString()}return n},i.prototype.setMin=function(n){return this.min===n||(this.min=n,mi(this.eInput,"min",n)),this},i.prototype.setMax=function(n){return this.max===n||(this.max=n,mi(this.eInput,"max",n)),this},i.prototype.setPrecision=function(n){return this.precision=n,this},i.prototype.setStep=function(n){return this.step===n||(this.step=n,mi(this.eInput,"step",n)),this},i.prototype.setValue=function(n,a){return null!=n&&(n=this.adjustPrecision(n))!=this.normalizeValue(n)?this:p.prototype.setValue.call(this,n,a)},i}(To),Ls=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r_=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Ls(i,p),i.prototype.conditionToString=function(n,a){return n.type==cn.IN_RANGE||2===(a||{}).numberOfInputs?n.filter+"-"+n.filterTo:null!=n.filter?""+n.filter:""+n.type},i}(zd);function oh(p){return(p??{}).allowedCharPattern||(de()?null:"\\d\\-\\.")}var n_=function(p){function i(){var n=p.call(this,"numberFilter")||this;return n.eValuesFrom=[],n.eValuesTo=[],n}return Ls(i,p),i.prototype.mapValuesFromModel=function(n){var a=n||{},c=a.filterTo,v=a.type;return[this.processValue(a.filter),this.processValue(c)].slice(0,this.getNumberOfInputs(v))},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.comparator=function(){return function(n,a){return n===a?0:n<a?1:-1}},i.prototype.setParams=function(n){this.numberFilterParams=n,p.prototype.setParams.call(this,n),this.filterModelFormatter=new r_(this.localeService,this.optionsFactory)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueElement=function(){var n=oh(this.numberFilterParams),a=document.createElement("div");return a.classList.add("ag-filter-body"),Br(a,"presentation"),this.createFromToElement(a,this.eValuesFrom,"from",n),this.createFromToElement(a,this.eValuesTo,"to",n),a},i.prototype.createFromToElement=function(n,a,u,c){var v=this.createManagedBean(c?new To({allowedCharPattern:c}):new vu);v.addCssClass("ag-filter-"+u),v.addCssClass("ag-filter-filter"),a.push(v),n.appendChild(v.getGui())},i.prototype.removeValueElements=function(n,a){this.removeComponents(this.eValuesFrom,n,a),this.removeComponents(this.eValuesTo,n,a)},i.prototype.getValues=function(n){var a=this,u=[];return this.forEachPositionInput(n,function(c,v,C,T){v<T&&u.push(a.processValue(a.stringToFloat(c.getValue())))}),u},i.prototype.areSimpleModelsEqual=function(n,a){return n.filter===a.filter&&n.filterTo===a.filterTo&&n.type===a.type},i.prototype.getFilterType=function(){return"number"},i.prototype.processValue=function(n){return null==n||isNaN(n)?null:n},i.prototype.stringToFloat=function(n){if("number"==typeof n)return n;var a=r(n);return null!=a&&""===a.trim()&&(a=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(a):null==a||"-"===a.trim()?null:parseFloat(a)},i.prototype.createCondition=function(n){var a=this.getConditionType(n),u={filterType:this.getFilterType(),type:a},c=this.getValues(n);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},i.prototype.getInputs=function(n){return n>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[n],this.eValuesTo[n]]},i.prototype.getModelAsString=function(n){var a;return null!==(a=this.filterModelFormatter.getModelAsString(n))&&void 0!==a?a:""},i.DEFAULT_FILTER_OPTIONS=[ii.EQUALS,ii.NOT_EQUAL,ii.LESS_THAN,ii.LESS_THAN_OR_EQUAL,ii.GREATER_THAN,ii.GREATER_THAN_OR_EQUAL,ii.IN_RANGE,ii.BLANK,ii.NOT_BLANK],i}(ii),i_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qd=function(){return Qd=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Qd.apply(this,arguments)},o_=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return i_(i,p),i.prototype.conditionToString=function(n,a){return n.type==cn.IN_RANGE||2===(a||{}).numberOfInputs?n.filter+"-"+n.filterTo:null!=n.filter?""+n.filter:""+n.type},i}(zd),ep=function(p){function i(){var n=p.call(this,"textFilter")||this;return n.eValuesFrom=[],n.eValuesTo=[],n}return i_(i,p),i.trimInput=function(n){var a=n&&n.trim();return""===a?n:a},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.setParams=function(n){this.textFilterParams=n,p.prototype.setParams.call(this,n),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?i.DEFAULT_FORMATTER:i.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new o_(this.localeService,this.optionsFactory)},i.prototype.getTextMatcher=function(){var n=this.textFilterParams.textCustomComparator;return n?(Wt.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(a){return n(a.filterOption,a.value,a.filterText)}):this.textFilterParams.textMatcher||i.DEFAULT_MATCHER},i.prototype.createCondition=function(n){var a=this.getConditionType(n),u={filterType:this.getFilterType(),type:a},c=this.getValues(n);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},i.prototype.getFilterType=function(){return"text"},i.prototype.areSimpleModelsEqual=function(n,a){return n.filter===a.filter&&n.filterTo===a.filterTo&&n.type===a.type},i.prototype.getInputs=function(n){return n>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[n],this.eValuesTo[n]]},i.prototype.getValues=function(n){var a=this,u=[];return this.forEachPositionInput(n,function(c,v,C,T){if(v<T){var M=r(c.getValue()),F=(a.textFilterParams.trimInput?i.trimInput(M):M)||null;u.push(F),c.setValue(F,!0)}}),u},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueElement=function(){var n=document.createElement("div");return n.classList.add("ag-filter-body"),Br(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from"),this.createFromToElement(n,this.eValuesTo,"to"),n},i.prototype.createFromToElement=function(n,a,u){var c=this.createManagedBean(new To);c.addCssClass("ag-filter-"+u),c.addCssClass("ag-filter-filter"),a.push(c),n.appendChild(c.getGui())},i.prototype.removeValueElements=function(n,a){this.removeComponents(this.eValuesFrom,n,a),this.removeComponents(this.eValuesTo,n,a)},i.prototype.mapValuesFromModel=function(n){var a=n||{};return[a.filter||null,a.filterTo||null].slice(0,this.getNumberOfInputs(a.type))},i.prototype.evaluateNullValue=function(n){return!!n&&[cn.NOT_EQUAL,cn.NOT_CONTAINS,cn.BLANK].indexOf(n)>=0},i.prototype.evaluateNonNullValue=function(n,a,u,c){var v=this,C=n.map(function(He){return v.formatter(He)})||[],T=this.formatter(a),M=this.textFilterParams,F=M.api,$=M.colDef,ne=M.column,pe=M.columnApi,me=M.context,Te=M.textFormatter;if(u.type===cn.BLANK)return this.isBlank(a);if(u.type===cn.NOT_BLANK)return!this.isBlank(a);var Ae={api:F,colDef:$,column:ne,columnApi:pe,context:me,node:c.node,data:c.data,filterOption:u.type,value:T,textFormatter:Te};return C.some(function(He){return v.matcher(Qd(Qd({},Ae),{filterText:He}))})},i.prototype.getModelAsString=function(n){var a;return null!==(a=this.filterModelFormatter.getModelAsString(n))&&void 0!==a?a:""},i.DEFAULT_FILTER_OPTIONS=[cn.CONTAINS,cn.NOT_CONTAINS,cn.EQUALS,cn.NOT_EQUAL,cn.STARTS_WITH,cn.ENDS_WITH,cn.BLANK,cn.NOT_BLANK],i.DEFAULT_FORMATTER=function(n){return n},i.DEFAULT_LOWERCASE_FORMATTER=function(n){return null==n?null:n.toString().toLowerCase()},i.DEFAULT_MATCHER=function(n){var u=n.value,c=n.filterText;if(null==c)return!1;switch(n.filterOption){case i.CONTAINS:return u.indexOf(c)>=0;case i.NOT_CONTAINS:return u.indexOf(c)<0;case i.EQUALS:return u===c;case i.NOT_EQUAL:return u!=c;case i.STARTS_WITH:return 0===u.indexOf(c);case i.ENDS_WITH:var v=u.lastIndexOf(c);return v>=0&&v===u.length-c.length;default:return!1}},i}(cn),a_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ns=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},s_=function(p){function i(n){var a=p.call(this)||this;return a.params=n,a}return a_(i,p),i.prototype.setupGui=function(n){this.eFloatingFilterTextInput=this.createManagedBean(new To(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),n.appendChild(this.eFloatingFilterTextInput.getGui())},i.prototype.setEditable=function(n){this.eFloatingFilterTextInput.setDisabled(!n)},i.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},i.prototype.setValue=function(n,a){this.eFloatingFilterTextInput.setValue(n,a)},i.prototype.addValueChangedListener=function(n){var a=this.eFloatingFilterTextInput.getGui();this.addManagedListener(a,"input",n),this.addManagedListener(a,"keypress",n),this.addManagedListener(a,"keydown",n)},i}(nt),l_=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return a_(i,p),i.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.onParentModelChanged=function(n,a){this.isEventFromFloatingFilter(a)||this.isEventFromDataChange(a)||(this.setLastTypeFromModel(n),this.setEditable(this.canWeEditAfterModelFromParentFilter(n)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(n)))},i.prototype.init=function(n){this.params=n;var c=this.columnModel.getDisplayNameForColumn(n.column,"header",!0)+" "+this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input");if(this.floatingFilterInputService=this.createFloatingFilterInputService(c),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),p.prototype.init.call(this,n),this.applyActive=du.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var v=du.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),C=Pt(this.syncUpWithParentFilter.bind(this),v);this.floatingFilterInputService.addValueChangedListener(C)}},i.prototype.syncUpWithParentFilter=function(n){var a=this;if(!this.applyActive||n.key===Je.ENTER){var c=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(c=ep.trimInput(c),this.floatingFilterInputService.setValue(c,!0)),this.params.parentFilterInstance(function(v){v&&v.onFloatingFilterChanged(a.getLastType()||null,c||null)})}},i.prototype.setEditable=function(n){this.floatingFilterInputService.setEditable(n)},Ns([ae("columnModel")],i.prototype,"columnModel",void 0),Ns([gt("eFloatingFilterInputContainer")],i.prototype,"eFloatingFilterInputContainer",void 0),Ns([Xe],i.prototype,"postConstruct",null),i}(th),Kn=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u_=function(p){function i(n){var a=p.call(this)||this;return a.params=n,a.numberInputActive=!0,a}return Kn(i,p),i.prototype.setupGui=function(n){this.eFloatingFilterNumberInput=this.createManagedBean(new vu),this.eFloatingFilterTextInput=this.createManagedBean(new To),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),n.appendChild(this.eFloatingFilterNumberInput.getGui()),n.appendChild(this.eFloatingFilterTextInput.getGui())},i.prototype.setEditable=function(n){this.numberInputActive=n,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},i.prototype.getValue=function(){return this.getActiveInputElement().getValue()},i.prototype.setValue=function(n,a){this.getActiveInputElement().setValue(n,a)},i.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},i.prototype.addValueChangedListener=function(n){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),n),this.setupListeners(this.eFloatingFilterTextInput.getGui(),n)},i.prototype.setupListeners=function(n,a){this.addManagedListener(n,"input",a),this.addManagedListener(n,"keypress",a),this.addManagedListener(n,"keydown",a)},i}(nt),_u=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Kn(i,p),i.prototype.init=function(n){p.prototype.init.call(this,n),this.filterModelFormatter=new r_(this.localeService,this.optionsFactory)},i.prototype.getDefaultFilterOptions=function(){return n_.DEFAULT_FILTER_OPTIONS},i.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},i.prototype.createFloatingFilterInputService=function(n){var a=oh(this.params.filterParams);return this.createManagedBean(a?new s_({config:{allowedCharPattern:a},ariaLabel:n}):new u_({ariaLabel:n}))},i}(l_),c_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mo=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return c_(i,p),i.prototype.init=function(n){p.prototype.init.call(this,n),this.filterModelFormatter=new o_(this.localeService,this.optionsFactory)},i.prototype.getDefaultFilterOptions=function(){return ep.DEFAULT_FILTER_OPTIONS},i.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},i.prototype.createFloatingFilterInputService=function(n){return this.createManagedBean(new s_({ariaLabel:n}))},i}(l_),di=function(){function p(i,n){var a=this;void 0===n&&(n=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Or,this.eElement=i,this.preventMouseClick=n;var u=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),v=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",u,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",v,{passive:!1}),this.destroyFuncs.push(function(){a.eElement.removeEventListener("touchstart",u,{passive:!0}),a.eElement.removeEventListener("touchmove",c,{passive:!0}),a.eElement.removeEventListener("touchend",v,{passive:!1})})}return p.prototype.getActiveTouch=function(i){for(var n=0;n<i.length;n++)if(i[n].identifier===this.touchStart.identifier)return i[n];return null},p.prototype.addEventListener=function(i,n){this.eventService.addEventListener(i,n)},p.prototype.removeEventListener=function(i,n){this.eventService.removeEventListener(i,n)},p.prototype.onTouchStart=function(i){var n=this;if(!this.touching){this.touchStart=i.touches[0],this.touching=!0,this.moved=!1;var a=this.touchStart;window.setTimeout(function(){n.touching&&n.touchStart===a&&!n.moved&&(n.moved=!0,n.eventService.dispatchEvent({type:p.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:i}))},500)}},p.prototype.onTouchMove=function(i){if(this.touching){var n=this.getActiveTouch(i.touches);n&&!Ms(n,this.touchStart,4)&&(this.moved=!0)}},p.prototype.onTouchEnd=function(i){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:p.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&i.cancelable&&i.preventDefault(),this.touching=!1)},p.prototype.checkForDoubleTap=function(){var i=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&i-this.lastTapTime>p.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:p.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=i},p.prototype.destroy=function(){this.destroyFuncs.forEach(function(i){return i()})},p.EVENT_TAP="tap",p.EVENT_DOUBLE_TAP="doubleTap",p.EVENT_LONG_TAP="longTap",p.DOUBLE_TAP_MILLIS=500,p}(),ah=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ca=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Fs=function(p){function i(n){var a=p.call(this)||this;return n||a.setTemplate(i.TEMPLATE),a}return ah(i,p),i.prototype.attachCustomElements=function(n,a,u,c,v){this.eSortOrder=n,this.eSortAsc=a,this.eSortDesc=u,this.eSortMixed=c,this.eSortNone=v},i.prototype.setupSort=function(n,a){var u=this;void 0===a&&(a=!1),this.column=n,this.suppressOrder=a,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,n),this.addInIcon("sortDescending",this.eSortDesc,n),this.addInIcon("sortUnSort",this.eSortNone,n),this.addManagedListener(this.eventService,z.EVENT_SORT_CHANGED,function(){return u.onSortChanged()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return u.onSortChanged()}),this.onSortChanged())},i.prototype.addInIcon=function(n,a,u){if(null!=a){var c=wn(n,this.gridOptionsService,u);c&&a.appendChild(c)}},i.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},i.prototype.updateIcons=function(){var n=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&Er(this.eSortAsc,"asc"===n,{skipAriaHidden:!0}),this.eSortDesc&&Er(this.eSortDesc,"desc"===n,{skipAriaHidden:!0}),this.eSortNone){var c=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon");Er(this.eSortNone,!c&&null==n,{skipAriaHidden:!0})}},i.prototype.setupMultiSortIndicator=function(){var n=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var a=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&a&&(this.addManagedListener(this.eventService,z.EVENT_SORT_CHANGED,function(){return n.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},i.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var n="mixed"===this.sortController.getDisplaySortForColumn(this.column);Er(this.eSortMixed,n,{skipAriaHidden:!0})}},i.prototype.updateSortOrder=function(){var a,n=this;if(this.eSortOrder){var u=this.sortController.getColumnsWithSortingOrdered(),c=null!==(a=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==a?a:-1,v=u.some(function(T){var M;return null!==(M=n.sortController.getDisplaySortIndexForColumn(T))&&void 0!==M&&M});Er(this.eSortOrder,c>=0&&v,{skipAriaHidden:!0}),c>=0?this.eSortOrder.innerHTML=(c+1).toString():ze(this.eSortOrder)}},i.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',ca([gt("eSortOrder")],i.prototype,"eSortOrder",void 0),ca([gt("eSortAsc")],i.prototype,"eSortAsc",void 0),ca([gt("eSortDesc")],i.prototype,"eSortDesc",void 0),ca([gt("eSortMixed")],i.prototype,"eSortMixed",void 0),ca([gt("eSortNone")],i.prototype,"eSortNone",void 0),ca([ae("columnModel")],i.prototype,"columnModel",void 0),ca([ae("sortController")],i.prototype,"sortController",void 0),i}(lr),d_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ro=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},p_=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.lastMovingChanged=0,n}return d_(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.refresh=function(n){return this.params=n,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(n),!0)},i.prototype.workOutTemplate=function(){var n=br(this.params.template,i.TEMPLATE);return n&&n.trim?n.trim():n},i.prototype.init=function(n){this.params=n,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(n.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(n)},i.prototype.setDisplayName=function(n){if(this.currentDisplayName!=n.displayName){this.currentDisplayName=n.displayName;var a=ar(this.currentDisplayName);this.eText&&(this.eText.innerHTML=a)}},i.prototype.setupIcons=function(n){this.addInIcon("menu",this.eMenu,n),this.addInIcon("filter",this.eFilter,n)},i.prototype.addInIcon=function(n,a,u){if(null!=a){var c=wn(n,this.gridOptionsService,u);c&&a.appendChild(c)}},i.prototype.setupTap=function(){var n=this,a=this.gridOptionsService;if(!a.is("suppressTouch")){var u=new di(this.getGui(),!0),c=a.is("suppressMenuHide"),v=c&&o(this.eMenu),C=v?new di(this.eMenu,!0):u;this.params.enableMenu&&this.addManagedListener(C,di[v?"EVENT_TAP":"EVENT_LONG_TAP"],function($){a.api.showColumnMenuAfterMouseClick(n.params.column,$.touchStart)}),this.params.enableSorting&&this.addManagedListener(u,di.EVENT_TAP,function($){c&&n.eMenu.contains($.touchStart.target)||n.sortController.progressSort(n.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return u.destroy()}),v&&this.addDestroyFunc(function(){return C.destroy()})}},i.prototype.workOutShowMenu=function(){var n=!this.gridOptionsService.is("suppressMenuHide"),a=Rr()&&n;return this.params.enableMenu&&!a},i.prototype.setMenu=function(){var n=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Sr(this.eMenu);var a=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return n.showMenu(n.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",a)}},i.prototype.showMenu=function(n){n||(n=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,n,"columnMenu")},i.prototype.workOutSort=function(){return this.params.enableSorting},i.prototype.setupSort=function(){var n=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Fs(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var a="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,Cr.EVENT_MOVING_CHANGED,function(){n.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(c){var v=n.params.column.isMoving(),C=(new Date).getTime();v||C-n.lastMovingChanged<50||n.params.progressSort(a?c.ctrlKey||c.metaKey:c.shiftKey)});var u=function(){if(n.addOrRemoveCssClass("ag-header-cell-sorted-asc",n.params.column.isSortAscending()),n.addOrRemoveCssClass("ag-header-cell-sorted-desc",n.params.column.isSortDescending()),n.addOrRemoveCssClass("ag-header-cell-sorted-none",n.params.column.isSortNone()),n.params.column.getColDef().showRowGroup){var c=n.columnModel.getSourceColumnsForGroupColumn(n.params.column),v=c?.every(function(T){return n.params.column.getSort()==T.getSort()});n.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!v)}};this.addManagedListener(this.eventService,z.EVENT_SORT_CHANGED,u),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,u)}},i.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Cr.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},i.prototype.onFilterChanged=function(){var n=this.params.column.isFilterActive();Er(this.eFilter,n,{skipAriaHidden:!0})},i.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Ro([ae("sortController")],i.prototype,"sortController",void 0),Ro([ae("menuFactory")],i.prototype,"menuFactory",void 0),Ro([ae("columnModel")],i.prototype,"columnModel",void 0),Ro([gt("eFilter")],i.prototype,"eFilter",void 0),Ro([gt("eSortIndicator")],i.prototype,"eSortIndicator",void 0),Ro([gt("eMenu")],i.prototype,"eMenu",void 0),Ro([gt("eLabel")],i.prototype,"eLabel",void 0),Ro([gt("eText")],i.prototype,"eText",void 0),Ro([gt("eSortOrder")],i.prototype,"eSortOrder",void 0),Ro([gt("eSortAsc")],i.prototype,"eSortAsc",void 0),Ro([gt("eSortDesc")],i.prototype,"eSortDesc",void 0),Ro([gt("eSortMixed")],i.prototype,"eSortMixed",void 0),Ro([gt("eSortNone")],i.prototype,"eSortNone",void 0),i}(lr),GC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ki=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},tp=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return GC(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(n){this.params=n,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},i.prototype.checkWarnings=function(){this.params.template&&_e(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},i.prototype.setupExpandIcons=function(){var n=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var a=function(v){if(!An(v)){var C=!n.params.columnGroup.isExpanded();n.columnModel.setColumnGroupOpened(n.params.columnGroup.getProvidedColumnGroup(),C,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,a),this.addTouchAndClickListeners(this.eOpenIcon,a);var u=function(v){Jn(v)};this.addManagedListener(this.eCloseIcon,"dblclick",u),this.addManagedListener(this.eOpenIcon,"dblclick",u),this.addManagedListener(this.getGui(),"dblclick",a),this.updateIconVisibility();var c=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(c,Bt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,Bt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},i.prototype.addTouchAndClickListeners=function(n,a){var u=new di(n,!0);this.addManagedListener(u,di.EVENT_TAP,a),this.addDestroyFunc(function(){return u.destroy()}),this.addManagedListener(n,"click",a)},i.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var a=this.params.columnGroup.isExpanded();Er(this.eOpenIcon,a),Er(this.eCloseIcon,!a)}else Er(this.eOpenIcon,!1),Er(this.eCloseIcon,!1)},i.prototype.addInIcon=function(n,a){var u=wn(n,this.gridOptionsService,null);u&&this.getRefElement(a).appendChild(u)},i.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Er(this.eOpenIcon,!1),void Er(this.eCloseIcon,!1)},i.prototype.setupLabel=function(){var n,a=this.params,u=a.displayName,c=a.columnGroup;if(o(u)){var v=ar(u);this.getRefElement("agLabel").innerHTML=v}this.addOrRemoveCssClass("ag-sticky-label",!(null===(n=c.getColGroupDef())||void 0===n||!n.stickyLabel))},i.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',ki([ae("columnModel")],i.prototype,"columnModel",void 0),ki([gt("agOpened")],i.prototype,"eOpenIcon",void 0),ki([gt("agClosed")],i.prototype,"eCloseIcon",void 0),i}(lr),hl=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yu=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return hl(i,p),i.prototype.isPopup=function(){return!0},i.prototype.setParentComponent=function(n){n.addCssClass("ag-has-popup"),p.prototype.setParentComponent.call(this,n)},i.prototype.destroy=function(){var n=this.parentComponent;n&&n.isAlive()&&n.getGui().classList.remove("ag-has-popup"),p.prototype.destroy.call(this)},i}(lr),sh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),h_=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return sh(i,p),i.prototype.init=function(n){this.params=n,this.focusAfterAttached=n.cellStartedEdit,this.eTextArea.setMaxLength(n.maxLength||200).setCols(n.cols||60).setRows(n.rows||10),o(n.value,!0)&&this.eTextArea.setValue(n.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},i.prototype.onKeyDown=function(n){var a=n.key;(a===Je.LEFT||a===Je.UP||a===Je.RIGHT||a===Je.DOWN||n.shiftKey&&a===Je.ENTER)&&n.stopPropagation()},i.prototype.afterGuiAttached=function(){var n=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},i.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},i.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([gt("eTextArea")],i.prototype,"eTextArea",void 0),i}(yu),g_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lh=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},v_=function(p){function i(){var n=p.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return n.startedByEnter=!1,n}return g_(i,p),i.prototype.init=function(n){var a=this;if(this.focusAfterAttached=n.cellStartedEdit,s(n.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=n.eventKey&&n.eventKey===Je.ENTER;var u=!1;n.values.forEach(function(c){var v={value:c},C=a.valueFormatterService.formatValue(n.column,null,c);v.text=null!=C?C:c,a.eSelect.addOption(v),u=u||n.value===c}),u?this.eSelect.setValue(n.value,!0):n.values.length&&this.eSelect.setValue(n.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,Oc.EVENT_ITEM_SELECTED,function(){return n.stopEditing()})}},i.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},i.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},i.prototype.getValue=function(){return this.eSelect.getValue()},i.prototype.isPopup=function(){return!1},lh([ae("valueFormatterService")],i.prototype,"valueFormatterService",void 0),lh([gt("eSelect")],i.prototype,"eSelect",void 0),i}(yu),__=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),mu=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return __(i,p),i.prototype.init=function(n){this.params=n;var u,a=this.eInput;n.cellStartedEdit?(this.focusAfterAttached=!0,n.eventKey===Je.BACKSPACE||n.eventKey===Je.DELETE?u="":n.charPress?u=n.charPress:(u=this.getStartValue(n),n.eventKey!==Je.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,u=this.getStartValue(n)),null!=u&&a.setValue(u,!0),null!=n.maxLength&&a.setMaxLength(n.maxLength),this.addManagedListener(a.getGui(),"keydown",function(c){var v=c.key;(v===Je.PAGE_UP||v===Je.PAGE_DOWN)&&c.preventDefault()})},i.prototype.afterGuiAttached=function(){var n=this.localeService.getLocaleTextFunc(),a=this.eInput;if(a.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached){X()||a.getFocusableElement().focus();var u=a.getInputElement();if(this.highlightAllOnFocus)u.select();else{var c=a.getValue(),v=o(c)&&c.length||0;v&&u.setSelectionRange(v,v)}}},i.prototype.focusIn=function(){var n=this.eInput,a=n.getFocusableElement(),u=n.getInputElement();a.focus(),u.select()},i.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},i.prototype.getStartValue=function(n){return n.useFormatter||n.column.getColDef().refData?n.formatValue(n.value):n.value},i.prototype.isPopup=function(){return!1},i.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([gt("eInput")],i.prototype,"eInput",void 0),i}(yu),y_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),C_=function(p){function i(){var n=p.call(this,i.TEMPLATE)||this;return n.refreshCount=0,n}return y_(i,p),i.prototype.init=function(n){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(n)},i.prototype.showDelta=function(n,a){var u=Math.abs(a),c=n.formatValue(u),v=o(c)?c:u,C=a>=0;this.eDelta.innerHTML=C?"\u2191"+v:"\u2193"+v,this.eDelta.classList.toggle("ag-value-change-delta-up",C),this.eDelta.classList.toggle("ag-value-change-delta-down",!C)},i.prototype.setTimerToRemoveDelta=function(){var n=this;this.refreshCount++;var a=this.refreshCount;window.setTimeout(function(){a===n.refreshCount&&n.hideDeltaValue()},2e3)},i.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),ze(this.eDelta)},i.prototype.refresh=function(n){var a=n.value;return a!==this.lastValue&&(o(n.valueFormatted)?this.eValue.innerHTML=n.valueFormatted:o(n.value)?this.eValue.innerHTML=a:ze(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof a&&"number"==typeof this.lastValue&&this.showDelta(n,a-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=a,!0)},i.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([ae("filterManager")],i.prototype,"filterManager",void 0),i}(lr),uh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bc=function(p){function i(){var n=p.call(this,i.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return uh(i,p),i.prototype.init=function(n){this.refresh(n)},i.prototype.addSlideAnimation=function(){var n=this;this.refreshCount++;var a=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=zt('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){a===n.refreshCount&&n.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){a===n.refreshCount&&(n.getGui().removeChild(n.ePrevious),n.ePrevious=null)},3e3)},i.prototype.refresh=function(n){var a=n.value;return s(a)&&(a=""),a!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=a,o(n.valueFormatted)?this.eCurrent.innerHTML=n.valueFormatted:o(n.value)?this.eCurrent.innerHTML=a:ze(this.eCurrent),!0)},i.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([ae("filterManager")],i.prototype,"filterManager",void 0),i}(lr),Gs=function(){return Gs=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Gs.apply(this,arguments)},yr=function(){function p(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=p.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=i}return p.prototype.setData=function(i){this.setDataCommon(i,!1)},p.prototype.updateData=function(i){this.setDataCommon(i,!0)},p.prototype.setDataCommon=function(i,n){var a=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var u=this.createDataChangedEvent(i,a,n);this.dispatchLocalEvent(u)},p.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},p.prototype.createDataChangedEvent=function(i,n,a){return{type:p.EVENT_DATA_CHANGED,node:this,oldData:n,newData:i,update:a}},p.prototype.createLocalRowEvent=function(i){return{type:i,node:this}},p.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},p.prototype.createDaemonNode=function(){var i=new p(this.beans);return i.id=this.id,i.data=this.data,i.__daemon=!0,i.selected=this.selected,i.level=this.level,i},p.prototype.setDataAndId=function(i,n){var a=o(this.id)?this.createDaemonNode():null,u=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(n),this.beans.selectionService.syncInRowNode(this,a),this.checkRowSelectable();var c=this.createDataChangedEvent(i,u,!1);this.dispatchLocalEvent(c)},p.prototype.checkRowSelectable=function(){var i=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!i||i(this))},p.prototype.setRowSelectable=function(i){if(this.selectable!==i&&(this.selectable=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var a=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:a??!1,source:"selectableChanged"})}},p.prototype.setId=function(i){var n=this.beans.gridOptionsService.getRowIdFunc();if(n)if(this.data){var a=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:a.length>0?a:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(p.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+p.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=i},p.prototype.getGroupKeys=function(i){void 0===i&&(i=!1);var n=[],a=this;for(i&&(a=a.parent);a&&a.level>=0;)n.push(a.key),a=a.parent;return n.reverse(),n},p.prototype.isPixelInRange=function(i){return!(!o(this.rowTop)||!o(this.rowHeight))&&i>=this.rowTop&&i<this.rowTop+this.rowHeight},p.prototype.setFirstChild=function(i){this.firstChild!==i&&(this.firstChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_FIRST_CHILD_CHANGED)))},p.prototype.setLastChild=function(i){this.lastChild!==i&&(this.lastChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_LAST_CHILD_CHANGED)))},p.prototype.setChildIndex=function(i){this.childIndex!==i&&(this.childIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_CHILD_INDEX_CHANGED)))},p.prototype.setRowTop=function(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_TOP_CHANGED)),this.setDisplayed(null!==i))},p.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},p.prototype.setDisplayed=function(i){this.displayed!==i&&(this.displayed=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_DISPLAYED_CHANGED)))},p.prototype.setDragging=function(i){this.dragging!==i&&(this.dragging=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_DRAGGING_CHANGED)))},p.prototype.setHighlighted=function(i){i!==this.highlighted&&(this.highlighted=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HIGHLIGHT_CHANGED)))},p.prototype.setHovered=function(i){this.hovered!==i&&(this.hovered=i)},p.prototype.isHovered=function(){return this.hovered},p.prototype.setAllChildrenCount=function(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},p.prototype.setMaster=function(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_MASTER_CHANGED)))},p.prototype.setGroup=function(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_GROUP_CHANGED)))},p.prototype.setRowHeight=function(i,n){void 0===n&&(n=!1),this.rowHeight=i,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HEIGHT_CHANGED))},p.prototype.setRowAutoHeight=function(i,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=i,null!=i&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Pt(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},p.prototype.checkAutoHeights=function(){var i=this,n=!1,a=!0,u=0,c=this.__autoHeights;if(null!=c&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(T){var M=c[T.getId()];if(null==M){if(!i.beans.columnModel.isColSpanActive())return void(n=!0);var F=[];switch(T.getPinned()){case"left":F=i.beans.columnModel.getDisplayedLeftColumnsForRow(i);break;case"right":F=i.beans.columnModel.getDisplayedRightColumnsForRow(i);break;case null:F=i.beans.columnModel.getViewportCenterColumnsForRow(i)}if(F.includes(T))return void(n=!0);M=-1}else a=!1;M>u&&(u=M)}),!n&&((a||u<10)&&(u=this.beans.gridOptionsService.getRowHeightForNode(this).height),u!=this.rowHeight))){this.setRowHeight(u);var C=this.beans.rowModel;C.onRowHeightChangedDebounced&&C.onRowHeightChangedDebounced()}},p.prototype.setRowIndex=function(i){this.rowIndex!==i&&(this.rowIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_ROW_INDEX_CHANGED)))},p.prototype.setUiLevel=function(i){this.uiLevel!==i&&(this.uiLevel=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_UI_LEVEL_CHANGED)))},p.prototype.setExpanded=function(i,n){if(this.expanded!==i){this.expanded=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_EXPANDED_CHANGED));var a=Object.assign({},this.createGlobalRowEvent(z.EVENT_ROW_GROUP_OPENED),{expanded:i,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(a),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},p.prototype.createGlobalRowEvent=function(i){return{type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},p.prototype.dispatchLocalEvent=function(i){this.eventService&&this.eventService.dispatchEvent(i)},p.prototype.setDataValue=function(i,n,a){var M,v="string"!=typeof i?i:null!==(M=this.beans.columnModel.getGridColumn(i))&&void 0!==M?M:this.beans.columnModel.getPrimaryColumn(i),C=this.getValueFromValueService(v);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(v,C,n,a),!1;var T=this.beans.valueService.setValue(this,v,n,a);return this.dispatchCellChangedEvent(v,n,C),this.checkRowSelectable(),T},p.prototype.getValueFromValueService=function(i){var n=this.leafGroup&&this.beans.columnModel.isPivotMode(),a=this.group&&this.expanded&&!this.footer&&!n,u=this.beans.gridOptionsService.is("groupIncludeFooter"),c=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(i,this,!1,a&&u&&!c)},p.prototype.dispatchEventForSaveValueReadOnly=function(i,n,a,u){var c={type:z.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:i,colDef:i.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:n,newValue:a,value:a,source:u};this.beans.eventService.dispatchEvent(c)},p.prototype.setGroupValue=function(i,n){var a=this.beans.columnModel.getGridColumn(i);s(this.groupData)&&(this.groupData={});var u=a.getColId(),c=this.groupData[u];c!==n&&(this.groupData[u]=n,this.dispatchCellChangedEvent(a,n,c))},p.prototype.setAggData=function(i){var n=this,a=se([this.aggData,i]),u=this.aggData;this.aggData=i,this.eventService&&a.forEach(function(c){var v=n.beans.columnModel.getGridColumn(c);n.dispatchCellChangedEvent(v,n.aggData?n.aggData[c]:void 0,u?u[c]:void 0)})},p.prototype.updateHasChildren=function(){var i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var a=this.beans.gridOptionsService.isTreeData(),u=this.beans.gridOptionsService.get("isServerSideGroup");i=!this.stub&&!this.footer&&(a?!!u&&u(this.data):!!this.group)}i!==this.__hasChildren&&(this.__hasChildren=!!i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HAS_CHILDREN_CHANGED)))},p.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},p.prototype.isEmptyRowGroupNode=function(){return this.group&&d(this.childrenAfterGroup)},p.prototype.dispatchCellChangedEvent=function(i,n,a){this.dispatchLocalEvent({type:p.EVENT_CELL_CHANGED,node:this,column:i,newValue:n,oldValue:a})},p.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},p.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},p.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},p.prototype.depthFirstSearch=function(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(n){return n.depthFirstSearch(i)}),i(this)},p.prototype.calculateSelectedFromChildren=function(){var i,n=!1,a=!1,u=!1;if(null===(i=this.childrenAfterGroup)||void 0===i||!i.length)return this.selectable?this.selected:null;for(var c=0;c<this.childrenAfterGroup.length;c++){var v=this.childrenAfterGroup[c],C=v.isSelected();if(!v.selectable){var T=v.calculateSelectedFromChildren();if(null===T)continue;C=T}switch(C){case!0:n=!0;break;case!1:a=!0;break;default:u=!0}}return u||n&&a?void 0:!!n||!a&&(this.selectable?this.selected:null)},p.prototype.setSelectedInitialValue=function(i){this.selected=i},p.prototype.selectThisNode=function(i,n,a){if(void 0===a&&(a="api"),!this.selectable&&i||this.selected===i)return!1;this.selected=i,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_ROW_SELECTED));var v=Gs(Gs({},this.createGlobalRowEvent(z.EVENT_ROW_SELECTED)),{event:n||null,source:a});return this.beans.eventService.dispatchEvent(v),!0},p.prototype.setSelected=function(i,n,a,u){void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===u&&(u="api"),this.setSelectedParams({newValue:i,clearSelection:n,suppressFinishActions:a,rangeSelect:!1,source:u})},p.prototype.setSelectedParams=function(i){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodeSelected(Gs(Gs({},i),{node:this.footer?this.sibling:this}))},p.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},p.prototype.isParentOfNode=function(i){for(var n=this.parent;n;){if(n===i)return!0;n=n.parent}return!1},p.prototype.addEventListener=function(i,n){this.eventService||(this.eventService=new Or),this.eventService.addEventListener(i,n)},p.prototype.removeEventListener=function(i,n){this.eventService&&(this.eventService.removeEventListener(i,n),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},p.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_MOUSE_ENTER))},p.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_MOUSE_LEAVE))},p.prototype.getFirstChildOfFirstChild=function(i){for(var n=this,a=!0,u=!1,c=null;a&&!u;){var v=n.parent;o(v)&&n.firstChild?v.rowGroupColumn===i&&(u=!0,c=v):a=!1,n=v}return u?c:null},p.prototype.isFullWidthCell=function(){var i=this.getIsFullWidthCellFunc();return!!i&&i({rowNode:this})},p.prototype.getIsFullWidthCellFunc=function(){var i=this.beans.gridOptionsService.getCallback("isFullWidthRow");if(i)return i;var n=this.beans.gridOptionsService.get("isFullWidthCell");return n?function(a){return n(a.rowNode)}:void 0},p.prototype.getRoute=function(){if(null!=this.key){for(var i=[],n=this;null!=n.key;)i.push(n.key),n=n.parent;return i.reverse()}},p.prototype.createFooter=function(){var i=this;if(!this.sibling){var n=new p(this.beans);Object.keys(this).forEach(function(a){n[a]=i[a]}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},p.ID_PREFIX_ROW_GROUP="row-group-",p.ID_PREFIX_TOP_PINNED="t-",p.ID_PREFIX_BOTTOM_PINNED="b-",p.OBJECT_ID_SEQUENCE=0,p.EVENT_ROW_SELECTED="rowSelected",p.EVENT_DATA_CHANGED="dataChanged",p.EVENT_CELL_CHANGED="cellChanged",p.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",p.EVENT_MASTER_CHANGED="masterChanged",p.EVENT_GROUP_CHANGED="groupChanged",p.EVENT_MOUSE_ENTER="mouseEnter",p.EVENT_MOUSE_LEAVE="mouseLeave",p.EVENT_HEIGHT_CHANGED="heightChanged",p.EVENT_TOP_CHANGED="topChanged",p.EVENT_DISPLAYED_CHANGED="displayedChanged",p.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",p.EVENT_LAST_CHILD_CHANGED="lastChildChanged",p.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",p.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",p.EVENT_EXPANDED_CHANGED="expandedChanged",p.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",p.EVENT_SELECTABLE_CHANGED="selectableChanged",p.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",p.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",p.EVENT_DRAGGING_CHANGED="draggingChanged",p}(),E_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fa=function(){return Fa=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Fa.apply(this,arguments)},gl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ch=function(p){function i(){return p.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return E_(i,p),i.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},i.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},i.prototype.onDataChanged=function(){this.onSelectionChanged()},i.prototype.onSelectableChanged=function(){this.showOrHideSelect()},i.prototype.onSelectionChanged=function(){var n=this.localeService.getLocaleTextFunc(),a=this.rowNode.isSelected(),u=void 0===a?n("ariaIndeterminate","indeterminate"):!0===a?n("ariaChecked","checked"):n("ariaUnchecked","unchecked"),c=n("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(a,!0),this.eCheckbox.setInputAriaLabel(c+" ("+u+")")},i.prototype.onCheckedClicked=function(n){var a=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:n.shiftKey,groupSelectsFiltered:a,event:n,source:"checkboxSelected"})},i.prototype.onUncheckedClicked=function(n){var a=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:n.shiftKey,groupSelectsFiltered:a,event:n,source:"checkboxSelected"})},i.prototype.init=function(n){var a=this;if(this.rowNode=n.rowNode,this.column=n.column,this.overrides=n.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(C){Jn(C)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(C){Jn(C),a.eCheckbox.getValue()?a.onCheckedClicked(C):a.onUncheckedClicked(C||{})}),this.addManagedListener(this.rowNode,yr.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var v=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,v),this.addManagedListener(this.rowNode,yr.EVENT_DATA_CHANGED,v),this.addManagedListener(this.rowNode,yr.EVENT_CELL_CHANGED,v),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},i.prototype.showOrHideSelect=function(){var n,a,u,c,v=this.rowNode.selectable,C=this.getIsVisible();if(v)if("function"==typeof C){var T=null===(n=this.overrides)||void 0===n?void 0:n.callbackParams,M=null===(a=this.column)||void 0===a?void 0:a.createColumnFunctionCallbackParams(this.rowNode);v=!!M&&C(Fa(Fa({},T),M))}else v=C??!1;if(null===(u=this.column)||void 0===u?void 0:u.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!v),this.setVisible(!0),void this.setDisplayed(!0);null!==(c=this.overrides)&&void 0!==c&&c.removeHidden?this.setDisplayed(v):this.setVisible(v)},i.prototype.getIsVisible=function(){var n,a;return this.overrides?this.overrides.isVisible:null===(a=null===(n=this.column)||void 0===n?void 0:n.getColDef())||void 0===a?void 0:a.checkboxSelection},gl([gt("eCheckbox")],i.prototype,"eCheckbox",void 0),gl([Xe],i.prototype,"postConstruct",null),i}(lr),BC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rs=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Tc=function(p){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&p[i],a=0;if(n)return n.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},yn=(()=>((yn=yn||{})[yn.ToolPanel=0]="ToolPanel",yn[yn.HeaderCell=1]="HeaderCell",yn[yn.RowDrag=2]="RowDrag",yn[yn.ChartPanel=3]="ChartPanel",yn))(),Xo=(()=>((Xo=Xo||{})[Xo.Up=0]="Up",Xo[Xo.Down=1]="Down",Xo))(),Vi=(()=>((Vi=Vi||{})[Vi.Left=0]="Left",Vi[Vi.Right=1]="Right",Vi))(),pi=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.dragSourceAndParamsList=[],a.dropTargets=[],a}var n;return BC(i,p),n=i,i.prototype.init=function(){this.ePinnedIcon=ni("columnMovePin",this.gridOptionsService,null),this.eHideIcon=ni("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=ni("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=ni("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=ni("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=ni("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=ni("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=ni("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=ni("dropNotAllowed",this.gridOptionsService,null)},i.prototype.addDragSource=function(a,u){void 0===u&&(u=!1);var c={eElement:a.eElement,dragStartPixels:a.dragStartPixels,onDragStart:this.onDragStart.bind(this,a),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:a}),this.dragService.addDragSource(c,u)},i.prototype.removeDragSource=function(a){var u=this.dragSourceAndParamsList.find(function(c){return c.dragSource===a});u&&(this.dragService.removeDragSource(u.params),Kr(this.dragSourceAndParamsList,u))},i.prototype.clearDragSourceParamsList=function(){var a=this;this.dragSourceAndParamsList.forEach(function(u){return a.dragService.removeDragSource(u.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(a,u){this.dragging=!0,this.dragSource=a,this.eventLastTime=u,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(a){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var u=this.createDropTargetEvent(this.lastDropTarget,a,null,null,!1);this.lastDropTarget.onDragStop(u)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(a,u){var v,C,T,M,c=this,F=this.getHorizontalDirection(a),$=this.getVerticalDirection(a);this.eventLastTime=a,this.positionGhost(a);var ne=this.dropTargets.filter(function(Te){return c.isMouseOnDropTarget(a,Te)}),pe=this.findCurrentDropTarget(a,ne);if(pe!==this.lastDropTarget)this.leaveLastTargetIfExists(a,F,$,u),null!==this.lastDropTarget&&null===pe&&(null===(C=(v=this.dragSource).onGridExit)||void 0===C||C.call(v,this.dragItem)),null===this.lastDropTarget&&null!==pe&&(null===(M=(T=this.dragSource).onGridEnter)||void 0===M||M.call(T,this.dragItem)),this.enterDragTargetIfExists(pe,a,F,$,u),this.lastDropTarget=pe;else if(pe&&pe.onDragging){var me=this.createDropTargetEvent(pe,a,F,$,u);pe.onDragging(me)}},i.prototype.getAllContainersFromDropTarget=function(a){var u=a.getSecondaryContainers?a.getSecondaryContainers():null,c=[[a.getContainer()]];return u?c.concat(u):c},i.prototype.allContainersIntersect=function(a,u){var c,v;try{for(var C=Tc(u),T=C.next();!T.done;T=C.next()){var F=T.value.getBoundingClientRect();if(0===F.width||0===F.height)return!1;if(!(a.clientX>=F.left&&a.clientX<F.right&&a.clientY>=F.top&&a.clientY<F.bottom))return!1}}catch(pe){c={error:pe}}finally{try{T&&!T.done&&(v=C.return)&&v.call(C)}finally{if(c)throw c.error}}return!0},i.prototype.isMouseOnDropTarget=function(a,u){var c,v,C=this.getAllContainersFromDropTarget(u),T=!1;try{for(var M=Tc(C),F=M.next();!F.done;F=M.next())if(this.allContainersIntersect(a,F.value)){T=!0;break}}catch(ne){c={error:ne}}finally{try{F&&!F.done&&(v=M.return)&&v.call(M)}finally{if(c)throw c.error}}return!(u.targetContainsSource&&!u.getContainer().contains(this.dragSource.eElement))&&T&&u.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},i.prototype.findCurrentDropTarget=function(a,u){var c,v,C,T,M=u.length;if(0===M)return null;if(1===M)return u[0];var $=this.gridOptionsService.getRootNode().elementsFromPoint(a.clientX,a.clientY);try{for(var ne=Tc($),pe=ne.next();!pe.done;pe=ne.next()){var me=pe.value;try{for(var Te=(C=void 0,Tc(u)),Ae=Te.next();!Ae.done;Ae=Te.next()){var He=Ae.value;if(-1!==yt(this.getAllContainersFromDropTarget(He)).indexOf(me))return He}}catch(Ze){C={error:Ze}}finally{try{Ae&&!Ae.done&&(T=Te.return)&&T.call(Te)}finally{if(C)throw C.error}}}}catch(Ze){c={error:Ze}}finally{try{pe&&!pe.done&&(v=ne.return)&&v.call(ne)}finally{if(c)throw c.error}}return null},i.prototype.enterDragTargetIfExists=function(a,u,c,v,C){if(a){if(a.onDragEnter){var T=this.createDropTargetEvent(a,u,c,v,C);a.onDragEnter(T)}this.setGhostIcon(a.getIconName?a.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(a,u,c,v){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var C=this.createDropTargetEvent(this.lastDropTarget,a,u,c,v);this.lastDropTarget.onDragLeave(C)}this.setGhostIcon(null)}},i.prototype.addDropTarget=function(a){this.dropTargets.push(a)},i.prototype.removeDropTarget=function(a){this.dropTargets=this.dropTargets.filter(function(u){return u.getContainer()!==a.getContainer()})},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(a){return a.external})},i.prototype.findExternalZone=function(a){return this.dropTargets.filter(function(c){return c.external}).find(function(c){return c.getContainer()===a.getContainer()})||null},i.prototype.getHorizontalDirection=function(a){var u=this.eventLastTime&&this.eventLastTime.clientX,c=a.clientX;return u===c?null:u>c?Vi.Left:Vi.Right},i.prototype.getVerticalDirection=function(a){var u=this.eventLastTime&&this.eventLastTime.clientY,c=a.clientY;return u===c?null:u>c?Xo.Up:Xo.Down},i.prototype.createDropTargetEvent=function(a,u,c,v,C){var T=a.getContainer(),M=T.getBoundingClientRect(),F=this;return{event:u,x:u.clientX-M.left,y:u.clientY-M.top,vDirection:v,hDirection:c,dragSource:F.dragSource,fromNudge:C,dragItem:F.dragItem,api:F.gridApi,columnApi:F.columnApi,dropZoneTarget:T}},i.prototype.positionGhost=function(a){var u=this.eGhost;if(u){var v=u.getBoundingClientRect().height,C=aa()-2,T=Mi()-2,M=a.pageY-v/2,F=a.pageX-10,$=this.gridOptionsService.getDocument(),ne=$.defaultView||window,pe=ne.pageYOffset||$.documentElement.scrollTop,me=ne.pageXOffset||$.documentElement.scrollLeft;C>0&&F+u.clientWidth>C+me&&(F=C+me-u.clientWidth),F<0&&(F=0),T>0&&M+u.clientHeight>T+pe&&(M=T+pe-u.clientHeight),M<0&&(M=0),u.style.left=F+"px",u.style.top=M+"px"}},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=zt(n.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var a=this.environment.getTheme().theme;a&&this.eGhost.classList.add(a),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var u=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;Le(c)&&(c=c()),u.innerHTML=ar(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var v=this.gridOptionsService.getDocument(),C=null;try{C=v.fullscreenElement}catch{}finally{if(!C){var T=this.gridOptionsService.getRootNode();C=T.querySelector("body")||(T instanceof ShadowRoot?T:T?.documentElement)}}this.eGhostParent=C,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(a,u){void 0===u&&(u=!1),ze(this.eGhostIcon);var c=null;switch(a||(a=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),a){case n.ICON_PINNED:c=this.ePinnedIcon;break;case n.ICON_MOVE:c=this.eMoveIcon;break;case n.ICON_LEFT:c=this.eLeftIcon;break;case n.ICON_RIGHT:c=this.eRightIcon;break;case n.ICON_GROUP:c=this.eGroupIcon;break;case n.ICON_AGGREGATE:c=this.eAggregateIcon;break;case n.ICON_PIVOT:c=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:c=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",u),(c!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&c&&this.eGhostIcon.appendChild(c)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',rs([ae("dragService")],i.prototype,"dragService",void 0),rs([ae("mouseEventService")],i.prototype,"mouseEventService",void 0),rs([ae("columnApi")],i.prototype,"columnApi",void 0),rs([ae("gridApi")],i.prototype,"gridApi",void 0),rs([Xe],i.prototype,"init",null),rs([ct],i.prototype,"clearDragSourceParamsList",null),n=rs([lt("dragAndDropService")],i)}(nt),Bs=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Mc=function(p){function i(n,a,u,c,v,C){var T=p.call(this)||this;return T.cellValueFn=n,T.rowNode=a,T.column=u,T.customGui=c,T.dragStartPixels=v,T.suppressVisibilityChange=C,T.dragSource=null,T}return Bs(i,p),i.prototype.isCustomGui=function(){return null!=this.customGui},i.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(wn("rowDrag",this.beans.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var n=this.beans.gridOptionsService.is("rowDragManaged")?new dh(this,this.beans,this.rowNode,this.column):new kC(this,this.beans,this.rowNode,this.column);this.createManagedBean(n,this.beans.context)}},i.prototype.setDragElement=function(n,a){this.setTemplateFromElement(n),this.addDragSource(a)},i.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var a=this.beans.selectionService.getSelectedNodes();return-1!==a.indexOf(this.rowNode)?a:[this.rowNode]},i.prototype.checkCompatibility=function(){var n=this.beans.gridOptionsService.is("rowDragManaged");this.beans.gridOptionsService.isTreeData()&&n&&_e(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},i.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},i.prototype.getRowDragText=function(n){if(n){var a=n.getColDef();if(a.rowDragText)return a.rowDragText}return this.gridOptionsService.get("rowDragText")},i.prototype.addDragSource=function(n){var a=this;void 0===n&&(n=4),this.dragSource&&this.removeDragSource();var u=this.getRowDragText(this.column),c=this.localeService.getLocaleTextFunc();this.dragSource={type:yn.RowDrag,eElement:this.getGui(),dragItemName:function(){var v,C=a.getDragItem(),T=(null===(v=C.rowNodes)||void 0===v?void 0:v.length)||1;return u?u(C,T):1===T?a.cellValueFn():T+" "+c("rowDragRows","rows")},getDragItem:function(){return a.getDragItem()},dragStartPixels:n,dragSourceDomDataKey:this.beans.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},i.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},vl([ae("beans")],i.prototype,"beans",void 0),vl([Xe],i.prototype,"postConstruct",null),vl([ct],i.prototype,"removeDragSource",null),i}(lr),ap=function(p){function i(n,a,u){var c=p.call(this)||this;return c.parent=n,c.rowNode=a,c.column=u,c}return Bs(i,p),i.prototype.setDisplayedOrVisible=function(n){var a={skipAriaHidden:!0};if(n)this.parent.setDisplayed(!1,a);else{var u=!0,c=!1;this.column&&(u=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),c=Le(this.column.getColDef().rowDrag)),c?(this.parent.setDisplayed(!0,a),this.parent.setVisible(u,a)):(this.parent.setDisplayed(u,a),this.parent.setVisible(!0,a))}},i}(nt),kC=function(p){function i(n,a,u,c){var v=p.call(this,n,u,c)||this;return v.beans=a,v}return Bs(i,p),i.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,z.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var n=this.beans.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(n)},vl([Xe],i.prototype,"postConstruct",null),i}(ap),dh=function(p){function i(n,a,u,c){var v=p.call(this,n,u,c)||this;return v.beans=a,v}return Bs(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,z.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,z.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,z.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var a=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),u=a&&a.shouldPreventRowMove(),c=this.beans.gridOptionsService.is("suppressRowDrag"),v=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(u&&!v||c)},vl([Xe],i.prototype,"postConstruct",null),i}(ap),VC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Rc=function(){return Rc=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Rc.apply(this,arguments)},Cu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},sp=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return VC(i,p),i.prototype.init=function(n,a,u,c,v,C,T){this.params=T,this.eGui=a,this.eCheckbox=u,this.eExpanded=c,this.eContracted=v,this.comp=n,this.compClass=C;var M=this.isTopLevelFooter(),F=this.isEmbeddedRowMismatch(),$=null==T.value&&!T.node.master,ne=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var pe=T.node;pe.footer&&(ne=(T.colDef&&T.colDef.showRowGroup)!==(pe.rowGroupColumn&&pe.rowGroupColumn.getColId()))}this.cellIsBlank=!M&&(F||$&&!T.node.master||ne),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.expandListener=null},i.prototype.refreshAriaExpanded=function(){var n=this.params,a=n.node,u=n.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var c=function(){In(u,!!a.expanded)};this.expandListener=this.addManagedListener(a,yr.EVENT_EXPANDED_CHANGED,c)||null,c()}else Co(u)},i.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var n=this.params.colDef;if(null==n||!0===n.showRowGroup)return!0;var u=this.columnModel.getRowGroupColumns();return!u||0===u.length||u[0].getId()===n.showRowGroup},i.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var n="left"===this.params.pinned,a="right"===this.params.pinned,u=!n&&!a;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!a:!u:this.columnModel.isPinningLeft()?!n:!u},i.prototype.findDisplayedGroupNode=function(){var n=this.params.column,a=this.params.node;if(this.showingValueForOpenedParent)for(var u=a.parent;null!=u;){if(u.rowGroupColumn&&n.isRowGroupDisplayed(u.rowGroupColumn.getId())){this.displayedGroupNode=u;break}u=u.parent}s(this.displayedGroupNode)&&(this.displayedGroupNode=a)},i.prototype.setupShowingValueForOpenedParent=function(){var n=this.params.node,a=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(n.groupData){if(null!=n.rowGroupColumn){var c=n.rowGroupColumn.getId();if(a.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var C=null!=n.groupData[a.getId()];this.showingValueForOpenedParent=C}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},i.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},i.prototype.addGroupValue=function(){var n=this.adjustParamsWithDetailsFromRelatedColumn(),a=this.getInnerCompDetails(n),c=n.value,v=n.valueFormatted;null==v&&(v=""===c&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):c??null),this.comp.setInnerRenderer(a,v)},i.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var n=this.displayedGroupNode.rowGroupColumn,a=this.params.column;if(!n)return this.params;if(null!=a&&!a.isRowGroupDisplayed(n.getId()))return this.params;var v=this.params,C=this.params,F=this.valueFormatterService.formatValue(n,C.node,C.value);return Rc(Rc({},v),{valueFormatted:F})},i.prototype.addFooterValue=function(){var n=this.params.footerValueGetter,a="";if(n){var u=U(this.params);u.value=this.params.value,"function"==typeof n?a=n(u):"string"==typeof n?a=this.expressionService.evaluate(n,u):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else a="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,a)},i.prototype.getInnerCompDetails=function(n){var a=this;if(n.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),n);var u=this.userComponentFactory.getInnerRendererDetails(n,n),c=function(F){return F&&F.componentClass==a.compClass};if(u&&!c(u))return u;var v=this.displayedGroupNode.rowGroupColumn,C=v?v.getColDef():void 0;if(C){var T=this.userComponentFactory.getCellRendererDetails(C,n);if(T&&!c(T))return T;if(c(T)&&C.cellRendererParams&&C.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(C.cellRendererParams,n)}},i.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,yr.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},i.prototype.updateChildCount=function(){var n=this.displayedGroupNode.allChildrenCount,a=this.isShowRowGroupForThisRow();this.comp.setChildCount(a&&null!=n&&n>=0?"("+n+")":"")},i.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var n=this.displayedGroupNode.rowGroupColumn;if(!n)return!1;var a=this.params.column;return null==a||a.isRowGroupDisplayed(n.getId())},i.prototype.addExpandAndContract=function(){var n,a=this.params,u=wn("groupExpanded",this.gridOptionsService,null),c=wn("groupContracted",this.gridOptionsService,null);u&&this.eExpanded.appendChild(u),c&&this.eContracted.appendChild(c);var v=a.eGridCell;!((null===(n=this.params.column)||void 0===n?void 0:n.isCellEditable(a.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!a.suppressDoubleClickExpand&&this.addManagedListener(v,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(v,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(a.node,yr.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var T=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,yr.EVENT_ALL_CHILDREN_COUNT_CHANGED,T),this.addManagedListener(this.displayedGroupNode,yr.EVENT_MASTER_CHANGED,T),this.addManagedListener(this.displayedGroupNode,yr.EVENT_GROUP_CHANGED,T),this.addManagedListener(this.displayedGroupNode,yr.EVENT_HAS_CHILDREN_CHANGED,T)},i.prototype.onExpandClicked=function(n){An(n)||(Jn(n),this.onExpandOrContract(n))},i.prototype.onExpandOrContract=function(n){var a=this.displayedGroupNode,u=!a.expanded;!u&&a.sticky&&this.scrollToStickyNode(a),a.setExpanded(u,n)},i.prototype.scrollToStickyNode=function(n){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(n.rowTop-n.stickyRowTop)},i.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var n=this.displayedGroupNode,a=this.columnModel.isPivotMode()&&n.leafGroup;if(!n.isExpandable()||n.footer||a)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},i.prototype.showExpandAndContractIcons=function(){var n=this,u=n.displayedGroupNode,c=n.columnModel,v=n.params.node,C=this.isExpandable();if(C){var T=!!this.showingValueForOpenedParent||v.expanded;this.comp.setExpandedDisplayed(T),this.comp.setContractedDisplayed(!T)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var M=c.isPivotMode(),F=M&&u.leafGroup,$=C&&!F,ne=v.footer&&-1===v.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",$),this.comp.addOrRemoveCssClass("ag-row-group",$),M?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",F):ne||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!$)},i.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},i.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,yr.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},i.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var n=this.params,a=n.node,u=!!n.colDef,c=this.gridOptionsService.isTreeData(),C=!u||c||!0===n.colDef.showRowGroup?a.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+C,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},i.prototype.addFullWidthRowDraggerIfNeeded=function(){var n=this;if(this.params.fullWidth&&this.params.rowDrag){var a=new Mc(function(){return n.params.value},this.params.node);this.createManagedBean(a,this.context),this.eGui.insertAdjacentElement("afterbegin",a.getGui())}},i.prototype.isUserWantsSelected=function(){var n=this.params.checkbox;return"function"==typeof n||!0===n},i.prototype.addCheckboxIfNeeded=function(){var n=this,a=this.displayedGroupNode,u=this.isUserWantsSelected()&&!a.footer&&!a.rowPinned&&!a.detail;if(u){var c=new ch;this.getContext().createBean(c),c.init({rowNode:a,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return n.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(u)},i.prototype.onKeyDown=function(n){n.key!==Je.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(n)},i.prototype.onCellDblClicked=function(n){An(n)||hn(this.eExpanded,n)||hn(this.eContracted,n)||this.onExpandOrContract(n)},Cu([ae("expressionService")],i.prototype,"expressionService",void 0),Cu([ae("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Cu([ae("columnModel")],i.prototype,"columnModel",void 0),Cu([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Cu([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(nt),HC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ac=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},xc=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return HC(i,p),i.prototype.init=function(n){var a=this,u={setInnerRenderer:function(T,M){return a.setRenderDetails(T,M)},setChildCount:function(T){return a.eChildCount.innerHTML=T},addOrRemoveCssClass:function(T,M){return a.addOrRemoveCssClass(T,M)},setContractedDisplayed:function(T){return Er(a.eContracted,T)},setExpandedDisplayed:function(T){return Er(a.eExpanded,T)},setCheckboxVisible:function(T){return a.eCheckbox.classList.toggle("ag-invisible",!T)}},c=this.createManagedBean(new sp),v=!n.colDef,C=this.getGui();c.init(u,C,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,n),v&&Br(C,"gridcell")},i.prototype.setRenderDetails=function(n,a){var u=this;if(n){var c=n.newAgStackInstance();if(!c)return;c.then(function(v){if(v){var C=function(){return u.context.destroyBean(v)};u.isAlive()?(u.eValue.appendChild(v.getGui()),u.addDestroyFunc(C)):C()}})}else this.eValue.innerText=a},i.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),p.prototype.destroy.call(this)},i.prototype.refresh=function(){return!1},i.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Ac([gt("eExpanded")],i.prototype,"eExpanded",void 0),Ac([gt("eContracted")],i.prototype,"eContracted",void 0),Ac([gt("eCheckbox")],i.prototype,"eCheckbox",void 0),Ac([gt("eValue")],i.prototype,"eValue",void 0),Ac([gt("eChildCount")],i.prototype,"eChildCount",void 0),i}(lr),UC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S_=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},WC=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return UC(i,p),i.prototype.init=function(n){n.node.failedLoad?this.setupFailed():this.setupLoading()},i.prototype.setupFailed=function(){var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingError","ERR")},i.prototype.setupLoading=function(){var n=wn("groupLoading",this.gridOptionsService,null);n&&this.eLoadingIcon.appendChild(n);var a=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=a("loadingOoo","Loading")},i.prototype.refresh=function(n){return!1},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',S_([gt("eLoadingIcon")],i.prototype,"eLoadingIcon",void 0),S_([gt("eLoadingText")],i.prototype,"eLoadingText",void 0),i}(lr),$C=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jC=function(p){function i(){return p.call(this)||this}return $C(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(n){var a,u=null!==(a=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==a?a:i.DEFAULT_LOADING_OVERLAY_TEMPLATE,c=this.localeService.getLocaleTextFunc(),v=u.replace("[LOADING...]",c("loadingOoo","Loading..."));this.setTemplate(v)},i.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',i}(lr),O_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ic=function(p){function i(){return p.call(this)||this}return O_(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(n){var a,u=null!==(a=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==a?a:i.DEFAULT_NO_ROWS_TEMPLATE,c=this.localeService.getLocaleTextFunc(),v=u.replace("[NO_ROWS_TO_SHOW]",c("noRowsToShow","No Rows To Show"));this.setTemplate(v)},i.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',i}(lr),lp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ph=function(p){function i(){return p.call(this,'<div class="ag-tooltip"></div>')||this}return lp(i,p),i.prototype.init=function(n){var a=n.value;this.getGui().innerHTML=ar(a)},i}(yu),fh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Lc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},_l=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},gh=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.agGridDefaults={agDateInput:pl,agColumnHeader:p_,agColumnGroupHeader:tp,agSortIndicator:Fs,agTextColumnFloatingFilter:Mo,agNumberColumnFloatingFilter:_u,agDateColumnFloatingFilter:t_,agReadOnlyFloatingFilter:W,agAnimateShowChangeCellRenderer:C_,agAnimateSlideCellRenderer:bc,agGroupCellRenderer:xc,agGroupRowRenderer:xc,agLoadingCellRenderer:WC,agCellEditor:mu,agTextCellEditor:mu,agSelectCellEditor:v_,agLargeTextCellEditor:h_,agTextColumnFilter:ep,agNumberColumnFilter:n_,agDateColumnFilter:Zd,agLoadingOverlay:jC,agNoRowsOverlay:Ic,agTooltipComponent:ph},n.enterpriseAgDefaultCompsModule={agSetColumnFilter:rt.SetFilterModule,agSetColumnFloatingFilter:rt.SetFilterModule,agMultiColumnFilter:rt.MultiFilterModule,agMultiColumnFloatingFilter:rt.MultiFilterModule,agGroupColumnFilter:rt.RowGroupingModule,agGroupColumnFloatingFilter:rt.RowGroupingModule,agRichSelect:rt.RichSelectModule,agRichSelectCellEditor:rt.RichSelectModule,agDetailCellRenderer:rt.MasterDetailModule,agSparklineCellRenderer:rt.SparklinesModule},n.deprecatedAgGridDefaults={agPopupTextCellEditor:'AG Grid: Since v27.1 The agPopupTextCellEditor is deprecated. Instead use { cellEditor: "agTextCellEditor", cellEditorPopup: true }',agPopupSelectCellEditor:'AG Grid: Since v27.1 the agPopupSelectCellEditor is deprecated. Instead use { cellEditor: "agSelectCellEditor", cellEditorPopup: true }'},n.jsComps={},n.fwComps={},n}return fh(i,p),i.prototype.init=function(){var n=this;null!=this.gridOptions.components&&B(this.gridOptions.components,function(a,u){return n.registerJsComponent(a,u)}),null!=this.gridOptions.frameworkComponents&&B(this.gridOptions.frameworkComponents,function(a,u){return n.registerFwComponent(a,u)})},i.prototype.registerDefaultComponent=function(n,a){this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=a},i.prototype.registerJsComponent=function(n,a){this.fwComps[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComps[n]=a},i.prototype.registerFwComponent=function(n,a){_e(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated"),this.fwComps[n]=a},i.prototype.retrieve=function(n,a){var u=this,c=function(ne,pe){return{componentFromFramework:pe,component:ne}},v=this.getFrameworkOverrides().frameworkComponent(a,this.gridOptions.components);if(null!=v)return c(v,!0);var C=this.fwComps[a];if(C)return c(C,!0);var T=this.jsComps[a];if(T)return c(T,this.getFrameworkOverrides().isFrameworkComponent(T));var F=this.agGridDefaults[a];if(F)return c(F,!1);var $=this.enterpriseAgDefaultCompsModule[a];return $?Et.assertRegistered($,"AG Grid '"+n+"' component: "+a):this.deprecatedAgGridDefaults[a]?_e(function(){return console.warn(u.deprecatedAgGridDefaults[a])},a):_e(function(){u.warnAboutMissingComponent(n,a)},"MissingComp"+a),null},i.prototype.warnAboutMissingComponent=function(n,a){var u=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(_l(arguments[i]));return p}(Object.keys(this.agGridDefaults).filter(function(v){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(v)}),Object.keys(this.jsComps),Object.keys(this.fwComps)),c=Bn(a,u,!0,.8);console.warn("AG Grid: Could not find '"+a+"' component. It was configured as \""+n+": '"+a+"'\" but it wasn't found in the list of registered components."),c.length>0&&console.warn("         Did you mean: ["+c.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},Lc([ae("gridOptions")],i.prototype,"gridOptions",void 0),Lc([Xe],i.prototype,"init",null),Lc([lt("userComponentRegistry")],i)}(nt),Nc={propertyName:"dateComponent",cellRenderer:!1},Fc={propertyName:"headerComponent",cellRenderer:!1},da={propertyName:"headerGroupComponent",cellRenderer:!1},vh={propertyName:"cellRenderer",cellRenderer:!0},w_={propertyName:"cellEditor",cellRenderer:!1},_h={propertyName:"innerRenderer",cellRenderer:!0},yh={propertyName:"loadingOverlayComponent",cellRenderer:!1},up={propertyName:"noRowsOverlayComponent",cellRenderer:!1},D_={propertyName:"tooltipComponent",cellRenderer:!1},cp={propertyName:"filter",cellRenderer:!1},P_={propertyName:"floatingFilterComponent",cellRenderer:!1},mh={propertyName:"toolPanel",cellRenderer:!1},b_={propertyName:"statusPanel",cellRenderer:!1},T_={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Xi={propertyName:"loadingCellRenderer",cellRenderer:!0},dp={propertyName:"groupRowRenderer",cellRenderer:!0},Ch={propertyName:"detailCellRenderer",cellRenderer:!0},pp=function(){function p(){}return p.getFloatingFilterType=function(i){return this.filterToFloatingFilterMapping[i]},p.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},p}(),xi=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pa=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Eh=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return xi(i,p),i.prototype.getHeaderCompDetails=function(n,a){return this.getCompDetails(n,Fc,"agColumnHeader",a)},i.prototype.getHeaderGroupCompDetails=function(n){var a=n.columnGroup.getColGroupDef();return this.getCompDetails(a,da,"agColumnGroupHeader",n)},i.prototype.getFullWidthCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,T_,null,n,!0)},i.prototype.getFullWidthLoadingCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Xi,"agLoadingCellRenderer",n,!0)},i.prototype.getFullWidthGroupCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,dp,"agGroupRowRenderer",n,!0)},i.prototype.getFullWidthDetailCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Ch,"agDetailCellRenderer",n,!0)},i.prototype.getInnerRendererDetails=function(n,a){return this.getCompDetails(n,_h,null,a)},i.prototype.getFullWidthGroupRowInnerCellRenderer=function(n,a){return this.getCompDetails(n,_h,null,a)},i.prototype.getCellRendererDetails=function(n,a){return this.getCompDetails(n,vh,null,a)},i.prototype.getCellEditorDetails=function(n,a){return this.getCompDetails(n,w_,"agCellEditor",a,!0)},i.prototype.getFilterDetails=function(n,a,u){return this.getCompDetails(n,cp,u,a,!0)},i.prototype.getDateCompDetails=function(n){return this.getCompDetails(this.gridOptions,Nc,"agDateInput",n,!0)},i.prototype.getLoadingOverlayCompDetails=function(n){return this.getCompDetails(this.gridOptions,yh,"agLoadingOverlay",n,!0)},i.prototype.getNoRowsOverlayCompDetails=function(n){return this.getCompDetails(this.gridOptions,up,"agNoRowsOverlay",n,!0)},i.prototype.getTooltipCompDetails=function(n){return this.getCompDetails(n.colDef,D_,"agTooltipComponent",n,!0)},i.prototype.getSetFilterCellRendererDetails=function(n,a){return this.getCompDetails(n,vh,null,a)},i.prototype.getFloatingFilterCompDetails=function(n,a,u){return this.getCompDetails(n,P_,u,a)},i.prototype.getToolPanelCompDetails=function(n,a){return this.getCompDetails(n,mh,null,a,!0)},i.prototype.getStatusPanelCompDetails=function(n,a){return this.getCompDetails(n,b_,null,a,!0)},i.prototype.getCompDetails=function(n,a,u,c,v){var C=this;void 0===v&&(v=!1);var T=a.propertyName,M=a.cellRenderer,F=this.getCompKeys(n,a,c),$=F.compName,ne=F.jsComp,pe=F.fwComp,me=F.paramsFromSelector,Te=F.popupFromSelector,Ae=F.popupPositionFromSelector,He=function(St){var Ut=C.userComponentRegistry.retrieve(T,St);Ut&&(ne=Ut.componentFromFramework?void 0:Ut.component,pe=Ut.componentFromFramework?Ut.component:void 0)};if(null!=$&&He($),null==ne&&null==pe&&null!=u&&He(u),ne&&M&&!this.agComponentUtils.doesImplementIComponent(ne)&&(ne=this.agComponentUtils.adaptFunction(T,ne)),ne||pe){var Ue=this.mergeParamsWithApplicationProvidedParams(n,a,c,me),Ze=null==ne,st=ne||pe;return{componentFromFramework:Ze,componentClass:st,params:Ue,type:a,popupFromSelector:Te,popupPositionFromSelector:Ae,newAgStackInstance:function(){return C.newAgStackInstance(st,Ze,Ue,a)}}}v&&console.error("AG Grid: Could not find component "+$+", did you forget to configure this component?")},i.prototype.getCompKeys=function(n,a,u){var C,T,M,F,$,ne,c=this,v=a.propertyName;if(n){var pe=n,me=pe[v+"Selector"],Te=me?me(u):null,Ae=function(Ue,Ze){var st=function(){var Ut="AG Grid: As of v27, the property "+v+"Framework is deprecated. The property "+v+" can now be used for JavaScript AND Framework Components.";_e(function(){return console.warn(Ut)},"UserComponentFactory."+v+"FrameworkDeprecated")};"string"==typeof Ue?C=Ue:"string"==typeof Ze?(st(),C=Ze):null!=Ue&&!0!==Ue?c.getFrameworkOverrides().isFrameworkComponent(Ue)?M=Ue:T=Ue:null!=Ze&&(st(),M=Ze)};if(Te){if(null!=Te.frameworkComponent){var He="AG Grid: As of v27, the return for "+v+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";_e(function(){return console.warn(He)},"UserComponentFactory."+v+"FrameworkSelectorDeprecated"),Ae(Te.frameworkComponent,void 0)}else Ae(Te.component,void 0);F=Te.params,$=Te.popup,ne=Te.popupPosition}else Ae(pe[v],pe[v+"Framework"])}return{compName:C,jsComp:T,fwComp:M,paramsFromSelector:F,popupFromSelector:$,popupPositionFromSelector:ne}},i.prototype.newAgStackInstance=function(n,a,u,c){var T;if(a){var M=this.componentMetadataProvider.retrieve(c.propertyName);T=this.frameworkComponentWrapper.wrap(n,M.mandatoryMethodList,M.optionalMethodList,c)}else T=new n;var F=this.initComponent(T,u);return null==F?Ci.resolve(T):F.then(function(){return T})},i.prototype.mergeParamsWithApplicationProvidedParams=function(n,a,u,c){void 0===c&&(c=null);var v={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};ge(v,u);var T=n&&n[a.propertyName+"Params"];return"function"==typeof T?ge(v,T(u)):"object"==typeof T&&ge(v,T),ge(v,c),v},i.prototype.initComponent=function(n,a){if(this.context.createBean(n),null!=n.init)return n.init(a)},i.prototype.getDefaultFloatingFilterType=function(n){if(null==n)return null;var a=null,u=this.getCompKeys(n,cp),c=u.compName,v=u.jsComp,C=u.fwComp;return c?a=pp.getFloatingFilterType(c):null==v&&null==C&&!0===n.filter&&(a=Et.isRegistered(rt.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),a},pa([ae("gridOptions")],i.prototype,"gridOptions",void 0),pa([ae("agComponentUtils")],i.prototype,"agComponentUtils",void 0),pa([ae("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),pa([ae("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),pa([Tt("frameworkComponentWrapper")],i.prototype,"frameworkComponentWrapper",void 0),pa([lt("userComponentFactory")],i)}(nt),qo=(()=>((qo=qo||{})[qo.SINGLE_SHEET=0]="SINGLE_SHEET",qo[qo.MULTI_SHEET=1]="MULTI_SHEET",qo))(),M_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},R_=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.dragEndFunctions=[],n.dragSources=[],n}return M_(i,p),i.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},i.prototype.removeListener=function(n){var a=n.dragSource.eElement;a.removeEventListener("mousedown",n.mouseDownListener),n.touchEnabled&&a.removeEventListener("touchstart",n.touchStartListener,{passive:!0})},i.prototype.removeDragSource=function(n){var a=this.dragSources.find(function(u){return u.dragSource===n});a&&(this.removeListener(a),Kr(this.dragSources,a))},i.prototype.isDragging=function(){return this.dragging},i.prototype.addDragSource=function(n,a){var u=this;void 0===a&&(a=!1);var c=this.onMouseDown.bind(this,n);n.eElement.addEventListener("mousedown",c);var v=null,C=this.gridOptionsService.is("suppressTouch");a&&!C&&n.eElement.addEventListener("touchstart",v=function(T){ol(T.target)||(T.cancelable&&(T.preventDefault(),T.stopPropagation()),u.onTouchStart(n,T))},{passive:!1}),this.dragSources.push({dragSource:n,mouseDownListener:c,touchStartListener:v,touchEnabled:a})},i.prototype.getStartTarget=function(){return this.startTarget},i.prototype.onTouchStart=function(n,a){var u=this;this.currentDragParams=n,this.dragging=!1;var c=a.touches[0];this.touchLastTime=c,this.touchStart=c;var C=function($){return u.onTouchUp($,n.eElement)},M=a.target,F=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function($){$.cancelable&&$.preventDefault()},options:{passive:!1}},{target:M,type:"touchmove",listener:function($){return u.onTouchMove($,n.eElement)},options:{passive:!0}},{target:M,type:"touchend",listener:C,options:{passive:!0}},{target:M,type:"touchcancel",listener:C,options:{passive:!0}}];this.addTemporaryEvents(F),0===n.dragStartPixels&&this.onCommonMove(c,this.touchStart,n.eElement)},i.prototype.onMouseDown=function(n,a){var u=this,c=a;if(!(n.skipMouseEvent&&n.skipMouseEvent(a)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==a.button))){this.currentDragParams=n,this.dragging=!1,this.mouseStartEvent=a,this.startTarget=a.target;var M=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:M,type:"mousemove",listener:function($){return u.onMouseMove($,n.eElement)}},{target:M,type:"mouseup",listener:function($){return u.onMouseUp($,n.eElement)}},{target:M,type:"contextmenu",listener:function($){return $.preventDefault()}}]),0===n.dragStartPixels&&this.onMouseMove(a,n.eElement)}},i.prototype.addTemporaryEvents=function(n){n.forEach(function(a){a.target.addEventListener(a.type,a.listener,a.options)}),this.dragEndFunctions.push(function(){n.forEach(function(a){a.target.removeEventListener(a.type,a.listener,a.options)})})},i.prototype.isEventNearStartEvent=function(n,a){var u=this.currentDragParams.dragStartPixels;return Ms(n,a,o(u)?u:4)},i.prototype.getFirstActiveTouch=function(n){for(var a=0;a<n.length;a++)if(n[a].identifier===this.touchStart.identifier)return n[a];return null},i.prototype.onCommonMove=function(n,a,u){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(n,a))return;this.dragging=!0,this.eventService.dispatchEvent({type:z.EVENT_DRAG_STARTED,target:u}),this.currentDragParams.onDragStart(a),this.currentDragParams.onDragging(a)}this.currentDragParams.onDragging(n)},i.prototype.onTouchMove=function(n,a){var u=this.getFirstActiveTouch(n.touches);u&&this.onCommonMove(u,this.touchStart,a)},i.prototype.onMouseMove=function(n,a){(this.gridOptionsService.is("enableCellTextSelection")||X())&&"mousemove"===n.type&&n.cancelable&&this.mouseEventService.isEventFromThisGrid(n)&&!this.isOverFormFieldElement(n)&&n.preventDefault(),this.onCommonMove(n,this.mouseStartEvent,a)},i.prototype.isOverFormFieldElement=function(n){var a=n.target,u=a?.tagName.toLocaleLowerCase();return!!u?.match("^a$|textarea|input|select|button")},i.prototype.onTouchUp=function(n,a){var u=this.getFirstActiveTouch(n.changedTouches);u||(u=this.touchLastTime),this.onUpCommon(u,a)},i.prototype.onMouseUp=function(n,a){this.onUpCommon(n,a)},i.prototype.onUpCommon=function(n,a){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(n),this.eventService.dispatchEvent({type:z.EVENT_DRAG_STOPPED,target:a})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},Gc([ae("mouseEventService")],i.prototype,"mouseEventService",void 0),Gc([ct],i.prototype,"removeAllListeners",null),Gc([lt("dragService")],i)}(nt),Hi=(()=>((Hi=Hi||{})[Hi.Above=0]="Above",Hi[Hi.Below=1]="Below",Hi))(),mr=(()=>((mr=mr||{}).EVERYTHING="group",mr.FILTER="filter",mr.SORT="sort",mr.MAP="map",mr.AGGREGATE="aggregate",mr.FILTER_AGGREGATES="filter_aggregates",mr.PIVOT="pivot",mr.NOTHING="nothing",mr))(),Lr=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c};function ks(p){return null!=p&&null!=p.getFrameworkComponentInstance?p.getFrameworkComponentInstance():p}var A_=function(){function p(){this.detailGridInfoMap={},this.destroyCalled=!1}return p.prototype.registerOverlayWrapperComp=function(i){this.overlayWrapperComp=i},p.prototype.registerSideBarComp=function(i){this.sideBarComp=i},p.prototype.init=function(){var i=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl()})},p.prototype.__getAlignedGridService=function(){return this.alignedGridsService},p.prototype.__getContext=function(){return this.context},p.prototype.getSetterMethod=function(i){return"set"+i.charAt(0).toUpperCase()+i.substring(1)},p.prototype.__setProperty=function(i,n){this.gridOptionsService.set(i,n);var a=this.getSetterMethod(i);this[a]&&this[a](n)},p.prototype.addDetailGridInfo=function(i,n){this.detailGridInfoMap[i]=n},p.prototype.removeDetailGridInfo=function(i){this.detailGridInfoMap[i]=void 0},p.prototype.getDetailGridInfo=function(i){return this.detailGridInfoMap[i]},p.prototype.forEachDetailGridInfo=function(i){var n=0;B(this.detailGridInfoMap,function(a,u){o(u)&&(i(u,n),n++)})},p.prototype.getDataAsCsv=function(i){if(Et.assertRegistered(rt.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(i)},p.prototype.exportDataAsCsv=function(i){Et.assertRegistered(rt.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(i)},p.prototype.getExcelExportMode=function(i){var n=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},n,i).exportMode},p.prototype.assertNotExcelMultiSheet=function(i,n){if(!Et.assertRegistered(rt.ExcelExportModule,"api."+i))return!1;var a=this.getExcelExportMode(n);return this.excelCreator.getFactoryMode(a)!==qo.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},p.prototype.getDataAsExcel=function(i){if(this.assertNotExcelMultiSheet("getDataAsExcel",i))return this.excelCreator.getDataAsExcel(i)},p.prototype.exportDataAsExcel=function(i){this.assertNotExcelMultiSheet("exportDataAsExcel",i)&&this.excelCreator.exportDataAsExcel(i)},p.prototype.getSheetDataForExcel=function(i){if(Et.assertRegistered(rt.ExcelExportModule,"api.getSheetDataForExcel")){var n=this.getExcelExportMode(i);return this.excelCreator.setFactoryMode(qo.MULTI_SHEET,n),this.excelCreator.getSheetDataForExcel(i)}},p.prototype.getMultipleSheetsAsExcel=function(i){if(Et.assertRegistered(rt.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(i)},p.prototype.exportMultipleSheetsAsExcel=function(i){if(Et.assertRegistered(rt.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(i)},p.prototype.setGridAriaProperty=function(i,n){if(i){var a=this.ctrlsService.getGridBodyCtrl().getGui(),u="aria-"+i;null===n?a.removeAttribute(u):a.setAttribute(u,n)}},p.prototype.logMissingRowModel=function(i){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];console.error("AG Grid: api."+i+" can only be called when gridOptions.rowModelType is "+n.join(" or "))},p.prototype.setServerSideDatasource=function(i){this.serverSideRowModel?this.serverSideRowModel.setDatasource(i):this.logMissingRowModel("setServerSideDatasource","serverSide")},p.prototype.setCacheBlockSize=function(i){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",i),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},p.prototype.setDatasource=function(i){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(i):this.logMissingRowModel("setDatasource","infinite")},p.prototype.setViewportDatasource=function(i){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(i):this.logMissingRowModel("setViewportDatasource","viewport")},p.prototype.setRowData=function(i){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(i):(this.selectionService.reset(),this.clientSideRowModel.setRowData(i))},p.prototype.setPinnedTopRowData=function(i){this.pinnedRowModel.setPinnedTopRowData(i)},p.prototype.setPinnedBottomRowData=function(i){this.pinnedRowModel.setPinnedBottomRowData(i)},p.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},p.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},p.prototype.getPinnedTopRow=function(i){return this.pinnedRowModel.getPinnedTopRow(i)},p.prototype.getPinnedBottomRow=function(i){return this.pinnedRowModel.getPinnedBottomRow(i)},p.prototype.setColumnDefs=function(i,n){void 0===n&&(n="api"),this.columnModel.setColumnDefs(i,n),this.gridOptionsService.set("columnDefs",i,!0,{source:n})},p.prototype.setAutoGroupColumnDef=function(i,n){void 0===n&&(n="api"),this.gridOptionsService.set("autoGroupColumnDef",i,!0,{source:n})},p.prototype.setDefaultColDef=function(i,n){void 0===n&&(n="api"),this.gridOptionsService.set("defaultColDef",i,!0,{source:n})},p.prototype.setColumnTypes=function(i,n){void 0===n&&(n="api"),this.gridOptionsService.set("columnTypes",i,!0,{source:n})},p.prototype.expireValueCache=function(){this.valueCache.expire()},p.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},p.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},p.prototype.setAlwaysShowHorizontalScroll=function(i){this.gridOptionsService.set("alwaysShowHorizontalScroll",i)},p.prototype.setAlwaysShowVerticalScroll=function(i){this.gridOptionsService.set("alwaysShowVerticalScroll",i)},p.prototype.refreshCells=function(i){void 0===i&&(i={}),this.rowRenderer.refreshCells(i)},p.prototype.flashCells=function(i){void 0===i&&(i={}),this.rowRenderer.flashCells(i)},p.prototype.redrawRows=function(i){void 0===i&&(i={}),this.rowRenderer.redrawRows(i?i.rowNodes:void 0)},p.prototype.setFunctionsReadOnly=function(i){this.gridOptionsService.set("functionsReadOnly",i)},p.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){return i.refresh()})},p.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},p.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},p.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},p.prototype.getModel=function(){return this.rowModel},p.prototype.setRowNodeExpanded=function(i,n,a){i&&(a&&i.parent&&-1!==i.parent.level&&this.setRowNodeExpanded(i.parent,n,a),i.setExpanded(n))},p.prototype.onGroupExpandedOrCollapsed=function(){s(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:mr.MAP})},p.prototype.refreshClientSideRowModel=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(i)},p.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},p.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},p.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},p.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},p.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},p.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},p.prototype.addRenderedRowListener=function(i,n,a){this.rowRenderer.addRenderedRowListener(i,n,a)},p.prototype.getQuickFilter=function(){return this.gridOptionsService.get("quickFilterText")},p.prototype.setQuickFilter=function(i){this.gridOptionsService.set("quickFilterText",i)},p.prototype.setExcludeHiddenColumnsFromQuickFilter=function(i){this.gridOptionsService.set("excludeHiddenColumnsFromQuickFilter",i)},p.prototype.selectAll=function(i){void 0===i&&(i="apiSelectAll"),this.selectionService.selectAllRowNodes({source:i})},p.prototype.deselectAll=function(i){void 0===i&&(i="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:i})},p.prototype.selectAllFiltered=function(i){void 0===i&&(i="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:i,justFiltered:!0})},p.prototype.deselectAllFiltered=function(i){void 0===i&&(i="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:i,justFiltered:!0})},p.prototype.getServerSideSelectionState=function(){return s(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},p.prototype.setServerSideSelectionState=function(i){s(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(i)},p.prototype.selectAllOnCurrentPage=function(i){void 0===i&&(i="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:i,justCurrentPage:!0})},p.prototype.deselectAllOnCurrentPage=function(i){void 0===i&&(i="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:i,justCurrentPage:!0})},p.prototype.sizeColumnsToFit=function(i){this.gridBodyCtrl.sizeColumnsToFit(i)},p.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},p.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},p.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},p.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},p.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},p.prototype.getBestCostNodeSelection=function(){if(!s(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},p.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},p.prototype.ensureColumnVisible=function(i,n){void 0===n&&(n="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(i,n)},p.prototype.ensureIndexVisible=function(i,n){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i,n)},p.prototype.ensureNodeVisible=function(i,n){void 0===n&&(n=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(i,n)},p.prototype.forEachLeafNode=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(i)},p.prototype.forEachNode=function(i,n){this.rowModel.forEachNode(i,n)},p.prototype.forEachNodeAfterFilter=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(i)},p.prototype.forEachNodeAfterFilterAndSort=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(i)},p.prototype.getFilterInstance=function(i,n){var a=this.getFilterInstanceImpl(i,function(c){if(n){var v=ks(c);n(v)}});return ks(a)},p.prototype.getFilterInstanceImpl=function(i,n){var a=this.columnModel.getPrimaryColumn(i);if(a){var u=this.filterManager.getFilterComponent(a,"NO_UI"),c=u&&u.resolveNow(null,function(v){return v});return c?setTimeout(n,0,c):u&&u.then(function(v){n(v)}),c}},p.prototype.destroyFilter=function(i){var n=this.columnModel.getPrimaryColumn(i);if(n)return this.filterManager.destroyFilter(n,"api")},p.prototype.getStatusPanel=function(i){if(Et.assertRegistered(rt.StatusBarModule,"api.getStatusPanel"))return ks(this.statusBarService.getStatusPanel(i))},p.prototype.getColumnDef=function(i){var n=this.columnModel.getPrimaryColumn(i);return n?n.getColDef():null},p.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},p.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},p.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},p.prototype.setFilterModel=function(i){this.filterManager.setFilterModel(i)},p.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},p.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},p.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},p.prototype.setFocusedCell=function(i,n,a){this.focusService.setFocusedCell({rowIndex:i,column:n,rowPinned:a,forceBrowserFocus:!0})},p.prototype.setSuppressRowDrag=function(i){this.gridOptionsService.set("suppressRowDrag",i)},p.prototype.setSuppressMoveWhenRowDragging=function(i){this.gridOptionsService.set("suppressMoveWhenRowDragging",i)},p.prototype.setSuppressRowClickSelection=function(i){this.gridOptionsService.set("suppressRowClickSelection",i)},p.prototype.addRowDropZone=function(i){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(i)},p.prototype.removeRowDropZone=function(i){var n=this.dragAndDropService.findExternalZone(i);n&&this.dragAndDropService.removeDropTarget(n)},p.prototype.getRowDropZoneParams=function(i){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(i)},p.prototype.setHeaderHeight=function(i){this.gridOptionsService.set("headerHeight",i)},p.prototype.setDomLayout=function(i){this.clientSideRowModel||"autoHeight"!==i||this.gridOptionsService.is("pagination")?this.gridOptionsService.set("domLayout",i):console.error("AG Grid: domLayout can only be set to 'autoHeight' when using the client side row model or when using pagination.")},p.prototype.setEnableCellTextSelection=function(i){this.gridBodyCtrl.setCellTextSelection(i)},p.prototype.setFillHandleDirection=function(i){this.gridOptionsService.set("fillHandleDirection",i)},p.prototype.setGroupHeaderHeight=function(i){this.gridOptionsService.set("groupHeaderHeight",i)},p.prototype.setFloatingFiltersHeight=function(i){this.gridOptionsService.set("floatingFiltersHeight",i)},p.prototype.setPivotHeaderHeight=function(i){this.gridOptionsService.set("pivotHeaderHeight",i)},p.prototype.setPivotGroupHeaderHeight=function(i){this.gridOptionsService.set("pivotGroupHeaderHeight",i)},p.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},p.prototype.setAnimateRows=function(i){this.gridOptionsService.set("animateRows",i)},p.prototype.setIsExternalFilterPresent=function(i){this.gridOptionsService.set("isExternalFilterPresent",i)},p.prototype.setDoesExternalFilterPass=function(i){this.gridOptionsService.set("doesExternalFilterPass",i)},p.prototype.setNavigateToNextCell=function(i){this.gridOptionsService.set("navigateToNextCell",i)},p.prototype.setTabToNextCell=function(i){this.gridOptionsService.set("tabToNextCell",i)},p.prototype.setTabToNextHeader=function(i){this.gridOptionsService.set("tabToNextHeader",i)},p.prototype.setNavigateToNextHeader=function(i){this.gridOptionsService.set("navigateToNextHeader",i)},p.prototype.setRowGroupPanelShow=function(i){this.gridOptionsService.set("rowGroupPanelShow",i)},p.prototype.setGroupRowAggNodes=function(i){ur("27.2","setGroupRowAggNodes","setGetGroupRowAgg"),this.gridOptionsService.set("groupRowAggNodes",i)},p.prototype.setGetGroupRowAgg=function(i){this.gridOptionsService.set("getGroupRowAgg",i)},p.prototype.setGetBusinessKeyForNode=function(i){this.gridOptionsService.set("getBusinessKeyForNode",i)},p.prototype.setGetChildCount=function(i){this.gridOptionsService.set("getChildCount",i)},p.prototype.setProcessRowPostCreate=function(i){this.gridOptionsService.set("processRowPostCreate",i)},p.prototype.setGetRowNodeId=function(i){ur("27.1","setGetRowNodeId","setGetRowId"),this.gridOptionsService.set("getRowNodeId",i)},p.prototype.setGetRowId=function(i){this.gridOptionsService.set("getRowId",i)},p.prototype.setGetRowClass=function(i){this.gridOptionsService.set("getRowClass",i)},p.prototype.setIsFullWidthCell=function(i){ur("27.2","setIsFullWidthCell","setIsFullWidthRow"),this.gridOptionsService.set("isFullWidthCell",i)},p.prototype.setIsFullWidthRow=function(i){this.gridOptionsService.set("isFullWidthRow",i)},p.prototype.setIsRowSelectable=function(i){this.gridOptionsService.set("isRowSelectable",i)},p.prototype.setIsRowMaster=function(i){this.gridOptionsService.set("isRowMaster",i)},p.prototype.setPostSort=function(i){ur("27.2","setPostSort","setPostSortRows"),this.gridOptionsService.set("postSort",i)},p.prototype.setPostSortRows=function(i){this.gridOptionsService.set("postSortRows",i)},p.prototype.setGetDocument=function(i){this.gridOptionsService.set("getDocument",i)},p.prototype.setGetContextMenuItems=function(i){this.gridOptionsService.set("getContextMenuItems",i)},p.prototype.setGetMainMenuItems=function(i){this.gridOptionsService.set("getMainMenuItems",i)},p.prototype.setProcessCellForClipboard=function(i){this.gridOptionsService.set("processCellForClipboard",i)},p.prototype.setSendToClipboard=function(i){this.gridOptionsService.set("sendToClipboard",i)},p.prototype.setProcessCellFromClipboard=function(i){this.gridOptionsService.set("processCellFromClipboard",i)},p.prototype.setProcessSecondaryColDef=function(i){ur("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(i)},p.prototype.setProcessSecondaryColGroupDef=function(i){ur("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(i)},p.prototype.setProcessPivotResultColDef=function(i){this.gridOptionsService.set("processPivotResultColDef",i)},p.prototype.setProcessPivotResultColGroupDef=function(i){this.gridOptionsService.set("processPivotResultColGroupDef",i)},p.prototype.setPostProcessPopup=function(i){this.gridOptionsService.set("postProcessPopup",i)},p.prototype.setDefaultGroupOrderComparator=function(i){ur("27.2","setDefaultGroupOrderComparator","setInitialGroupOrderComparator"),this.gridOptionsService.set("defaultGroupOrderComparator",i)},p.prototype.setInitialGroupOrderComparator=function(i){this.gridOptionsService.set("initialGroupOrderComparator",i)},p.prototype.setGetChartToolbarItems=function(i){this.gridOptionsService.set("getChartToolbarItems",i)},p.prototype.setPaginationNumberFormatter=function(i){this.gridOptionsService.set("paginationNumberFormatter",i)},p.prototype.setGetServerSideStoreParams=function(i){ur("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(i)},p.prototype.setGetServerSideGroupLevelParams=function(i){this.gridOptionsService.set("getServerSideGroupLevelParams",i)},p.prototype.setIsServerSideGroupOpenByDefault=function(i){this.gridOptionsService.set("isServerSideGroupOpenByDefault",i)},p.prototype.setIsApplyServerSideTransaction=function(i){this.gridOptionsService.set("isApplyServerSideTransaction",i)},p.prototype.setIsServerSideGroup=function(i){this.gridOptionsService.set("isServerSideGroup",i)},p.prototype.setGetServerSideGroupKey=function(i){this.gridOptionsService.set("getServerSideGroupKey",i)},p.prototype.setGetRowStyle=function(i){this.gridOptionsService.set("getRowStyle",i)},p.prototype.setGetRowHeight=function(i){this.gridOptionsService.set("getRowHeight",i)},p.prototype.assertSideBarLoaded=function(i){return Et.assertRegistered(rt.SideBarModule,"api."+i)},p.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},p.prototype.setSideBarVisible=function(i){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(i)},p.prototype.setSideBarPosition=function(i){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(i)},p.prototype.openToolPanel=function(i){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(i,"api")},p.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},p.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},p.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},p.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},p.prototype.getToolPanelInstance=function(i){if(this.assertSideBarLoaded("getToolPanelInstance"))return ks(this.sideBarComp.getToolPanelInstance(i))},p.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},p.prototype.setSideBar=function(i){this.gridOptionsService.set("sideBar",i)},p.prototype.setSuppressClipboardPaste=function(i){this.gridOptionsService.set("suppressClipboardPaste",i)},p.prototype.resetRowHeights=function(){if(o(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},p.prototype.setGroupRemoveSingleChildren=function(i){this.gridOptionsService.set("groupRemoveSingleChildren",i)},p.prototype.setGroupRemoveLowestSingleChildren=function(i){this.gridOptionsService.set("groupRemoveLowestSingleChildren",i)},p.prototype.setGroupDisplayType=function(i){this.gridOptionsService.set("groupDisplayType",i)},p.prototype.setRowClass=function(i){this.gridOptionsService.set("rowClass",i)},p.prototype.setDeltaSort=function(i){this.gridOptionsService.set("deltaSort",i)},p.prototype.setRowCount=function(i,n){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(i,n):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(i,n):this.logMissingRowModel("setRowCount","infinite","serverSide")},p.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},p.prototype.getValue=function(i,n){var a=this.columnModel.getPrimaryColumn(i);return s(a)&&(a=this.columnModel.getGridColumn(i)),s(a)?null:this.valueService.getValue(a,n)},p.prototype.addEventListener=function(i,n){var a=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(i,n,a)},p.prototype.addGlobalListener=function(i){var n=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(i,n)},p.prototype.removeEventListener=function(i,n){var a=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(i,n,a)},p.prototype.removeGlobalListener=function(i){var n=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(i,n)},p.prototype.dispatchEvent=function(i){this.eventService.dispatchEvent(i)},p.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy()}},p.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Re.bind(window,this,"Grid API"),100)},p.prototype.warnIfDestroyed=function(i){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+i+" was called on a grid that was destroyed."),this.destroyCalled},p.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},p.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(Et.assertRegistered(rt.RangeSelectionModule,"api.getCellRanges"),null)},p.prototype.addCellRange=function(i){this.rangeService?this.rangeService.addCellRange(i):Et.assertRegistered(rt.RangeSelectionModule,"api.addCellRange")},p.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),Et.assertRegistered(rt.RangeSelectionModule,"gridApi.clearRangeSelection")},p.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},p.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},p.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},p.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},p.prototype.getChartModels=function(){if(Et.assertRegistered(rt.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},p.prototype.getChartRef=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(i)},p.prototype.getChartImageDataURL=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(i)},p.prototype.downloadChart=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(i)},p.prototype.openChartToolPanel=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(i)},p.prototype.closeChartToolPanel=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(i.chartId)},p.prototype.createRangeChart=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(i)},p.prototype.createCrossFilterChart=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(i)},p.prototype.restoreChart=function(i,n){if(Et.assertRegistered(rt.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(i,n)},p.prototype.createPivotChart=function(i){if(Et.assertRegistered(rt.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(i)},p.prototype.copyToClipboard=function(i){Et.assertRegistered(rt.ClipboardModule,"api.copyToClipboard")&&this.clipboardService.copyToClipboard(i)},p.prototype.cutToClipboard=function(i){Et.assertRegistered(rt.ClipboardModule,"api.cutToClipboard")&&this.clipboardService.cutToClipboard(i)},p.prototype.copySelectedRowsToClipboard=function(i){Et.assertRegistered(rt.ClipboardModule,"api.copySelectedRowsToClipboard")&&this.clipboardService.copySelectedRowsToClipboard(i)},p.prototype.copySelectedRangeToClipboard=function(i){Et.assertRegistered(rt.ClipboardModule,"api.copySelectedRangeToClipboard")&&this.clipboardService.copySelectedRangeToClipboard(i)},p.prototype.copySelectedRangeDown=function(){Et.assertRegistered(rt.ClipboardModule,"api.copySelectedRangeDown")&&this.clipboardService.copyRangeDown()},p.prototype.showColumnMenuAfterButtonClick=function(i,n){var a=this.columnModel.getGridColumn(i);this.menuFactory.showMenuAfterButtonClick(a,n,"columnMenu")},p.prototype.showColumnMenuAfterMouseClick=function(i,n){var a=this.columnModel.getGridColumn(i);a||(a=this.columnModel.getPrimaryColumn(i)),a?this.menuFactory.showMenuAfterMouseEvent(a,n):console.error("AG Grid: column '"+i+"' not found")},p.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},p.prototype.setPopupParent=function(i){this.gridOptionsService.set("popupParent",i)},p.prototype.tabToNextCell=function(i){return this.navigationService.tabToNextCell(!1,i)},p.prototype.tabToPreviousCell=function(i){return this.navigationService.tabToNextCell(!0,i)},p.prototype.getCellRendererInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellRendererInstances(i).map(ks)},p.prototype.getCellEditorInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellEditorInstances(i).map(ks)},p.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},p.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.rowRenderer.stopEditing(i)},p.prototype.startEditingCell=function(i){var n=this.columnModel.getGridColumn(i.colKey);if(n){var a={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:n};null==i.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i.rowIndex);var c=this.navigationService.getCellByPosition(a);c&&c.startRowOrCellEdit(i.key,i.charPress)}else console.warn("AG Grid: no column found for "+i.colKey)},p.prototype.addAggFunc=function(i,n){this.aggFuncService&&this.aggFuncService.addAggFunc(i,n)},p.prototype.addAggFuncs=function(i){this.aggFuncService&&this.aggFuncService.addAggFuncs(i)},p.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},p.prototype.applyServerSideTransaction=function(i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(i);this.logMissingRowModel("applyServerSideTransaction","serverSide")},p.prototype.applyServerSideTransactionAsync=function(i,n){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(i,n);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},p.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},p.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},p.prototype.applyTransaction=function(i){if(this.clientSideRowModel){var n=this.clientSideRowModel.updateRowData(i);return this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),n}this.logMissingRowModel("applyTransaction","clientSide")},p.prototype.applyTransactionAsync=function(i,n){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(i,n):this.logMissingRowModel("applyTransactionAsync","clientSide")},p.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},p.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(i){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",i)},p.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},p.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},p.prototype.refreshServerSide=function(i){this.serverSideRowModel?this.serverSideRowModel.refreshStore(i):this.logMissingRowModel("refreshServerSide","serverSide")},p.prototype.refreshServerSideStore=function(i){return ur("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(i)},p.prototype.getServerSideStoreState=function(){return ur("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},p.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},p.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},p.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},p.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},p.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},p.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},p.prototype.getDisplayedRowAtIndex=function(i){return this.rowModel.getRow(i)},p.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},p.prototype.setPagination=function(i){this.clientSideRowModel||"autoHeight"!==this.gridOptionsService.get("domLayout")||i?this.gridOptionsService.set("pagination",i):console.error("AG Grid: Pagination cannot be disabled when using domLayout set to 'autoHeight' unless using the client-side row model.")},p.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},p.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},p.prototype.paginationSetPageSize=function(i){this.gridOptionsService.set("paginationPageSize",i)},p.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},p.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},p.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},p.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},p.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},p.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},p.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},p.prototype.paginationGoToPage=function(i){this.paginationProxy.goToPage(i)},Lr([Tt("immutableService")],p.prototype,"immutableService",void 0),Lr([Tt("csvCreator")],p.prototype,"csvCreator",void 0),Lr([Tt("excelCreator")],p.prototype,"excelCreator",void 0),Lr([ae("rowRenderer")],p.prototype,"rowRenderer",void 0),Lr([ae("navigationService")],p.prototype,"navigationService",void 0),Lr([ae("filterManager")],p.prototype,"filterManager",void 0),Lr([ae("columnModel")],p.prototype,"columnModel",void 0),Lr([ae("selectionService")],p.prototype,"selectionService",void 0),Lr([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Lr([ae("valueService")],p.prototype,"valueService",void 0),Lr([ae("alignedGridsService")],p.prototype,"alignedGridsService",void 0),Lr([ae("eventService")],p.prototype,"eventService",void 0),Lr([ae("pinnedRowModel")],p.prototype,"pinnedRowModel",void 0),Lr([ae("context")],p.prototype,"context",void 0),Lr([ae("rowModel")],p.prototype,"rowModel",void 0),Lr([ae("sortController")],p.prototype,"sortController",void 0),Lr([ae("paginationProxy")],p.prototype,"paginationProxy",void 0),Lr([ae("focusService")],p.prototype,"focusService",void 0),Lr([ae("dragAndDropService")],p.prototype,"dragAndDropService",void 0),Lr([Tt("rangeService")],p.prototype,"rangeService",void 0),Lr([Tt("clipboardService")],p.prototype,"clipboardService",void 0),Lr([Tt("aggFuncService")],p.prototype,"aggFuncService",void 0),Lr([ae("menuFactory")],p.prototype,"menuFactory",void 0),Lr([Tt("contextMenuFactory")],p.prototype,"contextMenuFactory",void 0),Lr([ae("valueCache")],p.prototype,"valueCache",void 0),Lr([ae("animationFrameService")],p.prototype,"animationFrameService",void 0),Lr([Tt("statusBarService")],p.prototype,"statusBarService",void 0),Lr([Tt("chartService")],p.prototype,"chartService",void 0),Lr([Tt("undoRedoService")],p.prototype,"undoRedoService",void 0),Lr([Tt("rowNodeBlockLoader")],p.prototype,"rowNodeBlockLoader",void 0),Lr([Tt("ssrmTransactionManager")],p.prototype,"serverSideTransactionManager",void 0),Lr([ae("ctrlsService")],p.prototype,"ctrlsService",void 0),Lr([Xe],p.prototype,"init",null),Lr([ct],p.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Lr([lt("gridApi")],p)}(),fp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yl=function(){return yl=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},yl.apply(this,arguments)},Vs=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Eu=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.allColumnFilters=new Map,a.activeAggregateFilters=[],a.activeColumnFilters=[],a.quickFilter=null,a.quickFilterParts=null,a.processingFilterChange=!1,a}var n;return fp(i,p),n=i,i.prototype.init=function(){var a=this;this.addManagedListener(this.eventService,z.EVENT_GRID_COLUMNS_CHANGED,function(){return a.onColumnsChanged()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_VALUE_CHANGED,function(){return a.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_CHANGED,function(){return a.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){a.refreshFiltersForAggregations(),a.resetQuickFilterCache()}),this.addManagedListener(this.eventService,z.EVENT_NEW_COLUMNS_LOADED,function(){return a.resetQuickFilterCache()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return a.resetQuickFilterCache()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_VISIBLE,function(){a.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")&&a.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(u){return a.setQuickFilter(u.currentValue)}),this.addManagedPropertyListener("excludeHiddenColumnsFromQuickFilter",function(){return a.onExcludeHiddenColumnsFromQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback()},i.prototype.isExternalFilterPresentCallback=function(){var a=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof a&&a({})},i.prototype.doesExternalFilterPass=function(a){var u=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof u&&u(a)},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(a){var u=this,c=[],v=this.getFilterModel();if(a){var C=lu(Object.keys(a));this.allColumnFilters.forEach(function(T,M){c.push(u.setModelOnFilterWrapper(T.filterPromise,a[M])),C.delete(M)}),C.forEach(function(T){var M=u.columnModel.getPrimaryColumn(T)||u.columnModel.getGridColumn(T);if(M)if(M.isFilterAllowed()){var F=u.getOrCreateFilterWrapper(M,"NO_UI");F?c.push(u.setModelOnFilterWrapper(F.filterPromise,a[T])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+T)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+T);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+T)})}else this.allColumnFilters.forEach(function(T){c.push(u.setModelOnFilterWrapper(T.filterPromise,null))});Ci.all(c).then(function(){var T=u.getFilterModel(),M=[];u.allColumnFilters.forEach(function(F,$){Wt.jsonEquals(v?v[$]:null,T?T[$]:null)||M.push(F.column)}),M.length>0&&u.onFilterChanged({columns:M})})},i.prototype.setModelOnFilterWrapper=function(a,u){return new Ci(function(c){a.then(function(v){"function"!=typeof v.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),c()),(v.setModel(u)||Ci.resolve()).then(function(){return c()})})})},i.prototype.getFilterModel=function(){var a={};return this.allColumnFilters.forEach(function(u,c){var C=u.filterPromise.resolveNow(null,function(M){return M});if(null==C)return null;if("function"==typeof C.getModel){var T=C.getModel();o(T)&&(a[c]=T)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),a},i.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},i.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},i.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},i.prototype.doAggregateFiltersPass=function(a,u){return this.doColumnFiltersPass(a,u,!0)},i.prototype.updateActiveFilters=function(){var a=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var u=function(C){return!!C&&(C.isFilterActive?C.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},c=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(C){if(C.filterPromise.resolveNow(!1,u)){var T=C.filterPromise.resolveNow(null,function(M){return M});!function(C){if(!C.isPrimary())return!0;var M=!a.columnModel.isPivotActive();return!(!C.isValueActive()||!M)&&(!!a.columnModel.isPivotMode()||c)}(C.column)?a.activeColumnFilters.push(T):a.activeAggregateFilters.push(T)}})},i.prototype.updateFilterFlagInColumns=function(a,u){this.allColumnFilters.forEach(function(c){var v=c.filterPromise.resolveNow(!1,function(C){return C.isFilterActive()});c.column.setFilterActive(v,a,u)})},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},i.prototype.doColumnFiltersPass=function(a,u,c){for(var T=c?this.activeAggregateFilters:this.activeColumnFilters,M=c?a.aggData:a.data,F=0;F<T.length;F++){var $=T[F];if(null!=$&&$!==u){if("function"!=typeof $.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!$.doesFilterPass({node:a,data:M}))return!1}}return!0},i.prototype.parseQuickFilter=function(a){return o(a)?this.gridOptionsService.isRowModelType("clientSide")?a.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(a){if(null==a||"string"==typeof a){var u=this.parseQuickFilter(a);this.quickFilter!==u&&(this.quickFilter=u,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof a)},i.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(a){return a.quickFilterAggregateText=null})},i.prototype.onExcludeHiddenColumnsFromQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()},i.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},i.prototype.callOnFilterChangedOutsideRenderCycle=function(a){var u=this;void 0===a&&(a={});var c=function(){return u.onFilterChanged(a)};this.rowRenderer.isRefreshInProgress()?setTimeout(c,0):c()},i.prototype.onFilterChanged=function(a){void 0===a&&(a={});var u=a.filterInstance,c=a.additionalEventAttributes,v=a.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(T){T.filterPromise&&T.filterPromise.then(function(M){M&&M!==u&&M.onAnyFilterChanged&&M.onAnyFilterChanged()})});var C={type:z.EVENT_FILTER_CHANGED,columns:v||[]};c&&ge(C,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(C),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(a,u){return this.doesRowPassFilter({rowNode:u,filterInstanceToSkip:a})},i.prototype.doesRowPassQuickFilterNoCache=function(a,u){var c=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(C){var T=c.getQuickFilterTextForColumn(C,a);return o(T)&&T.indexOf(u)>=0})},i.prototype.doesRowPassQuickFilterCache=function(a,u){return a.quickFilterAggregateText||this.aggregateRowForQuickFilter(a),a.quickFilterAggregateText.indexOf(u)>=0},i.prototype.doesRowPassQuickFilter=function(a){var u=this,c=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every(function(v){return c?u.doesRowPassQuickFilterCache(a,v):u.doesRowPassQuickFilterNoCache(a,v)})},i.prototype.doesRowPassAggregateFilters=function(a){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(a.rowNode,a.filterInstanceToSkip))},i.prototype.doesRowPassFilter=function(a){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(a.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(a.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(a.rowNode,a.filterInstanceToSkip))},i.prototype.getQuickFilterTextForColumn=function(a,u){var c=this.valueService.getValue(a,u,!0),v=a.getColDef();return v.getQuickFilterText&&(c=v.getQuickFilterText({value:c,node:u,data:u.data,column:a,colDef:v,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),o(c)?c.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(a){var u=this,c=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(C){var T=u.getQuickFilterTextForColumn(C,a);o(T)&&c.push(T)}),a.quickFilterAggregateText=c.join(n.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(a){this.allColumnFilters.forEach(function(u){u.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(a,{afterDataChange:!0}),this.updateActiveFilters()},i.prototype.createValueGetter=function(a){var u=this;return function(c){return u.valueService.getValue(a,c.node,!0)}},i.prototype.getFilterComponent=function(a,u,c){var v;if(void 0===c&&(c=!0),c)return(null===(v=this.getOrCreateFilterWrapper(a,u))||void 0===v?void 0:v.filterPromise)||null;var C=this.cachedFilter(a);return C?C.filterPromise:null},i.prototype.isFilterActive=function(a){var u=this.cachedFilter(a);return!!u&&u.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},i.prototype.getOrCreateFilterWrapper=function(a,u){if(!a.isFilterAllowed())return null;var c=this.cachedFilter(a);return c?"NO_UI"!==u&&this.putIntoGui(c,u):(c=this.createFilterWrapper(a,u),this.allColumnFilters.set(a.getColId(),c)),c},i.prototype.cachedFilter=function(a){return this.allColumnFilters.get(a.getColId())},i.prototype.createFilterInstance=function(a){var C,u=this,c=Et.isRegistered(rt.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",v=a.getColDef(),T=yl(yl({},this.createFilterParams(a,v)),{filterModifiedCallback:function(){u.eventService.dispatchEvent({type:z.EVENT_FILTER_MODIFIED,column:a,filterInstance:C})},filterChangedCallback:function($){u.callOnFilterChangedOutsideRenderCycle({filterInstance:C,additionalEventAttributes:$,columns:[a]})},doesRowPassOtherFilter:function($){return u.doesRowPassOtherFilters(C,$)}}),M=this.userComponentFactory.getFilterDetails(v,T,c);if(!M)return null;var F=M.newAgStackInstance();return F&&F.then(function($){return C=$}),F},i.prototype.createFilterParams=function(a,u){return{column:a,colDef:U(u),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(a),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},i.prototype.createFilterWrapper=function(a,u){var c={column:a,filterPromise:null,compiledElement:null,guiPromise:Ci.resolve(null)};return c.filterPromise=this.createFilterInstance(a),c.filterPromise&&this.putIntoGui(c,u),c},i.prototype.putIntoGui=function(a,u){var c=this,v=document.createElement("div");v.className="ag-filter",a.guiPromise=new Ci(function(C){a.filterPromise.then(function(T){var M=T.getGui();o(M)||console.warn("AG Grid: getGui method from filter returned "+M+", it should be a DOM element or an HTML template string."),"string"==typeof M&&(M=zt(M)),v.appendChild(M),C(v),c.eventService.dispatchEvent({type:z.EVENT_FILTER_OPENED,column:a.column,source:u,eGui:v})})})},i.prototype.onColumnsChanged=function(){var a=this,u=[];this.allColumnFilters.forEach(function(c,v){!(c.column.isPrimary()?a.columnModel.getPrimaryColumn(v):a.columnModel.getGridColumn(v))&&(u.push(c.column),a.disposeFilterWrapper(c,"columnChanged"))}),u.length>0?this.onFilterChanged({columns:u}):this.updateDependantFilters()},i.prototype.updateDependantFilters=function(){var a=this,u=this.columnModel.getGroupAutoColumns();u?.forEach(function(c){"agGroupColumnFilter"===c.getColDef().filter&&a.getOrCreateFilterWrapper(c,"NO_UI")})},i.prototype.isFilterAllowed=function(a){var u,c;if(!a.isFilterAllowed())return!1;var C=this.allColumnFilters.get(a.getColId());return null===(c=null===(u=C?.filterPromise)||void 0===u?void 0:u.resolveNow(!0,function(T){var M,F;return"function"!=typeof(null===(M=T)||void 0===M?void 0:M.isFilterAllowed)||(null===(F=T)||void 0===F?void 0:F.isFilterAllowed())}))||void 0===c||c},i.prototype.getFloatingFilterCompDetails=function(a,u){var c=this,v=a.getColDef(),C=this.createFilterParams(a,v),T=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(v,cp,C),M=this.userComponentFactory.getDefaultFloatingFilterType(v);return null==M&&(M="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(v,{column:a,filterParams:T,currentParentModel:function(){return c.getCurrentFloatingFilterParentModel(a)},parentFilterInstance:function(ne){var pe=c.getFilterComponent(a,"NO_UI");pe?.then(function(me){ne(ks(me))})},showParentFilter:u,suppressFilterButton:!1},M)},i.prototype.getCurrentFloatingFilterParentModel=function(a){var u=this.getFilterComponent(a,"NO_UI",!1);return u?u.resolveNow(null,function(c){return c&&c.getModel()}):null},i.prototype.destroyFilter=function(a,u){void 0===u&&(u="api");var c=this.allColumnFilters.get(a.getColId());c&&(this.disposeFilterWrapper(c,u),this.onFilterChanged({columns:[a]}))},i.prototype.disposeFilterWrapper=function(a,u){var c=this;a.filterPromise.then(function(v){(v.setModel(null)||Ci.resolve()).then(function(){c.getContext().destroyBean(v),a.column.setFilterActive(!1,"filterDestroyed"),c.allColumnFilters.delete(a.column.getColId()),c.eventService.dispatchEvent({type:z.EVENT_FILTER_DESTROYED,source:u,column:a.column})})})},i.prototype.destroy=function(){var a=this;p.prototype.destroy.call(this),this.allColumnFilters.forEach(function(u){return a.disposeFilterWrapper(u,"gridDestroyed")})},i.QUICK_FILTER_SEPARATOR="\n",Vs([ae("valueService")],i.prototype,"valueService",void 0),Vs([ae("columnModel")],i.prototype,"columnModel",void 0),Vs([ae("rowModel")],i.prototype,"rowModel",void 0),Vs([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Vs([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),Vs([Xe],i.prototype,"init",null),n=Vs([lt("filterManager")],i)}(nt),x_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hp=function(p){function i(n,a){var u=p.call(this,n)||this;return u.ctrl=a,u}return x_(i,p),i.prototype.getCtrl=function(){return this.ctrl},i}(lr),Sh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Su=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Oh=function(p){function i(n){return p.call(this,i.TEMPLATE,n)||this}return Sh(i,p),i.prototype.postConstruct=function(){var n=this,a=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,v){return n.addOrRemoveCssClass(c,v)},addOrRemoveBodyCssClass:function(c,v){return n.eFloatingFilterBody.classList.toggle(c,v)},setButtonWrapperDisplayed:function(c){return Er(n.eButtonWrapper,c)},setCompDetails:function(c){return n.setCompDetails(c)},getFloatingFilterComp:function(){return n.compPromise},setWidth:function(c){return a.style.width=c},setMenuIcon:function(c){return n.eButtonShowMainFilter.appendChild(c)}},a,this.eButtonShowMainFilter,this.eFloatingFilterBody)},i.prototype.setCompDetails=function(n){var a=this;this.compPromise=n.newAgStackInstance(),this.compPromise.then(function(u){return a.afterCompCreated(u)})},i.prototype.afterCompCreated=function(n){var a=this;n&&(this.addDestroyFunc(function(){return a.context.destroyBean(n)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(n.getGui()),n.afterGuiAttached&&n.afterGuiAttached()))},i.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Su([gt("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),Su([gt("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),Su([gt("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),Su([Xe],i.prototype,"postConstruct",null),i}(hp),ml=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),dn=(()=>((dn=dn||{}).AUTO_HEIGHT="ag-layout-auto-height",dn.NORMAL="ag-layout-normal",dn.PRINT="ag-layout-print",dn))(),Ou=function(p){function i(n){var a=p.call(this)||this;return a.view=n,a}return ml(i,p),i.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},i.prototype.updateLayoutClasses=function(){var n=this.getDomLayout(),a={autoHeight:"autoHeight"===n,normal:"normal"===n,print:"print"===n};this.view.updateLayoutClasses(a.autoHeight?dn.AUTO_HEIGHT:a.print?dn.PRINT:dn.NORMAL,a)},i.prototype.getDomLayout=function(){var n,a=null!==(n=this.gridOptionsService.get("domLayout"))&&void 0!==n?n:"normal";return-1===["normal","print","autoHeight"].indexOf(a)?(_e(function(){return console.warn("AG Grid: "+a+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):a},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(nt),kc=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vc=function(){return Vc=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Vc.apply(this,arguments)},ns=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},I_=function(p){function i(n){var a=p.call(this)||this;return a.scrollLeft=-1,a.nextScrollTop=-1,a.scrollTop=-1,a.eBodyViewport=n,a.resetLastHScrollDebounced=Pt(function(){return a.eLastHScroll=null},500),a.resetLastVScrollDebounced=Pt(function(){return a.eLastVScroll=null},500),a}return kc(i,p),i.prototype.postConstruct=function(){var n=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(a){n.centerRowContainerCtrl=a.centerRowContainerCtrl,n.onDisplayedColumnsWidthChanged(),n.addScrollListener()})},i.prototype.addScrollListener=function(){var n=this.ctrlsService.getFakeHScrollComp(),a=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(n.getViewport(),"scroll",this.onFakeHScroll.bind(this));var u=this.gridOptionsService.is("debounceVerticalScrollbar"),c=u?Pt(this.onVScroll.bind(this),100):this.onVScroll.bind(this),v=u?Pt(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",c),this.addManagedListener(a.getViewport(),"scroll",v)},i.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(n){if(null!=this.centerRowContainerCtrl){void 0===n&&(n=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var u=this.enableRtl?n:-n,c=this.ctrlsService.getTopCenterRowContainerCtrl(),v=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),C=this.ctrlsService.getBottomCenterRowContainerCtrl(),T=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-u),C.setContainerTranslateX(u),c.setContainerTranslateX(u),v.setContainerTranslateX(u);var F=this.centerRowContainerCtrl.getViewportElement();$e(this.eLastHScroll===F?T.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(n),this.enableRtl)}},i.prototype.isControllingHScroll=function(n){return this.eLastHScroll?n===this.eLastHScroll:(this.eLastHScroll=n,!0)},i.prototype.isControllingVScroll=function(n){return this.eLastVScroll?n===this.eLastVScroll:(this.eLastVScroll=n,!0)},i.prototype.onFakeHScroll=function(){var n=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(n)&&this.onHScrollCommon(n)},i.prototype.onHScroll=function(){var n=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(n)&&this.onHScrollCommon(n)},i.prototype.onHScrollCommon=function(n){var a=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",a.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Se(n,this.enableRtl))),this.resetLastHScrollDebounced())},i.prototype.onFakeVScroll=function(){var n=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(n)&&this.onVScrollCommon(n)},i.prototype.onVScroll=function(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)},i.prototype.onVScrollCommon=function(n){var a=n.scrollTop;this.shouldBlockScrollUpdate("vertical",a,!0)||(this.animationFrameService.setScrollTop(a),this.nextScrollTop=a,n===this.eBodyViewport?this.ctrlsService.getFakeVScrollComp().getViewport().scrollTop=a:this.eBodyViewport.scrollTop=a,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},i.prototype.doHorizontalScroll=function(n){var u=Se(this.ctrlsService.getFakeHScrollComp().getViewport(),this.enableRtl);this.scrollLeft===n&&n===u||(this.scrollLeft=n,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(n),this.onHorizontalViewportChanged())},i.prototype.fireScrollEvent=function(n){var a=this,u={type:z.EVENT_BODY_SCROLL,direction:n,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(u),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=Vc(Vc({},u),{type:z.EVENT_BODY_SCROLL_END});a.eventService.dispatchEvent(c)},100)},i.prototype.shouldBlockScrollUpdate=function(n,a,u){return void 0===u&&(u=!1),!(u&&!Rr())&&("vertical"===n?this.shouldBlockVerticalScroll(a):this.shouldBlockHorizontalScroll(a))},i.prototype.shouldBlockVerticalScroll=function(n){var a=jo(this.eBodyViewport);return n<0||n+a>this.eBodyViewport.scrollHeight},i.prototype.shouldBlockHorizontalScroll=function(n){var a=this.centerRowContainerCtrl.getCenterWidth(),u=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&ce()){if(n>0)return!0}else if(n<0)return!0;return Math.abs(n)+a>u},i.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},i.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},i.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())},i.prototype.scrollGridIfNeeded=function(){var n=this.scrollTop!=this.nextScrollTop;return n&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),n},i.prototype.setHorizontalScrollPosition=function(n){var u=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",n)&&(n=this.enableRtl&&ce()?n>0?0:u:Math.min(Math.max(n,0),u)),$e(this.centerRowContainerCtrl.getViewportElement(),Math.abs(n),this.enableRtl),this.doHorizontalScroll(n)},i.prototype.setVerticalScrollPosition=function(n){this.eBodyViewport.scrollTop=n},i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},i.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},i.prototype.scrollHorizontally=function(n){var a=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(a+n),this.centerRowContainerCtrl.getViewportElement().scrollLeft-a},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.ensureNodeVisible=function(n,a){void 0===a&&(a=null);for(var u=this.rowModel.getRowCount(),c=-1,v=0;v<u;v++){var C=this.rowModel.getRow(v);if("function"==typeof n){if(C&&n(C)){c=v;break}}else if(n===C||n===C.data){c=v;break}}c>=0&&this.ensureIndexVisible(c,a)},i.prototype.ensureIndexVisible=function(n,a){if(!this.gridOptionsService.isDomLayout("print")){var u=this.paginationProxy.getRowCount();if("number"!=typeof n||n<0||n>=u)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+n);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(n);var F,T=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),M=this.paginationProxy.getRow(n);do{var $=M.rowTop,ne=M.rowHeight,pe=this.paginationProxy.getPixelOffset(),me=M.rowTop-pe,Te=me+M.rowHeight,Ae=this.getVScrollPosition(),He=this.heightScaler.getDivStretchOffset(),Ue=Ae.top+He,Ze=Ae.bottom+He,st=Ze-Ue,St=this.heightScaler.getScrollPositionForPixel(me),Ut=this.heightScaler.getScrollPositionForPixel(Te-st),jt=Math.min((St+Ut)/2,me),fr=null;"top"===a?fr=St:"bottom"===a?fr=Ut:"middle"===a?fr=jt:Ue+T>me?fr=St-T:Ze<Te&&(fr=Ut),null!==fr&&(this.eBodyViewport.scrollTop=fr,this.rowRenderer.redrawAfterScroll()),F=$!==M.rowTop||ne!==M.rowHeight}while(F);this.animationFrameService.flushAllFrames()}},i.prototype.ensureColumnVisible=function(n,a){void 0===a&&(a="auto");var u=this.columnModel.getGridColumn(n);if(u&&!u.isPinned()&&this.columnModel.isColumnDisplayed(u)){var c=this.getPositionedHorizontalScroll(u,a);null!==c&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(c),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},i.prototype.getPositionedHorizontalScroll=function(n,a){var u=this.isColumnOutsideViewport(n),c=u.columnBeforeStart,v=u.columnAfterEnd,C=this.centerRowContainerCtrl.getCenterWidth()<n.getActualWidth(),T=this.centerRowContainerCtrl.getCenterWidth(),M=this.enableRtl,F=(M?c:v)||C,$=M?v:c;"auto"!==a&&(F="start"===a,$="end"===a);var ne="middle"===a;if(F||$||ne){var pe=this.getColumnBounds(n),me=pe.colLeft,Ae=pe.colRight;return ne?pe.colMiddle-T/2:F?M?Ae:me:M?me-T:Ae-T}return null},i.prototype.isColumnOutsideViewport=function(n){var a=this.getViewportBounds(),u=a.start,c=a.end,v=this.getColumnBounds(n),C=v.colLeft,T=v.colRight,M=this.enableRtl;return{columnBeforeStart:M?u>T:c<T,columnAfterEnd:M?c<C:u>C}},i.prototype.getColumnBounds=function(n){var a=this.enableRtl,u=this.columnModel.getBodyContainerWidth(),c=n.getActualWidth(),v=n.getLeft(),C=a?-1:1,T=a?u-v:v;return{colLeft:T,colMiddle:T+c/2*C,colRight:T+c*C}},i.prototype.getViewportBounds=function(){var n=this.centerRowContainerCtrl.getCenterWidth(),a=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:a,end:n+a,width:n}},ns([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),ns([ae("animationFrameService")],i.prototype,"animationFrameService",void 0),ns([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),ns([ae("rowModel")],i.prototype,"rowModel",void 0),ns([ae("rowContainerHeightService")],i.prototype,"heightScaler",void 0),ns([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),ns([ae("columnModel")],i.prototype,"columnModel",void 0),ns([Xe],i.prototype,"postConstruct",null),i}(nt),wh=function(){function p(i){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=i.scrollContainer,this.scrollHorizontally=-1!==i.scrollAxis.indexOf("x"),this.scrollVertically=-1!==i.scrollAxis.indexOf("y"),this.scrollByTick=null!=i.scrollByTick?i.scrollByTick:20,i.onScrollCallback&&(this.onScrollCallback=i.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=i.getVerticalPosition,this.setVerticalPosition=i.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=i.getHorizontalPosition,this.setHorizontalPosition=i.setHorizontalPosition),this.shouldSkipVerticalScroll=i.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=i.shouldSkipHorizontalScroll||function(){return!1}}return p.prototype.check=function(i,n){void 0===n&&(n=!1);var a=n||this.shouldSkipVerticalScroll();if(!a||!this.shouldSkipHorizontalScroll()){var u=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=i.clientX<u.left+c,this.tickRight=i.clientX>u.right-c,this.tickUp=i.clientY<u.top+c&&!a,this.tickDown=i.clientY>u.bottom-c&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},p.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},p.prototype.doTick=function(){var i;if(this.tickCount++,i=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var n=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(n-i),this.tickDown&&this.setVerticalPosition(n+i)}if(this.scrollHorizontally){var a=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(a-i),this.tickRight&&this.setHorizontalPosition(a+i)}this.onScrollCallback&&this.onScrollCallback()},p.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},p}(),L_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gp=function(){return gp=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},gp.apply(this,arguments)},so=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},vp=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},_p=function(p){function i(n){var a=p.call(this)||this;return a.isMultiRowDrag=!1,a.isGridSorted=!1,a.isGridFiltered=!1,a.isRowGroupActive=!1,a.eContainer=n,a}return L_(i,p),i.prototype.postConstruct=function(){var n=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var a=function(){n.onSortChanged(),n.onFilterChanged(),n.onRowGroupChanged()};this.addManagedListener(this.eventService,z.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_MODEL_UPDATED,function(){a()}),a(),this.ctrlsService.whenReady(function(){var u=n.ctrlsService.getGridBodyCtrl();n.autoScrollService=new wh({scrollContainer:u.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return u.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return u.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){n.onDragging(n.lastDraggingEvent)}})})},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var n=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!d(n)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(n){return n===yn.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?pi.ICON_NOT_ALLOWED:pi.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(n){var a=this;if(!this.isFromThisGrid(n))return n.dragItem.rowNodes||[];var u=this.gridOptionsService.is("rowDragMultiRow"),c=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(vp(arguments[i]));return p}(this.selectionService.getSelectedNodes()).sort(function(C,T){return null==C.rowIndex||null==T.rowIndex?0:a.getRowIndexNumber(C)-a.getRowIndexNumber(T)}),v=n.dragItem.rowNode;return u&&-1!==c.indexOf(v)?(this.isMultiRowDrag=!0,c):(this.isMultiRowDrag=!1,[v])},i.prototype.onDragEnter=function(n){n.dragItem.rowNodes=this.getRowNodes(n),this.dispatchGridEvent(z.EVENT_ROW_DRAG_ENTER,n),this.getRowNodes(n).forEach(function(a){a.setDragging(!0)}),this.onEnterOrDragging(n)},i.prototype.onDragging=function(n){this.onEnterOrDragging(n)},i.prototype.isFromThisGrid=function(n){return n.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(n){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(n.dropZoneTarget)},i.prototype.onEnterOrDragging=function(n){this.dispatchGridEvent(z.EVENT_ROW_DRAG_MOVE,n),this.lastDraggingEvent=n;var a=this.mouseEventService.getNormalisedPosition(n).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(n,a),this.autoScrollService.check(n.event)},i.prototype.doManagedDrag=function(n,a){var u=this.isFromThisGrid(n),c=this.gridOptionsService.is("rowDragManaged"),v=n.dragItem.rowNodes;c&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!u?this.isDropZoneWithinThisGrid(n)||this.clientSideRowModel.highlightRowAtPixel(v[0],a):this.moveRows(v,a))},i.prototype.getRowIndexNumber=function(n){return parseInt(wr(n.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(n){var a=this,u=this.clientSideRowModel.getLastHighlightedRowNode(),c=u&&u.highlighted===Hi.Below,v=this.mouseEventService.getNormalisedPosition(n).y,C=n.dragItem.rowNodes,T=c?1:0;if(this.isFromThisGrid(n))C.forEach(function($){$.rowTop<v&&(T-=1)}),this.moveRows(C,v,T);else{var M=this.gridOptionsService.getRowIdFunc(),F=this.clientSideRowModel.getRowIndexAtPixel(v)+1;this.clientSideRowModel.getHighlightPosition(v)===Hi.Above&&F--,this.clientSideRowModel.updateRowData({add:C.map(function($){return $.data}).filter(function($){return!a.clientSideRowModel.getRowNode(M?M({data:$,level:0}):$.id)}),addIndex:F})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(n,a,u){void 0===u&&(u=0),this.clientSideRowModel.ensureRowsAtPixel(n,a,u)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},i.prototype.addRowDropZone=function(n){var a=this;if(n.getContainer())if(this.dragAndDropService.findExternalZone(n))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var u={getContainer:n.getContainer};n.fromGrid?(n.fromGrid=void 0,u=n):(n.onDragEnter&&(u.onDragEnter=function(c){n.onDragEnter(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_ENTER,c))}),n.onDragLeave&&(u.onDragLeave=function(c){n.onDragLeave(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_LEAVE,c))}),n.onDragging&&(u.onDragging=function(c){n.onDragging(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_MOVE,c))}),n.onDragStop&&(u.onDragStop=function(c){n.onDragStop(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(gp({isInterestedIn:function(c){return c===yn.RowDrag},getIconName:function(){return pi.ICON_MOVE},external:!0},u))}else _e(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(n){var a=this,u=this.getContainer.bind(this),c=this.onDragEnter.bind(this),v=this.onDragLeave.bind(this),C=this.onDragging.bind(this),T=this.onDragStop.bind(this);return n?{getContainer:u,onDragEnter:n.onDragEnter?function(M){c(M),n.onDragEnter(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_ENTER,M))}:c,onDragLeave:n.onDragLeave?function(M){v(M),n.onDragLeave(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_LEAVE,M))}:v,onDragging:n.onDragging?function(M){C(M),n.onDragging(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_MOVE,M))}:C,onDragStop:n.onDragStop?function(M){T(M),n.onDragStop(a.draggingToRowDragEvent(z.EVENT_ROW_DRAG_END,M))}:T,fromGrid:!0}:{getContainer:u,onDragEnter:c,onDragLeave:v,onDragging:C,onDragStop:T,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(n,a){var C,T,u=this.mouseEventService.getNormalisedPosition(a).y,v=-1;switch(u>this.paginationProxy.getCurrentPageHeight()||(v=this.rowModel.getRowIndexAtPixel(u),C=this.rowModel.getRow(v)),a.vDirection){case Xo.Down:T="down";break;case Xo.Up:T="up";break;default:T=null}return{type:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:a.event,node:a.dragItem.rowNode,nodes:a.dragItem.rowNodes,overIndex:v,overNode:C,y:u,vDirection:T}},i.prototype.dispatchGridEvent=function(n,a){var u=this.draggingToRowDragEvent(n,a);this.eventService.dispatchEvent(u)},i.prototype.onDragLeave=function(n){this.dispatchGridEvent(z.EVENT_ROW_DRAG_LEAVE,n),this.stopDragging(n),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(n)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(n){this.dispatchGridEvent(z.EVENT_ROW_DRAG_END,n),this.stopDragging(n),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(n))&&!this.isDropZoneWithinThisGrid(n)&&this.moveRowAndClearHighlight(n)},i.prototype.stopDragging=function(n){this.autoScrollService.ensureCleared(),this.getRowNodes(n).forEach(function(a){a.setDragging(!1)})},so([ae("dragAndDropService")],i.prototype,"dragAndDropService",void 0),so([ae("rowModel")],i.prototype,"rowModel",void 0),so([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),so([ae("columnModel")],i.prototype,"columnModel",void 0),so([ae("focusService")],i.prototype,"focusService",void 0),so([ae("sortController")],i.prototype,"sortController",void 0),so([ae("filterManager")],i.prototype,"filterManager",void 0),so([ae("selectionService")],i.prototype,"selectionService",void 0),so([ae("mouseEventService")],i.prototype,"mouseEventService",void 0),so([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),so([Tt("rangeService")],i.prototype,"rangeService",void 0),so([Xe],i.prototype,"postConstruct",null),i}(nt),N_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ao=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Zo=(()=>((Zo=Zo||{}).ANIMATION_ON="ag-row-animation",Zo.ANIMATION_OFF="ag-row-no-animation",Zo))(),yp="ag-selectable",is="ag-force-vertical-scroll",bh=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.stickyTopHeight=0,n}return N_(i,p),i.prototype.getScrollFeature=function(){return this.bodyScrollFeature},i.prototype.getBodyViewportElement=function(){return this.eBodyViewport},i.prototype.setComp=function(n,a,u,c,v,C){this.comp=n,this.eGridBody=a,this.eBodyViewport=u,this.eTop=c,this.eBottom=v,this.eStickyTop=C,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Ou(this.comp)),this.bodyScrollFeature=this.createManagedBean(new I_(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([c,u,v,C]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},i.prototype.getComp=function(){return this.comp},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,z.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},i.prototype.addFocusListeners=function(n){var a=this;n.forEach(function(u){a.addManagedListener(u,"focusin",function(c){var C=So(c.target,"ag-root",u);u.classList.toggle("ag-has-focus",!C)}),a.addManagedListener(u,"focusout",function(c){var v=c.target,C=c.relatedTarget,T=u.contains(C),M=So(C,"ag-root",u);So(v,"ag-root",u)||(!T||M)&&u.classList.remove("ag-has-focus")})})},i.prototype.setColumnMovingCss=function(n){this.comp.setColumnMovingCss("ag-column-moving",n)},i.prototype.setCellTextSelection=function(n){void 0===n&&(n=!1),this.comp.setCellSelectableCss(n?yp:null,n)},i.prototype.onScrollVisibilityChanged=function(){var n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var a=n&&this.gridOptionsService.getScrollbarWidth()||0,u=Uo()?16:0;this.comp.setBodyViewportWidth("calc(100% + "+(a+u)+"px)")},i.prototype.onGridColumnsChanged=function(){var n=this.columnModel.getAllGridColumns();this.comp.setColumnCount(n?n.length:0)},i.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(n){if(n.target instanceof HTMLImageElement)return n.preventDefault(),!1})},i.prototype.addStopEditingWhenGridLosesFocus=function(){var n=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var a=function(c){var v=c.relatedTarget;if(null!==yi(v)){var C=u.some(function(M){return M.contains(v)})&&n.mouseEventService.isElementInThisGrid(v);if(!C){var T=n.popupService;C=T.getActivePopups().some(function(M){return M.contains(v)})||T.isElementWithinCustomPopup(v)}C||n.rowRenderer.stopEditing()}else n.rowRenderer.stopEditing()},u=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];u.forEach(function(c){return n.addManagedListener(c,"focusout",a)})}},i.prototype.updateRowCount=function(){var n=this.headerNavigationService.getHeaderRowCount(),a=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===a?-1:n+a)},i.prototype.registerBodyViewportResizeListener=function(n){this.comp.registerBodyViewportResizeListener(n)},i.prototype.setVerticalScrollPaddingVisible=function(n){this.comp.setPinnedTopBottomOverflowY(n?"scroll":"hidden")},i.prototype.isVerticalScrollShowing=function(){var n=this.gridOptionsService.is("alwaysShowVerticalScroll"),a=n?is:null,u=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(a,n),n||u&&Yi(this.eBodyViewport)},i.prototype.setupRowAnimationCssClass=function(){var n=this,a=function(){var u=n.gridOptionsService.isAnimateRows()&&!n.rowContainerHeightService.isStretching();n.comp.setRowAnimationCssOnBodyViewport(u?Zo.ANIMATION_ON:Zo.ANIMATION_OFF,u)};a(),this.addManagedListener(this.eventService,z.EVENT_HEIGHT_SCALE_CHANGED,a),this.addManagedPropertyListener("animateRows",a)},i.prototype.getGridBodyElement=function(){return this.eGridBody},i.prototype.addBodyViewportListener=function(){var n=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",n),this.mockContextMenuForIPad(n),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},i.prototype.addFullWidthContainerWheelListener=function(){var n=this,a=this.eBodyViewport.querySelector(".ag-full-width-container"),u=this.eBodyViewport.querySelector(".ag-center-cols-viewport");a&&u&&this.addManagedListener(a,"wheel",function(c){return n.onFullWidthContainerWheel(c,u)})},i.prototype.onFullWidthContainerWheel=function(n,a){!n.deltaX||Math.abs(n.deltaY)>Math.abs(n.deltaX)||(n.preventDefault(),a.scrollBy({left:n.deltaX}))},i.prototype.onBodyViewportContextMenu=function(n,a,u){if(n||u){this.gridOptionsService.is("preventDefaultOnContextMenu")&&(n||u).preventDefault();var v=(n||a).target;if(v===this.eBodyViewport||v===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;n?this.contextMenuFactory.onContextMenu(n,null,null,null,null,this.eGridBody):u&&this.contextMenuFactory.onContextMenu(null,u,null,null,null,this.eGridBody)}}},i.prototype.mockContextMenuForIPad=function(n){if(Rr()){var a=new di(this.eBodyViewport);this.addManagedListener(a,di.EVENT_LONG_TAP,function(c){n(void 0,c.touchStart,c.touchEvent)}),this.addDestroyFunc(function(){return a.destroy()})}},i.prototype.onBodyViewportWheel=function(n){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&n.preventDefault()},i.prototype.onStickyTopWheel=function(n){n.preventDefault(),n.offsetY&&this.scrollVertically(n.deltaY)},i.prototype.getGui=function(){return this.eGridBody},i.prototype.scrollVertically=function(n){var a=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(a+n),this.eBodyViewport.scrollTop-a},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new _p(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},i.prototype.setFloatingHeights=function(){var n=this.pinnedRowModel,a=n.getPinnedTopTotalHeight();a&&(a+=1);var u=n.getPinnedBottomTotalHeight();u&&(u+=1),this.comp.setTopHeight(a),this.comp.setBottomHeight(u),this.comp.setTopDisplay(a?"inherit":"none"),this.comp.setBottomDisplay(u?"inherit":"none"),this.setStickyTopOffsetTop()},i.prototype.setStickyTopHeight=function(n){void 0===n&&(n=0),this.comp.setStickyTopHeight(n+"px"),this.stickyTopHeight=n},i.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},i.prototype.setStickyTopWidth=function(n){if(n){var a=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+a+"px)")}else this.comp.setStickyTopWidth("100%")},i.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},i.prototype.setStickyTopOffsetTop=function(){var a=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),u=this.pinnedRowModel.getPinnedTopTotalHeight(),c=0;a>0&&(c+=a+1),u>0&&(c+=u+1),this.comp.setStickyTopTop(c+"px")},i.prototype.sizeColumnsToFit=function(n,a){var u=this,v=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,T=H(this.eGridBody)-v;T>0?this.columnModel.sizeColumnsToFit(T,"sizeColumnsToFit",!1,n):void 0===a?window.setTimeout(function(){u.sizeColumnsToFit(n,100)},0):100===a?window.setTimeout(function(){u.sizeColumnsToFit(n,500)},100):500===a?window.setTimeout(function(){u.sizeColumnsToFit(n,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.addScrollEventListener=function(n){this.eBodyViewport.addEventListener("scroll",n,{passive:!0})},i.prototype.removeScrollEventListener=function(n){this.eBodyViewport.removeEventListener("scroll",n)},Ao([ae("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Ao([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Ao([ae("columnModel")],i.prototype,"columnModel",void 0),Ao([ae("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Ao([Tt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ao([ae("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Ao([ae("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ao([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ao([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),Ao([ae("popupService")],i.prototype,"popupService",void 0),Ao([ae("mouseEventService")],i.prototype,"mouseEventService",void 0),Ao([ae("rowModel")],i.prototype,"rowModel",void 0),i}(nt),fa=(()=>((fa=fa||{})[fa.FILL=0]="FILL",fa[fa.RANGE=1]="RANGE",fa))(),Jo=(()=>((Jo=Jo||{})[Jo.VALUE=0]="VALUE",Jo[Jo.DIMENSION=1]="DIMENSION",Jo))(),os="ag-cell-range-selected",xh=function(){function p(i,n){this.beans=i,this.cellCtrl=n}return p.prototype.setComp=function(i,n){this.cellComp=i,this.eGui=n,this.onRangeSelectionChanged()},p.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(os,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(os+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(os+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(os+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(os+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Fi(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},p.prototype.updateRangeBorders=function(){var i=this.getRangeBorders(),n=this.isSingleCell(),u=!n&&i.right,c=!n&&i.bottom,v=!n&&i.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!n&&i.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",u),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",v)},p.prototype.isSingleCell=function(){var i=this.beans.rangeService;return 1===this.rangeCount&&i&&!i.isMoreThanOneCell()},p.prototype.getHasChartRange=function(){var i=this.beans.rangeService;if(!this.rangeCount||!i)return!1;var n=i.getCellRanges();return n.length>0&&n.every(function(a){return qe([Jo.DIMENSION,Jo.VALUE],a.type)})},p.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},p.prototype.getRangeBorders=function(){var $,ne,i=this,n=this.beans.gridOptionsService.is("enableRtl"),a=!1,u=!1,c=!1,v=!1,C=this.cellCtrl.getCellPosition().column,T=this.beans,M=T.rangeService,F=T.columnModel;n?($=F.getDisplayedColAfter(C),ne=F.getDisplayedColBefore(C)):($=F.getDisplayedColBefore(C),ne=F.getDisplayedColAfter(C));var pe=M.getCellRanges().filter(function(Ue){return M.isCellInSpecificRange(i.cellCtrl.getCellPosition(),Ue)});$||(v=!0),ne||(u=!0);for(var me=0;me<pe.length&&!(a&&u&&c&&v);me++){var Te=pe[me],Ae=M.getRangeStartRow(Te),He=M.getRangeEndRow(Te);!a&&this.beans.rowPositionUtils.sameRow(Ae,this.cellCtrl.getCellPosition())&&(a=!0),!c&&this.beans.rowPositionUtils.sameRow(He,this.cellCtrl.getCellPosition())&&(c=!0),!v&&$&&Te.columns.indexOf($)<0&&(v=!0),!u&&ne&&Te.columns.indexOf(ne)<0&&(u=!0)}return{top:a,right:u,bottom:c,left:v}},p.prototype.refreshHandle=function(){if(this.beans.rangeService){var i=this.shouldHaveSelectionHandle();this.selectionHandle&&!i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),i&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},p.prototype.shouldHaveSelectionHandle=function(){var i=this.beans,n=i.gridOptionsService,a=i.rangeService,u=a.getCellRanges(),c=u.length;if(this.rangeCount<1||c<1)return!1;var v=wr(u),C=this.cellCtrl.getCellPosition(),T=n.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),M=n.is("enableRangeHandle"),F=1===c&&!this.cellCtrl.isEditing()&&(T||M);if(this.hasChartRange){var ne=u[0].type===Jo.DIMENSION&&a.isCellInSpecificRange(C,u[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",ne),F=v.type===Jo.VALUE}return F&&null!=v.endRow&&a.isContiguousRange(v)&&a.isBottomRightCell(v,C)},p.prototype.addSelectionHandle=function(){var i=this.beans,n=i.gridOptionsService,u=wr(i.rangeService.getCellRanges()).type,v=n.is("enableFillHandle")&&s(u)?fa.FILL:fa.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==v&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(v)),this.selectionHandle.refresh(this.cellCtrl)},p.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},p}(),Cp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Uc=function(p){function i(n,a){var u=p.call(this)||this;return u.cellCtrl=n,u.beans=a,u.column=n.getColumn(),u.rowNode=n.getRowNode(),u.setupColSpan(),u.setupRowSpan(),u}return Cp(i,p),i.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},i.prototype.setComp=function(n){this.eGui=n,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},i.prototype.onDisplayColumnsChanged=function(){var n=this.getColSpanningList();nn(this.colsSpanning,n)||(this.colsSpanning=n,this.onWidthChanged(),this.onLeftChanged())},i.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},i.prototype.onWidthChanged=function(){if(this.eGui){var n=this.getCellWidth();this.eGui.style.width=n+"px"}},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(n,a){return n+a.getActualWidth()},0):this.column.getActualWidth()},i.prototype.getColSpanningList=function(){var n=this.column.getColSpan(this.rowNode),a=[];if(1===n)a.push(this.column);else for(var u=this.column,c=this.column.getPinned(),v=0;u&&v<n&&(a.push(u),(u=this.beans.columnModel.getDisplayedColAfter(u))&&!s(u)&&c===u.getPinned());v++);return a},i.prototype.onLeftChanged=function(){if(this.eGui){var n=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=n+"px"}},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?wr(this.colsSpanning):this.column).getLeft()},i.prototype.modifyLeftForPrintLayout=function(n){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return n;var a=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?a+this.beans.columnModel.getBodyContainerWidth()+(n||0):a+(n||0)},i.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var n=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height=n*this.rowSpan+"px",this.eGui.style.zIndex="1"}},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(nt),Ih=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ep=function(p){function i(n,a){var u=p.call(this)||this;return u.staticClasses=[],u.cellCtrl=n,u.beans=a,u.column=n.getColumn(),u.rowNode=n.getRowNode(),u}return Ih(i,p),i.prototype.setComp=function(n){this.cellComp=n,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},i.prototype.applyCellClassRules=function(){var n=this,a=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(a.cellClassRules,u,function(c){return n.cellComp.addOrRemoveCssClass(c,!0)},function(c){return n.cellComp.addOrRemoveCssClass(c,!1)})},i.prototype.applyUserStyles=function(){var n=this.column.getColDef();if(n.cellStyle){var a;if("function"==typeof n.cellStyle){var u={column:this.column,value:this.cellCtrl.getValue(),colDef:n,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};a=(0,n.cellStyle)(u)}else a=n.cellStyle;a&&this.cellComp.setUserStyles(a)}},i.prototype.applyClassesFromColDef=function(){var n=this,a=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:a,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(c){return n.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(a,u),this.staticClasses.length&&this.staticClasses.forEach(function(c){return n.cellComp.addOrRemoveCssClass(c,!0)})},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(nt),Du=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sp=function(p){function i(n,a){var u=p.call(this)||this;return u.ctrl=n,u.beans=a,u}return Du(i,p),i.prototype.setComp=function(n){this.comp=n,this.setupTooltip()},i.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},i.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},i.prototype.createTooltipFeatureIfNeeded=function(){var n=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new ul({getTooltipParams:function(){return n.getTooltipParams()},getGui:function(){return n.ctrl.getGui()}}),this.beans.context))},i.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},i.prototype.getTooltipParams=function(){var n=this.ctrl,a=n.getColumn?n.getColumn():void 0,u=n.getColDef?n.getColDef():void 0,c=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:u,column:a,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0}},i.prototype.getTooltipText=function(){return this.tooltip},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(nt),nr=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Lh=function(){function p(){}return p.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},nr([ae("resizeObserverService")],p.prototype,"resizeObserverService",void 0),nr([ae("paginationProxy")],p.prototype,"paginationProxy",void 0),nr([ae("context")],p.prototype,"context",void 0),nr([ae("columnApi")],p.prototype,"columnApi",void 0),nr([ae("gridApi")],p.prototype,"gridApi",void 0),nr([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),nr([ae("expressionService")],p.prototype,"expressionService",void 0),nr([ae("environment")],p.prototype,"environment",void 0),nr([ae("rowRenderer")],p.prototype,"rowRenderer",void 0),nr([ae("templateService")],p.prototype,"templateService",void 0),nr([ae("valueService")],p.prototype,"valueService",void 0),nr([ae("eventService")],p.prototype,"eventService",void 0),nr([ae("columnModel")],p.prototype,"columnModel",void 0),nr([ae("headerNavigationService")],p.prototype,"headerNavigationService",void 0),nr([ae("navigationService")],p.prototype,"navigationService",void 0),nr([ae("columnAnimationService")],p.prototype,"columnAnimationService",void 0),nr([Tt("rangeService")],p.prototype,"rangeService",void 0),nr([ae("focusService")],p.prototype,"focusService",void 0),nr([Tt("contextMenuFactory")],p.prototype,"contextMenuFactory",void 0),nr([ae("popupService")],p.prototype,"popupService",void 0),nr([ae("valueFormatterService")],p.prototype,"valueFormatterService",void 0),nr([ae("stylingService")],p.prototype,"stylingService",void 0),nr([ae("columnHoverService")],p.prototype,"columnHoverService",void 0),nr([ae("userComponentFactory")],p.prototype,"userComponentFactory",void 0),nr([ae("userComponentRegistry")],p.prototype,"userComponentRegistry",void 0),nr([ae("animationFrameService")],p.prototype,"animationFrameService",void 0),nr([ae("dragService")],p.prototype,"dragService",void 0),nr([ae("dragAndDropService")],p.prototype,"dragAndDropService",void 0),nr([ae("sortController")],p.prototype,"sortController",void 0),nr([ae("filterManager")],p.prototype,"filterManager",void 0),nr([ae("rowContainerHeightService")],p.prototype,"rowContainerHeightService",void 0),nr([ae("frameworkOverrides")],p.prototype,"frameworkOverrides",void 0),nr([ae("cellPositionUtils")],p.prototype,"cellPositionUtils",void 0),nr([ae("rowPositionUtils")],p.prototype,"rowPositionUtils",void 0),nr([ae("selectionService")],p.prototype,"selectionService",void 0),nr([Tt("selectionHandleFactory")],p.prototype,"selectionHandleFactory",void 0),nr([ae("rowCssClassCalculator")],p.prototype,"rowCssClassCalculator",void 0),nr([ae("rowModel")],p.prototype,"rowModel",void 0),nr([ae("ctrlsService")],p.prototype,"ctrlsService",void 0),nr([ae("ctrlsFactory")],p.prototype,"ctrlsFactory",void 0),nr([ae("agStackComponentsRegistry")],p.prototype,"agStackComponentsRegistry",void 0),nr([ae("valueCache")],p.prototype,"valueCache",void 0),nr([ae("rowNodeEventThrottle")],p.prototype,"rowNodeEventThrottle",void 0),nr([ae("localeService")],p.prototype,"localeService",void 0),nr([Xe],p.prototype,"postConstruct",null),nr([lt("beans")],p)}(),G_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),B_=function(p){function i(n,a,u){var c=p.call(this)||this;return c.cellCtrl=n,c.beans=a,c.column=u,c}return G_(i,p),i.prototype.onMouseEvent=function(n,a){if(!An(a))switch(n){case"click":this.onCellClicked(a);break;case"mousedown":case"touchstart":this.onMouseDown(a);break;case"dblclick":this.onCellDoubleClicked(a);break;case"mouseout":this.onMouseOut(a);break;case"mouseover":this.onMouseOver(a)}},i.prototype.onCellClicked=function(n){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(n),void n.preventDefault();var a=this.beans,u=a.eventService,c=a.rangeService,v=a.gridOptionsService;c&&(n.ctrlKey||n.metaKey)&&c.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&c.intersectLastRange(!0);var T=this.cellCtrl.createEvent(n,z.EVENT_CELL_CLICKED);u.dispatchEvent(T);var M=this.column.getColDef();M.onCellClicked&&window.setTimeout(function(){return M.onCellClicked(T)},0),(v.is("singleClickEdit")||M.singleClickEdit)&&!v.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()},i.prototype.isDoubleClickOnIPad=function(){if(!Rr()||gi("dblclick"))return!1;var n=(new Date).getTime(),a=n-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=n,a},i.prototype.onCellDoubleClicked=function(n){var a=this.column.getColDef(),u=this.cellCtrl.createEvent(n,z.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(u),"function"==typeof a.onCellDoubleClicked&&window.setTimeout(function(){return a.onCellDoubleClicked(u)},0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,null,n)},i.prototype.onMouseDown=function(n){var a=n.ctrlKey,u=n.metaKey,c=n.shiftKey,v=n.target,C=this.beans,T=C.eventService,M=C.rangeService;if(!this.isRightClickInExistingRange(n)){var F=M&&0!=M.getCellRanges().length;if(!c||!F){var $=X()&&!this.cellCtrl.isEditing()&&!ol(v);this.cellCtrl.focusCell($)}if(c&&F&&n.preventDefault(),!this.containsWidget(v)){if(M){var ne=this.cellCtrl.getCellPosition();c?M.extendLatestRangeToCell(ne):M.setRangeToCell(ne,a||u)}T.dispatchEvent(this.cellCtrl.createEvent(n,z.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(n){var a=this.beans.rangeService;return!(!a||!a.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==n.button)},i.prototype.containsWidget=function(n){return So(n,"ag-selection-checkbox",3)},i.prototype.onMouseOut=function(n){if(!this.mouseStayingInsideCell(n)){var a=this.cellCtrl.createEvent(n,z.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.clearMouseOver()}},i.prototype.onMouseOver=function(n){if(!this.mouseStayingInsideCell(n)){var a=this.cellCtrl.createEvent(n,z.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.setMouseOver([this.column])}},i.prototype.mouseStayingInsideCell=function(n){if(!n.target||!n.relatedTarget)return!1;var a=this.cellCtrl.getGui(),u=a.contains(n.target),c=a.contains(n.relatedTarget);return u&&c},i.prototype.destroy=function(){},i}(Lh),Nh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fh=function(p){function i(n,a,u,c,v){var C=p.call(this)||this;return C.cellCtrl=n,C.beans=a,C.rowNode=c,C.rowCtrl=v,C}return Nh(i,p),i.prototype.setComp=function(n){this.eGui=n},i.prototype.onKeyDown=function(n){var a=n.key;switch(a){case Je.ENTER:this.onEnterKeyDown(n);break;case Je.F2:this.onF2KeyDown(n);break;case Je.ESCAPE:this.onEscapeKeyDown(n);break;case Je.TAB:this.onTabKeyDown(n);break;case Je.BACKSPACE:case Je.DELETE:this.onBackspaceOrDeleteKeyPressed(a,n);break;case Je.DOWN:case Je.UP:case Je.RIGHT:case Je.LEFT:this.onNavigationKeyPressed(n,a)}},i.prototype.onNavigationKeyPressed=function(n,a){this.cellCtrl.isEditing()||(n.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(n):this.beans.navigationService.navigateToNextCell(n,a,this.cellCtrl.getCellPosition(),!0),n.preventDefault())},i.prototype.onShiftRangeSelect=function(n){if(this.beans.rangeService){var a=this.beans.rangeService.extendLatestRangeInDirection(n);a&&this.beans.navigationService.ensureCellVisible(a)}},i.prototype.onTabKeyDown=function(n){this.beans.navigationService.onTabKeyDown(this.cellCtrl,n)},i.prototype.onBackspaceOrDeleteKeyPressed=function(n,a){var u=this,c=u.cellCtrl,v=u.beans,C=u.rowNode,T=v.gridOptionsService,M=v.rangeService,F=v.eventService;c.isEditing()||(F.dispatchEvent({type:z.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Ts(n,T.is("enableCellEditingOnBackspace"))?M&&T.isEnableRangeSelection()?M.clearCellRangeCellValues():c.isCellEditable()&&C.setDataValue(c.getColumn(),null,"cellClear"):c.startRowOrCellEdit(n,void 0,a),F.dispatchEvent({type:z.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},i.prototype.onEnterKeyDown=function(n){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsService.is("enterMovesDown")?this.beans.navigationService.navigateToNextCell(null,Je.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Je.ENTER,void 0,n),this.cellCtrl.isEditing()&&n.preventDefault())},i.prototype.onF2KeyDown=function(n){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Je.F2,void 0,n)},i.prototype.onEscapeKeyDown=function(n){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},i.prototype.onKeyPress=function(n){if(n.target===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(n.charCode);" "===c?this.onSpaceKeyPressed(n):$n(n)&&(this.cellCtrl.startRowOrCellEdit(null,c,n),n.preventDefault())}},i.prototype.onSpaceKeyPressed=function(n){var a=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&a.isRowSelection()){var u=this.rowNode.isSelected(),c=!u;if(c||!a.is("suppressRowDeselection")){var v=this.beans.gridOptionsService.is("groupSelectsFiltered"),C=this.rowNode.setSelectedParams({newValue:c,rangeSelect:n.shiftKey,groupSelectsFiltered:v,event:n,source:"spacePressed"});void 0===u&&0===C&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:n.shiftKey,groupSelectsFiltered:v,event:n,source:"spacePressed"})}}n.preventDefault()},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(nt),Wc=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cl=function(p){function i(n,a,u,c){var v=p.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return v.rowNode=n,v.column=a,v.beans=u,v.eCell=c,v}return Wc(i,p),i.prototype.postConstruct=function(){this.getGui().appendChild(wn("rowDrag",this.beans.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(a){a.stopPropagation()}),this.addDragSource(),this.checkVisibility()},i.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},i.prototype.onDragStart=function(n){var a=this,u=this.column.getColDef().dndSourceOnRowDrag;n.dataTransfer.setDragImage(this.eCell,0,0),u?u({rowNode:this.rowNode,dragEvent:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var C=JSON.stringify(a.rowNode.data);n.dataTransfer.setData("application/json",C),n.dataTransfer.setData("text/plain",C)}catch{}}()},i.prototype.checkVisibility=function(){var n=this.column.isDndSource(this.rowNode);this.setDisplayed(n)},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(lr),k_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$c=function(){return $c=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},$c.apply(this,arguments)},kh=0,Ga=function(p){function i(n,a,u,c){var v=p.call(this)||this;return v.cellRangeFeature=null,v.cellPositionFeature=null,v.cellCustomStyleFeature=null,v.tooltipFeature=null,v.cellMouseListenerFeature=null,v.cellKeyboardListenerFeature=null,v.suppressRefreshCell=!1,v.onCellCompAttachedFuncs=[],v.column=n,v.rowNode=a,v.beans=u,v.rowCtrl=c,v.instanceId=n.getId()+"-"+kh++,v.createCellPosition(),v.addFeatures(),v}return k_(i,p),i.prototype.addFeatures=function(){var n=this;this.cellPositionFeature=new Uc(this,this.beans),this.addDestroyFunc(function(){var u;null===(u=n.cellPositionFeature)||void 0===u||u.destroy(),n.cellPositionFeature=null}),this.cellCustomStyleFeature=new Ep(this,this.beans),this.addDestroyFunc(function(){var u;null===(u=n.cellCustomStyleFeature)||void 0===u||u.destroy(),n.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new B_(this,this.beans,this.column),this.addDestroyFunc(function(){var u;null===(u=n.cellMouseListenerFeature)||void 0===u||u.destroy(),n.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Fh(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var u;null===(u=n.cellKeyboardListenerFeature)||void 0===u||u.destroy(),n.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new xh(this.beans,this),this.addDestroyFunc(function(){var u;null===(u=n.cellRangeFeature)||void 0===u||u.destroy(),n.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()},i.prototype.addTooltipFeature=function(){var n=this;this.tooltipFeature=new Sp({getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getRowIndex:function(){return n.cellPosition.rowIndex},getRowNode:function(){return n.rowNode},getGui:function(){return n.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=n.column.getColDef(),v=n.rowNode.data;if(c.tooltipField&&o(v))return Me(v,c.tooltipField,n.column.isTooltipFieldContainsDots());var C=c.tooltipValueGetter;return C?C({location:"cell",api:n.beans.gridOptionsService.api,columnApi:n.beans.gridOptionsService.columnApi,context:n.beans.gridOptionsService.context,colDef:n.column.getColDef(),column:n.column,rowIndex:n.cellPosition.rowIndex,node:n.rowNode,data:n.rowNode.data,value:n.value,valueFormatted:n.valueFormatted}):null},getValueFormatted:function(){return n.valueFormatted}},this.beans),this.addDestroyFunc(function(){var c;null===(c=n.tooltipFeature)||void 0===c||c.destroy(),n.tooltipFeature=null})},i.prototype.setComp=function(n,a,u,c,v){var C,T,M,F;this.cellComp=n,this.eGui=a,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),u&&this.setupAutoHeight(u),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);var $=ar(this.column.getId());this.cellComp.setColId($),this.cellComp.setRole("gridcell"),null===(C=this.cellPositionFeature)||void 0===C||C.setComp(a),null===(T=this.cellCustomStyleFeature)||void 0===T||T.setComp(n),null===(M=this.tooltipFeature)||void 0===M||M.setComp(n),null===(F=this.cellKeyboardListenerFeature)||void 0===F||F.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(n,a),v&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(ne){return ne()}),this.onCellCompAttachedFuncs=[])},i.prototype.setupAutoHeight=function(n){var a=this;if(this.column.isAutoHeight()){var u=n.parentElement,c=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,v=function(M){if(!a.editing&&a.isAlive()){var F=Oo(u),He=n.offsetHeight+(F.paddingTop+F.paddingBottom+F.borderBottomWidth+F.borderTopWidth);if(M<5){var Ue=a.beans.gridOptionsService.getDocument();if(!Ue||!Ue.contains(n)||0==He)return void a.beans.frameworkOverrides.setTimeout(function(){return v(M+1)},0)}var St=Math.max(He,c);a.rowNode.setRowAutoHeight(St,a.column)}},C=function(){return v(0)};C();var T=this.beans.resizeObserverService.observeResize(n,C);this.addDestroyFunc(function(){T(),a.rowNode.setRowAutoHeight(void 0,a.column)})}},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.showValue=function(n){void 0===n&&(n=!1);var a=null!=this.valueFormatted?this.valueFormatted:this.value,u=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),u);this.cellComp.setRenderDetails(c,a,n),this.refreshHandle()},i.prototype.setupControlComps=function(){var n=this.column.getColDef();this.includeSelection=this.isIncludeControl(n.checkboxSelection),this.includeRowDrag=this.isIncludeControl(n.rowDrag),this.includeDndSource=this.isIncludeControl(n.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},i.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},i.prototype.isIncludeControl=function(n){return!(null!=this.rowNode.rowPinned||"function"!=typeof n&&!0!==n)},i.prototype.refreshShouldDestroy=function(){var n=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(n.checkboxSelection),u=this.includeRowDrag!=this.isIncludeControl(n.rowDrag),c=this.includeDndSource!=this.isIncludeControl(n.dndSource);return a||u||c},i.prototype.startEditing=function(n,a,u,c){var v=this;if(void 0===n&&(n=null),void 0===a&&(a=null),void 0===u&&(u=!1),void 0===c&&(c=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){v.startEditing(n,a,u,c)});var C=this.createCellEditorParams(n,a,u),T=this.column.getColDef(),M=this.beans.userComponentFactory.getCellEditorDetails(T,C),F=null!=M?.popupFromSelector?M.popupFromSelector:!!T.cellEditorPopup,$=null!=M?.popupPositionFromSelector?M.popupPositionFromSelector:T.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(M,F,$);var ne=this.createEvent(c,z.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(ne)}},i.prototype.setEditing=function(n){this.editing!==n&&(this.editing=n,this.refreshHandle())},i.prototype.stopRowOrCellEdit=function(n){void 0===n&&(n=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(n):this.stopEditing(n)},i.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},i.prototype.takeValueFromCellEditor=function(n){var a={newValueExists:!1};if(n)return a;var u=this.cellComp.getCellEditor();return u?u.isCancelAfterEnd&&u.isCancelAfterEnd()?a:{newValue:u.getValue(),newValueExists:!0}:a},i.prototype.saveNewValue=function(n,a){if(a===n)return!1;this.suppressRefreshCell=!0;var u=this.rowNode.setDataValue(this.column,a,"edit");return this.suppressRefreshCell=!1,u},i.prototype.stopEditing=function(n){if(void 0===n&&(n=!1),!this.editing)return!1;var a=this.takeValueFromCellEditor(n),u=a.newValue,c=a.newValueExists,v=this.rowNode.getValueFromValueService(this.column),C=!1;return c&&(C=this.saveNewValue(v,u)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(v,u,!n&&!!C),C},i.prototype.dispatchEditingStoppedEvent=function(n,a,u){var c=$c($c({},this.createEvent(null,z.EVENT_CELL_EDITING_STOPPED)),{oldValue:n,newValue:a,valueChanged:u});this.beans.eventService.dispatchEvent(c)},i.prototype.createCellEditorParams=function(n,a,u){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:n,charPress:a,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:u,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},i.prototype.createCellRendererParams=function(){var n=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return n.rowNode.getValueFromValueService(n.column)},setValue:function(u){return n.beans.valueService.setValue(n.rowNode,n.column,u)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(u,c,v,C){return n.registerRowDragger(u,c,C)}}},i.prototype.parseValue=function(n){var a=this.column.getColDef(),u={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:n,colDef:a,column:this.column,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},c=a.valueParser;return o(c)?"function"==typeof c?c(u):this.beans.expressionService.evaluate(c,u):n},i.prototype.setFocusOutOnEditor=function(){if(this.editing){var n=this.cellComp.getCellEditor();n&&n.focusOut&&n.focusOut()}},i.prototype.setFocusInOnEditor=function(){if(this.editing){var n=this.cellComp.getCellEditor();n&&n.focusIn?n.focusIn():this.focusCell(!0)}},i.prototype.onCellChanged=function(n){this.cellComp&&n.column===this.column&&this.refreshCell({})},i.prototype.refreshCell=function(n){var a,u,c;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var v=this.column.getColDef(),C=null!=n&&!!n.newData,T=null!=n&&!!n.suppressFlash||!!v.suppressCellFlash,F=n&&n.forceRefresh||null==v.field&&null==v.valueGetter&&null==v.showRowGroup||C,$=this.updateAndFormatValue();if(F||$){this.showValue(C);var pe=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!T&&!pe&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||v.enableCellChangeFlash)&&this.flashCell(),null===(a=this.cellCustomStyleFeature)||void 0===a||a.applyUserStyles(),null===(u=this.cellCustomStyleFeature)||void 0===u||u.applyClassesFromColDef()}this.refreshToolTip(),null===(c=this.cellCustomStyleFeature)||void 0===c||c.applyCellClassRules()}},i.prototype.stopEditingAndFocus=function(n){void 0===n&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),n||this.navigateAfterEdit()},i.prototype.navigateAfterEdit=function(){"fullRow"===this.beans.gridOptionsService.get("editType")||this.beans.gridOptionsService.is("enterMovesDownAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,Je.DOWN,this.getCellPosition(),!1)},i.prototype.flashCell=function(n){this.animateCell("data-changed",n&&n.flashDelay,n&&n.fadeDelay)},i.prototype.animateCell=function(n,a,u){var v,C,c=this,T="ag-cell-"+n,M="ag-cell-"+n+"-animation",F=this.beans.gridOptionsService;a||(a=null!==(v=F.getNum("cellFlashDelay"))&&void 0!==v?v:500),o(u)||(u=null!==(C=F.getNum("cellFadeDelay"))&&void 0!==C?C:1e3),this.cellComp.addOrRemoveCssClass(T,!0),this.cellComp.addOrRemoveCssClass(M,!1),window.setTimeout(function(){c.isAlive()&&(c.cellComp.addOrRemoveCssClass(T,!1),c.cellComp.addOrRemoveCssClass(M,!0),c.eGui.style.transition="background-color "+u+"ms",window.setTimeout(function(){c.isAlive()&&(c.cellComp.addOrRemoveCssClass(M,!1),c.eGui.style.transition="")},u))},a)},i.prototype.onFlashCells=function(n){if(this.cellComp){var a=this.beans.cellPositionUtils.createId(this.getCellPosition());n.cells[a]&&this.animateCell("highlight")}},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},i.prototype.formatValue=function(n){return this.callValueFormatter(n)??n},i.prototype.callValueFormatter=function(n){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,n)},i.prototype.updateAndFormatValue=function(n){void 0===n&&(n=!1);var a=this.value,u=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!n||!this.valuesAreEqual(a,this.value)||this.valueFormatted!=u},i.prototype.valuesAreEqual=function(n,a){var u=this.column.getColDef();return u.equals?u.equals(n,a):n===a},i.prototype.getComp=function(){return this.cellComp},i.prototype.getValue=function(){return this.value},i.prototype.getValueFormatted=function(){return this.valueFormatted},i.prototype.addDomData=function(){var n=this,a=this.getGui();this.beans.gridOptionsService.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return n.beans.gridOptionsService.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,null)})},i.prototype.createEvent=function(n,a){return{type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:n,rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyPress=function(n){var a;null===(a=this.cellKeyboardListenerFeature)||void 0===a||a.onKeyPress(n)},i.prototype.onKeyDown=function(n){var a;null===(a=this.cellKeyboardListenerFeature)||void 0===a||a.onKeyDown(n)},i.prototype.onMouseEvent=function(n,a){var u;null===(u=this.cellMouseListenerFeature)||void 0===u||u.onMouseEvent(n,a)},i.prototype.getGui=function(){return this.eGui},i.prototype.refreshToolTip=function(){var n;null===(n=this.tooltipFeature)||void 0===n||n.refreshToolTip()},i.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},i.prototype.onLeftChanged=function(){var n;this.cellComp&&(null===(n=this.cellPositionFeature)||void 0===n||n.onLeftChanged())},i.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},i.prototype.setAriaColIndex=function(){var n=this.beans.columnModel.getAriaColumnIndex(this.column);Ma(this.getGui(),n)},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.onWidthChanged=function(){var n;return null===(n=this.cellPositionFeature)||void 0===n?void 0:n.onWidthChanged()},i.prototype.getColumn=function(){return this.column},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getBeans=function(){return this.beans},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.appendChild=function(n){this.eGui.appendChild(n)},i.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.isEditing=function(){return this.editing},i.prototype.startRowOrCellEdit=function(n,a,u){void 0===u&&(u=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(n,a,this):this.startEditing(n,a,!0,u))},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},i.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},i.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},i.prototype.focusCell=function(n){void 0===n&&(n=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:n})},i.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var n=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",n)}},i.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var n=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",n)}},i.prototype.onCellFocused=function(n){if(this.cellComp&&!this.beans.gridOptionsService.is("suppressCellFocus")){var a=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",a),a&&n&&n.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!n.preventScrollOnBrowserFocus});var c="fullRow"===this.beans.gridOptionsService.get("editType");!a&&!c&&this.editing&&this.stopRowOrCellEdit()}},i.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:r(this.rowNode.rowPinned),column:this.column}},i.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var n=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",n),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!n)},i.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var n=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",n)}},i.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},i.prototype.setWrapText=function(){var n=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",n)},i.prototype.dispatchCellContextMenuEvent=function(n){var a=this.column.getColDef(),u=this.createEvent(n,z.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(u),a.onCellContextMenu&&window.setTimeout(function(){return a.onCellContextMenu(u)},0)},i.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},i.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},i.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],p.prototype.destroy.call(this)},i.prototype.createSelectionCheckbox=function(){var n=new ch;return this.beans.context.createBean(n),n.init({rowNode:this.rowNode,column:this.column}),n},i.prototype.createDndSource=function(){var n=new Cl(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(n),n},i.prototype.registerRowDragger=function(n,a,u){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(n,a);else{var v=this.createRowDragComp(n,a,u);v&&(this.customRowDragComp=v,this.addDestroyFunc(function(){c.beans.context.destroyBean(v),c.customRowDragComp=null}))}},i.prototype.createRowDragComp=function(n,a,u){var c=this,v=this.beans.gridOptionsService.is("pagination"),C=this.beans.gridOptionsService.is("rowDragManaged"),T=this.beans.gridOptionsService.isRowModelType("clientSide");if(C){if(!T)return void _e(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(v)return void _e(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var M=new Mc(function(){return c.value},this.rowNode,this.column,n,a,u);return this.beans.context.createBean(M),M},i.DOM_DATA_KEY_CELL_CTRL="cellCtrl",i}(nt),U_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$_=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},Ui=(()=>(function(p){p.Normal="Normal",p.FullWidth="FullWidth",p.FullWidthLoading="FullWidthLoading",p.FullWidthGroup="FullWidthGroup",p.FullWidthDetail="FullWidthDetail"}(Ui||(Ui={})),Ui))(),as=0,Qo=function(p){function i(n,a,u,c,v){var C=p.call(this)||this;return C.allRowGuis=[],C.active=!0,C.centerCellCtrls={list:[],map:{}},C.leftCellCtrls={list:[],map:{}},C.rightCellCtrls={list:[],map:{}},C.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},C.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},C.lastMouseDownOnDragger=!1,C.updateColumnListsPending=!1,C.businessKeySanitised=null,C.beans=a,C.rowNode=n,C.paginationPage=C.beans.paginationProxy.getCurrentPage(),C.useAnimationFrameForCreate=c,C.printLayout=v,C.instanceId=n.id+"-"+as++,C.setAnimateFlags(u),C.initRowBusinessKey(),C.rowFocused=C.beans.focusService.isRowFocused(C.rowNode.rowIndex,C.rowNode.rowPinned),C.rowLevel=C.beans.rowCssClassCalculator.calculateRowLevel(C.rowNode),C.setRowType(),C.addListeners(),C}return U_(i,p),i.prototype.initRowBusinessKey=function(){var n=this.beans.gridOptionsService.get("getBusinessKeyForNode");if("function"==typeof n){var a=n(this.rowNode);this.businessKeySanitised=ar(a)}},i.prototype.isSticky=function(){return this.rowNode.sticky},i.prototype.getBeans=function(){return this.beans},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(n,a,u){var c={rowComp:n,element:a,containerType:u};this.allRowGuis.push(c),u===Nn.LEFT?this.leftGui=c:u===Nn.RIGHT?this.rightGui=c:u===Nn.FULL_WIDTH?this.fullWidthGui=c:this.centerGui=c,this.initialiseRowComp(c),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},i.prototype.unsetComp=function(n){this.allRowGuis=this.allRowGuis.filter(function(a){return a.containerType!==n}),n===Nn.LEFT?this.leftGui=void 0:n===Nn.RIGHT?this.rightGui=void 0:n===Nn.FULL_WIDTH&&(this.fullWidthGui=void 0)},i.prototype.isCacheable=function(){return this.rowType===Ui.FullWidthDetail&&this.beans.gridOptionsService.is("keepDetailRows")},i.prototype.setCached=function(n){var a=n?"none":"";this.allRowGuis.forEach(function(u){return u.element.style.display=a})},i.prototype.initialiseRowComp=function(n){var a=this,u=this.beans.gridOptionsService;this.onRowHeightChanged(n),this.updateRowIndexes(n),this.setFocusedClasses(n),this.setStylesFromGridOptions(n),u.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(n),this.updateColumnLists(!this.useAnimationFrameForCreate);var c=n.rowComp;c.setRole("row"),this.getInitialRowClasses(n.containerType).forEach(function(T){return c.addOrRemoveCssClass(T,!0)}),this.executeSlideAndFadeAnimations(n),this.rowNode.group&&In(n.element,1==this.rowNode.expanded);var C=ar(this.rowNode.id);null!=C&&c.setRowId(C),null!=this.businessKeySanitised&&c.setRowBusinessKey(this.businessKeySanitised),this.isFullWidth()&&!this.beans.gridOptionsService.is("suppressCellFocus")&&c.setTabIndex(-1),u.setDomData(n.element,i.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return u.setDomData(n.element,i.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,n.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(n.element),this.isFullWidth()&&this.setupFullWidth(n),u.is("rowDragEntireRow")&&this.addRowDraggerToRow(n),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){a.isAlive()&&n.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},i.prototype.executeSlideAndFadeAnimations=function(n){var a=this,u=n.containerType;this.slideInAnimation[u]&&(ht(function(){a.onTopChanged()}),this.slideInAnimation[u]=!1),this.fadeInAnimation[u]&&(ht(function(){n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[u]=!1)},i.prototype.addRowDraggerToRow=function(n){if(this.beans.gridOptionsService.isEnableRangeSelection())_e(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var a=this.beans.localeService.getLocaleTextFunc(),u=new Mc(function(){return"1 "+a("rowDragRow","row")},this.rowNode,void 0,n.element,void 0,!0);this.createManagedBean(u,this.beans.context)}},i.prototype.setupFullWidth=function(n){var a=this.getPinnedForContainer(n.containerType),u=this.createFullWidthParams(n.element,a);if(this.rowType!=Ui.FullWidthDetail||Et.assertRegistered(rt.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)")){var c;switch(this.rowType){case Ui.FullWidthDetail:c=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(u);break;case Ui.FullWidthGroup:c=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(u);break;case Ui.FullWidthLoading:c=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(u);break;default:c=this.beans.userComponentFactory.getFullWidthCellRendererDetails(u)}n.rowComp.showFullWidth(c)}},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.getFullWidthCellRenderer=function(){var n,a;return null===(a=null===(n=this.fullWidthGui)||void 0===n?void 0:n.rowComp)||void 0===a?void 0:a.getFullWidthCellRenderer()},i.prototype.getCellElement=function(n){var a=this.getCellCtrl(n);return a?a.getGui():null},i.prototype.executeProcessRowPostCreateFunc=function(){var n,a=this.beans.gridOptionsService.getCallback("processRowPostCreate");a&&this.areAllContainersReady()&&a({eRow:null===(n=this.centerGui)||void 0===n?void 0:n.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},i.prototype.areAllContainersReady=function(){var n=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),a=!!this.centerGui,u=!!this.rightGui||!this.beans.columnModel.isPinningRight();return n&&a&&u},i.prototype.setRowType=function(){var n=this.rowNode.stub,a=this.rowNode.isFullWidthCell(),u=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),C=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsService.isGroupUseEntireRow(c);this.rowType=n?Ui.FullWidthLoading:u?Ui.FullWidthDetail:a?Ui.FullWidth:C?Ui.FullWidthGroup:Ui.Normal},i.prototype.updateColumnLists=function(n,a){var u=this;if(void 0===n&&(n=!1),void 0===a&&(a=!1),!this.isFullWidth()){if(n||this.beans.gridOptionsService.is("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl(a);this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){u.active&&u.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},i.prototype.createCellCtrls=function(n,a,u){var c=this;void 0===u&&(u=null);var v={list:[],map:{}},C=function(T,M){v.list.push(M),v.map[T]=M};return a.forEach(function(T){var M=T.getInstanceId(),F=n.map[M];F||(F=new Ga(T,c.rowNode,c.beans,c)),C(M,F)}),n.list.forEach(function(T){if(null==v.map[T.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(T,u))return void C(T.getColumn().getInstanceId(),T);T.destroy()}}),v},i.prototype.updateColumnListsImpl=function(n){var a=this;void 0===n&&(n=!1),this.updateColumnListsPending=!1;var u=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,u.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var c=u.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c);var v=u.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,v,"left");var C=u.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,C,"right")}this.allRowGuis.forEach(function(T){T.rowComp.setCellCtrls((T.containerType===Nn.LEFT?a.leftCellCtrls:T.containerType===Nn.RIGHT?a.rightCellCtrls:a.centerCellCtrls).list,n)})},i.prototype.isCellEligibleToBeRemoved=function(n,a){var u=!0;if(n.getColumn().getPinned()!=a)return u;var C=n.isEditing(),T=this.beans.focusService.isCellFocused(n.getCellPosition());if(C||T){var F=n.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(F)>=0)&&u}return u},i.prototype.setAnimateFlags=function(n){if(!this.isSticky()&&n){var a=o(this.rowNode.oldRowTop),u=this.beans.columnModel.isPinningLeft(),c=this.beans.columnModel.isPinningRight();a?(this.slideInAnimation.center=!0,this.slideInAnimation.left=u,this.slideInAnimation.right=c):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=u,this.fadeInAnimation.right=c)}},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(n){this.stopEditing(n)},i.prototype.isFullWidth=function(){return this.rowType!==Ui.Normal},i.prototype.getRowType=function(){return this.rowType},i.prototype.refreshFullWidth=function(){var n=this,a=function(M,F){if(!M)return!0;var $=M.rowComp.getFullWidthCellRenderer();if(!$||!$.refresh)return!1;var ne=n.createFullWidthParams(M.element,F);return $.refresh(ne)},u=a(this.fullWidthGui,null),c=a(this.centerGui,null),v=a(this.leftGui,"left"),C=a(this.rightGui,"right");return u&&c&&v&&C},i.prototype.addListeners=function(){var n=this;this.addManagedListener(this.rowNode,yr.EVENT_HEIGHT_CHANGED,function(){return n.onRowHeightChanged()}),this.addManagedListener(this.rowNode,yr.EVENT_ROW_SELECTED,function(){return n.onRowSelected()}),this.addManagedListener(this.rowNode,yr.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,yr.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var a=this.beans.eventService;this.addManagedListener(a,z.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(a,z.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(a,z.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(a,z.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(a,z.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(a,z.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(a,z.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(a,z.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(a,z.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.onColumnMoved=function(){this.updateColumnLists()},i.prototype.addListenersForCellComps=function(){var n=this;this.addManagedListener(this.rowNode,yr.EVENT_ROW_INDEX_CHANGED,function(){n.getAllCellCtrls().forEach(function(a){return a.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,yr.EVENT_CELL_CHANGED,function(a){n.getAllCellCtrls().forEach(function(u){return u.onCellChanged(a)})})},i.prototype.onRowNodeDataChanged=function(n){this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()?this.beans.rowRenderer.refreshFullWidthRow(this.rowNode):(this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!n.update,newData:!n.update})}),this.onRowSelected(),this.postProcessCss())},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var n=this.rowNode.highlighted;this.allRowGuis.forEach(function(a){var c=n===Hi.Below;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n===Hi.Above),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var n=this.rowNode.dragging;this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-row-dragging",n)})},i.prototype.updateExpandedCss=function(){var n=this.rowNode.isExpandable(),a=1==this.rowNode.expanded;this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-group",n),u.rowComp.addOrRemoveCssClass("ag-row-group-expanded",n&&a),u.rowComp.addOrRemoveCssClass("ag-row-group-contracted",n&&!a),In(u.element,n&&a)})},i.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},i.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},i.prototype.getRowPosition=function(){return{rowPinned:r(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyboardNavigate=function(n){var a=this.allRowGuis.find(function(M){return M.element.contains(n.target)});if((a?a.element:null)===n.target){var v=this.rowNode,C=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(n,n.key,{rowIndex:v.rowIndex,rowPinned:v.rowPinned,column:C&&C.column},!0),n.preventDefault()}},i.prototype.onTabKeyDown=function(n){if(!n.defaultPrevented&&!An(n)){var a=this.allRowGuis.find(function(C){return C.element.contains(n.target)}),u=a?a.element:null,c=u===n.target,v=null;c||(v=this.beans.focusService.findNextFocusableElement(u,!1,n.shiftKey)),(this.isFullWidth()&&c||!v)&&this.beans.navigationService.onTabKeyDown(this,n)}},i.prototype.onFullWidthRowFocused=function(n){var a,u=this.rowNode,c=!!n&&this.isFullWidth()&&n.rowIndex===u.rowIndex&&n.rowPinned==u.rowPinned,v=this.fullWidthGui?this.fullWidthGui.element:null===(a=this.centerGui)||void 0===a?void 0:a.element;v&&(v.classList.toggle("ag-full-width-focus",c),c&&v.focus({preventScroll:!0}))},i.prototype.refreshCell=function(n){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,n),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,n),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,n),this.updateColumnLists()},i.prototype.removeCellCtrl=function(n,a){var u={list:[],map:{}};return n.list.forEach(function(c){c!==a&&(u.list.push(c),u.map[c.getInstanceId()]=c)}),u},i.prototype.onMouseEvent=function(n,a){switch(n){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a)}},i.prototype.createRowEvent=function(n,a){return{type:n,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,event:a}},i.prototype.createRowEventWithSource=function(n,a){var u=this.createRowEvent(n,a);return u.source=this,u},i.prototype.onRowDblClick=function(n){if(!An(n)){var a=this.createRowEventWithSource(z.EVENT_ROW_DOUBLE_CLICKED,n);this.beans.eventService.dispatchEvent(a)}},i.prototype.onRowMouseDown=function(n){if(this.lastMouseDownOnDragger=So(n.target,"ag-row-drag",3),this.isFullWidth()){var a=this.rowNode,u=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:a.rowIndex,column:u.getAllDisplayedColumns()[0],rowPinned:a.rowPinned,forceBrowserFocus:!0})}},i.prototype.onRowClick=function(n){if(!An(n)&&!this.lastMouseDownOnDragger){var u=this.createRowEventWithSource(z.EVENT_ROW_CLICKED,n);this.beans.eventService.dispatchEvent(u);var c=n.ctrlKey||n.metaKey,v=n.shiftKey;if(!(this.beans.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsService.isRowSelection()||this.beans.gridOptionsService.is("suppressRowClickSelection"))){var T=this.beans.gridOptionsService.is("rowMultiSelectWithClick"),M=!this.beans.gridOptionsService.is("suppressRowDeselection"),F="rowClicked";this.rowNode.isSelected()?T?this.rowNode.setSelectedParams({newValue:!1,event:n,source:F}):c?M&&this.rowNode.setSelectedParams({newValue:!1,event:n,source:F}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!v,rangeSelect:v,event:n,source:F}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!T&&!c,rangeSelect:v,event:n,source:F})}}},i.prototype.setupDetailRowAutoHeight=function(n){var a=this;if(this.rowType===Ui.FullWidthDetail&&this.beans.gridOptionsService.is("detailRowAutoHeight")){var u=function(){var v=n.clientHeight;null!=v&&v>0&&a.beans.frameworkOverrides.setTimeout(function(){a.rowNode.setRowHeight(v),a.beans.clientSideRowModel?a.beans.clientSideRowModel.onRowHeightChanged():a.beans.serverSideRowModel&&a.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(n,u);this.addDestroyFunc(c),u()}},i.prototype.createFullWidthParams=function(n,a){var u=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,eGridCell:n,eParentOfValue:n,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(v,C,T,M){return u.addFullWidthRowDragging(v,C,T,M)}}},i.prototype.addFullWidthRowDragging=function(n,a,u,c){if(void 0===u&&(u=""),this.isFullWidth()){var v=new Mc(function(){return u},this.rowNode,void 0,n,a,c);this.createManagedBean(v,this.beans.context)}},i.prototype.onUiLevelChanged=function(){var n=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=n){var a="ag-row-level-"+n,u="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(a,!0),c.rowComp.addOrRemoveCssClass(u,!1)})}this.rowLevel=n},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},i.prototype.refreshFirstAndLastRowStyles=function(){var n=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==n&&(this.firstRowOnPage=n,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-first",n)})),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-last",a)}))},i.prototype.stopEditing=function(n){var a,u;if(void 0===n&&(n=!1),!this.stoppingRowEdit){var c=this.getAllCellCtrls(),v=this.editingRow;this.stoppingRowEdit=!0;var C=!1;try{for(var T=function(p){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&p[i],a=0;if(n)return n.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),M=T.next();!M.done;M=T.next()){var $=M.value.stopEditing(n);v&&!n&&!C&&$&&(C=!0)}}catch(pe){a={error:pe}}finally{try{M&&!M.done&&(u=T.return)&&u.call(T)}finally{if(a)throw a.error}}if(C){var ne=this.createRowEvent(z.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(ne)}v&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},i.prototype.setInlineEditingCss=function(n){this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",n),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!n)})},i.prototype.setEditingRow=function(n){this.editingRow=n,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-editing",n)});var a=this.createRowEvent(n?z.EVENT_ROW_EDITING_STARTED:z.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(a)},i.prototype.startRowEditing=function(n,a,u,c){void 0===n&&(n=null),void 0===a&&(a=null),void 0===u&&(u=null),void 0===c&&(c=null),this.editingRow||this.getAllCellCtrls().reduce(function(C,T){var M=T===u;return M?T.startEditing(n,a,M,c):T.startEditing(null,null,M,c),!!C||T.isEditing()},!1)&&this.setEditingRow(!0)},i.prototype.getAllCellCtrls=function(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;var n=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat($_(arguments[i]));return p}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return n},i.prototype.postProcessClassesFromGridOptions=function(){var n=this,a=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!a||!a.length||a.forEach(function(u){n.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(u,!0)})})},i.prototype.postProcessRowClassRules=function(){var n=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(a){n.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(a,!0)})},function(a){n.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(a,!1)})})},i.prototype.setStylesFromGridOptions=function(n){var a=this.processStylesFromGridOptions();this.forEachGui(n,function(u){return u.rowComp.setUserStyles(a)})},i.prototype.getPinnedForContainer=function(n){return n===Nn.LEFT?"left":n===Nn.RIGHT?"right":null},i.prototype.getInitialRowClasses=function(n){var a=this.getPinnedForContainer(n),u={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[n],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:a};return this.beans.rowCssClassCalculator.getInitialRowClasses(u)},i.prototype.processStylesFromGridOptions=function(){var n=this.beans.gridOptionsService.get("rowStyle");if(!n||"function"!=typeof n){var u,a=this.beans.gridOptionsService.getCallback("getRowStyle");return a&&(u=a({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},n,u)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.onRowSelected=function(n){var a=this,u=!!this.rowNode.isSelected();this.forEachGui(n,function(c){c.rowComp.addOrRemoveCssClass("ag-row-selected",u),Fi(c.element,!!u||void 0);var v=a.createAriaLabel();Pi(c.element,v??"")})},i.prototype.createAriaLabel=function(){var n=this.rowNode.isSelected();if(!n||!this.beans.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(n?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(n?"deselect":"select")+" this row.")},i.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},i.prototype.addHoverFunctionality=function(n){var a=this;this.active&&(this.addManagedListener(n,"mouseenter",function(){return a.rowNode.onMouseEnter()}),this.addManagedListener(n,"mouseleave",function(){return a.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,yr.EVENT_MOUSE_ENTER,function(){!a.beans.dragService.isDragging()&&!a.beans.gridOptionsService.is("suppressRowHoverHighlight")&&(n.classList.add("ag-row-hover"),a.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,yr.EVENT_MOUSE_LEAVE,function(){n.classList.remove("ag-row-hover"),a.rowNode.setHovered(!1)}))},i.prototype.roundRowTopToBounds=function(n){var u=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(u.top,!0)-100,v=this.applyPaginationOffset(u.bottom,!0)+100;return Math.min(Math.max(c,n),v)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.forEachGui=function(n,a){(n?[n]:this.allRowGuis).forEach(a)},i.prototype.onRowHeightChanged=function(n){if(null!=this.rowNode.rowHeight){var a=this.rowNode.rowHeight,u=this.beans.environment.getDefaultRowHeight(),v=this.beans.gridOptionsService.isGetRowHeightFunction()?this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,C=v?Math.min(u,v)-2+"px":void 0;this.forEachGui(n,function(T){T.element.style.height=a+"px",C&&T.element.style.setProperty("--ag-line-height",C)})}},i.prototype.addEventListener=function(n,a){p.prototype.addEventListener.call(this,n,a)},i.prototype.removeEventListener=function(n,a){p.prototype.removeEventListener.call(this,n,a)},i.prototype.destroyFirstPass=function(){this.active=!1,this.beans.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var n=this.createRowEvent(z.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),p.prototype.destroy.call(this)},i.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var a=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(a)}else this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},i.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var n=function(a){return a.list.forEach(function(u){return u.destroy()}),{list:[],map:{}}};this.centerCellCtrls=n(this.centerCellCtrls),this.leftCellCtrls=n(this.leftCellCtrls),this.rightCellCtrls=n(this.rightCellCtrls)},i.prototype.setFocusedClasses=function(n){var a=this;this.forEachGui(n,function(u){u.rowComp.addOrRemoveCssClass("ag-row-focus",a.rowFocused),u.rowComp.addOrRemoveCssClass("ag-row-no-focus",!a.rowFocused)})},i.prototype.onCellFocused=function(){this.onCellFocusChanged()},i.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},i.prototype.onCellFocusChanged=function(){var n=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var n=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==n&&(this.paginationPage=n,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(n,a){return void 0===a&&(a=!1),this.rowNode.isRowPinned()?n:n+this.beans.paginationProxy.getPixelOffset()*(a?1:-1)},i.prototype.setRowTop=function(n){if(!this.printLayout&&o(n)){var a=this.applyPaginationOffset(n),u=this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a);this.setRowTopStyle(u+"px")}},i.prototype.getInitialRowTop=function(n){return this.beans.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(n):void 0},i.prototype.getInitialTransform=function(n){return this.beans.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(n)+")"},i.prototype.getInitialRowTopShared=function(n){if(this.printLayout)return"";var a;if(this.isSticky())a=this.rowNode.stickyRowTop;else{var u=this.slideInAnimation[n]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,c=this.applyPaginationOffset(u);a=this.rowNode.isRowPinned()?c:this.beans.rowContainerHeightService.getRealPixelPosition(c)}return a+"px"},i.prototype.setRowTopStyle=function(n){var a=this.beans.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(u){return a?u.rowComp.setTop(n):u.rowComp.setTransform("translateY("+n+")")})},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getCellCtrl=function(n){var a=null;return this.getAllCellCtrls().forEach(function(u){u.getColumn()==n&&(a=u)}),null!=a||this.getAllCellCtrls().forEach(function(u){u.getColSpanningList().indexOf(n)>=0&&(a=u)}),a},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},i.prototype.updateRowIndexes=function(n){var a=this.rowNode.getRowIndexString(),u=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0,v=u+this.rowNode.rowIndex+1;this.forEachGui(n,function(C){C.rowComp.setRowIndex(a),C.rowComp.addOrRemoveCssClass("ag-row-even",c),C.rowComp.addOrRemoveCssClass("ag-row-odd",!c),Vo(C.element,v)})},i.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},i.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},i.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},i.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},i.DOM_DATA_KEY_ROW_CTRL="renderedRow",i}(nt),K_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),xo=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},YC=function(p){function i(n){var a=p.call(this)||this;return a.element=n,a}return K_(i,p),i.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},i.prototype.addKeyboardEvents=function(){var n=this;["keydown","keypress"].forEach(function(u){var c=n.processKeyboardEvent.bind(n,u);n.addManagedListener(n.element,u,c)})},i.prototype.addMouseListeners=function(){var n=this;["dblclick","contextmenu","mouseover","mouseout","click",gi("touchstart")?"touchstart":"mousedown"].forEach(function(c){var v=n.processMouseEvent.bind(n,c);n.addManagedListener(n.element,c,v)})},i.prototype.processMouseEvent=function(n,a){if(this.mouseEventService.isEventFromThisGrid(a)&&!An(a)){var u=this.getRowForEvent(a),c=this.mouseEventService.getRenderedCellForEvent(a);"contextmenu"===n?this.handleContextMenuMouseEvent(a,null,u,c):(c&&c.onMouseEvent(n,a),u&&u.onMouseEvent(n,a))}},i.prototype.mockContextMenuForIPad=function(){var n=this;if(Rr()){var a=new di(this.element);this.addManagedListener(a,di.EVENT_LONG_TAP,function(c){var v=n.getRowForEvent(c.touchEvent),C=n.mouseEventService.getRenderedCellForEvent(c.touchEvent);n.handleContextMenuMouseEvent(null,c.touchEvent,v,C)}),this.addDestroyFunc(function(){return a.destroy()})}},i.prototype.getRowForEvent=function(n){for(var a=n.target;a;){var u=this.gridOptionsService.getDomData(a,Qo.DOM_DATA_KEY_ROW_CTRL);if(u)return u;a=a.parentElement}return null},i.prototype.handleContextMenuMouseEvent=function(n,a,u,c){var v=u?u.getRowNode():null,C=c?c.getColumn():null,T=null;C&&(c.dispatchCellContextMenuEvent(n||a),T=this.valueService.getValue(C,v));var F=this.ctrlsService.getGridBodyCtrl(),$=c?c.getGui():F.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(n,a,v,C,T,$)},i.prototype.processKeyboardEvent=function(n,a){var u=ln(this.gridOptionsService,a.target,Ga.DOM_DATA_KEY_CELL_CTRL),c=ln(this.gridOptionsService,a.target,Qo.DOM_DATA_KEY_ROW_CTRL);a.defaultPrevented||(u?this.processCellKeyboardEvent(u,n,a):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,n,a))},i.prototype.processCellKeyboardEvent=function(n,a,u){var c=n.getRowNode(),v=n.getColumn(),C=n.isEditing();if(!al(this.gridOptionsService,u,c,v,C))switch(a){case"keydown":!C&&this.navigationService.handlePageScrollingKey(u)||n.onKeyDown(u),this.doGridOperations(u,n.isEditing());break;case"keypress":n.onKeyPress(u)}if("keydown"===a){var F=n.createEvent(u,z.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(F)}if("keypress"===a){var $=n.createEvent(u,z.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent($)}},i.prototype.processFullWidthRowKeyboardEvent=function(n,a,u){var c=n.getRowNode(),v=this.focusService.getFocusedCell();if(!al(this.gridOptionsService,u,c,v&&v.column,!1)&&"keydown"===a)switch(u.key){case Je.PAGE_HOME:case Je.PAGE_END:this.navigationService.handlePageScrollingKey(u);break;case Je.UP:case Je.DOWN:n.onKeyboardNavigate(u);break;case Je.TAB:n.onTabKeyDown(u)}if("keydown"===a){var F=n.createRowEvent(z.EVENT_CELL_KEY_DOWN,u);this.eventService.dispatchEvent(F)}if("keypress"===a){var $=n.createRowEvent(z.EVENT_CELL_KEY_PRESS,u);this.eventService.dispatchEvent($)}},i.prototype.doGridOperations=function(n,a){if((n.ctrlKey||n.metaKey)&&!a&&this.mouseEventService.isEventFromThisGrid(n)){var u=Do(n);if(u===Je.A)return this.onCtrlAndA(n);if(u===Je.C)return this.onCtrlAndC(n);if(u===Je.X)return this.onCtrlAndX(n);if(u===Je.V)return this.onCtrlAndV();if(u===Je.D)return this.onCtrlAndD(n);if(u===Je.Z)return this.onCtrlAndZ(n);if(u===Je.Y)return this.onCtrlAndY()}},i.prototype.onCtrlAndA=function(n){var a=this,u=a.pinnedRowModel,v=a.rangeService;if(v&&a.paginationProxy.isRowsToRender()){var C=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c}([u.isEmpty("top"),u.isEmpty("bottom")],2),F=C[0]?null:"top",$=void 0,ne=void 0;C[1]?($=null,ne=this.paginationProxy.getRowCount()-1):($="bottom",ne=u.getPinnedBottomRowData().length-1);var pe=this.columnModel.getAllDisplayedColumns();if(d(pe))return;v.setCellRange({rowStartIndex:0,rowStartPinned:F,rowEndIndex:ne,rowEndPinned:$,columnStart:pe[0],columnEnd:wr(pe)})}n.preventDefault()},i.prototype.onCtrlAndC=function(n){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||(this.clipboardService.copyToClipboard(),n.preventDefault())},i.prototype.onCtrlAndX=function(n){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard")||(this.clipboardService.cutToClipboard(),n.preventDefault())},i.prototype.onCtrlAndV=function(){Et.isRegistered(rt.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(n){Et.isRegistered(rt.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),n.preventDefault()},i.prototype.onCtrlAndZ=function(n){this.gridOptionsService.is("undoRedoCellEditing")&&(n.preventDefault(),n.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},i.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},xo([ae("mouseEventService")],i.prototype,"mouseEventService",void 0),xo([ae("valueService")],i.prototype,"valueService",void 0),xo([Tt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),xo([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),xo([ae("navigationService")],i.prototype,"navigationService",void 0),xo([ae("focusService")],i.prototype,"focusService",void 0),xo([ae("undoRedoService")],i.prototype,"undoRedoService",void 0),xo([ae("columnModel")],i.prototype,"columnModel",void 0),xo([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),xo([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),xo([Tt("rangeService")],i.prototype,"rangeService",void 0),xo([Tt("clipboardService")],i.prototype,"clipboardService",void 0),xo([Xe],i.prototype,"postConstruct",null),i}(nt),XC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pp=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Vh=function(p){function i(n){var a=p.call(this)||this;return a.centerContainerCtrl=n,a}return XC(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(){n.gridBodyCtrl=n.ctrlsService.getGridBodyCtrl(),n.listenForResize()}),this.addManagedListener(this.eventService,z.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},i.prototype.listenForResize=function(){var n=this,a=function(){return n.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(a),this.gridBodyCtrl.registerBodyViewportResizeListener(a)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.checkBodyHeight=function(){var a=jo(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==a&&(this.bodyHeight=a,this.eventService.dispatchEvent({type:z.EVENT_BODY_HEIGHT_CHANGED}))},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var n={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(n)},i.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},i.prototype.onHorizontalViewportChanged=function(){var n=this.centerContainerCtrl.getCenterWidth(),a=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(n,a)},Pp([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Pp([ae("columnModel")],i.prototype,"columnModel",void 0),Pp([ae("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Pp([Xe],i.prototype,"postConstruct",null),i}(nt),z_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hh=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Y_=function(p){function i(n){var a=p.call(this)||this;return a.element=n,a}return z_(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,z.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},i.prototype.onPinnedLeftWidthChanged=function(){var n=this.pinnedWidthService.getPinnedLeftWidth();Er(this.element,n>0),Bi(this.element,n)},i.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},Hh([ae("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Hh([Xe],i.prototype,"postConstruct",null),i}(nt),X_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Ba=function(p){function i(n){var a=p.call(this)||this;return a.element=n,a}return X_(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,z.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},i.prototype.onPinnedRightWidthChanged=function(){var n=this.pinnedWidthService.getPinnedRightWidth();Er(this.element,n>0),Bi(this.element,n)},i.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},Kc([ae("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Kc([Xe],i.prototype,"postConstruct",null),i}(nt),bu=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bp=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Tp=function(p){function i(n,a){var u=p.call(this)||this;return u.eContainer=n,u.eWrapper=a,u}return bu(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,z.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},i.prototype.onHeightChanged=function(){var n=this.maxDivHeightScaler.getUiContainerHeight(),a=null!=n?n+"px":"";this.eContainer.style.height=a,this.eWrapper&&(this.eWrapper.style.height=a)},bp([ae("rowContainerHeightService")],i.prototype,"maxDivHeightScaler",void 0),bp([Xe],i.prototype,"postConstruct",null),i}(nt),Uh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Wh=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},qC=function(p){function i(n){var a=p.call(this)||this;return a.eContainer=n,a}return Uh(i,p),i.prototype.postConstruct=function(){var n=this;if(this.gridOptionsService.isEnableRangeSelection()&&!s(this.rangeService)){var a={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(a),this.addDestroyFunc(function(){return n.dragService.removeDragSource(a)})}},Wh([Tt("rangeService")],i.prototype,"rangeService",void 0),Wh([ae("dragService")],i.prototype,"dragService",void 0),Wh([Xe],i.prototype,"postConstruct",null),i}(nt),ZC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Tu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Mu=function(p){function i(n,a){void 0===a&&(a=!1);var u=p.call(this)||this;return u.callback=n,u.addSpacer=a,u}return ZC(i,p),i.prototype.postConstruct=function(){var n=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",n),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_LEFT_PINNED_WIDTH_CHANGED,n),this.addSpacer&&(this.addManagedListener(this.eventService,z.EVENT_RIGHT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_SCROLL_VISIBILITY_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_SCROLLBAR_WIDTH_CHANGED,n)),this.setWidth()},i.prototype.setWidth=function(){var C,n=this.columnModel,a=this.gridOptionsService.isDomLayout("print"),u=n.getBodyContainerWidth(),c=n.getDisplayedColumnsLeftWidth(),v=n.getDisplayedColumnsRightWidth();a?C=u+c+v:(C=u,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?c:v)&&this.scrollVisibleService.isVerticalScrollShowing()&&(C+=this.gridOptionsService.getScrollbarWidth())),this.callback(C)},Tu([ae("columnModel")],i.prototype,"columnModel",void 0),Tu([ae("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Tu([Xe],i.prototype,"postConstruct",null),i}(nt),JC=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),El=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},$h=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},We=(()=>((We=We||{}).LEFT="left",We.RIGHT="right",We.CENTER="center",We.FULL_WIDTH="fullWidth",We.TOP_LEFT="topLeft",We.TOP_RIGHT="topRight",We.TOP_CENTER="topCenter",We.TOP_FULL_WIDTH="topFullWidth",We.STICKY_TOP_LEFT="stickyTopLeft",We.STICKY_TOP_RIGHT="stickyTopRight",We.STICKY_TOP_CENTER="stickyTopCenter",We.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",We.BOTTOM_LEFT="bottomLeft",We.BOTTOM_RIGHT="bottomRight",We.BOTTOM_CENTER="bottomCenter",We.BOTTOM_FULL_WIDTH="bottomFullWidth",We))(),Nn=(()=>((Nn=Nn||{}).LEFT="left",Nn.RIGHT="right",Nn.CENTER="center",Nn.FULL_WIDTH="fullWidth",Nn))(),jh=Vn([[We.CENTER,"ag-center-cols-container"],[We.LEFT,"ag-pinned-left-cols-container"],[We.RIGHT,"ag-pinned-right-cols-container"],[We.FULL_WIDTH,"ag-full-width-container"],[We.TOP_CENTER,"ag-floating-top-container"],[We.TOP_LEFT,"ag-pinned-left-floating-top"],[We.TOP_RIGHT,"ag-pinned-right-floating-top"],[We.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[We.STICKY_TOP_CENTER,"ag-sticky-top-container"],[We.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[We.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[We.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[We.BOTTOM_CENTER,"ag-floating-bottom-container"],[We.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[We.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[We.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),zc=Vn([[We.CENTER,"ag-center-cols-viewport"],[We.TOP_CENTER,"ag-floating-top-viewport"],[We.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[We.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),J_=Vn([[We.CENTER,"ag-center-cols-clipper"]]),Yc=function(p){function i(n){var a=p.call(this)||this;return a.visible=!0,a.EMPTY_CTRLS=[],a.name=n,a.isFullWithContainer=a.name===We.TOP_FULL_WIDTH||a.name===We.STICKY_TOP_FULL_WIDTH||a.name===We.BOTTOM_FULL_WIDTH||a.name===We.FULL_WIDTH,a}return JC(i,p),i.getRowContainerCssClasses=function(n){return{container:jh.get(n),viewport:zc.get(n),wrapper:J_.get(n)}},i.getPinned=function(n){switch(n){case We.BOTTOM_LEFT:case We.TOP_LEFT:case We.STICKY_TOP_LEFT:case We.LEFT:return"left";case We.BOTTOM_RIGHT:case We.TOP_RIGHT:case We.STICKY_TOP_RIGHT:case We.RIGHT:return"right";default:return null}},i.prototype.postConstruct=function(){var n=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([We.CENTER],function(){return n.viewportSizeFeature=n.createManagedBean(new Vh(n))})},i.prototype.registerWithCtrlsService=function(){switch(this.name){case We.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case We.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case We.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case We.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case We.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case We.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case We.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case We.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case We.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case We.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case We.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case We.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},i.prototype.forContainers=function(n,a){n.indexOf(this.name)>=0&&a()},i.prototype.getContainerElement=function(){return this.eContainer},i.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},i.prototype.setComp=function(n,a,u,c){var v=this;this.comp=n,this.eContainer=a,this.eViewport=u,this.eWrapper=c,this.createManagedBean(new YC(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var $=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat($h(arguments[i]));return p}([We.TOP_CENTER,We.TOP_LEFT,We.TOP_RIGHT],[We.BOTTOM_CENTER,We.BOTTOM_LEFT,We.BOTTOM_RIGHT],[We.CENTER,We.LEFT,We.RIGHT],[We.STICKY_TOP_CENTER,We.STICKY_TOP_LEFT,We.STICKY_TOP_RIGHT]),ne=[We.CENTER,We.LEFT,We.RIGHT,We.FULL_WIDTH],pe=[We.CENTER,We.TOP_CENTER,We.STICKY_TOP_CENTER,We.BOTTOM_CENTER],Te=[We.RIGHT,We.BOTTOM_RIGHT,We.TOP_RIGHT,We.STICKY_TOP_RIGHT];this.forContainers([We.LEFT,We.BOTTOM_LEFT,We.TOP_LEFT,We.STICKY_TOP_LEFT],function(){v.pinnedWidthFeature=v.createManagedBean(new Y_(v.eContainer)),v.addManagedListener(v.eventService,z.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return v.onPinnedWidthChanged()})}),this.forContainers(Te,function(){v.pinnedWidthFeature=v.createManagedBean(new Ba(v.eContainer)),v.addManagedListener(v.eventService,z.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return v.onPinnedWidthChanged()})}),this.forContainers(ne,function(){return v.createManagedBean(new Tp(v.eContainer,v.eWrapper))}),this.forContainers($,function(){return v.createManagedBean(new qC(v.eContainer))}),this.forContainers(pe,function(){return v.createManagedBean(new Mu(function(Ae){return v.comp.setContainerWidth(Ae+"px")}))}),Uo()&&(this.forContainers([We.CENTER],function(){v.addManagedListener(v.eventService,v.enableRtl?z.EVENT_LEFT_PINNED_WIDTH_CHANGED:z.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return v.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},i.prototype.refreshPaddingForFakeScrollbar=function(){var n=this,a=n.enableRtl,u=n.columnModel,c=n.name,v=n.eWrapper,C=n.eContainer,T=a?We.LEFT:We.RIGHT;this.forContainers([We.CENTER,T],function(){var M=u.getContainerWidth(T),F=a?"marginLeft":"marginRight";c===We.CENTER?v.style[F]=M?"0px":"16px":C.style[F]=M?"16px":"0px"})},i.prototype.addListeners=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return n.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return n.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return n.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_ROWS_CHANGED,function(a){return n.onDisplayedRowsChanged(a.afterScroll)}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},i.prototype.listenOnDomOrder=function(){var n=this;if([We.STICKY_TOP_CENTER,We.STICKY_TOP_LEFT,We.STICKY_TOP_RIGHT,We.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var c=function(){var v=n.gridOptionsService.is("ensureDomOrder"),C=n.gridOptionsService.isDomLayout("print");n.comp.setDomOrder(v||C)};this.addManagedPropertyListener("domLayout",c),c()}},i.prototype.stopHScrollOnPinnedRows=function(){var n=this;this.forContainers([We.TOP_CENTER,We.STICKY_TOP_CENTER,We.BOTTOM_CENTER],function(){n.addManagedListener(n.eViewport,"scroll",function(){return n.eViewport.scrollLeft=0})})},i.prototype.onDisplayedColumnsChanged=function(){var n=this;this.forContainers([We.CENTER],function(){return n.onHorizontalViewportChanged()})},i.prototype.onDisplayedColumnsWidthChanged=function(){var n=this;this.forContainers([We.CENTER],function(){return n.onHorizontalViewportChanged()})},i.prototype.onScrollVisibilityChanged=function(){var n=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===We.CENTER){var u=this.scrollVisibleService.isHorizontalScrollShowing()?n:0;this.comp.setViewportHeight(0==u?"100%":"calc(100% + "+u+"px)")}if(this.name===We.FULL_WIDTH){var v=Uo()?16:0;this.eContainer.style.setProperty("width","calc(100% - "+v+"px)")}},i.prototype.addPreventScrollWhileDragging=function(){var n=this,a=function(u){n.dragService.isDragging()&&u.cancelable&&u.preventDefault()};this.eContainer.addEventListener("touchmove",a,{passive:!1}),this.addDestroyFunc(function(){return n.eContainer.removeEventListener("touchmove",a)})},i.prototype.onHorizontalViewportChanged=function(){var n=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,a)},i.prototype.getCenterWidth=function(){return H(this.eViewport)},i.prototype.getCenterViewportScrollLeft=function(){return Se(this.eViewport,this.enableRtl)},i.prototype.registerViewportResizeListener=function(n){var a=this.resizeObserverService.observeResize(this.eViewport,n);this.addDestroyFunc(function(){return a()})},i.prototype.isViewportVisible=function(){return Vt(this.eViewport)},i.prototype.getViewportScrollLeft=function(){return Se(this.eViewport,this.enableRtl)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||ri(this.eViewport)},i.prototype.getViewportElement=function(){return this.eViewport},i.prototype.setContainerTranslateX=function(n){this.eContainer.style.transform="translateX("+n+"px)"},i.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},i.prototype.setCenterViewportScrollLeft=function(n){$e(this.eViewport,n,this.enableRtl)},i.prototype.isContainerVisible=function(){return!i.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},i.prototype.onPinnedWidthChanged=function(){var n=this.isContainerVisible();this.visible!=n&&(this.visible=n,this.onDisplayedRowsChanged()),Uo()&&this.refreshPaddingForFakeScrollbar()},i.prototype.onDisplayedRowsChanged=function(n){var a=this;if(void 0===n&&(n=!1),this.visible){var u=this.gridOptionsService.isDomLayout("print"),v=this.getRowCtrls().filter(function(C){var T=C.isFullWidth(),M=a.embedFullWidthRows||u;return a.isFullWithContainer?!M&&T:M||!T});this.comp.setRowCtrls(v,n)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},i.prototype.getRowCtrls=function(){switch(this.name){case We.TOP_CENTER:case We.TOP_LEFT:case We.TOP_RIGHT:case We.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case We.STICKY_TOP_CENTER:case We.STICKY_TOP_LEFT:case We.STICKY_TOP_RIGHT:case We.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case We.BOTTOM_CENTER:case We.BOTTOM_LEFT:case We.BOTTOM_RIGHT:case We.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},El([ae("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),El([ae("dragService")],i.prototype,"dragService",void 0),El([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),El([ae("columnModel")],i.prototype,"columnModel",void 0),El([ae("resizeObserverService")],i.prototype,"resizeObserverService",void 0),El([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),El([Xe],i.prototype,"postConstruct",null),i}(nt),Q_=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zr=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Kh='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+We.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+We.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+We.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+We.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+We.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+We.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+We.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+We.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+We.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+We.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+We.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+We.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+We.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+We.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+We.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+We.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',ey=function(p){function i(){return p.call(this,Kh)||this}return Q_(i,p),i.prototype.init=function(){var n=this,a=function(c,v){var C=c+"px";v.style.minHeight=C,v.style.height=C},u={setRowAnimationCssOnBodyViewport:function(c,v){return n.setRowAnimationCssOnBodyViewport(c,v)},setColumnCount:function(c){return ti(n.getGui(),c)},setRowCount:function(c){return Hr(n.getGui(),c)},setTopHeight:function(c){return a(c,n.eTop)},setBottomHeight:function(c){return a(c,n.eBottom)},setTopDisplay:function(c){return n.eTop.style.display=c},setBottomDisplay:function(c){return n.eBottom.style.display=c},setStickyTopHeight:function(c){return n.eStickyTop.style.height=c},setStickyTopTop:function(c){return n.eStickyTop.style.top=c},setStickyTopWidth:function(c){return n.eStickyTop.style.width=c},setColumnMovingCss:function(c,v){return n.addOrRemoveCssClass(c,v)},updateLayoutClasses:function(c,v){[n.eBodyViewport.classList,n.eBodyClipper.classList,n.eBody.classList].forEach(function(T){T.toggle(dn.AUTO_HEIGHT,v.autoHeight),T.toggle(dn.NORMAL,v.normal),T.toggle(dn.PRINT,v.print)}),n.addOrRemoveCssClass(dn.AUTO_HEIGHT,v.autoHeight),n.addOrRemoveCssClass(dn.NORMAL,v.normal),n.addOrRemoveCssClass(dn.PRINT,v.print)},setAlwaysVerticalScrollClass:function(c,v){return n.eBodyViewport.classList.toggle(is,v)},registerBodyViewportResizeListener:function(c){var v=n.resizeObserverService.observeResize(n.eBodyViewport,c);n.addDestroyFunc(function(){return v()})},setPinnedTopBottomOverflowY:function(c){return n.eTop.style.overflowY=n.eBottom.style.overflowY=c},setCellSelectableCss:function(c,v){[n.eTop,n.eBodyViewport,n.eBottom].forEach(function(C){return C.classList.toggle(yp,v)})},setBodyViewportWidth:function(c){return n.eBodyViewport.style.width=c}};this.ctrl=this.createManagedBean(new bh),this.ctrl.setComp(u,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&Ln(this.getGui(),!0)},i.prototype.setRowAnimationCssOnBodyViewport=function(n,a){var u=this.eBodyViewport.classList;u.toggle(Zo.ANIMATION_ON,a),u.toggle(Zo.ANIMATION_OFF,!a)},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Zr([ae("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Zr([Tt("rangeService")],i.prototype,"rangeService",void 0),Zr([gt("eBodyViewport")],i.prototype,"eBodyViewport",void 0),Zr([gt("eStickyTop")],i.prototype,"eStickyTop",void 0),Zr([gt("eTop")],i.prototype,"eTop",void 0),Zr([gt("eBottom")],i.prototype,"eBottom",void 0),Zr([gt("gridHeader")],i.prototype,"headerRootComp",void 0),Zr([gt("eBodyClipper")],i.prototype,"eBodyClipper",void 0),Zr([gt("eBody")],i.prototype,"eBody",void 0),Zr([Xe],i.prototype,"init",null),i}(lr),Mp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ty=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Mp(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},i.prototype.onDisplayedColumnsChanged=function(){this.update()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},i.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},i.prototype.updateImpl=function(){var n=this.ctrlsService.getCenterRowContainerCtrl();if(n){var a={horizontalScrollShowing:n.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(a)}},i.prototype.setScrollsVisible=function(n){this.horizontalScrollShowing===n.horizontalScrollShowing&&this.verticalScrollShowing===n.verticalScrollShowing||(this.horizontalScrollShowing=n.horizontalScrollShowing,this.verticalScrollShowing=n.verticalScrollShowing,this.eventService.dispatchEvent({type:z.EVENT_SCROLL_VISIBILITY_CHANGED}))},i.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},i.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Xc([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Xc([Xe],i.prototype,"postConstruct",null),Xc([lt("scrollVisibleService")],i)}(nt),ry=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zh=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ny=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.gridInstanceId=n.gridInstanceSequence.next(),a}var n;return ry(i,p),n=i,i.prototype.stampTopLevelGridCompWithGridInstance=function(a){a[n.GRID_DOM_KEY]=this.gridInstanceId},i.prototype.getRenderedCellForEvent=function(a){return ln(this.gridOptionsService,a.target,Ga.DOM_DATA_KEY_CELL_CTRL)},i.prototype.isEventFromThisGrid=function(a){return this.isElementInThisGrid(a.target)},i.prototype.isElementInThisGrid=function(a){for(var u=a;u;){var c=u[n.GRID_DOM_KEY];if(o(c))return c===this.gridInstanceId;u=u.parentElement}return!1},i.prototype.getCellPositionForEvent=function(a){var u=this.getRenderedCellForEvent(a);return u?u.getCellPosition():null},i.prototype.getNormalisedPosition=function(a){var v,C,u=this.gridOptionsService.isDomLayout("normal");if(null!=a.clientX||null!=a.clientY?(v=a.clientX,C=a.clientY):(v=a.x,C=a.y),u){var T=this.ctrlsService.getGridBodyCtrl(),M=T.getScrollFeature().getVScrollPosition();v+=T.getScrollFeature().getHScrollPosition().left,C+=M.top}return{x:v,y:C}},i.gridInstanceSequence=new Ja,i.GRID_DOM_KEY="__ag_grid_instance",zh([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),n=zh([lt("mouseEventService")],i)}(nt),Yh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Rp=function(){return Rp=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Rp.apply(this,arguments)},lo=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Ru=function(p){function i(){var n=p.call(this)||this;return n.onPageDown=Qe(n.onPageDown,100),n.onPageUp=Qe(n.onPageUp,100),n}return Yh(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridBodyCon=a.gridBodyCtrl})},i.prototype.handlePageScrollingKey=function(n){var a=n.key,u=n.altKey,c=n.ctrlKey||n.metaKey,v=!!this.rangeService&&n.shiftKey,C=this.mouseEventService.getCellPositionForEvent(n),T=!1;switch(a){case Je.PAGE_HOME:case Je.PAGE_END:!c&&!u&&(this.onHomeOrEndKey(a),T=!0);break;case Je.LEFT:case Je.RIGHT:case Je.UP:case Je.DOWN:if(!C)return!1;c&&!u&&!v&&(this.onCtrlUpDownLeftRight(a,C),T=!0);break;case Je.PAGE_DOWN:if(!C)return!1;!c&&!u&&(this.onPageDown(C),T=!0);break;case Je.PAGE_UP:if(!C)return!1;!c&&!u&&(this.onPageUp(C),T=!0)}return T&&n.preventDefault(),T},i.prototype.navigateTo=function(n){var a=n.scrollIndex,u=n.scrollType,c=n.scrollColumn,v=n.focusIndex,C=n.focusColumn;o(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),o(a)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(a,u),n.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(v),this.focusService.setFocusedCell({rowIndex:v,column:C,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:v,rowPinned:null,column:C})},i.prototype.onPageDown=function(n){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.getViewportHeight(),v=this.paginationProxy.getPixelOffset(),T=this.paginationProxy.getRowIndexAtPixel(u.top+c+v);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(n,T):this.navigateToNextPage(n,T)},i.prototype.onPageUp=function(n){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.paginationProxy.getPixelOffset(),C=this.paginationProxy.getRowIndexAtPixel(u.top+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(n,C,!0):this.navigateToNextPage(n,C,!0)},i.prototype.navigateToNextPage=function(n,a,u){void 0===u&&(u=!1);var me,c=this.getViewportHeight(),v=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow(),T=this.paginationProxy.getPixelOffset(),M=this.paginationProxy.getRow(n.rowIndex),F=u?M?.rowHeight-c-T:c-T,ne=this.paginationProxy.getRowIndexAtPixel(M?.rowTop+F+T);ne===n.rowIndex&&(a=ne=n.rowIndex+(u?-1:1)),u?(me="bottom",ne<v&&(ne=v),a<v&&(a=v)):(me="top",ne>C&&(ne=C),a>C&&(a=C)),this.isRowTallerThanView(ne)&&(a=ne,me="top"),this.navigateTo({scrollIndex:a,scrollType:me,scrollColumn:null,focusIndex:ne,focusColumn:n.column})},i.prototype.navigateToNextPageWithAutoHeight=function(n,a,u){var c=this;void 0===u&&(u=!1),this.navigateTo({scrollIndex:a,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:n.column}),setTimeout(function(){var v=c.getNextFocusIndexForAutoHeight(n,u);c.navigateTo({scrollIndex:a,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:v,focusColumn:n.column,isAsync:!0})},50)},i.prototype.getNextFocusIndexForAutoHeight=function(n,a){var u;void 0===a&&(a=!1);for(var c=a?-1:1,v=this.getViewportHeight(),C=this.paginationProxy.getPageLastRow(),T=0,M=n.rowIndex;M>=0&&M<=C;){var F=this.paginationProxy.getRow(M);if(F){var $=null!==(u=F.rowHeight)&&void 0!==u?u:0;if(T+$>v)break;T+=$}M+=c}return Math.max(0,Math.min(M,C))},i.prototype.getViewportHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.gridOptionsService.getScrollbarWidth(),c=a.bottom-a.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(c-=u),c},i.prototype.isRowTallerThanView=function(n){var a=this.paginationProxy.getRow(n);if(!a)return!1;var u=a.rowHeight;return"number"==typeof u&&u>this.getViewportHeight()},i.prototype.onCtrlUpDownLeftRight=function(n,a){var u=this.cellNavigationService.getNextCellToFocus(n,a,!0),c=u.rowIndex,v=u.column;this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:v,focusIndex:c,focusColumn:v})},i.prototype.onHomeOrEndKey=function(n){var a=n===Je.PAGE_HOME,u=this.columnModel.getAllDisplayedColumns(),c=a?u[0]:wr(u),v=a?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:v,scrollType:null,scrollColumn:c,focusIndex:v,focusColumn:c})},i.prototype.onTabKeyDown=function(n,a){var u=a.shiftKey;if(this.tabToNextCellCommon(n,u,a))a.preventDefault();else if(u){var v=n.getRowPosition(),C=v.rowIndex;(v.rowPinned?0===C:C===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(a.preventDefault(),this.focusService.focusLastHeader(a)))}else n instanceof Ga&&n.focusCell(!0),this.focusService.focusNextGridCoreContainer(u)&&a.preventDefault()},i.prototype.tabToNextCell=function(n,a){var u=this.focusService.getFocusedCell();if(!u)return!1;var c=this.getCellByPosition(u);return!!(c||(c=this.rowRenderer.getRowByPosition(u),c&&c.isFullWidth()))&&this.tabToNextCellCommon(c,n,a)},i.prototype.tabToNextCellCommon=function(n,a,u){var c=n.isEditing();if(!c&&n instanceof Ga){var C=n.getRowCtrl();C&&(c=C.isEditing())}return(c?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(n,a,u):this.moveToNextEditingCell(n,a,u):this.moveToNextCellNotEditing(n,a))||!!this.focusService.getFocusedHeader()},i.prototype.moveToNextEditingCell=function(n,a,u){void 0===u&&(u=null);var c=n.getCellPosition();n.getGui().focus(),n.stopEditing();var v=this.findNextCellToFocusOn(c,a,!0);return null!=v&&(v.startEditing(null,null,!0,u),v.focusCell(!1),!0)},i.prototype.moveToNextEditingRow=function(n,a,u){void 0===u&&(u=null);var c=n.getCellPosition(),v=this.findNextCellToFocusOn(c,a,!0);if(null==v)return!1;var C=v.getCellPosition(),T=this.isCellEditable(c),M=this.isCellEditable(C),F=C&&c.rowIndex===C.rowIndex&&c.rowPinned===C.rowPinned;return T&&n.setFocusOutOnEditor(),F||(n.getRowCtrl().stopEditing(),v.getRowCtrl().startRowEditing(void 0,void 0,void 0,u)),M?(v.setFocusInOnEditor(),v.focusCell()):v.focusCell(!0),!0},i.prototype.moveToNextCellNotEditing=function(n,a){var c,u=this.columnModel.getAllDisplayedColumns();c=n instanceof Qo?Rp(Rp({},n.getRowPosition()),{column:a?u[0]:wr(u)}):n.getCellPosition();var v=this.findNextCellToFocusOn(c,a,!1);if(v instanceof Ga)v.focusCell(!0);else if(v)return this.tryToFocusFullWidthRow(v.getRowPosition(),a);return o(v)},i.prototype.findNextCellToFocusOn=function(n,a,u){for(var c=n;;){n!==c&&(n=c),a||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,a);var v=this.gridOptionsService.getCallback("tabToNextCell");if(o(v)){var T=v({backwards:a,editing:u,previousCellPosition:n,nextCellPosition:c||null});o(T)?(T.floating&&(_e(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),T.rowPinned=T.floating),c={rowIndex:T.rowIndex,column:T.column,rowPinned:T.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var M=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:M+c.rowIndex,column:c.column}}),null}var F="fullRow"===this.gridOptionsService.get("editType");if(!u||F||this.isCellEditable(c)){this.ensureCellVisible(c);var ne=this.getCellByPosition(c);if(!ne){var pe=this.rowRenderer.getRowByPosition(c);if(!pe||!pe.isFullWidth()||u)continue;return pe}if(!ne.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),ne}}},i.prototype.isCellEditable=function(n){var a=this.lookupRowNodeForCell(n);return!!a&&n.column.isCellEditable(a)},i.prototype.getCellByPosition=function(n){var a=this.rowRenderer.getRowByPosition(n);return a?a.getCellCtrl(n.column):null},i.prototype.lookupRowNodeForCell=function(n){return"top"===n.rowPinned?this.pinnedRowModel.getPinnedTopRow(n.rowIndex):"bottom"===n.rowPinned?this.pinnedRowModel.getPinnedBottomRow(n.rowIndex):this.paginationProxy.getRow(n.rowIndex)},i.prototype.navigateToNextCell=function(n,a,u,c){for(var v=u,C=!1;v&&(v===u||!this.isValidNavigateCell(v));)this.gridOptionsService.is("enableRtl")?a===Je.LEFT&&(v=this.getLastCellOfColSpan(v)):a===Je.RIGHT&&(v=this.getLastCellOfColSpan(v)),C=s(v=this.cellNavigationService.getNextCellToFocus(a,v));if(C&&n&&n.key===Je.UP&&(v={rowIndex:-1,rowPinned:null,column:u.column}),c){var T=this.gridOptionsService.getCallback("navigateToNextCell");if(o(T)){var F=T({key:a,previousCellPosition:u,nextCellPosition:v||null,event:n});o(F)?(F.floating&&(_e(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),F.rowPinned=F.floating),v={rowPinned:F.rowPinned,rowIndex:F.rowIndex,column:F.column}):v=null}}if(v){if(v.rowIndex<0){var $=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:$+v.rowIndex,column:u.column},event:n||void 0})}var ne=this.getNormalisedPosition(v);ne?this.focusPosition(ne):this.tryToFocusFullWidthRow(v)}},i.prototype.getNormalisedPosition=function(n){this.ensureCellVisible(n);var a=this.getCellByPosition(n);return a?(n=a.getCellPosition(),this.ensureCellVisible(n),n):null},i.prototype.tryToFocusFullWidthRow=function(n,a){void 0===a&&(a=!1);var u=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(n);if(!c||!c.isFullWidth())return!1;var v=this.focusService.getFocusedCell(),C={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column||(a?wr(u):u[0])};this.focusPosition(C);var T=null!=v&&this.rowPositionUtils.before(C,v);return this.eventService.dispatchEvent({type:z.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:C.rowIndex,rowPinned:C.rowPinned,column:C.column,isFullWidthCell:!0,floating:C.rowPinned,fromBelow:T}),!0},i.prototype.focusPosition=function(n){this.focusService.setFocusedCell({rowIndex:n.rowIndex,column:n.column,rowPinned:n.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(n)},i.prototype.isValidNavigateCell=function(n){return!!this.rowPositionUtils.getRowNode(n)},i.prototype.getLastCellOfColSpan=function(n){var a=this.getCellByPosition(n);if(!a)return n;var u=a.getColSpanningList();return 1===u.length?n:{rowIndex:n.rowIndex,column:wr(u),rowPinned:n.rowPinned}},i.prototype.ensureCellVisible=function(n){var a=this.gridOptionsService.is("groupRowsSticky"),u=this.rowModel.getRow(n.rowIndex);!(a&&u?.sticky)&&s(n.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n.rowIndex),n.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(n.column)},lo([ae("mouseEventService")],i.prototype,"mouseEventService",void 0),lo([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),lo([ae("focusService")],i.prototype,"focusService",void 0),lo([Tt("rangeService")],i.prototype,"rangeService",void 0),lo([ae("columnModel")],i.prototype,"columnModel",void 0),lo([ae("rowModel")],i.prototype,"rowModel",void 0),lo([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),lo([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),lo([ae("headerNavigationService")],i.prototype,"headerNavigationService",void 0),lo([ae("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),lo([ae("cellNavigationService")],i.prototype,"cellNavigationService",void 0),lo([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),lo([Xe],i.prototype,"postConstruct",null),lo([lt("navigationService")],i)}(nt),jr=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xh=function(p){function i(n){var a=p.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return a.params=n,a}return jr(i,p),i.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),i.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},i.prototype.addKeyDownListener=function(){var n=this,a=this.getGui(),u=this.params;this.addManagedListener(a,"keydown",function(v){al(n.gridOptionsService,v,u.node,u.column,!0)||u.onKeyDown(v)})},i.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(yu),qh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zh=function(p){function i(n,a,u,c,v){var C=p.call(this)||this;C.rendererVersion=0,C.editorVersion=0,C.beans=n,C.column=a.getColumn(),C.rowNode=a.getRowNode(),C.rowCtrl=a.getRowCtrl(),C.eRow=c,C.setTemplate('<div comp-id="'+C.getCompId()+'"/>');var T=C.getGui();C.forceWrapper=a.isForceWrapper(),C.refreshWrapper(!1);var M=function($,ne,pe){var me=pe||T;null!=ne&&""!=ne?me.setAttribute($,ne):me.removeAttribute($)},F={addOrRemoveCssClass:function($,ne){return C.addOrRemoveCssClass($,ne)},setUserStyles:function($){return ao(T,$)},getFocusableElement:function(){return C.getFocusableElement()},setTabIndex:function($){return M("tabindex",$.toString())},setRole:function($){return Br(T,$)},setColId:function($){return M("col-id",$)},setTitle:function($){return M("title",$)},setIncludeSelection:function($){return C.includeSelection=$},setIncludeRowDrag:function($){return C.includeRowDrag=$},setIncludeDndSource:function($){return C.includeDndSource=$},setRenderDetails:function($,ne,pe){return C.setRenderDetails($,ne,pe)},setEditDetails:function($,ne,pe){return C.setEditDetails($,ne,pe)},getCellEditor:function(){return C.cellEditor||null},getCellRenderer:function(){return C.cellRenderer||null},getParentOfValue:function(){return C.getParentOfValue()}};return C.cellCtrl=a,a.setComp(F,C.getGui(),C.eCellWrapper,u,v),C}return qh(i,p),i.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},i.prototype.setRenderDetails=function(n,a,u){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var v=this.refreshWrapper(!1);this.refreshEditStyles(!1),n?!u&&!v&&this.refreshCellRenderer(n)||(this.destroyRenderer(),this.createCellRendererInstance(n)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(a))}},i.prototype.setEditDetails=function(n,a,u){n?this.createCellEditorInstance(n,a,u):this.destroyEditor()},i.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},i.prototype.refreshWrapper=function(n){var a=this.includeRowDrag||this.includeDndSource||this.includeSelection,u=a||this.forceWrapper,c=u&&null==this.eCellWrapper;c&&(this.eCellWrapper=zt('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var v=!u&&null!=this.eCellWrapper;v&&(Sr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!u);var C=!n&&u,T=C&&null==this.eCellValue;T&&(this.eCellValue=zt('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var M=!C&&null!=this.eCellValue;M&&(Sr(this.eCellValue),this.eCellValue=void 0);var F=c||v||T||M;return F&&this.removeControls(),n||a&&this.addControls(),F},i.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},i.prototype.createCellEditorInstance=function(n,a,u){var c=this,v=this.editorVersion,C=n.newAgStackInstance();if(C){var T=n.params;C.then(function(F){return c.afterCellEditorCreated(v,F,T,a,u)}),s(this.cellEditor)&&T.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},i.prototype.insertValueWithoutCellRenderer=function(n){var a=this.getParentOfValue();ze(a);var u=null!=n?ar(n):null;null!=u&&(a.innerHTML=u)},i.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},i.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Sr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},i.prototype.destroyEditor=function(){var n=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=n.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=n.destroyBean(this.cellEditorPopupWrapper),Sr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},i.prototype.refreshCellRenderer=function(n){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==n.componentClass)return!1;var a=this.cellRenderer.refresh(n.params);return!0===a||void 0===a},i.prototype.createCellRendererInstance=function(n){var a=this,u=this.beans.gridOptionsService.is("suppressAnimationFrame"),v=this.rendererVersion,C=n.componentClass,T=function(){if(a.rendererVersion===v&&a.isAlive()){var F=n.newAgStackInstance(),$=a.afterCellRendererCreated.bind(a,v,C);F&&F.then($)}};!u&&this.firstRender?this.beans.animationFrameService.createTask(T,this.rowNode.rowIndex,"createTasksP2"):T()},i.prototype.getCtrl=function(){return this.cellCtrl},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.afterCellRendererCreated=function(n,a,u){if(this.isAlive()&&n===this.rendererVersion){if(this.cellRenderer=u,this.cellRendererClass=a,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var v=this.getParentOfValue();ze(v),v.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(u)},i.prototype.afterCellEditorCreated=function(n,a,u,c,v){if(n!==this.editorVersion)this.beans.context.destroyBean(a);else{if(a.isCancelBeforeStart&&a.isCancelBeforeStart())return this.beans.context.destroyBean(a),void this.cellCtrl.stopEditing(!0);if(!a.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(a);this.cellEditor=a,this.cellEditorGui=a.getGui();var M=c||void 0!==a.isPopup&&a.isPopup();M?this.addPopupCellEditor(u,v):this.addInCellEditor(),this.refreshEditStyles(!0,M),a.afterGuiAttached&&a.afterGuiAttached()}},i.prototype.refreshEditStyles=function(n,a){var u;this.addOrRemoveCssClass("ag-cell-inline-editing",n&&!a),this.addOrRemoveCssClass("ag-cell-popup-editing",n&&!!a),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!n||!!a),null===(u=this.rowCtrl)||void 0===u||u.setInlineEditingCss(n)},i.prototype.addInCellEditor=function(){var n=this.getGui(),a=this.beans.gridOptionsService.getDocument();n.contains(a.activeElement)&&n.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},i.prototype.addPopupCellEditor=function(n,a){var u=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Xh(n));var v=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&v.appendChild(this.cellEditorGui);var C=this.beans.popupService,T=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),M=a??(c.getPopupPosition?c.getPopupPosition():"over"),F=this.beans.gridOptionsService.is("enableRtl"),$={ePopup:v,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:M,alignSide:F?"right":"left",keepWithinBounds:!0},ne=C.positionPopupByComponent.bind(C,$),pe=this.beans.localeService.getLocaleTextFunc(),me=C.addPopup({modal:T,eChild:v,closeOnEsc:!0,closedCallback:function(){u.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:ne,ariaLabel:pe("ariaLabelCellEditor","Cell Editor")});me&&(this.hideEditorPopup=me.hideFunc)},i.prototype.detach=function(){this.eRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),p.prototype.destroy.call(this)},i.prototype.clearParentOfValue=function(){var n=this.getGui(),a=this.beans.gridOptionsService.getDocument();n.contains(a.activeElement)&&On()&&n.focus({preventScroll:!0}),ze(this.getParentOfValue())},i}(lr),Ap=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Jh=function(p){function i(n,a,u){var c=p.call(this)||this;c.cellComps={},c.beans=a,c.rowCtrl=n,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle(u)+'"/>');var v=c.getGui(),C=v.style;return n.setComp({setDomOrder:function(M){return c.domOrder=M},setCellCtrls:function(M){return c.setCellCtrls(M)},showFullWidth:function(M){return c.showFullWidth(M)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(M,F){return c.addOrRemoveCssClass(M,F)},setUserStyles:function(M){return ao(v,M)},setTop:function(M){return C.top=M},setTransform:function(M){return C.transform=M},setRowIndex:function(M){return v.setAttribute("row-index",M)},setRole:function(M){return Br(v,M)},setRowId:function(M){return v.setAttribute("row-id",M)},setRowBusinessKey:function(M){return v.setAttribute("row-business-key",M)},setTabIndex:function(M){return v.setAttribute("tabindex",M.toString())}},c.getGui(),u),c.addDestroyFunc(function(){n.unsetComp(u)}),c}return Ap(i,p),i.prototype.getInitialStyle=function(n){var a=this.rowCtrl.getInitialTransform(n),u=this.rowCtrl.getInitialRowTop(n);return a?"transform: "+a:"top: "+u},i.prototype.showFullWidth=function(n){var a=this,c=n.newAgStackInstance();c&&c.then(function(v){if(a.isAlive()){var C=v.getGui();a.getGui().appendChild(C),a.rowCtrl.setupDetailRowAutoHeight(C),a.setFullWidthRowComp(v)}else a.beans.context.destroyBean(v)})},i.prototype.setCellCtrls=function(n){var a=this,u=Object.assign({},this.cellComps);n.forEach(function(v){var C=v.getInstanceId();null==a.cellComps[C]?a.newCellComp(v):u[C]=null});var c=ue(u).filter(function(v){return null!=v});this.destroyCells(c),this.ensureDomOrder(n)},i.prototype.ensureDomOrder=function(n){var a=this;if(this.domOrder){var u=[];n.forEach(function(c){var v=a.cellComps[c.getInstanceId()];v&&u.push(v.getGui())}),en(this.getGui(),u)}},i.prototype.newCellComp=function(n){var a=new Zh(this.beans,n,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[n.getInstanceId()]=a,this.getGui().appendChild(a.getGui())},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.destroyAllCells()},i.prototype.destroyAllCells=function(){var n=ue(this.cellComps).filter(function(a){return null!=a});this.destroyCells(n)},i.prototype.setFullWidthRowComp=function(n){var a=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=n,this.addDestroyFunc(function(){a.fullWidthCellRenderer=a.beans.context.destroyBean(a.fullWidthCellRenderer)})},i.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},i.prototype.destroyCells=function(n){var a=this;n.forEach(function(u){if(u){var c=u.getCtrl().getInstanceId();a.cellComps[c]===u&&(u.detach(),u.destroy(),a.cellComps[c]=null)}})},i}(lr),Qh=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qc=function(){return qc=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},qc.apply(this,arguments)},ss=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},xp=function(p){function i(){var n=p.call(this,function QC(){var p=lr.elementGettingCreated.getAttribute("name"),i=Yc.getRowContainerCssClasses(p);return p===We.CENTER?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer"></div>\n                </div>\n            </div>':p===We.TOP_CENTER||p===We.STICKY_TOP_CENTER||p===We.BOTTOM_CENTER?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer"></div>'}())||this;return n.rowComps={},n.name=lr.elementGettingCreated.getAttribute("name"),n.type=function Z_(p){switch(p){case We.CENTER:case We.TOP_CENTER:case We.STICKY_TOP_CENTER:case We.BOTTOM_CENTER:return Nn.CENTER;case We.LEFT:case We.TOP_LEFT:case We.STICKY_TOP_LEFT:case We.BOTTOM_LEFT:return Nn.LEFT;case We.RIGHT:case We.TOP_RIGHT:case We.STICKY_TOP_RIGHT:case We.BOTTOM_RIGHT:return Nn.RIGHT;case We.FULL_WIDTH:case We.TOP_FULL_WIDTH:case We.STICKY_TOP_FULL_WIDTH:case We.BOTTOM_FULL_WIDTH:return Nn.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(n.name),n}return Qh(i,p),i.prototype.postConstruct=function(){var n=this,a={setViewportHeight:function(c){return n.eViewport.style.height=c},setRowCtrls:function(c){return n.setRowCtrls(c)},setDomOrder:function(c){n.domOrder=c},setContainerWidth:function(c){return n.eContainer.style.width=c}};this.createManagedBean(new Yc(this.name)).setComp(a,this.eContainer,this.eViewport,this.eWrapper)},i.prototype.preDestroy=function(){this.setRowCtrls([])},i.prototype.setRowCtrls=function(n){var a=this,u=qc({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,n.forEach(function(v){var C=v.getInstanceId(),T=u[C];if(T)a.rowComps[C]=T,delete u[C],a.ensureDomOrder(T.getGui());else{var M=new Jh(v,a.beans,a.type);a.rowComps[C]=M,a.appendRow(M.getGui())}}),ue(u).forEach(function(v){a.eContainer.removeChild(v.getGui()),v.destroy()}),Br(this.eContainer,n.length?"rowgroup":"presentation")},i.prototype.appendRow=function(n){this.domOrder?Ko(this.eContainer,n,this.lastPlacedElement):this.eContainer.appendChild(n),this.lastPlacedElement=n},i.prototype.ensureDomOrder=function(n){this.domOrder&&(Wn(this.eContainer,n,this.lastPlacedElement),this.lastPlacedElement=n)},ss([ae("beans")],i.prototype,"beans",void 0),ss([gt("eViewport")],i.prototype,"eViewport",void 0),ss([gt("eContainer")],i.prototype,"eContainer",void 0),ss([gt("eWrapper")],i.prototype,"eWrapper",void 0),ss([Xe],i.prototype,"postConstruct",null),ss([ct],i.prototype,"preDestroy",null),i}(lr),eg=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Ip=function(){function p(i){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=i}return p.prototype.onDragEnter=function(i){var n=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var a=i.dragItem.columns;a&&a.forEach(function(u){u.isPrimary()&&(u.isAnyFunctionActive()||(u.isAllowValue()?n.columnsToAggregate.push(u):u.isAllowRowGroup()?n.columnsToGroup.push(u):u.isAllowPivot()&&n.columnsToPivot.push(u)))})}},p.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?pi.ICON_PINNED:pi.ICON_MOVE:null},p.prototype.onDragLeave=function(i){this.clearColumnsList()},p.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},p.prototype.onDragging=function(i){},p.prototype.onDragStop=function(i){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},eg([ae("columnModel")],p.prototype,"columnModel",void 0),eg([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),p}(),Sl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Hs=function(){function p(i,n){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=i,this.eContainer=n,this.centerContainer=!o(i)}return p.prototype.init=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},p.prototype.getIconName=function(){return this.pinned?pi.ICON_PINNED:pi.ICON_MOVE},p.prototype.onDragEnter=function(i){var n=i.dragItem.columns;if(i.dragSource.type===yn.ToolPanel)this.setColumnsVisible(n,!0,"uiColumnDragged");else{var u=i.dragItem.visibleState,c=(n||[]).filter(function(v){return u[v.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(n,this.pinned,"uiColumnDragged"),this.onDragging(i,!0,!0)},p.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},p.prototype.setColumnsVisible=function(i,n,a){if(void 0===a&&(a="api"),i){var u=i.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(u,n,a)}},p.prototype.setColumnsPinned=function(i,n,a){if(void 0===a&&(a="api"),i){var u=i.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(u,n,a)}},p.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},p.prototype.normaliseX=function(i){return this.gridOptionsService.is("enableRtl")&&(i=this.eContainer.clientWidth-i),this.centerContainer&&(i+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),i},p.prototype.checkCenterForScrolling=function(i){if(this.centerContainer){var n=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),a=n+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=i<n+50,this.needToMoveLeft=i>a-50):(this.needToMoveLeft=i<n+50,this.needToMoveRight=i>a-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},p.prototype.onDragging=function(i,n,a,u){var v,c=this;if(void 0===i&&(i=this.lastDraggingEvent),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===u&&(u=!1),u){if(this.lastMovedInfo){var C=this.lastMovedInfo;this.moveColumns(C.columns,C.toIndex,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=i,!s(i.hDirection)){var F=this.normaliseX(i.x);n||this.checkCenterForScrolling(F);var $=this.normaliseDirection(i.hDirection),ne=i.dragSource.type,pe=(null===(v=i.dragSource.getDragItem().columns)||void 0===v?void 0:v.filter(function(me){return!me.getColDef().lockPinned||me.getPinned()==c.pinned}))||[];this.attemptMoveColumns({dragSourceType:ne,allMovingColumns:pe,hDirection:$,mouseX:F,fromEnter:n,fakeEvent:a})}},p.prototype.normaliseDirection=function(i){if(!this.gridOptionsService.is("enableRtl"))return i;switch(i){case Vi.Left:return Vi.Right;case Vi.Right:return Vi.Left;default:console.error("AG Grid: Unknown direction "+i)}},p.prototype.attemptMoveColumns=function(i){var n=i.dragSourceType,a=i.hDirection,u=i.mouseX,c=i.fromEnter,v=i.fakeEvent,C=a===Vi.Left,T=a===Vi.Right,M=i.allMovingColumns;if(n===yn.HeaderCell){var F=[];M.forEach(function(At){for(var Jt=null,fr=At.getParent();null!=fr&&1===fr.getDisplayedLeafColumns().length;)Jt=fr,fr=fr.getParent();null!=Jt?Jt.getLeafColumns().forEach(function(Jr){F.includes(Jr)||F.push(Jr)}):F.includes(At)||F.push(At)}),M=F}var $=M.slice();this.columnModel.sortColumnsLikeGridColumns($);var ne=this.calculateValidMoves($,T,u),pe=this.calculateOldIndex($);if(0!==ne.length){var me=ne[0],Te=null!==pe&&!c;if(n==yn.HeaderCell&&(Te=null!==pe),!Te||v||!(C&&me>=pe||T&&me<=pe)){for(var Ae=this.columnModel.getAllDisplayedColumns(),He=[],Ue=null,Ze=0;Ze<ne.length;Ze++){var st=ne[Ze],St=this.columnModel.getProposedColumnOrder($,st);if(this.columnModel.doesOrderPassRules(St)){var Ut=St.filter(function(At){return Ae.includes(At)});if(null===Ue)Ue=Ut;else if(!Wt.areEqual(Ut,Ue))break;var jt=this.groupFragCount(St);He.push({move:st,fragCount:jt})}}0!==He.length&&(He.sort(function(At,Jt){return At.fragCount-Jt.fragCount}),this.moveColumns(M,He[0].move,"uiColumnMoved",!1))}}},p.prototype.calculateOldIndex=function(i){var n=this.columnModel.getAllGridColumns(),a=oi(i.map(function(T){return n.indexOf(T)})),u=a[0];return wr(a)-u!=a.length-1?null:u},p.prototype.moveColumns=function(i,n,a,u){this.columnModel.moveColumns(i,n,a,u),this.lastMovedInfo=u?null:{columns:i,toIndex:n}},p.prototype.groupFragCount=function(i){function n(v){for(var C=[],T=v.getOriginalParent();null!=T;)C.push(T),T=T.getOriginalParent();return C}for(var a=0,u=function(v){var C,T=n(i[v]),M=n(i[v+1]);C=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c}(T.length>M.length?[T,M]:[M,T],2),M=C[1],(T=C[0]).forEach(function(F){-1===M.indexOf(F)&&a++})},c=0;c<i.length-1;c++)u(c);return a},p.prototype.calculateValidMoves=function(i,n,a){if(this.gridOptionsService.is("suppressMovableColumns")||i.some(function(jt){return jt.getColDef().suppressMovable}))return[];var Te,c=this.columnModel.getDisplayedColumns(this.pinned),v=this.columnModel.getAllGridColumns(),C=c.filter(function(jt){return qe(i,jt)}),T=c.filter(function(jt){return!qe(i,jt)}),M=v.filter(function(jt){return!qe(i,jt)}),F=0,$=a;if(n){var ne=0;C.forEach(function(jt){return ne+=jt.getActualWidth()}),$-=ne}if($>0){for(var pe=0;pe<T.length&&!(($-=T[pe].getActualWidth())<0);pe++)F++;n&&F++}F>0?Te=M.indexOf(T[F-1])+1:-1===(Te=M.indexOf(T[0]))&&(Te=0);var He=[Te],Ue=function(jt,At){return jt-At};if(n){for(var Ze=Te+1,st=v.length-1;Ze<=st;)He.push(Ze),Ze++;He.sort(Ue)}else{st=v.length-1;for(var St=v[Ze=Te];Ze<=st&&this.isColumnHidden(c,St);)Ze++,He.push(Ze),St=v[Ze];for(Ze=Te-1;Ze>=0;)He.push(Ze),Ze--;He.sort(Ue).reverse()}return He},p.prototype.isColumnHidden=function(i,n){return i.indexOf(n)<0},p.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?pi.ICON_LEFT:pi.ICON_RIGHT,!0))},p.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(pi.ICON_MOVE))},p.prototype.moveInterval=function(){var i;this.intervalCount++,(i=10+5*this.intervalCount)>100&&(i=100);var n=null,a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?n=a.scrollHorizontally(-i):this.needToMoveRight&&(n=a.scrollHorizontally(i)),0!==n)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(C){return!C.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(pi.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},Sl([ae("columnModel")],p.prototype,"columnModel",void 0),Sl([ae("dragAndDropService")],p.prototype,"dragAndDropService",void 0),Sl([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Sl([ae("ctrlsService")],p.prototype,"ctrlsService",void 0),Sl([Xe],p.prototype,"init",null),p}(),iy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Us=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Zc=function(p){function i(n,a){var u=p.call(this)||this;return u.pinned=n,u.eContainer=a,u}return iy(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){switch(n.pinned){case"left":n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.leftRowContainerCtrl.getContainerElement()],[a.bottomLeftRowContainerCtrl.getContainerElement()],[a.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.rightRowContainerCtrl.getContainerElement()],[a.bottomRightRowContainerCtrl.getContainerElement()],[a.topRightRowContainerCtrl.getContainerElement()]];break;default:n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.centerRowContainerCtrl.getViewportElement()],[a.bottomCenterRowContainerCtrl.getViewportElement()],[a.topCenterRowContainerCtrl.getViewportElement()]]}})},i.prototype.isInterestedIn=function(n){return n===yn.HeaderCell||n===yn.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Hs(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Ip(this.pinned)),this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.isDropColumnInPivotMode=function(n){return this.columnModel.isPivotMode()&&n.dragSource.type===yn.ToolPanel},i.prototype.onDragEnter=function(n){this.currentDropListener=this.isDropColumnInPivotMode(n)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(n)},i.prototype.onDragLeave=function(n){this.currentDropListener.onDragLeave(n)},i.prototype.onDragging=function(n){this.currentDropListener.onDragging(n)},i.prototype.onDragStop=function(n){this.currentDropListener.onDragStop(n)},Us([ae("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Us([ae("columnModel")],i.prototype,"columnModel",void 0),Us([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Us([Xe],i.prototype,"postConstruct",null),Us([Xe],i.prototype,"init",null),i}(nt),oy=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},Ol=function(){function p(){}return p.getHeaderClassesFromColDef=function(i,n,a,u){return s(i)?[]:this.getColumnClassesFromCollDef(i.headerClass,i,n,a,u)},p.getToolPanelClassesFromColDef=function(i,n,a,u){return s(i)?[]:this.getColumnClassesFromCollDef(i.toolPanelClass,i,n,a,u)},p.getClassParams=function(i,n,a,u){return{colDef:i,column:a,columnGroup:u,api:n.api,columnApi:n.columnApi,context:n.context}},p.getColumnClassesFromCollDef=function(i,n,a,u,c){return s(i)?[]:"string"==typeof(v="function"==typeof i?i(this.getClassParams(n,a,u,c)):i)?[v]:Array.isArray(v)?function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(oy(arguments[i]));return p}(v):[];var v},p}(),Ws=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Np=function(p){function i(n){var a=p.call(this,i.TEMPLATE,n)||this;return a.headerCompVersion=0,a.column=n.getColumnGroupChild(),a.pinned=n.getPinned(),a}return Ws(i,p),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),u=function(C,T,M){var F=M||a;null!=T&&""!=T?F.setAttribute(C,T):F.removeAttribute(C)};this.ctrl.setComp({setWidth:function(C){return a.style.width=C},addOrRemoveCssClass:function(C,T){return n.addOrRemoveCssClass(C,T)},setColId:function(C){return u("col-id",C)},setTitle:function(C){return u("title",C)},setAriaDescription:function(C){return vr(a,C)},setAriaSort:function(C){return C?Ra(a,C):ia(a)},setUserCompDetails:function(C){return n.setUserCompDetails(C)},getUserCompInstance:function(){return n.headerComp}},this.getGui(),this.eResize,this.eHeaderCompWrapper);var v=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",v)},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},i.prototype.setUserCompDetails=function(n){var a=this;this.headerCompVersion++;var u=this.headerCompVersion;n.newAgStackInstance().then(function(c){return a.afterCompCreated(u,c)})},i.prototype.afterCompCreated=function(n,a){n==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=a,this.headerCompGui=a.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(a)},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',wl([gt("eResize")],i.prototype,"eResize",void 0),wl([gt("eHeaderCompWrapper")],i.prototype,"eHeaderCompWrapper",void 0),wl([Xe],i.prototype,"postConstruct",null),wl([ct],i.prototype,"destroyHeaderComp",null),i}(hp),ay=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fp=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},rg=function(p){function i(n){return p.call(this,i.TEMPLATE,n)||this}return ay(i,p),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),u=function(v,C){return null!=C?a.setAttribute(v,C):a.removeAttribute(v)};this.ctrl.setComp({addOrRemoveCssClass:function(v,C){return n.addOrRemoveCssClass(v,C)},setResizableDisplayed:function(v){return Er(n.eResize,v)},setWidth:function(v){return a.style.width=v},setColId:function(v){return a.setAttribute("col-id",v)},setAriaExpanded:function(v){return u("aria-expanded",v)},setTitle:function(v){return u("title",v)},setUserCompDetails:function(v){return n.setUserCompDetails(v)}},a,this.eResize)},i.prototype.setUserCompDetails=function(n){var a=this;n.newAgStackInstance().then(function(u){return a.afterHeaderCompCreated(u)})},i.prototype.afterHeaderCompCreated=function(n){var a=this,u=function(){return a.destroyBean(n)};this.isAlive()?(this.getGui().appendChild(n.getGui()),this.addDestroyFunc(u),this.ctrl.setDragSource(n.getGui())):u()},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Fp([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Fp([gt("eResize")],i.prototype,"eResize",void 0),Fp([Xe],i.prototype,"postConstruct",null),i}(hp),Dl=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ng=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Fn=(()=>((Fn=Fn||{}).COLUMN_GROUP="group",Fn.COLUMN="column",Fn.FLOATING_FILTER="filter",Fn))(),sy=function(p){function i(n){var a=p.call(this)||this;a.headerComps={};var u=n.getType()==Fn.COLUMN_GROUP?"ag-header-row-column-group":n.getType()==Fn.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return a.setTemplate('<div class="ag-header-row '+u+'" role="row"></div>'),a.ctrl=n,a}return Dl(i,p),i.prototype.init=function(){var n=this;this.ctrl.setComp({setTransform:function(u){return n.getGui().style.transform=u},setHeight:function(u){return n.getGui().style.height=u},setTop:function(u){return n.getGui().style.top=u},setHeaderCtrls:function(u){return n.setHeaderCtrls(u)},setWidth:function(u){return n.getGui().style.width=u},setAriaRowIndex:function(u){return Vo(n.getGui(),u)}})},i.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},i.prototype.setHeaderCtrls=function(n){var a=this;if(this.isAlive()){var u=this.headerComps;this.headerComps={},n.forEach(function(M){var F=M.getInstanceId(),$=u[F];delete u[F],null==$&&($=a.createHeaderComp(M),a.getGui().appendChild($.getGui())),a.headerComps[F]=$}),B(u,function(M,F){a.getGui().removeChild(F.getGui()),a.destroyBean(F)});var c=this.gridOptionsService.is("ensureDomOrder"),v=this.gridOptionsService.isDomLayout("print");if(c||v){var C=ue(this.headerComps);C.sort(function(M,F){return M.getCtrl().getColumnGroupChild().getLeft()-F.getCtrl().getColumnGroupChild().getLeft()});var T=C.map(function(M){return M.getGui()});en(this.getGui(),T)}}},i.prototype.createHeaderComp=function(n){var a;switch(this.ctrl.getType()){case Fn.COLUMN_GROUP:a=new rg(n);break;case Fn.FLOATING_FILTER:a=new Oh(n);break;default:a=new Np(n)}return this.createBean(a),a.setParentComponent(this),a},ng([Xe],i.prototype,"init",null),ng([ct],i.prototype,"destroyHeaderCtrls",null),i}(lr),Gp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Jc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ly=0,xu=function(p){function i(n,a){var u=p.call(this)||this;return u.lastFocusEvent=null,u.columnGroupChild=n,u.parentRowCtrl=a,u.instanceId=n.getUniqueId()+"-"+ly++,u}return Gp(i,p),i.prototype.shouldStopEventPropagation=function(n){var a=this.focusService.getFocusedHeader();return bs(this.gridOptionsService,n,a.headerRowIndex,a.column)},i.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},i.prototype.setGui=function(n){this.eGui=n,this.addDomData()},i.prototype.handleKeyDown=function(n){var a=this.getWrapperHasFocus();switch(n.key){case Je.PAGE_DOWN:case Je.PAGE_UP:case Je.PAGE_HOME:case Je.PAGE_END:a&&n.preventDefault()}},i.prototype.addDomData=function(){var n=this,a=i.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,a,this),this.addDestroyFunc(function(){return n.gridOptionsService.setDomData(n.eGui,a,null)})},i.prototype.getGui=function(){return this.eGui},i.prototype.focus=function(n){return!!this.eGui&&(this.lastFocusEvent=n||null,this.eGui.focus(),!0)},i.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},i.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},i.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.getColumnGroupChild=function(){return this.columnGroupChild},i.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Jc([ae("focusService")],i.prototype,"focusService",void 0),Jc([ae("beans")],i.prototype,"beans",void 0),Jc([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(nt),Bp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ig=function(p){function i(n,a,u,c){var v=p.call(this)||this;return v.columnOrGroup=n,v.eCell=a,v.ariaEl=v.eCell.querySelector("[role=columnheader]")||v.eCell,v.colsSpanning=c,v.beans=u,v}return Bp(i,p),i.prototype.setColsSpanning=function(n){this.colsSpanning=n,this.onLeftChanged()},i.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?wr(this.colsSpanning):this.columnOrGroup},i.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Cr.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},i.prototype.setLeftFirstTime=function(){var n=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),a=o(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&a&&!n?this.animateInLeft():this.onLeftChanged()},i.prototype.animateInLeft=function(){var n=this,a=this.getColumnOrGroup(),u=a.getLeft(),c=a.getOldLeft(),v=this.modifyLeftForPrintLayout(a,c),C=this.modifyLeftForPrintLayout(a,u);this.setLeft(v),this.actualLeft=C,this.beans.columnAnimationService.executeNextVMTurn(function(){n.actualLeft===C&&n.setLeft(C)})},i.prototype.onLeftChanged=function(){var n=this.getColumnOrGroup(),a=n.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(n,a),this.setLeft(this.actualLeft)},i.prototype.modifyLeftForPrintLayout=function(n,a){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===n.getPinned())return a;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===n.getPinned()?c+this.beans.columnModel.getBodyContainerWidth()+a:c+a},i.prototype.setLeft=function(n){var a;if(o(n)&&(this.eCell.style.left=n+"px"),this.columnOrGroup instanceof Cr)a=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&Ti(this.ariaEl,c.length),a=c[0]}var v=this.beans.columnModel.getAriaColumnIndex(a);Ma(this.ariaEl,v)},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(nt),uy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),og=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ag=function(p){function i(n,a){var u=p.call(this)||this;return u.columns=n,u.element=a,u}return uy(i,p),i.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},i.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},i.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},og([ae("columnHoverService")],i.prototype,"columnHoverService",void 0),og([Xe],i.prototype,"postConstruct",null),i}(nt),tE=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},cy=function(p){function i(n,a){var u=p.call(this,n,a)||this;return u.column=n,u}return tE(i,p),i.prototype.setComp=function(n,a,u,c){p.prototype.setGui.call(this,a),this.comp=n,this.eButtonShowMainFilter=u,this.eFloatingFilterBody=c;var v=this.column.getColDef();this.active=!(!v.filter&&!v.filterFramework||!v.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.active&&this.addManagedListener(this.column,Cr.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this))},i.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var n=wn("filter",this.gridOptionsService,this.column);n&&this.eButtonShowMainFilter.appendChild(n)}},i.prototype.setupFocus=function(){this.createManagedBean(new dr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.onTabKeyDown=function(n){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var v=this.focusService.findNextFocusableElement(this.eGui,null,n.shiftKey);if(v)return this.beans.headerNavigationService.scrollToColumn(this.column),n.preventDefault(),void v.focus();var C=this.findNextColumnWithFloatingFilter(n.shiftKey);C&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:C},event:n})&&n.preventDefault()}},i.prototype.findNextColumnWithFloatingFilter=function(n){var a=this.beans.columnModel,u=this.column;do{if(!(u=n?a.getDisplayedColBefore(u):a.getDisplayedColAfter(u)))break}while(!u.getColDef().filter||!u.getColDef().floatingFilter);return u},i.prototype.handleKeyDown=function(n){p.prototype.handleKeyDown.call(this,n);var a=this.getWrapperHasFocus();switch(n.key){case Je.UP:case Je.DOWN:a||n.preventDefault();case Je.LEFT:case Je.RIGHT:if(a)return;n.stopPropagation();case Je.ENTER:a&&this.focusService.focusInto(this.eGui)&&n.preventDefault();break;case Je.ESCAPE:a||this.eGui.focus()}},i.prototype.onFocusIn=function(n){if(!this.eGui.contains(n.relatedTarget)){var u=!!n.relatedTarget&&!n.relatedTarget.classList.contains("ag-floating-filter"),c=!!n.relatedTarget&&So(n.relatedTarget,"ag-floating-filter");if(u&&c&&n.target===this.eGui){var v=this.lastFocusEvent;v&&v&&v.key===Je.TAB&&this.focusService.focusInto(this.eGui,v.shiftKey)}var M=this.getRowIndex();this.beans.focusService.setFocusedHeader(M,this.column)}},i.prototype.setupHover=function(){var n=this;this.createManagedBean(new ag([this.column],this.eGui));var a=function(){if(n.gridOptionsService.is("columnHoverHighlight")){var u=n.columnHoverService.isHovered(n.column);n.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,z.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupLeft=function(){var n=new ig(this.column,this.eGui,this.beans);this.createManagedBean(n)},i.prototype.setupUserComp=function(){var n=this;if(this.active){var a=this.column.getColDef();this.suppressFilterButton=!!a.floatingFilterComponentParams&&!!a.floatingFilterComponentParams.suppressFilterButton;var u=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return n.showParentFilter()});u&&this.comp.setCompDetails(u)}},i.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},i.prototype.setupSyncWithFilter=function(){var n=this;if(this.active){var a=function(u){var c=n.comp.getFloatingFilterComp();if(c){var v=n.filterManager.getCurrentFloatingFilterParentModel(n.column);c.then(function(C){C&&C.onParentModelChanged(v,u)})}};this.addManagedListener(this.column,Cr.EVENT_FILTER_CHANGED,a),this.filterManager.isFilterActive(this.column)&&a(null)}},i.prototype.setupWidth=function(){var n=this,a=function(){var u=n.column.getActualWidth()+"px";n.comp.setWidth(u)};this.addManagedListener(this.column,Cr.EVENT_WIDTH_CHANGED,a),a()},i.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},Pl([ae("filterManager")],i.prototype,"filterManager",void 0),Pl([ae("columnHoverService")],i.prototype,"columnHoverService",void 0),Pl([ae("menuFactory")],i.prototype,"menuFactory",void 0),i}(xu),kp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Iu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Lu=function(p){function i(n,a,u,c,v){var C=p.call(this)||this;return C.pinned=n,C.column=a,C.eResize=u,C.comp=c,C.ctrl=v,C}return kp(i,p),i.prototype.postConstruct=function(){var c,v,n=this,a=this.column.getColDef(),u=[],T=function(){u.forEach(function(F){return F()}),u.length=0},M=function(){var F=n.column.isResizable(),$=!n.gridOptionsService.is("suppressAutoSize")&&!a.suppressAutoSize;(F!==c||$!==v)&&(c=F,v=$,T(),function(){if(Er(n.eResize,c),c){var F=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(u.push(F),v){var $=n.gridOptionsService.is("skipHeaderOnAutoSize"),ne=function(){n.columnModel.autoSizeColumn(n.column,$,"uiColumnResized")};n.eResize.addEventListener("dblclick",ne);var pe=new di(n.eResize);pe.addEventListener(di.EVENT_DOUBLE_TAP,ne),n.addDestroyFunc(function(){n.eResize.removeEventListener("dblclick",ne),pe.removeEventListener(di.EVENT_DOUBLE_TAP,ne),pe.destroy()})}}}())};M(),this.addDestroyFunc(T),this.ctrl.addRefreshFunction(M)},i.prototype.onResizing=function(n,a){var u=this.normaliseResizeAmount(a);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+u}],this.resizeWithShiftKey,n,"uiColumnResized"),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.onResizeStart=function(n){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=n,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.normaliseResizeAmount=function(n){var a=n,u="left"!==this.pinned,c="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?u&&(a*=-1):c&&(a*=-1),a},Iu([ae("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),Iu([ae("columnModel")],i.prototype,"columnModel",void 0),Iu([Xe],i.prototype,"postConstruct",null),i}(nt),Vp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Nu=function(p){function i(n){var a=p.call(this)||this;a.cbSelectAllVisible=!1,a.processingEventFromCheckbox=!1,a.column=n;var u=n.getColDef();return a.filteredOnly=!!u?.headerCheckboxSelectionFilteredOnly,a.currentPageOnly=!!u?.headerCheckboxSelectionCurrentPageOnly,a}return Vp(i,p),i.prototype.onSpaceKeyPressed=function(n){var a=this.cbSelectAll,u=this.gridOptionsService.getDocument();a.isDisplayed()&&!a.getGui().contains(u.activeElement)&&(n.preventDefault(),a.setValue(!a.getValue()))},i.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},i.prototype.setComp=function(n){this.headerCellCtrl=n,this.cbSelectAll=this.createManagedBean(new cl),this.cbSelectAll.addCssClass("ag-header-select-all"),Br(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,z.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,z.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,cl.EVENT_CHANGED,this.onCbSelectAll.bind(this)),no(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},i.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},i.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},i.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},i.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var n=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},i.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var n=this.localeService.getLocaleTextFunc(),u=this.cbSelectAll.getValue()?n("ariaChecked","checked"):n("ariaUnchecked","unchecked"),c=n("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",c+" ("+u+")"),this.cbSelectAll.setInputAriaLabel(c+" ("+u+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},i.prototype.checkRightRowModelType=function(n){var a=this.rowModel.getType();return!("clientSide"!==a&&"serverSide"!==a&&(console.warn("AG Grid: "+n+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+a+"."),1))},i.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var n=this.cbSelectAll.getValue(),a="uiSelectAll";this.currentPageOnly?a="uiSelectAllCurrentPage":this.filteredOnly&&(a="uiSelectAllFiltered");var u={source:a,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};n?this.selectionService.selectAllRowNodes(u):this.selectionService.deselectAllRowNodes(u)}},i.prototype.isCheckboxSelection=function(){var n=this.column.getColDef().headerCheckboxSelection;return"function"==typeof n&&(n=n({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!n&&this.checkRightRowModelType("headerCheckboxSelection")},bl([ae("gridApi")],i.prototype,"gridApi",void 0),bl([ae("columnApi")],i.prototype,"columnApi",void 0),bl([ae("rowModel")],i.prototype,"rowModel",void 0),bl([ae("selectionService")],i.prototype,"selectionService",void 0),i}(nt),Qc=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uo=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},sg=function(p){function i(n,a){var u=p.call(this,n,a)||this;return u.refreshFunctions=[],u.userHeaderClasses=new Set,u.ariaDescriptionProperties=new Map,u.column=n,u}return Qc(i,p),i.prototype.setComp=function(n,a,u,c){var v=this;p.prototype.setGui.call(this,a),this.comp=n,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(c),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Lu(this.getPinned(),this.column,u,n,this)),this.createManagedBean(new ag([this.column],a)),this.createManagedBean(new ig(this.column,a,this.beans)),this.createManagedBean(new dr(a,{shouldStopEventPropagation:function(C){return v.shouldStopEventPropagation(C)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,Cr.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},i.prototype.setupUserComp=function(){var n=this.lookupUserCompDetails();this.setCompDetails(n)},i.prototype.setCompDetails=function(n){this.userCompDetails=n,this.comp.setUserCompDetails(n)},i.prototype.lookupUserCompDetails=function(){var n=this.createParams(),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,n)},i.prototype.createParams=function(){var n=this,a=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:a.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){n.gridApi.showColumnMenuAfterButtonClick(n.column,c)},progressSort:function(c){n.sortController.progressSort(n.column,!!c,"uiColumnSorted")},setSort:function(c,v){n.sortController.setSortForColumn(n.column,c,!!v,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},i.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Nu(this.column)),this.selectAllFeature.setComp(this)},i.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},i.prototype.handleKeyDown=function(n){p.prototype.handleKeyDown.call(this,n),n.key===Je.SPACE&&this.selectAllFeature.onSpaceKeyPressed(n),n.key===Je.ENTER&&this.onEnterKeyPressed(n)},i.prototype.onEnterKeyPressed=function(n){var a=this.comp.getUserCompInstance();a&&(n.ctrlKey||n.metaKey?this.menuEnabled&&a.showMenu&&(n.preventDefault(),a.showMenu()):this.sortable&&this.sortController.progressSort(this.column,n.shiftKey,"uiColumnSorted"))},i.prototype.isMenuEnabled=function(){return this.menuEnabled},i.prototype.onFocusIn=function(n){if(!this.getGui().contains(n.relatedTarget)){var a=this.getRowIndex();this.focusService.setFocusedHeader(a,this.column)}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(n){this.getGui().contains(n.relatedTarget)||this.setActiveHeader(!1)},i.prototype.setupTooltip=function(){var n=this,u=this.createManagedBean(new Sp({getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getGui:function(){return n.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return n.column.getColDef().headerTooltip}},this.beans));u.setComp(this.comp),this.refreshFunctions.push(function(){return u.refreshToolTip()})},i.prototype.setupClassesFromColDef=function(){var n=this,a=function(){var u=n.column.getColDef(),c=Ol.getHeaderClassesFromColDef(u,n.gridOptionsService,n.column,null),v=n.userHeaderClasses;n.userHeaderClasses=new Set(c),c.forEach(function(C){v.has(C)?v.delete(C):n.comp.addOrRemoveCssClass(C,!0)}),v.forEach(function(C){return n.comp.addOrRemoveCssClass(C,!1)})};this.refreshFunctions.push(a),a()},i.prototype.setDragSource=function(n){var a=this;if(this.dragSourceElement=n,this.removeDragSource(),n&&this.draggable){var u=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:yn.HeaderCell,eElement:n,defaultIconName:u?pi.ICON_HIDE:pi.ICON_NOT_ALLOWED,getDragItem:function(){return a.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return a.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return a.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(c){var v;if(u){var C=(null===(v=c?.columns)||void 0===v?void 0:v.filter(function(T){return!T.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(C,!0,"uiColumnMoved")}},onGridExit:function(c){var v;if(u){var C=(null===(v=c?.columns)||void 0===v?void 0:v.filter(function(T){return!T.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(C,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},i.prototype.createDragItem=function(){var n={};return n[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:n}},i.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.onColDefChanged=function(){this.refresh()},i.prototype.updateState=function(){var n=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!n.suppressMenu,this.sortable=n.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.addRefreshFunction=function(n){this.refreshFunctions.push(n)},i.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(n){return n()})},i.prototype.refreshHeaderComp=function(){var n=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==n.componentClass&&this.attemptHeaderCompRefresh(n.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(n)},i.prototype.attemptHeaderCompRefresh=function(n){var a=this.comp.getUserCompInstance();return!(!a||!a.refresh)&&a.refresh(n)},i.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.workOutDraggable=function(){var n=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||n.suppressMovable||n.lockPosition)||!!n.enableRowGroup||!!n.enablePivot},i.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},i.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},i.prototype.onColumnValueChanged=function(){this.checkDisplayName()},i.prototype.setupWidth=function(){var n=this,a=function(){var u=n.column.getActualWidth();n.comp.setWidth(u+"px")};this.addManagedListener(this.column,Cr.EVENT_WIDTH_CHANGED,a),a()},i.prototype.setupMovingCss=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-moving",n.column.isMoving())};this.addManagedListener(this.column,Cr.EVENT_MOVING_CHANGED,a),a()},i.prototype.setupMenuClass=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-column-menu-visible",n.column.isMenuVisible())};this.addManagedListener(this.column,Cr.EVENT_MENU_VISIBLE_CHANGED,a),a()},i.prototype.setupSortableClass=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!n.sortable)};a(),this.addRefreshFunction(a),this.addManagedListener(this.eventService,Cr.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},i.prototype.setupWrapTextClass=function(){var n=this,a=function(){var u=!!n.column.getColDef().wrapHeaderText;n.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",u)};a(),this.addRefreshFunction(a)},i.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},i.prototype.refreshSpanHeaderHeight=function(){var n=this,a=n.eGui,c=n.comp,v=n.columnModel,C=n.gridOptionsService;if(n.column.isSpanHeaderHeight()){var T=this.getColumnGroupPaddingInfo(),M=T.numberOfParents,F=T.isSpanningTotal;if(c.addOrRemoveCssClass("ag-header-span-height",M>0),0!==M){c.addOrRemoveCssClass("ag-header-span-total",F);var ne=C.is("pivotMode")?v.getPivotGroupHeaderHeight():v.getGroupHeaderHeight(),pe=v.getColumnHeaderRowHeight(),me=M*ne;a.style.setProperty("top",-me+"px"),a.style.setProperty("height",pe+me+"px")}}},i.prototype.getColumnGroupPaddingInfo=function(){var n=this.column.getParent();if(!n||!n.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var a=n.getPaddingLevel()+1,u=!0;n;){if(!n.isPadding()){u=!1;break}n=n.getParent()}return{numberOfParents:a,isSpanningTotal:u}},i.prototype.setupAutoHeight=function(n){var v,a=this,u=function(F){if(a.isAlive()){var $=Oo(a.getGui()),Ue=n.offsetHeight+($.paddingTop+$.paddingBottom+$.borderBottomWidth+$.borderTopWidth);if(F<5){var Ze=a.beans.gridOptionsService.getDocument();if(!Ze||!Ze.contains(n)||0==Ue)return void a.beans.frameworkOverrides.setTimeout(function(){return u(F+1)},0)}a.columnModel.setColumnHeaderHeight(a.column,Ue)}},c=!1,C=function(){var F=a.column.isSpanHeaderHeight(),$=a.column.isAutoHeaderHeight();F?(M(),$&&_e(function(){return console.warn("AG Grid: The properties `spanHeaderHeight` and `autoHeaderHeight` cannot be used together in the same column.")},"HeaderCellCtrl.spanHeaderHeightAndAutoHeaderHeight")):($&&!c&&T(),!$&&c&&M())},T=function(){c=!0,u(0),a.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),v=a.resizeObserverService.observeResize(n,function(){return u(0)})},M=function(){c=!1,v&&v(),a.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),v=void 0};C(),this.addDestroyFunc(function(){return M()}),this.addManagedListener(this.column,Cr.EVENT_WIDTH_CHANGED,function(){return c&&u(0)}),this.addManagedListener(this.eventService,Cr.EVENT_SORT_CHANGED,function(){c&&a.beans.frameworkOverrides.setTimeout(function(){return u(0)})}),this.addRefreshFunction(C)},i.prototype.refreshAriaSort=function(){if(this.sortable){var n=this.localeService.getLocaleTextFunc(),a=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(ro(a)),this.setAriaDescriptionProperty("sort",n("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},i.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var n=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",n("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},i.prototype.setAriaDescriptionProperty=function(n,a){null!=a?this.ariaDescriptionProperties.set(n,a):this.ariaDescriptionProperties.delete(n)},i.prototype.refreshAriaDescription=function(){var n=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(n.length?n.join(" "):void 0)},i.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},i.prototype.addColumnHoverListener=function(){var n=this,a=function(){if(n.gridOptionsService.is("columnHoverHighlight")){var u=n.columnHoverService.isHovered(n.column);n.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,z.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupFilterCss=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-filtered",n.column.isFilterActive())};this.addManagedListener(this.column,Cr.EVENT_FILTER_ACTIVE_CHANGED,a),a()},i.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},i.prototype.addActiveHeaderMouseListeners=function(){var n=this,a=function(u){return n.setActiveHeader("mouseenter"===u.type)};this.addManagedListener(this.getGui(),"mouseenter",a),this.addManagedListener(this.getGui(),"mouseleave",a)},i.prototype.setActiveHeader=function(n){this.comp.addOrRemoveCssClass("ag-header-active",n)},uo([ae("columnModel")],i.prototype,"columnModel",void 0),uo([ae("columnHoverService")],i.prototype,"columnHoverService",void 0),uo([ae("sortController")],i.prototype,"sortController",void 0),uo([ae("menuFactory")],i.prototype,"menuFactory",void 0),uo([ae("dragAndDropService")],i.prototype,"dragAndDropService",void 0),uo([ae("resizeObserverService")],i.prototype,"resizeObserverService",void 0),uo([ae("gridApi")],i.prototype,"gridApi",void 0),uo([ae("columnApi")],i.prototype,"columnApi",void 0),uo([ct],i.prototype,"removeDragSource",null),i}(xu),Hp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$s=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},rE=function(p){function i(n,a,u,c){var v=p.call(this)||this;return v.eResize=a,v.comp=n,v.pinned=u,v.columnGroup=c,v}return Hp(i,p),i.prototype.postConstruct=function(){var n=this;if(this.columnGroup.isResizable()){var a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(a),!this.gridOptionsService.is("suppressAutoSize")){var u=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var c=[];n.columnGroup.getDisplayedLeafColumns().forEach(function(C){C.getColDef().suppressAutoSize||c.push(C.getColId())}),c.length>0&&n.columnModel.autoSizeColumns({columns:c,skipHeader:u,stopAtGroup:n.columnGroup,source:"uiColumnResized"}),n.resizeLeafColumnsToFit("uiColumnResized")})}}else this.comp.setResizableDisplayed(!1)},i.prototype.onResizeStart=function(n){var a=this;this.calculateInitialValues();var u=null;if(n&&(u=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),u){var c=u.getDisplayedLeafColumns();this.resizeTakeFromCols=c.filter(function(v){return v.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(v){return a.resizeTakeFromStartWidth+=v.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(v){return a.resizeTakeFromRatios.push(v.getActualWidth()/a.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.onResizing=function(n,a,u){void 0===u&&(u="uiColumnResized");var c=this.normaliseDragChange(a);this.resizeColumns(this.resizeStartWidth+c,u,n)},i.prototype.resizeLeafColumnsToFit=function(n){var a=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),a>this.resizeStartWidth&&this.resizeColumns(a,n,!0)},i.prototype.resizeColumns=function(n,a,u){void 0===u&&(u=!0);var c=[];c.push({columns:this.resizeCols,ratios:this.resizeRatios,width:n}),this.resizeTakeFromCols&&c.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(n-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:c,finished:u,source:a}),u&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.calculateInitialValues=function(){var n=this,a=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=a.filter(function(u){return u.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(u){return n.resizeStartWidth+=u.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(u){return n.resizeRatios.push(u.getActualWidth()/n.resizeStartWidth)})},i.prototype.normaliseDragChange=function(n){var a=n;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(a*=-1):"right"===this.pinned&&(a*=-1),a},$s([ae("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),$s([ae("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),$s([ae("columnModel")],i.prototype,"columnModel",void 0),$s([Xe],i.prototype,"postConstruct",null),i}(nt),Up=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lg=function(p){function i(n,a){var u=p.call(this)||this;return u.removeChildListenersFuncs=[],u.columnGroup=a,u.comp=n,u}return Up(i,p),i.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Sn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.addListenersToChildrenColumns=function(){var n=this;this.removeListenersOnChildrenColumns();var a=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(u){u.addEventListener("widthChanged",a),u.addEventListener("visibleChanged",a),n.removeChildListenersFuncs.push(function(){u.removeEventListener("widthChanged",a),u.removeEventListener("visibleChanged",a)})})},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(n){return n()}),this.removeChildListenersFuncs=[]},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.onWidthChanged=function(){var n=this.columnGroup.getActualWidth();this.comp.setWidth(n+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===n)},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(nt),dy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ed=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ug=function(p){function i(n,a){var u=p.call(this,n,a)||this;return u.columnGroup=n,u}return dy(i,p),i.prototype.setComp=function(n,a,u){p.prototype.setGui.call(this,a),this.comp=n,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),v=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new ag(v,a)),this.createManagedBean(new ig(this.columnGroup,a,this.beans)),this.createManagedBean(new lg(n,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new rE(n,u,c,this.columnGroup)),this.createManagedBean(new dr(a,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.resizeLeafColumnsToFit=function(n){var a,u;null===(a=this.groupResizeFeature)||void 0===a||a.onResizeStart(!1),null===(u=this.groupResizeFeature)||void 0===u||u.resizeLeafColumnsToFit(n)},i.prototype.setupUserComp=function(){var n=this,a=this.displayName,u={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(M){n.columnModel.setColumnGroupOpened(n.columnGroup.getProvidedColumnGroup(),M,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!a){for(var c=this.columnGroup,v=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===v.length;)c=c.getParent();var C=c.getColGroupDef();C&&(a=C.headerName),a||(a=v?this.columnModel.getDisplayNameForColumn(v[0],"header",!0):"")}var T=this.userComponentFactory.getHeaderGroupCompDetails(u);this.comp.setUserCompDetails(T)},i.prototype.setupTooltip=function(){var n=this,a=this.columnGroup.getColGroupDef(),u={getColumn:function(){return n.columnGroup},getGui:function(){return n.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return a&&a.headerTooltip}};a&&(u.getColDef=function(){return a}),this.createManagedBean(new Sp(u,this.beans)).setComp(this.comp)},i.prototype.setupExpandable=function(){var n=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(n,Bt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(n,Bt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var n=this.columnGroup;this.expandable=n.isExpandable();var a=n.isExpanded();this.comp.setAriaExpanded(this.expandable?a?"true":"false":void 0)},i.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},i.prototype.addClasses=function(){var n=this,a=this.columnGroup.getColGroupDef(),u=Ol.getHeaderClassesFromColDef(a,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(u.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(function(v){return v.isSpanHeaderHeight()})&&u.push("ag-header-span-height")):u.push("ag-header-group-cell-with-group"),u.forEach(function(v){return n.comp.addOrRemoveCssClass(v,!0)})},i.prototype.setupMovingCss=function(){var n=this,u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=function(){return n.comp.addOrRemoveCssClass("ag-header-cell-moving",n.columnGroup.isMoving())};u.forEach(function(v){n.addManagedListener(v,Cr.EVENT_MOVING_CHANGED,c)}),c()},i.prototype.onFocusIn=function(n){if(!this.eGui.contains(n.relatedTarget)){var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.columnGroup)}},i.prototype.handleKeyDown=function(n){p.prototype.handleKeyDown.call(this,n);var a=this.getWrapperHasFocus();if(this.expandable&&a&&n.key===Je.ENTER){var u=this.columnGroup,c=!u.isExpanded();this.columnModel.setColumnGroupOpened(u.getProvidedColumnGroup(),c,"uiColumnExpanded")}},i.prototype.setDragSource=function(n){var a=this;if(!this.isSuppressMoving()){var u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),v={type:yn.HeaderCell,eElement:n,defaultIconName:c?pi.ICON_HIDE:pi.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return u.forEach(function(C){return C.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return u.forEach(function(C){return C.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(C){var T;if(c){var M=(null===(T=C?.columns)||void 0===T?void 0:T.filter(function(F){return!F.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(M,!0,"uiColumnMoved")}},onGridExit:function(C){var T;if(c){var M=(null===(T=C?.columns)||void 0===T?void 0:T.filter(function(F){return!F.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(M,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(v,!0),this.addDestroyFunc(function(){return a.dragAndDropService.removeDragSource(v)})}},i.prototype.getDragItemForGroup=function(){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),a={};n.forEach(function(c){return a[c.getId()]=c.isVisible()});var u=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){n.indexOf(c)>=0&&(u.push(c),Kr(n,c))}),n.forEach(function(c){return u.push(c)}),{columns:u,visibleState:a}},i.prototype.isSuppressMoving=function(){var n=!1;return this.columnGroup.getLeafColumns().forEach(function(u){(u.getColDef().suppressMovable||u.getColDef().lockPosition)&&(n=!0)}),n||this.gridOptionsService.is("suppressMovableColumns")},ed([ae("columnModel")],i.prototype,"columnModel",void 0),ed([ae("dragAndDropService")],i.prototype,"dragAndDropService",void 0),ed([ae("gridApi")],i.prototype,"gridApi",void 0),ed([ae("columnApi")],i.prototype,"columnApi",void 0),i}(xu),cg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),dg=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},py=0,pg=function(p){function i(n,a,u){var c=p.call(this)||this;return c.instanceId=py++,c.headerCellCtrls={},c.rowIndex=n,c.pinned=a,c.type=u,c}return cg(i,p),i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(n){this.comp=n,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),X()&&this.comp.setTransform("translateZ(0)"),n.setAriaRowIndex(this.rowIndex+1)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,z.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},i.prototype.getHeaderCellCtrl=function(n){return R(this.headerCellCtrls).find(function(a){return a.getColumnGroupChild()===n})},i.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},i.prototype.getType=function(){return this.type},i.prototype.onColumnResized=function(){this.setWidth()},i.prototype.setWidth=function(){var n=this.getWidthForRow();this.comp.setWidth(n+"px")},i.prototype.getWidthForRow=function(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},i.prototype.onRowHeightChanged=function(){var n=this.columnModel.getHeaderRowCount(),a=[],u=0;this.columnModel.hasFloatingFilters()&&(n++,u=1);for(var c=this.columnModel.getColumnGroupHeaderRowHeight(),v=this.columnModel.getColumnHeaderRowHeight(),T=n-(1+u),M=0;M<T;M++)a.push(c);for(a.push(v),M=0;M<u;M++)a.push(this.columnModel.getFloatingFiltersHeight());var F=0;for(M=0;M<this.rowIndex;M++)F+=a[M];var $=a[this.rowIndex]+"px";this.comp.setTop(F+"px"),this.comp.setHeight($)},i.prototype.getPinned=function(){return this.pinned},i.prototype.getRowIndex=function(){return this.rowIndex},i.prototype.onVirtualColumnsChanged=function(){var n=this,a=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(C){if(!C.isEmptyGroup()){var T=C.getUniqueId(),M=a[T];if(delete a[T],M&&M.getColumnGroupChild()!=C&&(n.destroyBean(M),M=void 0),null==M)switch(n.type){case Fn.FLOATING_FILTER:M=n.createBean(new cy(C,n));break;case Fn.COLUMN_GROUP:M=n.createBean(new ug(C,n));break;default:M=n.createBean(new sg(C,n))}n.headerCellCtrls[T]=M}}),B(a,function(C,T){var M=function(C){return!!n.focusService.isHeaderWrapperFocused(C)&&n.columnModel.isDisplayed(C.getColumnGroupChild())}(T);M?n.headerCellCtrls[C]=T:n.destroyBean(T)});var v=ue(this.headerCellCtrls);this.comp.setHeaderCtrls(v)},i.prototype.getColumnsInViewport=function(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},i.prototype.getColumnsInViewportPrintLayout=function(){var n=this;if(null!=this.pinned)return[];var a=[],u=this.getActualDepth();return["left",null,"right"].forEach(function(c){var v=n.columnModel.getVirtualHeaderGroupRow(c,u);a=a.concat(v)}),a},i.prototype.getActualDepth=function(){return this.type==Fn.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},i.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},i.prototype.focusHeader=function(n,a){var c=ue(this.headerCellCtrls).find(function(v){return v.getColumnGroupChild()==n});return!!c&&(c.focus(a),!0)},i.prototype.destroy=function(){var n=this;B(this.headerCellCtrls,function(a,u){n.destroyBean(u)}),this.headerCellCtrls={},p.prototype.destroy.call(this)},dg([ae("columnModel")],i.prototype,"columnModel",void 0),dg([ae("focusService")],i.prototype,"focusService",void 0),i}(nt),fy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),js=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},$p=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},fg=function(p){function i(n){var a=p.call(this)||this;return a.hidden=!1,a.groupsRowCtrls=[],a.pinned=n,a}return fy(i,p),i.prototype.setComp=function(n,a){this.comp=n,this.eViewport=a,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,z.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},i.prototype.setupDragAndDrop=function(n){var a=new Zc(this.pinned,n);this.createManagedBean(a)},i.prototype.refresh=function(n){var a=this;void 0===n&&(n=!1);var F,$,u=new Ja,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var F=a.columnModel.getHeaderRowCount()-1;a.groupsRowCtrls=a.destroyBeans(a.groupsRowCtrls);for(var $=0;$<F;$++){var ne=a.createBean(new pg(u.next(),a.pinned,Fn.COLUMN_GROUP));a.groupsRowCtrls.push(ne)}})(),F=u.next(),(($=!(a.hidden||null!=a.columnsRowCtrl&&n&&a.columnsRowCtrl.getRowIndex()===F))||a.hidden)&&(a.columnsRowCtrl=a.destroyBean(a.columnsRowCtrl)),$&&(a.columnsRowCtrl=a.createBean(new pg(F,a.pinned,Fn.COLUMN))),function(){var $=function(){a.filtersRowCtrl=a.destroyBean(a.filtersRowCtrl)};if(a.columnModel.hasFloatingFilters()&&!a.hidden){var ne=u.next();if(a.filtersRowCtrl){var pe=a.filtersRowCtrl.getRowIndex()!==ne;(!n||pe)&&$()}a.filtersRowCtrl||(a.filtersRowCtrl=a.createBean(new pg(ne,a.pinned,Fn.FLOATING_FILTER)))}else $()}();var M=this.getAllCtrls();this.comp.setCtrls(M),this.restoreFocusOnHeader(c)},i.prototype.restoreFocusOnHeader=function(n){null==n||n.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:n})},i.prototype.getAllCtrls=function(){var n=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat($p(arguments[i]));return p}(this.groupsRowCtrls);return this.columnsRowCtrl&&n.push(this.columnsRowCtrl),this.filtersRowCtrl&&n.push(this.filtersRowCtrl),n},i.prototype.onGridColumnsChanged=function(){this.refresh(!0)},i.prototype.setupCenterWidth=function(){var n=this;null==this.pinned&&this.createManagedBean(new Mu(function(a){return n.comp.setCenterWidth(a+"px")},!0))},i.prototype.setHorizontalScroll=function(n){this.comp.setViewportScrollLeft(n)},i.prototype.setupPinnedWidth=function(){var n=this;if(null!=this.pinned){var a="left"===this.pinned,u="right"===this.pinned;this.hidden=!0;var c=function(){var v=a?n.pinnedWidthService.getPinnedLeftWidth():n.pinnedWidthService.getPinnedRightWidth();if(null!=v){var C=0==v,T=n.hidden!==C,M=n.gridOptionsService.is("enableRtl"),F=n.gridOptionsService.getScrollbarWidth(),$=n.scrollVisibleService.isVerticalScrollShowing()&&(M&&a||!M&&u);n.comp.setPinnedContainerWidth(($?v+F:v)+"px"),n.comp.setDisplayed(!C),T&&(n.hidden=C,n.refresh())}};this.addManagedListener(this.eventService,z.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,z.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,z.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,z.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},i.prototype.getHeaderCtrlForColumn=function(n){if(n instanceof Cr)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(n):void 0;if(0!==this.groupsRowCtrls.length)for(var a=0;a<this.groupsRowCtrls.length;a++){var u=this.groupsRowCtrls[a].getHeaderCellCtrl(n);if(u)return u}},i.prototype.getHtmlElementForColumnHeader=function(n){var a=this.getHeaderCtrlForColumn(n);return a?a.getGui():null},i.prototype.getRowType=function(n){var u=this.getAllCtrls()[n];return u?u.getType():void 0},i.prototype.focusHeader=function(n,a,u){var v=this.getAllCtrls()[n];return!!v&&v.focusHeader(a,u)},i.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},i.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),p.prototype.destroy.call(this)},js([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),js([ae("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),js([ae("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),js([ae("columnModel")],i.prototype,"columnModel",void 0),js([ae("focusService")],i.prototype,"focusService",void 0),i}(nt),jp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Tl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Kp=function(p){function i(n){var a=p.call(this)||this;return a.headerRowComps={},a.rowCompsList=[],a.pinned=n,a}return jp(i,p),i.prototype.init=function(){var n=this;this.selectAndSetTemplate();var a={setDisplayed:function(c){return n.setDisplayed(c)},setCtrls:function(c){return n.setCtrls(c)},setCenterWidth:function(c){return n.eCenterContainer.style.width=c},setViewportScrollLeft:function(c){return n.getGui().scrollLeft=c},setPinnedContainerWidth:function(c){var v=n.getGui();v.style.width=c,v.style.maxWidth=c,v.style.minWidth=c}};this.createManagedBean(new fg(this.pinned)).setComp(a,this.getGui())},i.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?i.PINNED_LEFT_TEMPLATE:"right"==this.pinned?i.PINNED_RIGHT_TEMPLATE:i.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},i.prototype.destroyRowComps=function(){this.setCtrls([])},i.prototype.destroyRowComp=function(n){this.destroyBean(n),this.eRowContainer.removeChild(n.getGui())},i.prototype.setCtrls=function(n){var c,a=this,u=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],n.forEach(function(C){var T=C.getInstanceId(),M=u[T];delete u[T];var F=M||a.createBean(new sy(C));a.headerRowComps[T]=F,a.rowCompsList.push(F),function(C){var T=C.getGui();T.parentElement!=a.eRowContainer&&a.eRowContainer.appendChild(T),c&&Wn(a.eRowContainer,T,c),c=T}(F)}),ue(u).forEach(function(C){return a.destroyRowComp(C)})},i.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',i.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',i.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Tl([gt("eCenterContainer")],i.prototype,"eCenterContainer",void 0),Tl([Xe],i.prototype,"init",null),Tl([ct],i.prototype,"destroyRowComps",null),i}(lr),hg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},zn=(()=>((zn=zn||{})[zn.UP=0]="UP",zn[zn.DOWN=1]="DOWN",zn[zn.LEFT=2]="LEFT",zn[zn.RIGHT=3]="RIGHT",zn))(),nE=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return hg(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridBodyCon=a.gridBodyCtrl})},i.prototype.getHeaderRowCount=function(){var n=this.ctrlsService.getHeaderRowContainerCtrl();return n?n.getRowCount():0},i.prototype.navigateVertically=function(n,a,u){if(a||(a=this.focusService.getFocusedHeader()),!a)return!1;var c=a.headerRowIndex,v=a.column,C=this.getHeaderRowCount(),M=n===zn.UP?this.headerPositionUtils.getColumnVisibleParent(v,c):this.headerPositionUtils.getColumnVisibleChild(v,c),F=M.nextRow,$=M.nextFocusColumn,ne=!1;return F<0&&(F=0,$=v,ne=!0),F>=C&&(F=-1),!(!ne&&!$)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:F,column:$},allowUserOverride:!0,event:u})},i.prototype.navigateHorizontally=function(n,a,u){void 0===a&&(a=!1);var T,M,c=this.focusService.getFocusedHeader();return(T=n===zn.LEFT!==this.gridOptionsService.is("enableRtl")?this.headerPositionUtils.findHeader(c,M="Before"):this.headerPositionUtils.findHeader(c,M="After"))||!a?this.focusService.focusHeaderPosition({headerPosition:T,direction:M,fromTab:a,allowUserOverride:!0,event:u}):this.focusNextHeaderRow(c,M,u)},i.prototype.focusNextHeaderRow=function(n,a,u){var c=n.headerRowIndex,v=null;return"Before"===a?c>0&&(v=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):v=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:v,direction:a,fromTab:!0,allowUserOverride:!0,event:u})},i.prototype.scrollToColumn=function(n,a){if(void 0===a&&(a="After"),!n.getPinned()){var u;if(n instanceof Sn){var c=n.getDisplayedLeafColumns();u="Before"===a?wr(c):c[0]}else u=n;this.gridBodyCon.getScrollFeature().ensureColumnVisible(u)}},Fu([ae("focusService")],i.prototype,"focusService",void 0),Fu([ae("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),Fu([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Fu([Xe],i.prototype,"postConstruct",null),Fu([lt("headerNavigationService")],i)}(nt),gy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ls=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},vy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return gy(i,p),i.prototype.setComp=function(n,a,u){this.comp=n,this.eGui=a,this.createManagedBean(new dr(u,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},i.prototype.setupHeaderHeight=function(){var n=this.setHeaderHeight.bind(this);n(),this.addManagedPropertyListener("headerHeight",n),this.addManagedPropertyListener("pivotHeaderHeight",n),this.addManagedPropertyListener("groupHeaderHeight",n),this.addManagedPropertyListener("pivotGroupHeaderHeight",n),this.addManagedPropertyListener("floatingFiltersHeight",n),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_GRID_STYLES_CHANGED,n)},i.prototype.getHeaderHeight=function(){return this.headerHeight},i.prototype.setHeaderHeight=function(){var c,n=this.columnModel,a=0,u=n.getHeaderRowCount();n.hasFloatingFilters()&&(u++,a=1);var C=this.columnModel.getColumnGroupHeaderRowHeight(),T=this.columnModel.getColumnHeaderRowHeight(),F=u-(1+a);c=a*n.getFloatingFiltersHeight(),c+=F*C,this.headerHeight!==(c+=T)&&(this.headerHeight=c,this.comp.setHeightAndMinHeight(c+1+"px"),this.eventService.dispatchEvent({type:z.EVENT_HEADER_HEIGHT_CHANGED}))},i.prototype.onPivotModeChanged=function(){var n=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",n),this.comp.addOrRemoveCssClass("ag-pivot-off",!n)},i.prototype.onDisplayedColumnsChanged=function(){var a=this.columnModel.getAllDisplayedColumns().some(function(u){return u.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",a)},i.prototype.onTabKeyDown=function(n){var a=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(n.shiftKey!==a?zn.LEFT:zn.RIGHT,!0,n)||this.focusService.focusNextGridCoreContainer(n.shiftKey))&&n.preventDefault()},i.prototype.handleKeyDown=function(n){var a=null;switch(n.key){case Je.LEFT:a=zn.LEFT;case Je.RIGHT:o(a)||(a=zn.RIGHT),this.headerNavigationService.navigateHorizontally(a,!1,n);break;case Je.UP:a=zn.UP;case Je.DOWN:o(a)||(a=zn.DOWN),this.headerNavigationService.navigateVertically(a,null,n)&&n.preventDefault();break;default:return}},i.prototype.onFocusOut=function(n){var a=this.gridOptionsService.getDocument(),u=n.relatedTarget;!u&&this.eGui.contains(a.activeElement)||this.eGui.contains(u)||this.focusService.clearFocusedHeader()},ls([ae("headerNavigationService")],i.prototype,"headerNavigationService",void 0),ls([ae("focusService")],i.prototype,"focusService",void 0),ls([ae("columnModel")],i.prototype,"columnModel",void 0),ls([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(nt),Ml=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_y=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return Ml(i,p),i.prototype.postConstruct=function(){var n=this,a={addOrRemoveCssClass:function(v,C){return n.addOrRemoveCssClass(v,C)},setHeightAndMinHeight:function(v){n.getGui().style.height=v,n.getGui().style.minHeight=v}};this.createManagedBean(new vy).setComp(a,this.getGui(),this.getFocusableElement());var c=function(v){n.createManagedBean(v),n.appendChild(v)};c(new Kp("left")),c(new Kp(null)),c(new Kp("right"))},i.TEMPLATE='<div class="ag-header" role="presentation"/>',function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(lr),gg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zp=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},yy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return gg(i,p),i.prototype.addResizeBar=function(n){var a=this,u={dragStartPixels:n.dragStartPixels||0,eElement:n.eResizeBar,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this,n),onDragging:this.onDragging.bind(this,n)};return this.dragService.addDragSource(u,!0),function(){return a.dragService.removeDragSource(u)}},i.prototype.onDragStart=function(n,a){this.dragStartX=a.clientX,this.setResizeIcons();var u=a instanceof MouseEvent&&!0===a.shiftKey;n.onResizeStart(u)},i.prototype.setResizeIcons=function(){var n=this.ctrlsService.getGridCtrl();n.setResizeCursor(!0),n.disableUserSelect(!0)},i.prototype.onDragStop=function(n,a){n.onResizeEnd(this.resizeAmount),this.resetIcons()},i.prototype.resetIcons=function(){var n=this.ctrlsService.getGridCtrl();n.setResizeCursor(!1),n.disableUserSelect(!1)},i.prototype.onDragging=function(n,a){this.resizeAmount=a.clientX-this.dragStartX,n.onResizing(this.resizeAmount)},zp([ae("dragService")],i.prototype,"dragService",void 0),zp([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),zp([lt("horizontalResizeService")],i)}(nt),my=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Rl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Cy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return my(i,p),i.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},i.prototype.showMenuAfterMouseEvent=function(n,a){var u=this;this.showPopup(n,function(c){u.popupService.positionPopupUnderMouseEvent({column:n,type:"columnMenu",mouseEvent:a,ePopup:c})},"columnMenu",a.target)},i.prototype.showMenuAfterButtonClick=function(n,a,u){var c=this;this.showPopup(n,function(v){c.popupService.positionPopupByComponent({type:u,eventSource:a,ePopup:v,keepWithinBounds:!0,position:"under",column:n})},u,a)},i.prototype.showPopup=function(n,a,u,c){var v=this,C=this.filterManager.getOrCreateFilterWrapper(n,"COLUMN_MENU");if(!C)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var T=document.createElement("div");Br(T,"presentation"),T.classList.add("ag-menu"),this.tabListener=this.addManagedListener(T,"keydown",function(Te){return v.trapFocusWithin(Te,T)}),C.guiPromise.then(function(Te){return T.appendChild(Te)});var M,$=c||this.ctrlsService.getGridBodyCtrl().getGui(),pe=this.localeService.getLocaleTextFunc(),me=this.popupService.addPopup({modal:!0,eChild:T,closeOnEsc:!0,closedCallback:function(Te){n.setMenuVisible(!1,"contextMenu");var Ae=Te instanceof KeyboardEvent;if(v.tabListener&&(v.tabListener=v.tabListener()),Ae&&c&&Vt(c)){var He=v.focusService.findTabbableParent(c);He&&He.focus()}!function(){var Te;null===(Te=C.filterPromise)||void 0===Te||Te.then(function(Ae){var He;return null===(He=Ae?.afterGuiDetached)||void 0===He?void 0:He.call(Ae)})}()},positionCallback:function(){return a(T)},anchorToElement:$,ariaLabel:pe("ariaLabelColumnMenu","Column Menu")});me&&(this.hidePopup=M=me.hideFunc),C.filterPromise.then(function(Te){a(T),Te.afterGuiAttached&&Te.afterGuiAttached({container:u,hidePopup:M})}),n.setMenuVisible(!0,"contextMenu")},i.prototype.trapFocusWithin=function(n,a){n.key!==Je.TAB||n.defaultPrevented||this.focusService.findNextFocusableElement(a,!1,n.shiftKey)||(n.preventDefault(),this.focusService.focusInto(a,n.shiftKey))},i.prototype.isMenuEnabled=function(n){return n.isFilterAllowed()&&n.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},Rl([ae("filterManager")],i.prototype,"filterManager",void 0),Rl([ae("popupService")],i.prototype,"popupService",void 0),Rl([ae("focusService")],i.prototype,"focusService",void 0),Rl([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Rl([lt("menuFactory")],i)}(nt),Yp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),us=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},vg=function(p){function i(n){var a=p.call(this,i.getTemplate(n.cssClass))||this;return a.items=[],a.tabbedItemScrollMap=new Map,a.params=n,n.items&&n.items.forEach(function(u){return a.addItem(u)}),a}return Yp(i,p),i.prototype.postConstruct=function(){var n=this;this.createManagedBean(new dr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var a,u,c;return null===(c=null===(u=null===(a=n.activeItem)||void 0===a?void 0:a.tabbedItem)||void 0===u?void 0:u.afterDetachedCallback)||void 0===c?void 0:c.call(u)})},i.getTemplate=function(n){return'<div class="ag-tabs '+n+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(n?n+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(n?n+"-body":"")+'"></div>\n        </div>'},i.prototype.handleKeyDown=function(n){var a=this.gridOptionsService.getDocument();switch(n.key){case Je.RIGHT:case Je.LEFT:if(!this.eHeader.contains(a.activeElement))return;var u=n.key===Je.RIGHT,c=this.gridOptionsService.is("enableRtl"),v=this.items.indexOf(this.activeItem),C=u!==c?Math.min(v+1,this.items.length-1):Math.max(v-1,0);if(v===C)return;n.preventDefault();var T=this.items[C];this.showItemWrapper(T),T.eHeaderButton.focus();break;case Je.UP:case Je.DOWN:n.stopPropagation()}},i.prototype.onTabKeyDown=function(n){if(!n.defaultPrevented){var a=this,u=a.focusService,c=a.eHeader,v=a.eBody,C=a.activeItem,M=this.gridOptionsService.getDocument().activeElement,F=n.target;if(n.preventDefault(),c.contains(M))return void u.focusInto(v,n.shiftKey);var $=null;u.isTargetUnderManagedComponent(v,F)&&(n.shiftKey&&($=this.focusService.findFocusableElementBeforeTabGuard(v,F)),$||($=C.eHeaderButton)),!$&&v.contains(M)&&(($=u.findNextFocusableElement(v,!1,n.shiftKey))||($=C.eHeaderButton)),$&&$.focus()}},i.prototype.setAfterAttachedParams=function(n){this.afterAttachedParams=n},i.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},i.prototype.addItem=function(n){var a=document.createElement("span");Br(a,"tab"),a.setAttribute("tabIndex","-1"),a.appendChild(n.title),a.classList.add("ag-tab"),this.eHeader.appendChild(a),Pi(a,n.titleLabel);var u={tabbedItem:n,eHeaderButton:a};this.items.push(u),a.addEventListener("click",this.showItemWrapper.bind(this,u))},i.prototype.showItem=function(n){var a=this.items.find(function(u){return u.tabbedItem===n});a&&this.showItemWrapper(a)},i.prototype.showItemWrapper=function(n){var u,c,a=this,v=n.tabbedItem,C=n.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:v}),this.activeItem!==n?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ze(this.eBody),v.bodyPromise.then(function(T){a.eBody.appendChild(T);var M=!a.focusService.isKeyboardMode();if(a.focusService.focusInto(a.eBody,!1,M),v.afterAttachedCallback&&v.afterAttachedCallback(a.afterAttachedParams),a.params.keepScrollPosition){var F=v.getScrollableContainer&&v.getScrollableContainer()||T;a.lastScrollListener=a.addManagedListener(F,"scroll",function(){a.tabbedItemScrollMap.set(v.name,F.scrollTop)});var $=a.tabbedItemScrollMap.get(v.name);void 0!==$&&setTimeout(function(){F.scrollTop=$},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(c=(u=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===c||c.call(u)),C.classList.add("ag-tab-selected"),this.activeItem=n):xt(this.params.onActiveItemClicked)},us([ae("focusService")],i.prototype,"focusService",void 0),us([gt("eHeader")],i.prototype,"eHeader",void 0),us([gt("eBody")],i.prototype,"eBody",void 0),us([Xe],i.prototype,"postConstruct",null),i}(lr),Xp=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_g=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.polyfillFunctions=[],n}return Xp(i,p),i.prototype.observeResize=function(n,a){var $,u=this,v=this.gridOptionsService.getDocument().defaultView||window,M=this.gridOptionsService.is("suppressBrowserResizeObserver");return v.ResizeObserver&&!M?(($=new v.ResizeObserver(a)).observe(n),function(){return $.disconnect()}):function(){var $=Qr(n),ne=kr(n),pe=!0,me=function(){if(pe){var Te=Qr(n),Ae=kr(n);(Te!==$||Ae!==ne)&&($=Te,ne=Ae,a()),u.doNextPolyfillTurn(me)}};return me(),function(){return pe=!1}}()},i.prototype.doNextPolyfillTurn=function(n){this.polyfillFunctions.push(n),this.schedulePolyfill()},i.prototype.schedulePolyfill=function(){var n=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var u=n.polyfillFunctions;n.polyfillScheduled=!1,n.polyfillFunctions=[],u.forEach(function(c){return c()})},50))},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("resizeObserverService")],i),i}(nt),yg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rd=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Ey=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.createTasksP1={list:[],sorted:!1},n.createTasksP2={list:[],sorted:!1},n.destroyTasks=[],n.ticking=!1,n.scrollGoingDown=!0,n.lastPage=0,n.lastScrollTop=0,n.taskCount=0,n.cancelledTasks=new Set,n}return yg(i,p),i.prototype.setScrollTop=function(n){var a=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=n>=this.lastScrollTop,a&&0===n){var u=this.paginationProxy.getCurrentPage();u!==this.lastPage&&(this.lastPage=u,this.scrollGoingDown=!0)}this.lastScrollTop=n},i.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},i.prototype.isOn=function(){return this.useAnimationFrame},i.prototype.verifyAnimationFrameOn=function(n){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+n+" called but animation frames are off")},i.prototype.createTask=function(n,a,u){this.verifyAnimationFrameOn(u);var c={task:n,index:a,createOrder:++this.taskCount};this.addTaskToList(this[u],c),this.schedule()},i.prototype.cancelTask=function(n){this.cancelledTasks.add(n)},i.prototype.addTaskToList=function(n,a){n.list.push(a),n.sorted=!1},i.prototype.sortTaskList=function(n){if(!n.sorted){var a=this.scrollGoingDown?1:-1;n.list.sort(function(u,c){return u.index!==c.index?a*(c.index-u.index):c.createOrder-u.createOrder}),n.sorted=!0}},i.prototype.addDestroyTask=function(n){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(n),this.schedule()},i.prototype.executeFrame=function(n){this.verifyAnimationFrameOn("executeFrame");for(var a=this.createTasksP1,u=a.list,c=this.createTasksP2,v=c.list,C=this.destroyTasks,T=(new Date).getTime(),M=(new Date).getTime()-T,F=n<=0,$=this.ctrlsService.getGridBodyCtrl();F||M<n;){if(!$.getScrollFeature().scrollGridIfNeeded()){var pe=void 0;if(u.length)this.sortTaskList(a),pe=u.pop().task;else if(v.length)this.sortTaskList(c),pe=v.pop().task;else{if(!C.length){this.cancelledTasks.clear();break}pe=C.pop()}this.cancelledTasks.has(pe)||pe()}M=(new Date).getTime()-T}u.length||v.length||C.length?this.requestFrame():this.stopTicking()},i.prototype.stopTicking=function(){this.ticking=!1},i.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},i.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},i.prototype.requestFrame=function(){var n=this.executeFrame.bind(this,60),u=this.gridOptionsService.getDocument().defaultView||window;u.requestAnimationFrame?u.requestAnimationFrame(n):u.webkitRequestAnimationFrame?u.webkitRequestAnimationFrame(n):u.setTimeout(n,0)},i.prototype.isQueueEmpty=function(){return!this.ticking},i.prototype.debounce=function(n){var a=this,u=!1;return function(){a.isOn()?u||(u=!0,a.addDestroyTask(function(){u=!1,n()})):a.getFrameworkOverrides().setTimeout(n,0)}},rd([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),rd([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),rd([Xe],i.prototype,"init",null),rd([lt("animationFrameService")],i)}(nt),Sy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Bu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Oy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Sy(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.centerRowContainerCtrl=a.centerRowContainerCtrl})},i.prototype.getPreferredWidthForColumn=function(n,a){var u=this.getHeaderCellForColumn(n);if(!u)return-1;var c=this.rowRenderer.getAllCellsForColumn(n);return a||c.push(u),this.addElementsToContainerAndGetWidth(c)},i.prototype.getPreferredWidthForColumnGroup=function(n){var a=this.getHeaderCellForColumn(n);return a?this.addElementsToContainerAndGetWidth([a]):-1},i.prototype.addElementsToContainerAndGetWidth=function(n){var a=this,u=document.createElement("form");u.style.position="fixed";var c=this.centerRowContainerCtrl.getContainerElement();c.appendChild(u),n.forEach(function(T){return a.cloneItemIntoDummy(T,u)});var v=u.offsetWidth;return c.removeChild(u),v+this.getAutoSizePadding()},i.prototype.getAutoSizePadding=function(){var n=this.gridOptionsService.getNum("autoSizePadding");return null!=n&&n>=0?n:20},i.prototype.getHeaderCellForColumn=function(n){var a=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(u){var c=u.getHtmlElementForColumnHeader(n);null!=c&&(a=c)}),a},i.prototype.cloneItemIntoDummy=function(n,a){var u=n.cloneNode(!0);u.style.width="",u.style.position="static",u.style.left="";var c=document.createElement("div"),v=c.classList;["ag-header-cell","ag-header-group-cell"].some(function(ne){return u.classList.contains(ne)})?(v.add("ag-header","ag-header-row"),c.style.position="static"):v.add("ag-row");for(var T=n.parentElement;T;){if(["ag-header-row","ag-row"].some(function(ne){return T.classList.contains(ne)})){for(var F=0;F<T.classList.length;F++){var $=T.classList[F];"ag-row-position-absolute"!=$&&v.add($)}break}T=T.parentElement}c.appendChild(u),a.appendChild(c)},Bu([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),Bu([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Bu([ae("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),Bu([Xe],i.prototype,"postConstruct",null),Bu([lt("autoWidthCalculator")],i)}(nt),wy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ku=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ka=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},iE=function(p){function i(n,a){var u=p.call(this)||this;return u.createRowCon=n,u.destroyRowCtrls=a,u.stickyRowCtrls=[],u.containerHeight=0,u}return wy(i,p),i.prototype.postConstruct=function(){var n=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(function(a){n.gridBodyCtrl=a.gridBodyCtrl})},i.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},i.prototype.checkStickyRows=function(){var n=this,a=0;if(this.gridOptionsService.is("groupRowsSticky")){for(var u=[],c=this.rowRenderer.getFirstVisibleVerticalPixel(),v=function(pe){var me,Te,Ae,He;if(u.push(pe),n.isClientSide){for(var Ue=pe;Ue.expanded;)if(Ue.master)Ue=Ue.detailNode;else if(Ue.childrenAfterSort){if(0===Ue.childrenAfterSort.length)break;Ue=wr(Ue.childrenAfterSort)}He=Ue.rowTop+Ue.rowHeight}else{var Ze=null===(me=pe.childStore)||void 0===me?void 0:me.getStoreBounds();He=(null!==(Te=Ze?.heightPx)&&void 0!==Te?Te:0)+(null!==(Ae=Ze?.topPx)&&void 0!==Ae?Ae:0)}var st=c+a+pe.rowHeight;pe.stickyRowTop=He<st?a+(He-st):a,a=0,u.forEach(function(St){var Ut=St.stickyRowTop+St.rowHeight;a<Ut&&(a=Ut)})};;){var C=c+a,T=this.rowModel.getRowIndexAtPixel(C),M=this.rowModel.getRow(T);if(null==M||M.level<0)break;for(var F=[],$=M.parent;$.level>=0;)F.push($),$=$.parent;var ne=F.reverse().find(function(pe){return u.indexOf(pe)<0&&pe.displayed});if(ne)v(ne);else{if(!(M.isExpandable()&&M.expanded&&M.rowTop<C))break;v(M)}}this.refreshNodesAndContainerHeight(u,a)}else this.refreshNodesAndContainerHeight([],a)},i.prototype.refreshStickyNode=function(n){for(var a=[],u=0;u<this.stickyRowCtrls.length;u++){var c=this.stickyRowCtrls[u].getRowNode();c!==n&&a.push(c)}this.refreshNodesAndContainerHeight(a,this.containerHeight),this.checkStickyRows()},i.prototype.refreshNodesAndContainerHeight=function(n,a){var u,c,v,C=this,T=this.stickyRowCtrls.filter(function(Te){return-1===n.indexOf(Te.getRowNode())}),M=n.filter(function(Te){return-1===C.stickyRowCtrls.findIndex(function(Ae){return Ae.getRowNode()===Te})}),F={};T.forEach(function(Te){F[Te.getRowNode().id]=Te,C.stickyRowCtrls=C.stickyRowCtrls.filter(function(Ae){return Ae!==Te})});try{for(var $=function(p){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&p[i],a=0;if(n)return n.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(F)),ne=$.next();!ne.done;ne=$.next())ne.value.getRowNode().sticky=!1}catch(Te){u={error:Te}}finally{try{ne&&!ne.done&&(c=$.return)&&c.call($)}finally{if(u)throw u.error}}this.destroyRowCtrls(F,!1);var me=M.map(function(Te){return Te.sticky=!0,C.createRowCon(Te,!1,!1)});(v=this.stickyRowCtrls).push.apply(v,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(ka(arguments[i]));return p}(me)),this.stickyRowCtrls.forEach(function(Te){return Te.setRowTop(Te.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(Te,Ae){return Ae.getRowNode().rowIndex-Te.getRowNode().rowIndex}),this.containerHeight!==a&&(this.containerHeight=a,this.gridBodyCtrl.setStickyTopHeight(a))},ku([ae("rowModel")],i.prototype,"rowModel",void 0),ku([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),ku([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),ku([Xe],i.prototype,"postConstruct",null),i}(nt),Dy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ha=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},oE=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},nd=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(oE(arguments[i]));return p},Eg=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.destroyFuncsForColumnListeners=[],n.rowCtrlsByRowIndex={},n.zombieRowCtrls={},n.allRowCtrls=[],n.topRowCtrls=[],n.bottomRowCtrls=[],n.refreshInProgress=!1,n.dataFirstRenderedFired=!1,n}return Dy(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(){n.gridBodyCtrl=n.ctrlsService.getGridBodyCtrl(),n.initialise()})},i.prototype.initialise=function(){if(this.addManagedListener(this.eventService,z.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,z.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,z.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.is("groupRowsSticky")){var n=this.rowModel.getType();"clientSide"!=n&&"serverSide"!=n?_e(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side or Server Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.stickyRowFeature=this.createManagedBean(new iE(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},i.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var n=this.getKeepDetailRowsCount();this.cachedRowCtrls=new id(n??3)}},i.prototype.getKeepDetailRowsCount=function(){var n=this.gridOptionsService.getNum("keepDetailRowsCount");return o(n)&&n>0?n:10},i.prototype.getRowCtrls=function(){return this.allRowCtrls},i.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},i.prototype.updateAllRowCtrls=function(){var n=ue(this.rowCtrlsByRowIndex),a=this.gridOptionsService.is("ensureDomOrder"),u=this.gridOptionsService.isDomLayout("print");(a||u)&&n.sort(function(C,T){return C.getRowNode().rowIndex-T.getRowNode.rowIndex});var c=ue(this.zombieRowCtrls),v=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=nd(n,c,v)},i.prototype.onCellFocusChanged=function(n){this.getAllCellCtrls().forEach(function(a){return a.onCellFocused(n)}),this.getFullWidthRowCtrls().forEach(function(a){return a.onFullWidthRowFocused(n)})},i.prototype.registerCellEventListeners=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_CELL_FOCUSED,function(u){n.onCellFocusChanged(u)}),this.addManagedListener(this.eventService,z.EVENT_CELL_FOCUS_CLEARED,function(){n.onCellFocusChanged()}),this.addManagedListener(this.eventService,z.EVENT_FLASH_CELLS,function(u){n.getAllCellCtrls().forEach(function(c){return c.onFlashCells(u)})}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_HOVER_CHANGED,function(){n.getAllCellCtrls().forEach(function(u){return u.onColumnHover()})}),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){n.getAllCellCtrls().forEach(function(u){return u.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){n.printLayout&&n.getAllCellCtrls().forEach(function(u){return u.onLeftChanged()})}),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,z.EVENT_RANGE_SELECTION_CHANGED,function(){n.getAllCellCtrls().forEach(function(u){return u.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_MOVED,function(){n.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PINNED,function(){n.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_VISIBLE,function(){n.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,z.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},i.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(n){return n()}),this.destroyFuncsForColumnListeners.length=0},i.prototype.refreshListenersToColumnsForCellComps=function(){var n=this;this.removeGridColumnListeners();var a=this.columnModel.getAllGridColumns();a&&a.forEach(function(u){var c=function($){n.getAllCellCtrls().forEach(function(ne){ne.getColumn()===u&&$(ne)})},v=function(){c(function($){return $.onLeftChanged()})},C=function(){c(function($){return $.onWidthChanged()})},T=function(){c(function($){return $.onFirstRightPinnedChanged()})},M=function(){c(function($){return $.onLastLeftPinnedChanged()})},F=function(){c(function($){return $.onColDefChanged()})};u.addEventListener("leftChanged",v),u.addEventListener("widthChanged",C),u.addEventListener("firstRightPinnedChanged",T),u.addEventListener("lastLeftPinnedChanged",M),u.addEventListener("colDefChanged",F),n.destroyFuncsForColumnListeners.push(function(){u.removeEventListener("leftChanged",v),u.removeEventListener("widthChanged",C),u.removeEventListener("firstRightPinnedChanged",T),u.removeEventListener("lastLeftPinnedChanged",M),u.removeEventListener("colDefChanged",F)})})},i.prototype.onDomLayoutChanged=function(){var n=this.gridOptionsService.isDomLayout("print"),a=n||this.gridOptionsService.is("embedFullWidthRows"),u=a!==this.embedFullWidthRows||this.printLayout!==n;this.printLayout=n,this.embedFullWidthRows=a,u&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},i.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n)},i.prototype.onPageLoaded=function(n){this.redrawAfterModelUpdate({recycleRows:n.keepRenderedRows,animate:n.animate,newData:n.newData,newPage:n.newPage,onlyBody:!0})},i.prototype.getAllCellsForColumn=function(n){var a=[];return this.getAllRowCtrls().forEach(function(u){var c=u.getCellElement(n);c&&a.push(c)}),a},i.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},i.prototype.getTopRowCtrls=function(){return this.topRowCtrls},i.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},i.prototype.refreshFloatingRows=function(n,a){var u=this;n.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),n.length=0,a&&a.forEach(function(c){var v=new Qo(c,u.beans,!1,!1,u.printLayout);n.push(v)})},i.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},i.prototype.getRenderedIndexesForRowNodes=function(n){var a=[];return s(n)||B(this.rowCtrlsByRowIndex,function(u,c){var v=c.getRowNode();n.indexOf(v)>=0&&a.push(u)}),a},i.prototype.redrawRows=function(n){var a=null!=n&&n.length>0;if(a){var u=this.getRenderedIndexesForRowNodes(n);this.removeRowCtrls(u)}this.redrawAfterModelUpdate({recycleRows:a})},i.prototype.getCellToRestoreFocusToAfterRefresh=function(n){var a=n?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==a)return null;var c=this.gridOptionsService.getDocument().activeElement,v=this.gridOptionsService.getDomData(c,Ga.DOM_DATA_KEY_CELL_CTRL),C=this.gridOptionsService.getDomData(c,Qo.DOM_DATA_KEY_ROW_CTRL);return v||C?a:null},i.prototype.redrawAfterModelUpdate=function(n){void 0===n&&(n={}),this.getLockOnRefresh();var a=this.getCellToRestoreFocusToAfterRefresh(n);this.updateContainerHeights(),this.scrollToTopIfNewData(n);var u=!n.domLayoutChanged&&!!n.recycleRows,c=n.animate&&this.gridOptionsService.isAnimateRows(),v=u?this.recycleRows():null;u||this.removeAllRowComps(),this.redraw(v,c),this.gridBodyCtrl.updateRowCount(),n.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=a&&this.restoreFocusedCell(a),this.releaseLockOnRefresh()},i.prototype.scrollToTopIfNewData=function(n){var a=n.newData||n.newPage,u=this.gridOptionsService.is("suppressScrollOnNewData");a&&!u&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},i.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var n=this.paginationProxy.getCurrentPageHeight();0===n&&(n=1),this.rowContainerHeightService.setModelHeight(n)}},i.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},i.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},i.prototype.isRefreshInProgress=function(){return this.refreshInProgress},i.prototype.restoreFocusedCell=function(n){n&&this.onCellFocusChanged({rowIndex:n.rowIndex,column:n.column,rowPinned:n.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"})},i.prototype.stopEditing=function(n){void 0===n&&(n=!1),this.getAllRowCtrls().forEach(function(a){a.stopEditing(n)})},i.prototype.getAllCellCtrls=function(){for(var n=[],a=this.getAllRowCtrls(),u=a.length,c=0;c<u;c++)for(var v=a[c].getAllCellCtrls(),C=v.length,T=0;T<C;T++)n.push(v[T]);return n},i.prototype.getAllRowCtrls=function(){var n,a,u=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],c=nd(this.topRowCtrls,this.bottomRowCtrls,u);try{for(var v=function(p){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&p[i],a=0;if(n)return n.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(this.rowCtrlsByRowIndex)),C=v.next();!C.done;C=v.next())c.push(this.rowCtrlsByRowIndex[C.value])}catch(M){n={error:M}}finally{try{C&&!C.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}return c},i.prototype.addRenderedRowListener=function(n,a,u){var c=this.rowCtrlsByRowIndex[a];c&&c.addEventListener(n,u)},i.prototype.flashCells=function(n){void 0===n&&(n={});var a=n.flashDelay,u=n.fadeDelay;this.getCellCtrls(n.rowNodes,n.columns).forEach(function(c){return c.flashCell({flashDelay:a,fadeDelay:u})})},i.prototype.refreshCells=function(n){void 0===n&&(n={});var a={forceRefresh:n.force,newData:!1,suppressFlash:n.suppressFlash};this.getCellCtrls(n.rowNodes,n.columns).forEach(function(u){if(u.refreshShouldDestroy()){var c=u.getRowCtrl();c&&c.refreshCell(u)}else u.refreshCell(a)}),this.getFullWidthRowCtrls(n.rowNodes).forEach(function(u){u.refreshFullWidth()})},i.prototype.getCellRendererInstances=function(n){var u,a=this,c=this.getCellCtrls(n.rowNodes,n.columns).map(function(T){return T.getCellRenderer()}).filter(function(T){return null!=T});if(null!==(u=n.columns)&&void 0!==u&&u.length)return c;var v=[],C=this.mapRowNodes(n.rowNodes);return this.getAllRowCtrls().forEach(function(T){if((!C||a.isRowInMap(T.getRowNode(),C))&&T.isFullWidth()){var M=T.getFullWidthCellRenderer();M&&v.push(M)}}),nd(v,c)},i.prototype.getCellEditorInstances=function(n){var a=[];return this.getCellCtrls(n.rowNodes,n.columns).forEach(function(u){var c=u.getCellEditor();c&&a.push(c)}),a},i.prototype.getEditingCells=function(){var n=[];return this.getAllCellCtrls().forEach(function(a){if(a.isEditing()){var u=a.getCellPosition();n.push(u)}}),n},i.prototype.mapRowNodes=function(n){if(n){var a={top:{},bottom:{},normal:{}};return n.forEach(function(u){var c=u.id;"top"===u.rowPinned?a.top[c]=u:"bottom"===u.rowPinned?a.bottom[c]=u:a.normal[c]=u}),a}},i.prototype.isRowInMap=function(n,a){var u=n.id,c=n.rowPinned;return"bottom"===c?null!=a.bottom[u]:"top"===c?null!=a.top[u]:null!=a.normal[u]},i.prototype.getCellCtrls=function(n,a){var C,u=this,c=this.mapRowNodes(n),v=[];return o(a)&&(C={},a.forEach(function(M){var F=u.columnModel.getGridColumn(M);o(F)&&(C[F.getId()]=!0)})),this.getAllRowCtrls().forEach(function(M){return function(M){var F=M.getRowNode();null!=c&&!u.isRowInMap(F,c)||M.getAllCellCtrls().forEach(function($){var ne=$.getColumn().getId();C&&!C[ne]||v.push($)})}(M)}),v},i.prototype.destroy=function(){this.removeAllRowComps(),p.prototype.destroy.call(this)},i.prototype.removeAllRowComps=function(){var n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n)},i.prototype.recycleRows=function(){var n=[];B(this.rowCtrlsByRowIndex,function(u,c){null==c.getRowNode().id&&n.push(u)}),this.removeRowCtrls(n);var a={};return B(this.rowCtrlsByRowIndex,function(u,c){var v=c.getRowNode();a[v.id]=c}),this.rowCtrlsByRowIndex={},a},i.prototype.removeRowCtrls=function(n){var a=this;n.forEach(function(u){var c=a.rowCtrlsByRowIndex[u];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete a.rowCtrlsByRowIndex[u]})},i.prototype.onBodyScroll=function(n){"vertical"===n.direction&&this.redrawAfterScroll()},i.prototype.redrawAfterScroll=function(){var n;if(this.stickyRowFeature&&On()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(!0),null!=n){var a=this.getCellToRestoreFocusToAfterRefresh();null!=n&&null==a&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}},i.prototype.removeRowCompsNotToDraw=function(n){var a={};n.forEach(function(v){return a[v]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(v){return!a[v]});this.removeRowCtrls(c)},i.prototype.calculateIndexesToDraw=function(n){var a=this,u=Ss(this.firstRenderedRow,this.lastRenderedRow),c=function(v,C){var T=C.getRowNode().rowIndex;null!=T&&(T<a.firstRenderedRow||T>a.lastRenderedRow)&&a.doNotUnVirtualiseRow(C)&&u.push(T)};return B(this.rowCtrlsByRowIndex,c),B(n,c),u.sort(function(v,C){return v-C}),u=u.filter(function(v){var C=a.paginationProxy.getRow(v);return C&&!C.sticky})},i.prototype.redraw=function(n,a,u){var c=this;void 0===a&&(a=!1),void 0===u&&(u=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var v=this.calculateIndexesToDraw(n);this.removeRowCompsNotToDraw(v),this.printLayout&&(a=!1),v.forEach(function(T){o(c.createOrUpdateRowCtrl(T,n,a,u))}),n&&(!u||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(n,a):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(n,a),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},i.prototype.dispatchDisplayedRowsChanged=function(n){void 0===n&&(n=!1),this.eventService.dispatchEvent({type:z.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:n})},i.prototype.onDisplayedColumnsChanged=function(){var n=this.columnModel.isPinningLeft(),a=this.columnModel.isPinningRight();(this.pinningLeft!==n||a!==this.pinningRight)&&(this.pinningLeft=n,this.pinningRight=a,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},i.prototype.redrawFullWidthEmbeddedRows=function(){var n=[];this.getFullWidthRowCtrls().forEach(function(a){var u=a.getRowNode().rowIndex;n.push(u.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(n),this.redrawAfterScroll()},i.prototype.getFullWidthRowCtrls=function(n){var a=this,u=this.mapRowNodes(n);return this.getAllRowCtrls().filter(function(c){if(!c.isFullWidth())return!1;var v=c.getRowNode();return!(null!=u&&!a.isRowInMap(v,u))})},i.prototype.refreshFullWidthRow=function(n){var a=this.getFullWidthRowCtrls().find(function(c){return c.getRowNode()===n});a&&(a.refreshFullWidth()||(n.sticky?this.stickyRowFeature.refreshStickyNode(n):this.removeRowCtrls([n.rowIndex]),this.redrawAfterScroll()))},i.prototype.createOrUpdateRowCtrl=function(n,a,u,c){var v,C=this.rowCtrlsByRowIndex[n];if(C||o(v=this.paginationProxy.getRow(n))&&o(a)&&a[v.id]&&v.alreadyRendered&&(C=a[v.id],a[v.id]=null),!C){if(v||(v=this.paginationProxy.getRow(n)),!o(v))return;C=this.createRowCon(v,u,c)}return v&&(v.alreadyRendered=!0),this.rowCtrlsByRowIndex[n]=C,C},i.prototype.destroyRowCtrls=function(n,a){var u=this,c=[];B(n,function(v,C){if(C){if(u.cachedRowCtrls&&C.isCacheable())return void u.cachedRowCtrls.addRow(C);C.destroyFirstPass(),a?(u.zombieRowCtrls[C.getInstanceId()]=C,c.push(function(){C.destroySecondPass(),delete u.zombieRowCtrls[C.getInstanceId()]})):C.destroySecondPass()}}),a&&(c.push(function(){u.updateAllRowCtrls(),u.dispatchDisplayedRowsChanged()}),Ie(c))},i.prototype.getRowBuffer=function(){var n=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof n?n<0&&(_e(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),n=0,this.gridOptionsService.set("rowBuffer",0)):n=10,n},i.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},i.prototype.workOutFirstAndLastRowsToRender=function(){var n,a;if(this.paginationProxy.isRowsToRender())if(this.printLayout)n=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow();else{var u=this.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),v=this.gridOptionsService.is("suppressRowVirtualisation"),C=!1,T=void 0,M=void 0;do{var F=this.paginationProxy.getPixelOffset(),$=this.paginationProxy.getCurrentPagePixelRange(),ne=$.pageFirstPixel,pe=$.pageLastPixel,me=this.rowContainerHeightService.getDivStretchOffset(),Te=c.getScrollFeature().getVScrollPosition(),Ae=Te.top,He=Te.bottom;v?(T=ne+me,M=pe+me):(T=Math.max(Ae+F-u,ne)+me,M=Math.min(He+F+u,pe)+me),this.firstVisibleVPixel=Math.max(Ae+F,ne)+me,C=this.ensureAllRowsInRangeHaveHeightsCalculated(T,M)}while(C);var Ue=this.paginationProxy.getRowIndexAtPixel(T),Ze=this.paginationProxy.getRowIndexAtPixel(M),st=this.paginationProxy.getPageFirstRow(),St=this.paginationProxy.getPageLastRow();Ue<st&&(Ue=st),Ze>St&&(Ze=St),n=Ue,a=Ze}else n=0,a=-1;var Ut=this.gridOptionsService.isDomLayout("normal"),jt=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),At=Math.max(this.getRowBuffer(),500);Ut&&!jt&&a-n>At&&(a=n+At),(n!==this.firstRenderedRow||a!==this.lastRenderedRow)&&(this.firstRenderedRow=n,this.lastRenderedRow=a,this.eventService.dispatchEvent({type:z.EVENT_VIEWPORT_CHANGED,firstRow:n,lastRow:a}))},i.prototype.dispatchFirstDataRenderedEvent=function(){var n=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var a={type:z.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){n.beans.eventService.dispatchEvent(a)})}},i.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(n,a){var u=this.paginationProxy.ensureRowHeightsValid(n,a,-1,-1);return u&&this.updateContainerHeights(),u},i.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},i.prototype.doNotUnVirtualiseRow=function(n){var c=n.getRowNode(),v=this.focusService.isRowNodeFocused(c),C=n.isEditing();return!!(v||C||c.detail)&&!!this.paginationProxy.isRowPresent(c)},i.prototype.createRowCon=function(n,a,u){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(n):null;if(c)return c;var v=this.gridOptionsService.is("suppressAnimationFrame");return new Qo(n,this.beans,a,u&&!v&&!this.printLayout,this.printLayout)},i.prototype.getRenderedNodes=function(){var n=this.rowCtrlsByRowIndex;return Object.keys(n).map(function(a){return n[a].getRowNode()})},i.prototype.getRowByPosition=function(n){var a,u=n.rowIndex;switch(n.rowPinned){case"top":a=this.topRowCtrls[u];break;case"bottom":a=this.bottomRowCtrls[u];break;default:(a=this.rowCtrlsByRowIndex[u])||(a=this.getStickyTopRowCtrls().find(function(c){return c.getRowNode().rowIndex===u})||null)}return a},i.prototype.getRowNode=function(n){switch(n.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},i.prototype.isRangeInRenderedViewport=function(n,a){return!(null==n||null==a||a<this.firstRenderedRow||n>this.lastRenderedRow)},ha([ae("animationFrameService")],i.prototype,"animationFrameService",void 0),ha([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),ha([ae("columnModel")],i.prototype,"columnModel",void 0),ha([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),ha([ae("rowModel")],i.prototype,"rowModel",void 0),ha([ae("focusService")],i.prototype,"focusService",void 0),ha([ae("beans")],i.prototype,"beans",void 0),ha([ae("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),ha([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),ha([Xe],i.prototype,"postConstruct",null),ha([lt("rowRenderer")],i)}(nt),id=function(){function p(i){this.entriesMap={},this.entriesList=[],this.maxCount=i}return p.prototype.addRow=function(i){if(this.entriesMap[i.getRowNode().id]=i,this.entriesList.push(i),i.setCached(!0),this.entriesList.length>this.maxCount){var n=this.entriesList[0];n.destroyFirstPass(),n.destroySecondPass(),this.removeFromCache(n)}},p.prototype.getRow=function(i){if(null==i||null==i.id)return null;var n=this.entriesMap[i.id];return n?(this.removeFromCache(n),n.setCached(!1),n.getRowNode()!=i?null:n):null},p.prototype.removeFromCache=function(i){var n=i.getRowNode().id;delete this.entriesMap[n],Kr(this.entriesList,i)},p.prototype.getEntries=function(){return this.entriesList},p}(),Sg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qp=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Og=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Sg(i,p),i.prototype.formatValue=function(n,a,u,c,v){void 0===v&&(v=!0);var T,C=null,M=n.getColDef();if(c?T=c:v&&(T=M.valueFormatter),T){var F={value:u,node:a,data:a?a.data:null,colDef:M,column:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};C="function"==typeof T?T(F):this.expressionService.evaluate(T,F)}else if(M.refData)return M.refData[u]||"";return null==C&&Array.isArray(u)&&(C=u.join(", ")),C},qp([ae("expressionService")],i.prototype,"expressionService",void 0),qp([lt("valueFormatterService")],i)}(nt),pr=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),od=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},wg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return pr(i,p),i.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},i.prototype.isEmpty=function(n){return d("top"===n?this.pinnedTopRows:this.pinnedBottomRows)},i.prototype.isRowsToRender=function(n){return!this.isEmpty(n)},i.prototype.getRowAtPixel=function(n,a){var u="top"===a?this.pinnedTopRows:this.pinnedBottomRows;if(d(u))return 0;for(var c=0;c<u.length;c++){var v=u[c];if(v.rowTop+v.rowHeight-1>=n)return c}return u.length-1},i.prototype.setPinnedTopRowData=function(n){this.pinnedTopRows=this.createNodesFromData(n,!0),this.eventService.dispatchEvent({type:z.EVENT_PINNED_ROW_DATA_CHANGED})},i.prototype.setPinnedBottomRowData=function(n){this.pinnedBottomRows=this.createNodesFromData(n,!1),this.eventService.dispatchEvent({type:z.EVENT_PINNED_ROW_DATA_CHANGED})},i.prototype.createNodesFromData=function(n,a){var u=this,c=[];if(n){var v=0;n.forEach(function(C,T){var M=new yr(u.beans);M.data=C,M.id=(a?yr.ID_PREFIX_TOP_PINNED:yr.ID_PREFIX_BOTTOM_PINNED)+T,M.rowPinned=a?"top":"bottom",M.setRowTop(v),M.setRowHeight(u.gridOptionsService.getRowHeightForNode(M).height),M.setRowIndex(T),v+=M.rowHeight,c.push(M)})}return c},i.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},i.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},i.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},i.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},i.prototype.getPinnedTopRow=function(n){return this.pinnedTopRows[n]},i.prototype.getPinnedBottomRow=function(n){return this.pinnedBottomRows[n]},i.prototype.forEachPinnedTopRow=function(n){d(this.pinnedTopRows)||this.pinnedTopRows.forEach(n)},i.prototype.forEachPinnedBottomRow=function(n){d(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(n)},i.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},i.prototype.getTotalHeight=function(n){if(!n||0===n.length)return 0;var a=wr(n);return a.rowTop+a.rowHeight},od([ae("beans")],i.prototype,"beans",void 0),od([Xe],i.prototype,"init",null),od([lt("pinnedRowModel")],i)}(nt),ga=(()=>((ga=ga||{}).Applied="Applied",ga.StoreNotFound="StoreNotFound",ga.StoreLoading="StoreLoading",ga.StoreWaitingToLoad="StoreWaitingToLoad",ga.StoreLoadingFailed="StoreLoadingFailed",ga.StoreWrongType="StoreWrongType",ga.Cancelled="Cancelled",ga))(),ad=function(){function p(i,n){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=i,this.pathRoot={rowNode:n,children:null},this.mapToItems[n.id]=this.pathRoot}return p.prototype.setInactive=function(){this.active=!1},p.prototype.isActive=function(){return this.active},p.prototype.depthFirstSearchChangedPath=function(i,n){if(i.children)for(var a=0;a<i.children.length;a++)this.depthFirstSearchChangedPath(i.children[a],n);n(i.rowNode)},p.prototype.depthFirstSearchEverything=function(i,n,a){if(i.childrenAfterGroup)for(var u=0;u<i.childrenAfterGroup.length;u++){var c=i.childrenAfterGroup[u];c.childrenAfterGroup?this.depthFirstSearchEverything(i.childrenAfterGroup[u],n,a):a&&n(c)}n(i)},p.prototype.forEachChangedNodeDepthFirst=function(i,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1),this.active&&!a?this.depthFirstSearchChangedPath(this.pathRoot,i):this.depthFirstSearchEverything(this.pathRoot.rowNode,i,n)},p.prototype.executeFromRootNode=function(i){i(this.pathRoot.rowNode)},p.prototype.createPathItems=function(i){for(var n=i,a=0;!this.mapToItems[n.id];)this.mapToItems[n.id]={rowNode:n,children:null},a++,n=n.parent;return a},p.prototype.populateColumnsMap=function(i,n){var a=this;if(this.keepingColumns&&n)for(var u=i;u;)this.nodeIdsToColumns[u.id]||(this.nodeIdsToColumns[u.id]={}),n.forEach(function(c){return a.nodeIdsToColumns[u.id][c.getId()]=!0}),u=u.parent},p.prototype.linkPathItems=function(i,n){for(var a=i,u=0;u<n;u++){var c=this.mapToItems[a.id],v=this.mapToItems[a.parent.id];v.children||(v.children=[]),v.children.push(c),a=a.parent}},p.prototype.addParentNode=function(i,n){if(i&&!i.isRowPinned()){var a=this.createPathItems(i);this.linkPathItems(i,a),this.populateColumnsMap(i,n)}},p.prototype.canSkip=function(i){return this.active&&!this.mapToItems[i.id]},p.prototype.getValueColumnsForNode=function(i,n){if(!this.keepingColumns)return n;var a=this.nodeIdsToColumns[i.id];return n.filter(function(c){return a[c.getId()]})},p.prototype.getNotValueColumnsForNode=function(i,n){if(!this.keepingColumns)return null;var a=this.nodeIdsToColumns[i.id];return n.filter(function(c){return!a[c.getId()]})},p}(),Dg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),sd=function(p){function i(n){var a=p.call(this)||this;return a.state=i.STATE_WAITING_TO_LOAD,a.version=0,a.id=n,a}return Dg(i,p),i.prototype.getId=function(){return this.id},i.prototype.load=function(){this.state=i.STATE_LOADING,this.loadFromDatasource()},i.prototype.getVersion=function(){return this.version},i.prototype.setStateWaitingToLoad=function(){this.version++,this.state=i.STATE_WAITING_TO_LOAD},i.prototype.getState=function(){return this.state},i.prototype.pageLoadFailed=function(n){this.isRequestMostRecentAndLive(n)&&(this.state=i.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},i.prototype.success=function(n,a){this.successCommon(n,a)},i.prototype.pageLoaded=function(n,a,u){this.successCommon(n,{rowData:a,rowCount:u})},i.prototype.isRequestMostRecentAndLive=function(n){var a=n===this.version,u=this.isAlive();return a&&u},i.prototype.successCommon=function(n,a){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(n)&&(this.state=i.STATE_LOADED,this.processServerResult(a))},i.prototype.dispatchLoadCompleted=function(n){void 0===n&&(n=!0),this.dispatchEvent({type:i.EVENT_LOAD_COMPLETE,success:n,block:this})},i.EVENT_LOAD_COMPLETE="loadComplete",i.STATE_WAITING_TO_LOAD="needsLoading",i.STATE_LOADING="loading",i.STATE_LOADED="loaded",i.STATE_FAILED="failed",i}(nt),Py=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},by=function(p,i){return function(n,a){i(n,a,p)}},Zp=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.activeBlockLoadsCount=0,a.blocks=[],a.active=!0,a}var n;return Py(i,p),n=i,i.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var a=this.gridOptionsService.getNum("blockLoadDebounceMillis");a&&a>0&&(this.checkBlockToLoadDebounce=Wt.debounce(this.performCheckBlocksToLoad.bind(this),a))},i.prototype.setBeans=function(a){this.logger=a.create("RowNodeBlockLoader")},i.prototype.getMaxConcurrentDatasourceRequests=function(){var a=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==a?2:a<=0?void 0:a},i.prototype.addBlock=function(a){this.blocks.push(a),a.addEventListener(sd.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},i.prototype.removeBlock=function(a){Wt.removeFromArray(this.blocks,a)},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.active=!1},i.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:n.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},i.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},i.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var a=this.getAvailableLoadingCount(),u=this.blocks.filter(function(c){return c.getState()===sd.STATE_WAITING_TO_LOAD}).slice(0,a);this.registerLoads(u.length),u.forEach(function(c){return c.load()}),this.printCacheStatus()}},i.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var u={};return this.blocks.forEach(function(c){var v=c.getBlockStateJson();u[v.id]=v.state}),u},i.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},i.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},i.prototype.registerLoads=function(a){this.activeBlockLoadsCount+=a},i.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},i.BLOCK_LOADED_EVENT="blockLoaded",i.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Vu([ae("rowModel")],i.prototype,"rowModel",void 0),Vu([Xe],i.prototype,"postConstruct",null),Vu([by(0,Zt("loggerFactory"))],i.prototype,"setBeans",null),n=Vu([lt("rowNodeBlockLoader")],i)}(nt),Ty=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Jp=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},sE=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.currentPage=0,n.topDisplayedRowIndex=0,n.bottomDisplayedRowIndex=0,n.pixelOffset=0,n.masterRowCount=0,n}return Ty(i,p),i.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,z.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},i.prototype.ensureRowHeightsValid=function(n,a,u,c){var v=this.rowModel.ensureRowHeightsValid(n,a,this.getPageFirstRow(),this.getPageLastRow());return v&&this.calculatePages(),v},i.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},i.prototype.onModelUpdated=function(n){this.calculatePages(),this.eventService.dispatchEvent({type:z.EVENT_PAGINATION_CHANGED,animate:!!n&&n.animate,newData:!!n&&n.newData,newPage:!!n&&n.newPage,keepRenderedRows:!!n&&n.keepRenderedRows})},i.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:z.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})},i.prototype.goToPage=function(n){this.active&&this.currentPage!==n&&"number"==typeof this.currentPage&&(this.currentPage=n,this.onModelUpdated({type:z.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))},i.prototype.getPixelOffset=function(){return this.pixelOffset},i.prototype.getRow=function(n){return this.rowModel.getRow(n)},i.prototype.getRowNode=function(n){return this.rowModel.getRowNode(n)},i.prototype.getRowIndexAtPixel=function(n){return this.rowModel.getRowIndexAtPixel(n)},i.prototype.getCurrentPageHeight=function(){return s(this.topRowBounds)||s(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},i.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},i.prototype.isRowPresent=function(n){return!!this.rowModel.isRowPresent(n)&&n.rowIndex>=this.topDisplayedRowIndex&&n.rowIndex<=this.bottomDisplayedRowIndex},i.prototype.isEmpty=function(){return this.rowModel.isEmpty()},i.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},i.prototype.forEachNode=function(n){return this.rowModel.forEachNode(n)},i.prototype.forEachNodeOnPage=function(n){for(var a=this.getPageFirstRow(),u=this.getPageLastRow(),c=a;c<=u;c++){var v=this.getRow(c);v&&n(v)}},i.prototype.getType=function(){return this.rowModel.getType()},i.prototype.getRowBounds=function(n){var a=this.rowModel.getRowBounds(n);return a.rowIndex=n,a},i.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},i.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},i.prototype.getRowCount=function(){return this.rowModel.getRowCount()},i.prototype.getPageForIndex=function(n){return Math.floor(n/this.pageSize)},i.prototype.goToPageWithIndex=function(n){if(this.active){var a=this.getPageForIndex(n);this.goToPage(a)}},i.prototype.isRowInPage=function(n){return!this.active||this.getPageForIndex(n.rowIndex)===this.currentPage},i.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},i.prototype.getCurrentPage=function(){return this.currentPage},i.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},i.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},i.prototype.goToFirstPage=function(){this.goToPage(0)},i.prototype.goToLastPage=function(){var n=this.rowModel.getRowCount(),a=Math.floor(n/this.pageSize);this.goToPage(a)},i.prototype.getPageSize=function(){return this.pageSize},i.prototype.getTotalPages=function(){return this.totalPages},i.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},i.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(o(this.topRowBounds)?this.topRowBounds.rowTop:0)},i.prototype.setPixelOffset=function(n){this.pixelOffset!==n&&(this.pixelOffset=n,this.eventService.dispatchEvent({type:z.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},i.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},i.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},i.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var n=this.masterRowCount-1;this.totalPages=Math.floor(n/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var u=this.pageSize*(this.currentPage+1)-1;if(u>n&&(u=n),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),u===n)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(u+1);this.bottomDisplayedRowIndex=c-1}}},i.prototype.getMasterRowCount=function(){return this.masterRowCount},i.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var n=this.masterRowCount-1;this.totalPages=Math.floor(n/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}else this.setZeroRows()},i.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Jp([ae("rowModel")],i.prototype,"rowModel",void 0),Jp([Xe],i.prototype,"postConstruct",null),Jp([lt("paginationProxy")],i)}(nt),Pg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qp=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},cs=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Pg(i,p),i.prototype.processAllCellClasses=function(n,a,u,c){this.processClassRules(n.cellClassRules,a,u,c),this.processStaticCellClasses(n,a,u)},i.prototype.processClassRules=function(n,a,u,c){if(null!=n){for(var v=Object.keys(n),C={},T={},M=function(ne){var Te,pe=v[ne],me=n[pe];"string"==typeof me?Te=F.expressionService.evaluate(me,a):"function"==typeof me&&(Te=me(a)),pe.split(" ").forEach(function(Ae){null==Ae||""==Ae.trim()||(Te?C[Ae]=!0:T[Ae]=!0)})},F=this,$=0;$<v.length;$++)M($);c&&Object.keys(T).forEach(c),Object.keys(C).forEach(u)}},i.prototype.getStaticCellClasses=function(n,a){var c,u=n.cellClass;return u?("string"==typeof(c="function"==typeof u?u(a):u)&&(c=[c]),c||[]):[]},i.prototype.processStaticCellClasses=function(n,a,u){this.getStaticCellClasses(n,a).forEach(function(v){u(v)})},Qp([ae("expressionService")],i.prototype,"expressionService",void 0),Qp([lt("stylingService")],i)}(nt),Il=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bg=function(p){function i(n){return p.call(this,n,"ag-toggle-button")||this}return Il(i,p),i.prototype.setValue=function(n,a){return p.prototype.setValue.call(this,n,a),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},i}(cl),My=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ld=function(p){function i(n){return p.call(this,n,"ag-text-area",null,"textarea")||this}return My(i,p),i.prototype.setValue=function(n,a){var u=p.prototype.setValue.call(this,n,a);return this.eInput.value=n,u},i.prototype.setCols=function(n){return this.eInput.cols=n,this},i.prototype.setRows=function(n){return this.eInput.rows=n,this},i}(Na),Ll=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ef=function(p){function i(n){return p.call(this,n,"ag-range-field","range")||this}return Ll(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this);var n=this.config,a=n.min,u=n.max,c=n.step;null!=a&&this.setMinValue(a),null!=u&&this.setMaxValue(u),this.setStep(c||1)},i.prototype.addInputListeners=function(){var n=this;this.addManagedListener(this.eInput,"input",function(a){n.setValue(a.target.value)})},i.prototype.setMinValue=function(n){return this.min=n,this.eInput.setAttribute("min",n.toString()),this},i.prototype.setMaxValue=function(n){return this.max=n,this.eInput.setAttribute("max",n.toString()),this},i.prototype.setStep=function(n){return this.eInput.setAttribute("step",n.toString()),this},i.prototype.setValue=function(n,a){null!=this.min&&(n=Math.max(parseFloat(n),this.min).toString()),null!=this.max&&(n=Math.min(parseFloat(n),this.max).toString());var u=p.prototype.setValue.call(this,n,a);return this.eInput.value=n,u},i}(Na),Hu=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Uu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ud=function(p){function i(n){var a=p.call(this,n,i.TEMPLATE)||this;return a.labelAlignment="top",a}return Hu(i,p),i.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},i.prototype.onValueChange=function(n){var a=this,u=Is.EVENT_CHANGED;return this.addManagedListener(this.eText,u,function(){var c=parseFloat(a.eText.getValue());a.eSlider.setValue(c.toString(),!0),n(c||0)}),this.addManagedListener(this.eSlider,u,function(){var c=a.eSlider.getValue();a.eText.setValue(c,!0),n(parseFloat(c))}),this},i.prototype.setSliderWidth=function(n){return this.eSlider.setWidth(n),this},i.prototype.setTextFieldWidth=function(n){return this.eText.setWidth(n),this},i.prototype.setMinValue=function(n){return this.eSlider.setMinValue(n),this.eText.setMin(n),this},i.prototype.setMaxValue=function(n){return this.eSlider.setMaxValue(n),this.eText.setMax(n),this},i.prototype.getValue=function(){return this.eText.getValue()},i.prototype.setValue=function(n){return this.getValue()===n||(this.eText.setValue(n,!0),this.eSlider.setValue(n,!0),this.dispatchEvent({type:Is.EVENT_CHANGED})),this},i.prototype.setStep=function(n){return this.eSlider.setStep(n),this.eText.setStep(n),this},i.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Uu([gt("eLabel")],i.prototype,"eLabel",void 0),Uu([gt("eSlider")],i.prototype,"eSlider",void 0),Uu([gt("eText")],i.prototype,"eText",void 0),Uu([Xe],i.prototype,"init",null),i}(qf),tf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),va=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},rf=function(p){function i(n){void 0===n&&(n={});var a=p.call(this,i.getTemplate(n))||this;a.suppressEnabledCheckbox=!0,a.suppressOpenCloseIcons=!1;var c=n.enabled,v=n.items,C=n.suppressEnabledCheckbox,T=n.suppressOpenCloseIcons;return a.title=n.title,a.cssIdentifier=n.cssIdentifier||"default",a.enabled=c??!0,a.items=v||[],a.alignItems=n.alignItems||"center",null!=C&&(a.suppressEnabledCheckbox=C),null!=T&&(a.suppressOpenCloseIcons=T),a}return tf(i,p),i.getTemplate=function(n){var a=n.cssIdentifier||"default";return'<div class="ag-group ag-'+a+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+a+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+a+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+a+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(n.direction||"vertical")+" ag-"+a+'-group-container"></div>\n        </div>'},i.prototype.postConstruct=function(){if(this.items.length){var n=this.items;this.items=[],this.addItems(n)}var a=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(a("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},i.prototype.setupExpandContract=function(){var n=this;this.eGroupClosedIcon.appendChild(ni("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ni("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return n.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(a){switch(a.key){case Je.ENTER:case Je.SPACE:a.preventDefault(),n.toggleGroupExpand();break;case Je.RIGHT:case Je.LEFT:a.preventDefault(),n.toggleGroupExpand(a.key===Je.RIGHT)}})},i.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||In(this.eTitleBar,this.expanded)},i.prototype.refreshChildDisplay=function(){var n=!this.suppressOpenCloseIcons;Er(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Er(this.eGroupOpenedIcon,n&&this.expanded),Er(this.eGroupClosedIcon,n&&!this.expanded)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.setAlignItems=function(n){return this.alignItems!==n&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=n,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},i.prototype.toggleGroupExpand=function(n){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Er(this.eContainer,!0),this):(this.expanded===(n=n??!this.expanded)||(this.expanded=n,this.refreshAriaStatus(),this.refreshChildDisplay(),Er(this.eContainer,n),this.dispatchEvent({type:this.expanded?i.EVENT_EXPANDED:i.EVENT_COLLAPSED})),this)},i.prototype.addItems=function(n){var a=this;n.forEach(function(u){return a.addItem(u)})},i.prototype.addItem=function(n){var a=this.eContainer,u=n instanceof lr?n.getGui():n;u.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),a.appendChild(u),this.items.push(u)},i.prototype.hideItem=function(n,a){Er(this.items[a],!n)},i.prototype.setTitle=function(n){return this.eTitle.innerText=n,this},i.prototype.addCssClassToTitleBar=function(n){this.eTitleBar.classList.add(n)},i.prototype.setEnabled=function(n,a){return this.enabled=n,this.refreshDisabledStyles(),this.toggleGroupExpand(n),a||this.cbGroupEnabled.setValue(n),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(n){var a=this;return this.cbGroupEnabled.onValueChange(function(u){a.setEnabled(u,!0),n(u)}),this},i.prototype.hideEnabledCheckbox=function(n){return this.suppressEnabledCheckbox=n,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},i.prototype.hideOpenCloseIcons=function(n){return this.suppressOpenCloseIcons=n,n&&this.toggleGroupExpand(!0),this},i.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},i.EVENT_EXPANDED="expanded",i.EVENT_COLLAPSED="collapsed",va([gt("eTitleBar")],i.prototype,"eTitleBar",void 0),va([gt("eGroupOpenedIcon")],i.prototype,"eGroupOpenedIcon",void 0),va([gt("eGroupClosedIcon")],i.prototype,"eGroupClosedIcon",void 0),va([gt("eToolbar")],i.prototype,"eToolbar",void 0),va([gt("cbGroupEnabled")],i.prototype,"cbGroupEnabled",void 0),va([gt("eTitle")],i.prototype,"eTitle",void 0),va([gt("eContainer")],i.prototype,"eContainer",void 0),va([Xe],i.prototype,"postConstruct",null),i}(lr),nf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Tg=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ya=(()=>((ya=ya||{}).TAB_GUARD="ag-tab-guard",ya.TAB_GUARD_TOP="ag-tab-guard-top",ya.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",ya))(),Ry=function(p){function i(n){var a=p.call(this)||this;a.skipTabGuardFocus=!1;var c=n.eTopGuard,v=n.eBottomGuard,C=n.focusInnerElement,T=n.onFocusIn,M=n.onFocusOut,F=n.shouldStopEventPropagation,$=n.onTabKeyDown,ne=n.handleKeyDown,pe=n.eFocusableElement;return a.comp=n.comp,a.eTopGuard=c,a.eBottomGuard=v,a.providedFocusInnerElement=C,a.eFocusableElement=pe,a.providedFocusIn=T,a.providedFocusOut=M,a.providedShouldStopEventPropagation=F,a.providedOnTabKeyDown=$,a.providedHandleKeyDown=ne,a}return nf(i,p),i.prototype.postConstruct=function(){var n=this;this.createManagedBean(new dr(this.eFocusableElement,{shouldStopEventPropagation:function(){return n.shouldStopEventPropagation()},onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)},onFocusIn:function(a){return n.onFocusIn(a)},onFocusOut:function(a){return n.onFocusOut(a)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(a){return n.addManagedListener(a,"focus",n.onFocus.bind(n))})},i.prototype.handleKeyDown=function(n){this.providedHandleKeyDown&&this.providedHandleKeyDown(n)},i.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},i.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},i.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},i.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},i.prototype.onFocus=function(n){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var a=n.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(a):this.focusInnerElement(a)}},i.prototype.onFocusIn=function(n){this.providedFocusIn&&this.providedFocusIn(n)||this.deactivateTabGuards()},i.prototype.onFocusOut=function(n){this.providedFocusOut&&this.providedFocusOut(n)||this.eFocusableElement.contains(n.relatedTarget)||this.activateTabGuards()},i.prototype.onTabKeyDown=function(n){var a=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(n);else if(!n.defaultPrevented){var u=this.tabGuardsAreActive();u&&this.deactivateTabGuards();var c=this.getNextFocusableElement(n.shiftKey);u&&setTimeout(function(){return a.activateTabGuards()},0),c&&(c.focus(),n.preventDefault())}},i.prototype.getGridTabIndex=function(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()},i.prototype.focusInnerElement=function(n){void 0===n&&(n=!1);var a=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(a.splice(0,1),a.splice(a.length-1,1)),a.length&&a[n?a.length-1:0].focus({preventScroll:!0})},i.prototype.getNextFocusableElement=function(n){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n)},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1);var a=n?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,a.focus()},Tg([ae("focusService")],i.prototype,"focusService",void 0),Tg([Xe],i.prototype,"postConstruct",null),i}(nt),Mg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ay=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},Wu=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Mg(i,p),i.prototype.initialiseTabGuard=function(n){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var a=[this.eTopGuard,this.eBottomGuard],u={setTabIndex:function(c){a.forEach(function(v){return null!=c?v.setAttribute("tabIndex",c):v.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Ry({comp:u,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:n.onFocusIn,onFocusOut:n.onFocusOut,focusInnerElement:n.focusInnerElement,handleKeyDown:n.handleKeyDown,onTabKeyDown:n.onTabKeyDown,shouldStopEventPropagation:n.shouldStopEventPropagation}))},i.prototype.createTabGuard=function(n){var a=document.createElement("div");return a.classList.add(ya.TAB_GUARD,"top"===n?ya.TAB_GUARD_TOP:ya.TAB_GUARD_BOTTOM),Br(a,"presentation"),a},i.prototype.addTabGuards=function(n,a){this.eFocusableElement.insertAdjacentElement("afterbegin",n),this.eFocusableElement.insertAdjacentElement("beforeend",a)},i.prototype.removeAllChildrenExceptTabGuards=function(){var n=[this.eTopGuard,this.eBottomGuard];ze(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ay(arguments[i]));return p}(n))},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1),this.tabGuardCtrl.forceFocusOutOfContainer(n)},i.prototype.appendChild=function(n,a){Kt(n)||(n=n.getGui());var u=this.eBottomGuard;u?u.insertAdjacentElement("beforebegin",n):p.prototype.appendChild.call(this,n,a)},i}(lr),Iy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$u=function(){return $u=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},$u.apply(this,arguments)},af=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Rg=function(p){function i(n){void 0===n&&(n=1);var a=p.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return a.level=n,a.menuItems=[],a}return Iy(i,p),i.prototype.postConstruct=function(){var n=this;this.initialiseTabGuard({onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}})},i.prototype.onTabKeyDown=function(n){var a=this.getParentComponent(),u=a&&a.getGui();u&&u.classList.contains("ag-focus-managed")||n.preventDefault(),n.shiftKey&&this.closeIfIsChild(n)},i.prototype.handleKeyDown=function(n){switch(n.key){case Je.UP:case Je.RIGHT:case Je.DOWN:case Je.LEFT:n.preventDefault(),this.handleNavKey(n.key);break;case Je.ESCAPE:var a=this.findTopMenu();a&&this.focusService.focusInto(a.getGui())}},i.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},i.prototype.addMenuItems=function(n){var a=this;n?.forEach(function(u){"separator"===u?a.addSeparator():"string"==typeof u?console.warn("AG Grid: unrecognised menu item "+u):a.addItem(u)})},i.prototype.addItem=function(n){var a=this,u=this.createManagedBean(new ds($u($u({},n),{isAnotherSubMenuOpen:function(){return a.menuItems.some(function(c){return c.isSubMenuOpen()})}})));u.setParentComponent(this),Ya(u.getGui(),this.level),this.menuItems.push(u),this.appendChild(u.getGui()),this.addManagedListener(u,ds.EVENT_MENU_ITEM_SELECTED,function(c){a.dispatchEvent(c)}),this.addManagedListener(u,ds.EVENT_MENU_ITEM_ACTIVATED,function(c){a.activeMenuItem&&a.activeMenuItem!==c.menuItem&&a.activeMenuItem.deactivate(),a.activeMenuItem=c.menuItem})},i.prototype.activateFirstItem=function(){var n=this.menuItems.filter(function(a){return!a.isDisabled()})[0];n&&n.activate()},i.prototype.addSeparator=function(){this.appendChild(zt('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},i.prototype.findTopMenu=function(){var n=this.getParentComponent();if(!n&&this instanceof i)return this;for(;;){var a=n&&n.getParentComponent&&n.getParentComponent();if(!a||!(a instanceof i||a instanceof ds))break;n=a}return n instanceof i?n:void 0},i.prototype.handleNavKey=function(n){switch(n){case Je.UP:case Je.DOWN:var a=this.findNextItem(n===Je.UP);return void(a&&a!==this.activeMenuItem&&a.activate())}n===(this.gridOptionsService.is("enableRtl")?Je.RIGHT:Je.LEFT)?this.closeIfIsChild():this.openChild()},i.prototype.closeIfIsChild=function(n){var a=this.getParentComponent();a&&a instanceof ds&&(n&&n.preventDefault(),a.closeSubMenu(),a.getGui().focus())},i.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},i.prototype.findNextItem=function(n){var a=this.menuItems.filter(function(T){return!T.isDisabled()});if(a.length){if(!this.activeMenuItem)return n?wr(a):a[0];n&&a.reverse();for(var u,c=!1,v=0;v<a.length;v++){var C=a[v];if(c){u=C;break}C===this.activeMenuItem&&(c=!0)}return u||this.activeMenuItem}},i.prototype.destroy=function(){this.clearActiveItem(),p.prototype.destroy.call(this)},af([ae("focusService")],i.prototype,"focusService",void 0),af([Xe],i.prototype,"postConstruct",null),i}(Wu),Ly=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ny=function(p){function i(n){var a=p.call(this)||this;return a.wrappedComponent=n,a.setTemplateFromElement(n.getGui()),a}return Ly(i,p),i.prototype.postConstruct=function(){var n=this;this.initialiseTabGuard({onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}})},i.prototype.handleKeyDown=function(n){n.key===Je.ESCAPE&&this.closePanel()},i.prototype.onTabKeyDown=function(n){n.defaultPrevented||(this.closePanel(),n.preventDefault())},i.prototype.closePanel=function(){var n=this.parentComponent;n.closeSubMenu(),setTimeout(function(){return n.getGui().focus()},0)},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(Wu),Fy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gy=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ds=function(p){function i(n){var a=p.call(this)||this;return a.params=n,a.isActive=!1,a.subMenuIsOpen=!1,a.setTemplate('<div class="'+a.getClassName()+'" tabindex="-1" role="treeitem"></div>'),a}return Fy(i,p),i.prototype.init=function(){var n=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var a=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Mn(a,!0)):(this.addGuiEventListener("click",function(u){return n.onItemSelected(u)}),this.addGuiEventListener("keydown",function(u){(u.key===Je.ENTER||u.key===Je.SPACE)&&(u.preventDefault(),n.onItemSelected(u))}),this.addGuiEventListener("mousedown",function(u){u.stopPropagation(),u.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return n.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return n.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(u){return n.addCssClass(u)})},i.prototype.isDisabled=function(){return!!this.params.disabled},i.prototype.openSubMenu=function(n){var a=this;if(void 0===n&&(n=!1),this.closeSubMenu(),this.params.subMenu){var c,u=zt('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var v=mo(this.getGui()),C=isNaN(v)?1:v+1,T=this.createBean(new Rg(C));T.setParentComponent(this),T.addMenuItems(this.params.subMenu),u.appendChild(T.getGui()),this.addManagedListener(T,i.EVENT_MENU_ITEM_SELECTED,function(Ue){return a.dispatchEvent(Ue)}),T.addGuiEventListener("mouseenter",function(){return a.cancelDeactivate()}),c=function(){return a.destroyBean(T)},n&&setTimeout(function(){return T.activateFirstItem()},0)}else{var M=this.params.subMenu,F=this.createBean(new Ny(M));F.setParentComponent(this);var $=F.getGui(),ne="mouseenter",pe=function(){return a.cancelDeactivate()};$.addEventListener(ne,pe),c=function(){return $.removeEventListener(ne,pe)},u.appendChild($),M.afterGuiAttached&&setTimeout(function(){return M.afterGuiAttached()},0)}var me=this.getGui(),Te=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:me,ePopup:u}),Ae=this.localeService.getLocaleTextFunc(),He=this.popupService.addPopup({modal:!0,eChild:u,positionCallback:Te,anchorToElement:me,ariaLabel:Ae("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,In(me,!0),this.hideSubMenu=function(){He&&He.hideFunc(),a.subMenuIsOpen=!1,In(me,!1),c()}}},i.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,In(this.getGui(),!1))},i.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},i.prototype.activate=function(n){var a=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),n&&this.params.subMenu&&window.setTimeout(function(){a.isAlive()&&a.isActive&&a.openSubMenu()},300),this.onItemActivated())},i.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},i.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var n=zt('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?n.appendChild(wn("check",this.gridOptionsService)):this.params.icon&&(Kt(this.params.icon)?n.appendChild(this.params.icon):"string"==typeof this.params.icon?n.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(n)}},i.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var n=zt('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(n)}},i.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new ul(this)))},i.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},i.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var n=zt('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(n)}},i.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var n=zt('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),a=this.getGui();if(this.params.subMenu){var u=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";In(a,!1),n.appendChild(wn(u,this.gridOptionsService))}a.appendChild(n)}},i.prototype.onItemSelected=function(n){this.params.action?this.params.action():this.openSubMenu(n&&"keydown"===n.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:i.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:n})},i.prototype.onItemActivated=function(){this.dispatchEvent({type:i.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},i.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},i.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},i.prototype.onMouseEnter=function(){var n=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return n.activate(!0)},i.ACTIVATION_DELAY):this.activate(!0)},i.prototype.onMouseLeave=function(){var n=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return n.deactivate()},i.ACTIVATION_DELAY):this.deactivate()},i.prototype.getClassName=function(n){var a=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return n?a+"-"+n:a},i.EVENT_MENU_ITEM_SELECTED="menuItemSelected",i.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",i.ACTIVATION_DELAY=80,Gy([ae("popupService")],i.prototype,"popupService",void 0),Gy([Xe],i.prototype,"init",null),i}(lr),Ag=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ju=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},sf=function(p){function i(n){var a=p.call(this,i.getTemplate(n))||this;return a.closable=!0,a.config=n,a}return Ag(i,p),i.getTemplate=function(n){var a=n&&n.cssIdentifier||"default";return'<div class="ag-panel ag-'+a+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+a+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+a+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+a+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+a+'-panel-content-wrapper"></div>\n        </div>'},i.prototype.postConstruct=function(){var n=this,a=this.config,u=a.component,c=a.closable,v=a.hideTitleBar,C=a.title,T=a.minWidth,M=void 0===T?250:T,F=a.width,$=a.minHeight,ne=void 0===$?250:$,pe=a.height,me=a.centered,Te=a.popup,Ae=a.x,He=a.y;this.positionableFeature=new As(this.getGui(),{minWidth:M,width:F,minHeight:ne,height:pe,centered:me,x:Ae,y:He,popup:Te,calculateTopBuffer:function(){return n.positionableFeature.getHeight()-n.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Ue=this.getGui();u&&this.setBodyComponent(u),v?Er(this.eTitleBar,!1):(C&&this.setTitle(C),this.setClosable(c??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Ze){var st=n.gridOptionsService.getDocument();if(Ue.contains(Ze.relatedTarget)||Ue.contains(st.activeElement)||n.eTitleBarButtons.contains(Ze.target))Ze.preventDefault();else{var St=n.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");St&&St.focus()}}),(!Te||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},i.prototype.renderComponent=function(){var n=this,a=this.getGui();a.focus(),this.close=function(){a.parentElement.removeChild(a),n.destroy()}},i.prototype.getHeight=function(){return this.positionableFeature.getHeight()},i.prototype.setHeight=function(n){this.positionableFeature.setHeight(n)},i.prototype.getWidth=function(){return this.positionableFeature.getWidth()},i.prototype.setWidth=function(n){this.positionableFeature.setWidth(n)},i.prototype.setClosable=function(n){if(n!==this.closable&&(this.closable=n),n){var a=this.closeButtonComp=new lr(i.CLOSE_BTN_TEMPLATE);this.getContext().createBean(a);var u=a.getGui(),c=wn("close",this.gridOptionsService);c.classList.add("ag-panel-title-bar-button-icon"),u.appendChild(c),this.addTitleBarButton(a),a.addManagedListener(u,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((u=this.closeButtonComp.getGui()).parentElement.removeChild(u),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},i.prototype.setBodyComponent=function(n){n.setParentComponent(this),this.eContentWrapper.appendChild(n.getGui())},i.prototype.addTitleBarButton=function(n,a){var u=this.eTitleBarButtons,c=u.children,v=c.length;null==a&&(a=v),a=Math.max(0,Math.min(a,v)),n.addCssClass("ag-panel-title-bar-button");var C=n.getGui();0===a?u.insertAdjacentElement("afterbegin",C):a===v?u.insertAdjacentElement("beforeend",C):c[a-1].insertAdjacentElement("afterend",C),n.setParentComponent(this)},i.prototype.getBodyHeight=function(){return jo(this.eContentWrapper)},i.prototype.getBodyWidth=function(){return H(this.eContentWrapper)},i.prototype.setTitle=function(n){this.eTitle.innerText=n},i.prototype.onBtClose=function(){this.close()},i.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var n=this.getGui();n&&n.offsetParent&&this.close(),p.prototype.destroy.call(this)},i.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',ju([gt("eContentWrapper")],i.prototype,"eContentWrapper",void 0),ju([gt("eTitleBar")],i.prototype,"eTitleBar",void 0),ju([gt("eTitleBarButtons")],i.prototype,"eTitleBarButtons",void 0),ju([gt("eTitle")],i.prototype,"eTitle",void 0),ju([Xe],i.prototype,"postConstruct",null),i}(lr),By=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ku=function(){return Ku=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Ku.apply(this,arguments)},xg=function(p){function i(n){var a=p.call(this,Ku(Ku({},n),{popup:!0}))||this;return a.isMaximizable=!1,a.isMaximized=!1,a.maximizeListeners=[],a.resizeListenerDestroy=null,a.lastPosition={x:0,y:0,width:0,height:0},a}return By(i,p),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),u=this.config,c=u.movable,v=u.resizable,C=u.maximizable;this.addCssClass("ag-dialog"),p.prototype.postConstruct.call(this),this.addManagedListener(a,"focusin",function(T){a.contains(T.relatedTarget)||n.popupService.bringPopupToFront(a)}),c&&this.setMovable(c),C&&this.setMaximizable(C),v&&this.setResizable(v)},i.prototype.renderComponent=function(){var n=this.getGui(),a=this.config,u=a.alwaysOnTop,c=a.modal,v=a.title,C=this.localeService.getLocaleTextFunc(),T=this.popupService.addPopup({modal:c,eChild:n,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:u,ariaLabel:v||C("ariaLabelDialog","Dialog")});T&&(this.close=T.hideFunc)},i.prototype.toggleMaximize=function(){var n=this.positionableFeature.getPosition();if(this.isMaximized){var a=this.lastPosition,u=a.x,c=a.y,C=a.height;this.setWidth(a.width),this.setHeight(C),this.positionableFeature.offsetElement(u,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=n.x,this.lastPosition.y=n.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},i.prototype.refreshMaximizeIcon=function(){Er(this.maximizeIcon,!this.isMaximized),Er(this.minimizeIcon,this.isMaximized)},i.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(n){return n()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},i.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),p.prototype.destroy.call(this)},i.prototype.setResizable=function(n){this.positionableFeature.setResizable(n)},i.prototype.setMovable=function(n){this.positionableFeature.setMovable(n,this.eTitleBar)},i.prototype.setMaximizable=function(n){var a=this;if(!n)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var u=this.eTitleBar;if(u&&n!==this.isMaximizable){var c=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),c.addManagedListener(c.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(u,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){a.isMaximized=!1,a.refreshMaximizeIcon()})}},i.prototype.buildMaximizeAndMinimizeElements=function(){var n=this.maximizeButtonComp=this.createBean(new lr('<div class="ag-dialog-button"></span>')),a=n.getGui();return this.maximizeIcon=wn("maximize",this.gridOptionsService),a.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=wn("minimize",this.gridOptionsService),a.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),n},function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([ae("popupService")],i.prototype,"popupService",void 0),i}(sf),lf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zu=function(){return zu=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},zu.apply(this,arguments)},ma=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Vy=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},Yu=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}var n;return lf(i,p),n=i,i.addKeyboardModeEvents=function(a,u){var c=n.instancesMonitored.get(a);c&&c.length>0?-1===c.indexOf(u)&&c.push(u):(n.instancesMonitored.set(a,[u]),a.addEventListener("keydown",n.toggleKeyboardMode),a.addEventListener("mousedown",n.toggleKeyboardMode))},i.removeKeyboardModeEvents=function(a,u){var c=n.instancesMonitored.get(a),v=[];c&&c.length&&(v=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Vy(arguments[i]));return p}(c).filter(function(C){return C!==u}),n.instancesMonitored.set(a,v)),0===v.length&&(a.removeEventListener("keydown",n.toggleKeyboardMode),a.removeEventListener("mousedown",n.toggleKeyboardMode))},i.toggleKeyboardMode=function(a){var u=n.keyboardModeActive,c="keydown"===a.type;if(!(c&&(a.ctrlKey||a.metaKey||a.altKey)||u&&c||!u&&!c)){n.keyboardModeActive=c;var v=a.target.ownerDocument;if(v){var C=n.instancesMonitored.get(v);C&&C.forEach(function(T){T.dispatchEvent({type:c?z.EVENT_KEYBOARD_FOCUS:z.EVENT_MOUSE_FOCUS})})}}},i.prototype.init=function(){var a=this,u=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_MODE_CHANGED,u),this.addManagedListener(this.eventService,z.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_GROUP_OPENED,u),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,u),this.ctrlsService.whenReady(function(c){a.gridCtrl=c.gridCtrl;var v=a.gridOptionsService.getDocument();n.addKeyboardModeEvents(v,a.gridCtrl),a.addDestroyFunc(function(){return a.unregisterGridCompController(a.gridCtrl)})})},i.prototype.unregisterGridCompController=function(a){var u=this.gridOptionsService.getDocument();n.removeKeyboardModeEvents(u,a)},i.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var a=this.focusedCellPosition.column,u=this.columnModel.getGridColumn(a.getId());a!==u&&this.clearFocusedCell()}},i.prototype.isKeyboardMode=function(){return n.keyboardModeActive},i.prototype.getFocusCellToUseAfterRefresh=function(){var a=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(a.activeElement,Qo.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},i.prototype.getFocusHeaderToUseAfterRefresh=function(){var a=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(a.activeElement,xu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},i.prototype.isDomDataMissingInHierarchy=function(a,u){for(var c=a;c;){if(this.gridOptionsService.getDomData(c,u))return!1;c=c.parentNode}return!0},i.prototype.getFocusedCell=function(){return this.focusedCellPosition},i.prototype.getFocusEventParams=function(){var a=this.focusedCellPosition,u=a.rowIndex,c=a.rowPinned,C={rowIndex:u,rowPinned:c,column:a.column,isFullWidthCell:!1},T=this.rowRenderer.getRowByPosition({rowIndex:u,rowPinned:c});return T&&(C.isFullWidthCell=T.isFullWidth()),C},i.prototype.clearFocusedCell=function(){if(null!=this.focusedCellPosition){var a=zu({type:z.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(a)}},i.prototype.setFocusedCell=function(a){var c=a.rowIndex,v=a.rowPinned,C=a.forceBrowserFocus,T=void 0!==C&&C,M=a.preventScrollOnBrowserFocus,F=void 0!==M&&M,$=this.columnModel.getGridColumn(a.column);if($){this.focusedCellPosition=$?{rowIndex:c,rowPinned:r(v),column:$}:null;var ne=zu(zu({type:z.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:T,preventScrollOnBrowserFocus:F,floating:null});this.eventService.dispatchEvent(ne)}else this.focusedCellPosition=null},i.prototype.isCellFocused=function(a){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===a.column&&this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isRowNodeFocused=function(a){return this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isHeaderWrapperFocused=function(a){if(null==this.focusedHeaderPosition)return!1;var u=a.getColumnGroupChild(),c=a.getRowIndex(),v=a.getPinned(),C=this.focusedHeaderPosition,T=C.column;return u===T&&c===C.headerRowIndex&&v==T.getPinned()},i.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},i.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},i.prototype.setFocusedHeader=function(a,u){this.focusedHeaderPosition={headerRowIndex:a,column:u}},i.prototype.focusHeaderPosition=function(a){var u=a.direction,c=a.fromTab,C=a.event,T=a.headerPosition;if(a.allowUserOverride){var $,M=this.getFocusedHeader(),F=this.headerNavigationService.getHeaderRowCount();c?($=this.gridOptionsService.getCallback("tabToNextHeader"))&&(T=$({backwards:"Before"===u,previousHeaderPosition:M,nextHeaderPosition:T,headerRowCount:F})):($=this.gridOptionsService.getCallback("navigateToNextHeader"))&&C&&(T=$({key:C.key,previousHeaderPosition:M,nextHeaderPosition:T,headerRowCount:F,event:C}))}return!!T&&(-1===T.headerRowIndex?this.focusGridView(T.column):(this.headerNavigationService.scrollToColumn(T.column,u),this.ctrlsService.getHeaderRowContainerCtrl(T.column.getPinned()).focusHeader(T.headerRowIndex,T.column,C)))},i.prototype.focusFirstHeader=function(){var a=this.columnModel.getAllDisplayedColumns()[0];return!!a&&(a.getParent()&&(a=this.columnModel.getColumnGroupAtLevel(a,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:a}}))},i.prototype.focusLastHeader=function(a){var u=this.headerNavigationService.getHeaderRowCount()-1,c=wr(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},event:a})},i.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},i.prototype.isRowFocused=function(a,u){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===a&&this.focusedCellPosition.rowPinned===r(u)},i.prototype.findFocusableElements=function(a,u,c){void 0===c&&(c=!1);var C=Ql;u&&(C+=", "+u),c&&(C+=', [tabindex="-1"]');var ne,T=Array.prototype.slice.apply(a.querySelectorAll(Ds)),M=Array.prototype.slice.apply(a.querySelectorAll(C));return M.length?(ne=M,T.filter(function(pe){return-1===ne.indexOf(pe)})):T},i.prototype.focusInto=function(a,u,c){void 0===u&&(u=!1),void 0===c&&(c=!1);var v=this.findFocusableElements(a,null,c),C=u?wr(v):v[0];return!!C&&(C.focus({preventScroll:!0}),!0)},i.prototype.findFocusableElementBeforeTabGuard=function(a,u){if(!u)return null;var c=this.findFocusableElements(a),v=c.indexOf(u);if(-1===v)return null;for(var C=-1,T=v-1;T>=0;T--)if(c[T].classList.contains(ya.TAB_GUARD_TOP)){C=T;break}return C<=0?null:c[C-1]},i.prototype.findNextFocusableElement=function(a,u,c){void 0===a&&(a=this.eGridDiv);var v=this.findFocusableElements(a,u?':not([tabindex="-1"])':null),T=this.gridOptionsService.getDocument().activeElement,F=(u?v.findIndex(function($){return $.contains(T)}):v.indexOf(T))+(c?-1:1);return F<0||F>=v.length?null:v[F]},i.prototype.isTargetUnderManagedComponent=function(a,u){if(!u)return!1;var c=a.querySelectorAll("."+dr.FOCUS_MANAGED_CLASS);if(!c.length)return!1;for(var v=0;v<c.length;v++)if(c[v].contains(u))return!0;return!1},i.prototype.findTabbableParent=function(a,u){void 0===u&&(u=5);for(var c=0;a&&null===yi(a)&&++c<=u;)a=a.parentElement;return null===yi(a)?null:a},i.prototype.focusGridView=function(a,u){if(this.gridOptionsService.is("suppressCellFocus"))return u?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var c=u?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var v=c.rowIndex,C=c.rowPinned,T=this.getFocusedHeader();return!a&&T&&(a=T.column),!(null==v||!a)&&(this.navigationService.ensureCellVisible({rowIndex:v,column:a,rowPinned:C}),this.setFocusedCell({rowIndex:v,column:a,rowPinned:r(C),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:v,rowPinned:C,column:a}),!0)},i.prototype.focusNextGridCoreContainer=function(a,u){return void 0===u&&(u=!1),!(u||!this.gridCtrl.focusNextInnerContainer(a))||((u||!a&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(a),!1)},i.AG_KEYBOARD_FOCUS="ag-keyboard-focus",i.keyboardModeActive=!1,i.instancesMonitored=new Map,ma([ae("eGridDiv")],i.prototype,"eGridDiv",void 0),ma([ae("columnModel")],i.prototype,"columnModel",void 0),ma([ae("headerNavigationService")],i.prototype,"headerNavigationService",void 0),ma([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),ma([ae("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),ma([Tt("rangeService")],i.prototype,"rangeService",void 0),ma([ae("navigationService")],i.prototype,"navigationService",void 0),ma([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),ma([Xe],i.prototype,"init",null),n=ma([lt("focusService")],i)}(nt),Ca=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ks=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Uy=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},po=(()=>((po=po||{})[po.vertical=0]="vertical",po[po.horizontal=1]="horizontal",po))(),Lg=0,Ng=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.popupList=[],a}var n;return Ca(i,p),n=i,i.prototype.postConstruct=function(){var a=this;this.ctrlsService.whenReady(function(u){a.gridCtrl=u.gridCtrl,a.addManagedListener(a.gridCtrl,z.EVENT_KEYBOARD_FOCUS,function(){a.popupList.forEach(function(c){return c.element.classList.add(Yu.AG_KEYBOARD_FOCUS)})}),a.addManagedListener(a.gridCtrl,z.EVENT_MOUSE_FOCUS,function(){a.popupList.forEach(function(c){return c.element.classList.remove(Yu.AG_KEYBOARD_FOCUS)})})})},i.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},i.prototype.positionPopupForMenu=function(a){var u=a.eventSource.getBoundingClientRect(),c=this.getParentRect(),v=this.keepXYWithinBounds(a.ePopup,u.top-c.top,po.vertical),C=a.ePopup.clientWidth>0?a.ePopup.clientWidth:200;a.ePopup.style.minWidth=C+"px";var F,M=c.right-c.left-C;function $(){return u.right-c.left-2}function ne(){return u.left-c.left-C}this.gridOptionsService.is("enableRtl")?((F=ne())<0&&(F=$()),F>M&&(F=0)):((F=$())>M&&(F=ne()),F<0&&(F=0)),a.ePopup.style.left=F+"px",a.ePopup.style.top=v+"px"},i.prototype.positionPopupUnderMouseEvent=function(a){var u=this;this.positionPopup({ePopup:a.ePopup,nudgeX:a.nudgeX,nudgeY:a.nudgeY,keepWithinBounds:!0,skipObserver:a.skipObserver,updatePosition:function(){return u.calculatePointerAlign(a.mouseEvent)},postProcessCallback:function(){return u.callPostProcessPopup(a.type,a.ePopup,null,a.mouseEvent,a.column,a.rowNode)}})},i.prototype.calculatePointerAlign=function(a){var u=this.getParentRect();return{x:a.clientX-u.left,y:a.clientY-u.top}},i.prototype.positionPopupByComponent=function(a){var u=this,c=a.eventSource.getBoundingClientRect(),v=a.alignSide||"left",C=a.position||"over",T=this.getParentRect();this.positionPopup({ePopup:a.ePopup,nudgeX:a.nudgeX,nudgeY:a.nudgeY,keepWithinBounds:a.keepWithinBounds,updatePosition:function(){var F=c.left-T.left;return"right"===v&&(F-=a.ePopup.offsetWidth-c.width),{x:F,y:"over"===C?c.top-T.top:c.top-T.top+c.height}},postProcessCallback:function(){return u.callPostProcessPopup(a.type,a.ePopup,a.eventSource,null,a.column,a.rowNode)}})},i.prototype.callPostProcessPopup=function(a,u,c,v,C,T){var M=this.gridOptionsService.getCallback("postProcessPopup");M&&M({column:C,rowNode:T,ePopup:u,type:a,eventSource:c,mouseEvent:v})},i.prototype.positionPopup=function(a){var u=this,c=a.ePopup,v=a.keepWithinBounds,C=a.nudgeX,T=a.nudgeY,M=a.skipObserver,F=a.updatePosition,$={width:0,height:0},ne=function(me){void 0===me&&(me=!1);var Te=F(),Ae=Te.x,He=Te.y;me&&c.clientWidth===$.width&&c.clientHeight===$.height||($.width=c.clientWidth,$.height=c.clientHeight,C&&(Ae+=C),T&&(He+=T),v&&(Ae=u.keepXYWithinBounds(c,Ae,po.horizontal),He=u.keepXYWithinBounds(c,He,po.vertical)),c.style.left=Ae+"px",c.style.top=He+"px",a.postProcessCallback&&a.postProcessCallback())};if(ne(),!M){var pe=this.resizeObserverService.observeResize(c,function(){return ne(!0)});setTimeout(function(){return pe()},n.WAIT_FOR_POPUP_CONTENT_RESIZE)}},i.prototype.getActivePopups=function(){return this.popupList.map(function(a){return a.element})},i.prototype.getPopupList=function(){return this.popupList},i.prototype.getParentRect=function(){var a=this.gridOptionsService.getDocument(),u=this.getPopupParent();u===a.body?u=a.documentElement:"static"===getComputedStyle(u).position&&(u=u.offsetParent);var c=getComputedStyle(u),v=u.getBoundingClientRect();return{top:v.top+parseFloat(c.borderTopWidth)||0,left:v.left+parseFloat(c.borderLeftWidth)||0,right:v.right+parseFloat(c.borderRightWidth)||0,bottom:v.bottom+parseFloat(c.borderBottomWidth)||0}},i.prototype.keepXYWithinBounds=function(a,u,c){var v=c===po.vertical,C=v?"clientHeight":"clientWidth",T=v?"top":"left",M=v?"offsetHeight":"offsetWidth",F=v?"scrollTop":"scrollLeft",$=this.gridOptionsService.getDocument(),ne=$.documentElement,pe=this.getPopupParent(),me=pe.getBoundingClientRect(),Te=$.documentElement.getBoundingClientRect(),Ae=pe===$.body,He=a[M],Ze=Ae?(v?te:K)(ne)+ne[F]:pe[C];Ae&&(Ze-=Math.abs(Te[T]-me[T]));var st=Ze-He;return Math.min(Math.max(u,0),Math.abs(st))},i.prototype.keepPopupPositionedRelativeTo=function(a){var u=this,c=this.getPopupParent(),v=c.getBoundingClientRect(),C=a.element.getBoundingClientRect(),T=v.top-C.top,M=v.left-C.left,F=T,$=M,ne=a.ePopup.style.top,pe=parseInt(ne.substring(0,ne.length-1),10),me=a.ePopup.style.left,Te=parseInt(me.substring(0,me.length-1),10);return new Ci(function(Ae){u.getFrameworkOverrides().setInterval(function(){var He=c.getBoundingClientRect(),Ue=a.element.getBoundingClientRect();if(0==Ue.top&&0==Ue.left&&0==Ue.height&&0==Ue.width)a.hidePopup();else{var st=He.top-Ue.top;if(st!=F){var St=u.keepXYWithinBounds(a.ePopup,pe+T-st,po.vertical);a.ePopup.style.top=St+"px"}F=st;var Ut=He.left-Ue.left;if(Ut!=$){var jt=u.keepXYWithinBounds(a.ePopup,Te+M-Ut,po.horizontal);a.ePopup.style.left=jt+"px"}$=Ut}},200).then(function(He){Ae(function(){null!=He&&window.clearInterval(He)})})})},i.prototype.addPopup=function(a){var u,c=this,v=a.modal,C=a.eChild,T=a.closeOnEsc,M=a.closedCallback,F=a.click,$=a.alwaysOnTop,ne=a.afterGuiAttached,pe=a.positionCallback,me=a.anchorToElement,Te=a.ariaLabel,Ae=this.gridOptionsService.getDocument(),He=new Ci(function(Nr){return Nr(function(){})});if(!Ae)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:He};var Ue=this.popupList.findIndex(function(Nr){return Nr.element===C});if(-1!==Ue){var Ze=this.popupList[Ue];return{hideFunc:Ze.hideFunc,stopAnchoringPromise:Ze.stopAnchoringPromise}}var st=this.getPopupParent();null==C.style.top&&(C.style.top="0px"),null==C.style.left&&(C.style.left="0px");var St=document.createElement("div"),Ut=this.environment.getTheme().allThemes;Ut.length&&(u=St.classList).add.apply(u,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Uy(arguments[i]));return p}(Ut)),St.classList.add("ag-popup"),C.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),C.hasAttribute("role")||Br(C,"dialog"),Pi(C,Te),this.focusService.isKeyboardMode()&&C.classList.add(Yu.AG_KEYBOARD_FOCUS),St.appendChild(C),st.appendChild(St),$?this.setAlwaysOnTop(St,!0):this.bringPopupToFront(St);var jt=!1,At=function(Nr){St.contains(Ae.activeElement)&&Nr.key===Je.ESCAPE&&Jr({keyboardEvent:Nr})},Jt=function(Nr){return Jr({mouseEvent:Nr})},fr=function(Nr){return Jr({touchEvent:Nr})},Jr=function(Nr){void 0===Nr&&(Nr={});var Si=Nr.mouseEvent,Zi=Nr.touchEvent,mn=Nr.keyboardEvent;c.isEventFromCurrentPopup({mouseEvent:Si,touchEvent:Zi},C)||c.isEventSameChainAsOriginalEvent({originalMouseEvent:F,mouseEvent:Si,touchEvent:Zi})||jt||(jt=!0,st.removeChild(St),Ae.removeEventListener("keydown",At),Ae.removeEventListener("mousedown",Jt),Ae.removeEventListener("touchstart",fr),Ae.removeEventListener("contextmenu",Jt),c.eventService.removeEventListener(z.EVENT_DRAG_STARTED,Jt),M&&M(Si||Zi||mn),c.popupList=c.popupList.filter(function(Yr){return Yr.element!==C}),He&&He.then(function(Yr){return Yr&&Yr()}))};return ne&&ne({hidePopup:Jr}),window.setTimeout(function(){T&&Ae.addEventListener("keydown",At),v&&(Ae.addEventListener("mousedown",Jt),c.eventService.addEventListener(z.EVENT_DRAG_STARTED,Jt),Ae.addEventListener("touchstart",fr),Ae.addEventListener("contextmenu",Jt))},0),pe&&pe(),me&&(He=this.keepPopupPositionedRelativeTo({element:me,ePopup:C,hidePopup:Jr})),this.popupList.push({element:C,wrapper:St,hideFunc:Jr,stopAnchoringPromise:He,instanceId:Lg++,isAnchored:!!me}),{hideFunc:Jr,stopAnchoringPromise:He}},i.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(a){return a.isAnchored})},i.prototype.isEventFromCurrentPopup=function(a,u){var C=a.mouseEvent||a.touchEvent;if(!C)return!1;var T=this.popupList.findIndex(function($){return $.element===u});if(-1===T)return!1;for(var M=T;M<this.popupList.length;M++)if(hn(this.popupList[M].element,C))return!0;return this.isElementWithinCustomPopup(C.target)},i.prototype.isElementWithinCustomPopup=function(a){for(var u=this.gridOptionsService.getDocument();a&&a!==u.body;){if(a.classList.contains("ag-custom-component-popup")||null===a.parentElement)return!0;a=a.parentElement}return!1},i.prototype.isEventSameChainAsOriginalEvent=function(a){var u=a.originalMouseEvent,c=a.mouseEvent,v=a.touchEvent,C=null;if(c?C=c:v&&(C=v.touches[0]),C&&u){var M=c?c.screenY:0,F=Math.abs(u.screenX-(c?c.screenX:0))<5,$=Math.abs(u.screenY-M)<5;if(F&&$)return!0}return!1},i.prototype.getWrapper=function(a){for(;!a.classList.contains("ag-popup")&&a.parentElement;)a=a.parentElement;return a.classList.contains("ag-popup")?a:null},i.prototype.setAlwaysOnTop=function(a,u){var c=this.getWrapper(a);c&&(c.classList.toggle("ag-always-on-top",!!u),u&&this.bringPopupToFront(c))},i.prototype.bringPopupToFront=function(a){var u=this.getPopupParent(),c=Array.prototype.slice.call(u.querySelectorAll(".ag-popup")),v=c.length,C=Array.prototype.slice.call(u.querySelectorAll(".ag-popup.ag-always-on-top")),T=C.length,M=this.getWrapper(a);if(M&&!(v<=1)&&u.contains(a)){var F=c.indexOf(M),$=M.querySelectorAll("div"),ne=[];for($.forEach(function(Ae){0!==Ae.scrollTop&&ne.push([Ae,Ae.scrollTop])}),T?M.classList.contains("ag-always-on-top")?F!==v-1&&wr(C).insertAdjacentElement("afterend",M):F!==v-T-1&&C[0].insertAdjacentElement("beforebegin",M):F!==v-1&&wr(c).insertAdjacentElement("afterend",M);ne.length;){var me=ne.pop();me[0].scrollTop=me[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:M})}},i.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Ks([ae("focusService")],i.prototype,"focusService",void 0),Ks([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Ks([ae("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Ks([Xe],i.prototype,"postConstruct",null),n=Ks([lt("popupService")],i)}(nt),cd=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},lE=function(p){function i(n,a,u){void 0===n&&(n="default"),void 0===a&&(a="listbox");var c=p.call(this,i.getTemplate(n))||this;return c.cssIdentifier=n,c.ariaRole=a,c.listName=u,c.renderedRows=new Map,c.rowHeight=20,c}return cd(i,p),i.prototype.postConstruct=function(){var n=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(a){return n.onFocusIn(a)},onFocusOut:function(a){return n.onFocusOut(a)},focusInnerElement:function(a){return n.focusInnerElement(a)},onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,z.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},i.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},i.prototype.setAriaProperties=function(){var a=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),u=this.eContainer;Br(u,this.ariaRole),Pi(u,a)},i.prototype.addResizeObserver=function(){var n=this,u=this.resizeObserverService.observeResize(this.getGui(),function(){return n.drawVirtualRows()});this.addDestroyFunc(u)},i.prototype.focusInnerElement=function(n){this.focusRow(n?this.model.getRowCount()-1:0)},i.prototype.onFocusIn=function(n){var a=n.target;return a.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Di(a)-1),!1},i.prototype.onFocusOut=function(n){return this.getFocusableElement().contains(n.relatedTarget)||(this.lastFocusedRowIndex=null),!1},i.prototype.handleKeyDown=function(n){switch(n.key){case Je.UP:case Je.DOWN:this.navigate(n.key===Je.UP)&&n.preventDefault()}},i.prototype.onTabKeyDown=function(n){this.navigate(n.shiftKey)?n.preventDefault():this.forceFocusOutOfContainer(n.shiftKey)},i.prototype.navigate=function(n){if(null==this.lastFocusedRowIndex)return!1;var a=this.lastFocusedRowIndex+(n?-1:1);return!(a<0||a>=this.model.getRowCount()||(this.focusRow(a),0))},i.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},i.prototype.focusRow=function(n){var a=this;this.ensureIndexVisible(n),window.setTimeout(function(){if(a.isAlive()){var u=a.renderedRows.get(n);u&&u.eDiv.focus()}},10)},i.prototype.getComponentAt=function(n){var a=this.renderedRows.get(n);return a&&a.rowComponent},i.prototype.forEachRenderedRow=function(n){this.renderedRows.forEach(function(a,u){return n(a.rowComponent,u)})},i.getTemplate=function(n){return'\n            <div class="ag-virtual-list-viewport ag-'+n+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+n+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},i.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},i.prototype.ensureIndexVisible=function(n){var a=this.model.getRowCount();if("number"!=typeof n||n<0||n>=a)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+n);else{var u=n*this.rowHeight,c=u+this.rowHeight,v=this.getGui(),C=v.scrollTop,T=v.offsetHeight,$=C+T<c;C>u?v.scrollTop=u:$&&(v.scrollTop=c-T)}},i.prototype.setComponentCreator=function(n){this.componentCreator=n},i.prototype.setComponentUpdater=function(n){this.componentUpdater=n},i.prototype.getRowHeight=function(){return this.rowHeight},i.prototype.getScrollTop=function(){return this.getGui().scrollTop},i.prototype.setRowHeight=function(n){this.rowHeight=n,this.refresh()},i.prototype.refresh=function(n){var a=this;if(null!=this.model&&this.isAlive()){var u=this.model.getRowCount();this.eContainer.style.height=u*this.rowHeight+"px",vt(function(){return a.eContainer.clientHeight>=u*a.rowHeight},function(){a.isAlive()&&(a.canSoftRefresh(n)?a.drawVirtualRows(!0):(a.clearVirtualRows(),a.drawVirtualRows()))})}},i.prototype.canSoftRefresh=function(n){return!!(n&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},i.prototype.clearVirtualRows=function(){var n=this;this.renderedRows.forEach(function(a,u){return n.removeRow(u)})},i.prototype.drawVirtualRows=function(n){if(this.isAlive()){var a=this.getGui(),u=a.scrollTop,c=u+a.offsetHeight,v=Math.floor(u/this.rowHeight),C=Math.floor(c/this.rowHeight);this.ensureRowsRendered(v,C,n)}},i.prototype.ensureRowsRendered=function(n,a,u){var c=this;this.renderedRows.forEach(function(C,T){(T<n||T>a)&&T!==c.lastFocusedRowIndex&&c.removeRow(T)}),u&&this.refreshRows();for(var v=n;v<=a;v++)this.renderedRows.has(v)||v<this.model.getRowCount()&&this.insertRow(v)},i.prototype.insertRow=function(n){var a=this,u=this.model.getRow(n),c=document.createElement("div");if(c.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Br(c,"tree"===this.ariaRole?"treeitem":"option"),_n(c,this.model.getRowCount()),Xa(c,n+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var v=this.model.isRowSelected(n);Fi(c,!!v),Yl(c,v)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*n+"px";var C=this.componentCreator(u,c);C.addGuiEventListener("focusin",function(){return a.lastFocusedRowIndex=n}),c.appendChild(C.getGui()),this.renderedRows.has(n-1)?this.renderedRows.get(n-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(n+1)?this.renderedRows.get(n+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(n,{rowComponent:C,eDiv:c,value:u})},i.prototype.removeRow=function(n){var a=this.renderedRows.get(n);this.eContainer.removeChild(a.eDiv),this.destroyBean(a.rowComponent),this.renderedRows.delete(n)},i.prototype.refreshRows=function(){var n=this,a=this.model.getRowCount();this.renderedRows.forEach(function(u,c){var v,C;if(c>=a)n.removeRow(c);else{var T=n.model.getRow(c);null!==(C=(v=n.model).areRowsEqual)&&void 0!==C&&C.call(v,u.value,T)?n.componentUpdater(T,u.rowComponent):n.removeRow(c)}})},i.prototype.addScrollListener=function(){var n=this;this.addGuiEventListener("scroll",function(){return n.drawVirtualRows()},{passive:!0})},i.prototype.setModel=function(n){this.model=n},i.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),p.prototype.destroy.call(this))},Xu([ae("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Xu([gt("eContainer")],i.prototype,"eContainer",void 0),Xu([Xe],i.prototype,"postConstruct",null),i}(Wu),Fg=["mouseover","mouseout","mouseenter","mouseleave"],Gg=["touchstart","touchend","touchmove","touchcancel"],uf=function(){function p(){this.isOutsideAngular=function(i){return qe(Fg,i)}}return p.prototype.setTimeout=function(i,n){window.setTimeout(i,n)},p.prototype.setInterval=function(i,n){return new Ci(function(a){a(window.setInterval(i,n))})},p.prototype.addEventListener=function(i,n,a,u){var c=qe(Gg,n);i.addEventListener(n,a,{capture:!!u,passive:c})},p.prototype.dispatchEvent=function(i,n,a){n()},p.prototype.frameworkComponent=function(i){return null},p.prototype.isFrameworkComponent=function(i){return!1},p}(),Bg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ps=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Va=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},$y=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Bg(i,p),i.prototype.getNextCellToFocus=function(n,a,u){return void 0===u&&(u=!1),u?this.getNextCellToFocusWithCtrlPressed(n,a):this.getNextCellToFocusWithoutCtrlPressed(n,a)},i.prototype.getNextCellToFocusWithCtrlPressed=function(n,a){var C,T,u=n===Je.UP,v=n===Je.LEFT;if(u||n===Je.DOWN)T=u?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),C=a.column;else{var M=this.columnModel.getAllDisplayedColumns(),F=this.gridOptionsService.is("enableRtl");T=a.rowIndex,C=v!==F?M[0]:wr(M)}return{rowIndex:T,rowPinned:null,column:C}},i.prototype.getNextCellToFocusWithoutCtrlPressed=function(n,a){for(var u=a,c=!1;!c;){switch(n){case Je.UP:u=this.getCellAbove(u);break;case Je.DOWN:u=this.getCellBelow(u);break;case Je.RIGHT:u=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(u):this.getCellToRight(u);break;case Je.LEFT:u=this.gridOptionsService.is("enableRtl")?this.getCellToRight(u):this.getCellToLeft(u);break;default:u=null,console.warn("AG Grid: unknown key for navigation "+n)}c=!u||this.isCellGoodToFocusOn(u)}return u},i.prototype.isCellGoodToFocusOn=function(n){var u,a=n.column;switch(n.rowPinned){case"top":u=this.pinnedRowModel.getPinnedTopRow(n.rowIndex);break;case"bottom":u=this.pinnedRowModel.getPinnedBottomRow(n.rowIndex);break;default:u=this.rowModel.getRow(n.rowIndex)}return!!u&&!a.isSuppressNavigable(u)},i.prototype.getCellToLeft=function(n){if(!n)return null;var a=this.columnModel.getDisplayedColBefore(n.column);return a?{rowIndex:n.rowIndex,column:a,rowPinned:n.rowPinned}:null},i.prototype.getCellToRight=function(n){if(!n)return null;var a=this.columnModel.getDisplayedColAfter(n.column);return a?{rowIndex:n.rowIndex,column:a,rowPinned:n.rowPinned}:null},i.prototype.getRowBelow=function(n){var a=n.rowIndex,u=n.rowPinned;if(this.isLastRowInContainer(n))switch(u){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var c=this.rowModel.getRow(n.rowIndex);return this.getNextStickyPosition(c)||{rowIndex:a+1,rowPinned:u}},i.prototype.getNextStickyPosition=function(n,a){if(this.gridOptionsService.is("groupRowsSticky")&&n&&n.sticky){var u=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Va(arguments[i]));return p}(this.rowRenderer.getStickyTopRowCtrls()).sort(function(T,M){return T.getRowNode().rowIndex-M.getRowNode().rowIndex}),c=a?-1:1,v=u.findIndex(function(T){return T.getRowNode().rowIndex===n.rowIndex}),C=u[v+c];if(C)return{rowIndex:C.getRowNode().rowIndex,rowPinned:null}}},i.prototype.getCellBelow=function(n){if(!n)return null;var a=this.getRowBelow(n);return a?{rowIndex:a.rowIndex,column:n.column,rowPinned:a.rowPinned}:null},i.prototype.isLastRowInContainer=function(n){var a=n.rowPinned,u=n.rowIndex;return"top"===a?this.pinnedRowModel.getPinnedTopRowData().length-1<=u:"bottom"===a?this.pinnedRowModel.getPinnedBottomRowData().length-1<=u:this.paginationProxy.getPageLastRow()<=u},i.prototype.getRowAbove=function(n){var a=n.rowIndex,u=n.rowPinned;if(u?0===a:a===this.paginationProxy.getPageFirstRow())return"top"===u?null:u&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var v=this.rowModel.getRow(n.rowIndex);return this.getNextStickyPosition(v,!0)||{rowIndex:a-1,rowPinned:u}},i.prototype.getCellAbove=function(n){if(!n)return null;var a=this.getRowAbove({rowIndex:n.rowIndex,rowPinned:n.rowPinned});return a?{rowIndex:a.rowIndex,column:n.column,rowPinned:a.rowPinned}:null},i.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},i.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},i.prototype.getNextTabbedCell=function(n,a){return a?this.getNextTabbedCellBackwards(n):this.getNextTabbedCellForwards(n)},i.prototype.getNextTabbedCellForwards=function(n){var a=this.columnModel.getAllDisplayedColumns(),u=n.rowIndex,c=n.rowPinned,v=this.columnModel.getDisplayedColAfter(n.column);if(!v){v=a[0];var C=this.getRowBelow(n);if(s(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;u=C?C.rowIndex:null,c=C?C.rowPinned:null}return{rowIndex:u,column:v,rowPinned:c}},i.prototype.getNextTabbedCellBackwards=function(n){var a=this.columnModel.getAllDisplayedColumns(),u=n.rowIndex,c=n.rowPinned,v=this.columnModel.getDisplayedColBefore(n.column);if(!v){v=wr(a);var C=this.getRowAbove({rowIndex:n.rowIndex,rowPinned:n.rowPinned});if(s(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;u=C?C.rowIndex:null,c=C?C.rowPinned:null}return{rowIndex:u,column:v,rowPinned:c}},ps([ae("columnModel")],i.prototype,"columnModel",void 0),ps([ae("rowModel")],i.prototype,"rowModel",void 0),ps([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),ps([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),ps([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),ps([lt("cellNavigationService")],i)}(nt),cf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qu=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},jy=function(p,i){return function(n,a){i(n,a,p)}},Ky=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.consuming=!1,n}return cf(i,p),i.prototype.setBeans=function(n){this.logger=n.create("AlignedGridsService")},i.prototype.init=function(){this.addManagedListener(this.eventService,z.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,z.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},i.prototype.fireEvent=function(n){if(!this.consuming){var a=this.gridOptionsService.get("alignedGrids");a&&a.forEach(function(u){if(u.api){var c=u.api.__getAlignedGridService();n(c)}})}},i.prototype.onEvent=function(n){this.consuming=!0,n(),this.consuming=!1},i.prototype.fireColumnEvent=function(n){this.fireEvent(function(a){a.onColumnEvent(n)})},i.prototype.fireScrollEvent=function(n){"horizontal"===n.direction&&this.fireEvent(function(a){a.onScrollEvent(n)})},i.prototype.onScrollEvent=function(n){var a=this;this.onEvent(function(){a.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(n.left)})},i.prototype.getMasterColumns=function(n){var a=[];return n.columns?n.columns.forEach(function(u){a.push(u)}):n.column&&a.push(n.column),a},i.prototype.getColumnIds=function(n){var a=[];return n.columns?n.columns.forEach(function(u){a.push(u.getColId())}):n.column&&a.push(n.column.getColId()),a},i.prototype.onColumnEvent=function(n){var a=this;this.onEvent(function(){switch(n.type){case z.EVENT_COLUMN_MOVED:case z.EVENT_COLUMN_VISIBLE:case z.EVENT_COLUMN_PINNED:case z.EVENT_COLUMN_RESIZED:a.processColumnEvent(n);break;case z.EVENT_COLUMN_GROUP_OPENED:a.processGroupOpenedEvent(n);break;case z.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},i.prototype.processGroupOpenedEvent=function(n){var a=n.columnGroup,u=null;if(a){var c=a.getGroupId();u=this.columnModel.getProvidedColumnGroup(c)}a&&!u||(this.logger.log("onColumnEvent-> processing "+n+" expanded = "+a.isExpanded()),this.columnModel.setColumnGroupOpened(u,a.isExpanded(),"alignedGridChanged"))},i.prototype.processColumnEvent=function(n){var u,a=this,c=n.column,v=null;if(c&&(v=this.columnModel.getPrimaryColumn(c.getColId())),!c||v){var C=this.getMasterColumns(n);switch(n.type){case z.EVENT_COLUMN_MOVED:var T=n,F=n.columnApi.getColumnState().map(function(Ue){return{colId:Ue.colId}});this.columnModel.applyColumnState({state:F,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" toIndex = "+T.toIndex);break;case z.EVENT_COLUMN_VISIBLE:var $=n;F=n.columnApi.getColumnState().map(function(st){return{colId:st.colId,hide:st.hide}}),this.columnModel.applyColumnState({state:F},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" visible = "+$.visible);break;case z.EVENT_COLUMN_PINNED:var ne=n;F=n.columnApi.getColumnState().map(function(st){return{colId:st.colId,pinned:st.pinned}}),this.columnModel.applyColumnState({state:F},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" pinned = "+ne.pinned);break;case z.EVENT_COLUMN_RESIZED:var pe=n,me={};C.forEach(function(Ue){a.logger.log("onColumnEvent-> processing "+n.type+" actualWidth = "+Ue.getActualWidth()),me[Ue.getId()]={key:Ue.getColId(),newWidth:Ue.getActualWidth()}}),null===(u=pe.flexColumns)||void 0===u||u.forEach(function(Ue){me[Ue.getId()]&&delete me[Ue.getId()]}),this.columnModel.setColumnWidths(Object.values(me),!1,pe.finished,"alignedGridChanged")}var Ae=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),He=this.gridOptionsService.get("alignedGrids");He&&He.forEach(function(Ue){Ue.api&&Ue.api.setAlwaysShowVerticalScroll(Ae)})}},qu([ae("columnModel")],i.prototype,"columnModel",void 0),qu([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),qu([jy(0,Zt("loggerFactory"))],i.prototype,"setBeans",null),qu([Xe],i.prototype,"init",null),qu([lt("alignedGridsService")],i)}(nt),uE=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zu=function(){return Zu=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Zu.apply(this,arguments)},Ju=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},dd=function(p,i){return function(n,a){i(n,a,p)}},pd=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return uE(i,p),i.prototype.setBeans=function(n){this.logger=n.create("selectionService"),this.reset()},i.prototype.init=function(){var n=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",function(a){return n.groupSelectsChildren=a.currentValue}),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(a){return n.rowSelection=a.currentValue}),this.addManagedListener(this.eventService,z.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},i.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},i.prototype.setNodeSelected=function(n){var a,u=n.newValue,c=n.clearSelection,v=n.suppressFinishActions,C=n.rangeSelect,T=n.node,M=n.source,F=void 0===M?"api":M,$=this.groupSelectsChildren&&!0===n.groupSelectsFiltered;if(void 0===T.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(T.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(T.footer)return this.setNodeSelected(Zu(Zu({},n),{node:T.sibling}));var ne=this.getLastSelectedNode();if(C&&ne&&ne!==T&&this.isMultiselect()){var me=this.selectRange(T,ne,n.newValue,F);return this.setLastSelectedNode(T),me}var Ae=0;return $&&T.group||T.selectThisNode(u,n.event,F)&&Ae++,this.groupSelectsChildren&&!(null===(a=T.childrenAfterGroup)||void 0===a)&&a.length&&(Ae+=this.selectChildren(T,u,$,F)),v||(u&&(c||!this.isMultiselect())&&(Ae+=this.clearOtherNodes(T,F)),Ae>0&&(this.updateGroupsFromChildrenSelections(F),this.eventService.dispatchEvent({type:z.EVENT_SELECTION_CHANGED,source:F})),u&&this.setLastSelectedNode(T)),Ae},i.prototype.selectRange=function(n,a,u,c){var v=this;void 0===u&&(u=!0);var C=this.rowModel.getNodesInRangeForSelection(n,a),T=0;return C.forEach(function(F){F.group&&v.groupSelectsChildren||!1===u&&n===F||F.selectThisNode(u,void 0,c)&&T++}),this.updateGroupsFromChildrenSelections(c),this.eventService.dispatchEvent({type:z.EVENT_SELECTION_CHANGED,source:c}),T},i.prototype.selectChildren=function(n,a,u,c){var v=u?n.childrenAfterAggFilter:n.childrenAfterGroup;if(Wt.missing(v))return 0;for(var C=0,T=0;T<v.length;T++)C+=v[T].setSelectedParams({newValue:a,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:u,source:c});return C},i.prototype.setLastSelectedNode=function(n){this.lastSelectedNode=n},i.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},i.prototype.getSelectedNodes=function(){var n=[];return B(this.selectedNodes,function(a,u){u&&n.push(u)}),n},i.prototype.getSelectedRows=function(){var n=[];return B(this.selectedNodes,function(a,u){u&&u.data&&n.push(u.data)}),n},i.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},i.prototype.filterFromSelection=function(n){var a={};Object.entries(this.selectedNodes).forEach(function(u){var c=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c}(u,2),v=c[0],C=c[1];C&&n(C)&&(a[v]=C)}),this.selectedNodes=a},i.prototype.updateGroupsFromChildrenSelections=function(n,a){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;var c=this.rowModel.getRootNode();a||(a=new ad(!0,c)).setInactive();var v=!1;return a.forEachChangedNodeDepthFirst(function(C){if(C!==c){var T=C.calculateSelectedFromChildren();v=C.selectThisNode(null!==T&&T,void 0,n)||v}}),v},i.prototype.clearOtherNodes=function(n,a){var u=this,c={},v=0;return B(this.selectedNodes,function(C,T){T&&T.id!==n.id&&(v+=u.selectedNodes[T.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:a}),u.groupSelectsChildren&&T.parent&&(c[T.parent.id]=T.parent))}),B(c,function(C,T){var M=T.calculateSelectedFromChildren();T.selectThisNode(null!==M&&M,void 0,a)}),v},i.prototype.onRowSelected=function(n){var a=n.node;this.groupSelectsChildren&&a.group||(a.isSelected()?this.selectedNodes[a.id]=a:delete this.selectedNodes[a.id])},i.prototype.syncInRowNode=function(n,a){this.syncInOldRowNode(n,a),this.syncInNewRowNode(n)},i.prototype.syncInOldRowNode=function(n,a){o(a)&&n.id!==a.id&&a&&this.selectedNodes[a.id]==n&&(this.selectedNodes[a.id]=a)},i.prototype.syncInNewRowNode=function(n){o(this.selectedNodes[n.id])?(n.setSelectedInitialValue(!0),this.selectedNodes[n.id]=n):n.setSelectedInitialValue(!1)},i.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},i.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var a=this.rowModel.getTopLevelNodes();if(null!==a){var u=[];return function c(v){for(var C=0,T=v.length;C<T;C++){var M=v[C];M.isSelected()?u.push(M):M.group&&M.children&&c(M.children)}}(a),u}}},i.prototype.isEmpty=function(){var n=0;return B(this.selectedNodes,function(a,u){u&&n++}),0===n},i.prototype.deselectAllRowNodes=function(n){var a=function(M){return M.selectThisNode(!1,void 0,c)},u="clientSide"===this.rowModel.getType(),c=n.source,v=n.justFiltered,C=n.justCurrentPage;if(C||v){if(!u)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(v,C).forEach(a)}else B(this.selectedNodes,function(M,F){F&&a(F)}),this.reset();u&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(c),this.eventService.dispatchEvent({type:z.EVENT_SELECTION_CHANGED,source:c})},i.prototype.getSelectAllState=function(n,a){var u=this,c=0,v=0;return this.getNodesToSelect(n,a).forEach(function(T){u.groupSelectsChildren&&T.group||(T.isSelected()?c++:T.selectable&&v++)}),(0!==c||0!==v)&&(c>0&&v>0?null:c>0)},i.prototype.getNodesToSelect=function(n,a){var u=this;if(void 0===n&&(n=!1),void 0===a&&(a=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var c=[];if(a)return this.paginationProxy.forEachNodeOnPage(function(C){if(C.group)if(C.expanded)u.groupSelectsChildren||c.push(C);else{var T=function(M){var F;c.push(M),null!==(F=M.childrenAfterFilter)&&void 0!==F&&F.length&&M.childrenAfterFilter.forEach(T)};T(C)}else c.push(C)}),c;var v=this.rowModel;return n?(v.forEachNodeAfterFilter(function(C){c.push(C)}),c):(v.forEachNode(function(C){c.push(C)}),c)},i.prototype.selectAllRowNodes=function(n){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var a=n.source;this.getNodesToSelect(n.justFiltered,n.justCurrentPage).forEach(function(T){return T.selectThisNode(!0,void 0,a)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(a),this.eventService.dispatchEvent({type:z.EVENT_SELECTION_CHANGED,source:a})},i.prototype.getServerSideSelectionState=function(){return null},i.prototype.setServerSideSelectionState=function(n){},Ju([ae("rowModel")],i.prototype,"rowModel",void 0),Ju([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),Ju([dd(0,Zt("loggerFactory"))],i.prototype,"setBeans",null),Ju([Xe],i.prototype,"init",null),Ju([lt("selectionService")],i)}(nt),kg=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},zy=function(){function p(){}return p.prototype.sizeColumnsToFit=function(i){typeof i>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(i,"api")},p.prototype.setColumnGroupOpened=function(i,n){this.columnModel.setColumnGroupOpened(i,n,"api")},p.prototype.getColumnGroup=function(i,n){return this.columnModel.getColumnGroup(i,n)},p.prototype.getProvidedColumnGroup=function(i){return this.columnModel.getProvidedColumnGroup(i)},p.prototype.getDisplayNameForColumn=function(i,n){return this.columnModel.getDisplayNameForColumn(i,n)||""},p.prototype.getDisplayNameForColumnGroup=function(i,n){return this.columnModel.getDisplayNameForColumnGroup(i,n)||""},p.prototype.getColumn=function(i){return this.columnModel.getPrimaryColumn(i)},p.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},p.prototype.applyColumnState=function(i){return this.columnModel.applyColumnState(i,"api")},p.prototype.getColumnState=function(){return this.columnModel.getColumnState()},p.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},p.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},p.prototype.setColumnGroupState=function(i){this.columnModel.setColumnGroupState(i,"api")},p.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},p.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},p.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},p.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},p.prototype.getDisplayedColAfter=function(i){return this.columnModel.getDisplayedColAfter(i)},p.prototype.getDisplayedColBefore=function(i){return this.columnModel.getDisplayedColBefore(i)},p.prototype.setColumnVisible=function(i,n){this.columnModel.setColumnVisible(i,n,"api")},p.prototype.setColumnsVisible=function(i,n){this.columnModel.setColumnsVisible(i,n,"api")},p.prototype.setColumnPinned=function(i,n){this.columnModel.setColumnPinned(i,n,"api")},p.prototype.setColumnsPinned=function(i,n){this.columnModel.setColumnsPinned(i,n,"api")},p.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},p.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},p.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},p.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},p.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},p.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},p.prototype.moveColumn=function(i,n){this.columnModel.moveColumn(i,n,"api")},p.prototype.moveColumnByIndex=function(i,n){this.columnModel.moveColumnByIndex(i,n,"api")},p.prototype.moveColumns=function(i,n){this.columnModel.moveColumns(i,n,"api")},p.prototype.moveRowGroupColumn=function(i,n){this.columnModel.moveRowGroupColumn(i,n)},p.prototype.setColumnAggFunc=function(i,n){this.columnModel.setColumnAggFunc(i,n)},p.prototype.setColumnWidth=function(i,n,a,u){void 0===a&&(a=!0),this.columnModel.setColumnWidths([{key:i,newWidth:n}],!1,a,u)},p.prototype.setColumnWidths=function(i,n,a){void 0===n&&(n=!0),this.columnModel.setColumnWidths(i,!1,n,a)},p.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},p.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},p.prototype.getPivotResultColumn=function(i,n){return this.columnModel.getSecondaryPivotColumn(i,n)},p.prototype.setValueColumns=function(i){this.columnModel.setValueColumns(i,"api")},p.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},p.prototype.removeValueColumn=function(i){this.columnModel.removeValueColumn(i,"api")},p.prototype.removeValueColumns=function(i){this.columnModel.removeValueColumns(i,"api")},p.prototype.addValueColumn=function(i){this.columnModel.addValueColumn(i,"api")},p.prototype.addValueColumns=function(i){this.columnModel.addValueColumns(i,"api")},p.prototype.setRowGroupColumns=function(i){this.columnModel.setRowGroupColumns(i,"api")},p.prototype.removeRowGroupColumn=function(i){this.columnModel.removeRowGroupColumn(i,"api")},p.prototype.removeRowGroupColumns=function(i){this.columnModel.removeRowGroupColumns(i,"api")},p.prototype.addRowGroupColumn=function(i){this.columnModel.addRowGroupColumn(i,"api")},p.prototype.addRowGroupColumns=function(i){this.columnModel.addRowGroupColumns(i,"api")},p.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},p.prototype.setPivotColumns=function(i){this.columnModel.setPivotColumns(i,"api")},p.prototype.removePivotColumn=function(i){this.columnModel.removePivotColumn(i,"api")},p.prototype.removePivotColumns=function(i){this.columnModel.removePivotColumns(i,"api")},p.prototype.addPivotColumn=function(i){this.columnModel.addPivotColumn(i,"api")},p.prototype.addPivotColumns=function(i){this.columnModel.addPivotColumns(i,"api")},p.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},p.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},p.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},p.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},p.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},p.prototype.autoSizeColumn=function(i,n){return this.columnModel.autoSizeColumn(i,n,"api")},p.prototype.autoSizeColumns=function(i,n){this.columnModel.autoSizeColumns({columns:i,skipHeader:n})},p.prototype.autoSizeAllColumns=function(i){this.columnModel.autoSizeAllColumns(i,"api")},p.prototype.setPivotResultColumns=function(i){this.columnModel.setSecondaryColumns(i,"api")},p.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},p.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Wt.removeAllReferences.bind(window,this,"Column API"),100)},p.prototype.getAllColumns=function(){return ur("28.0","getAllColumns","getColumns"),this.getColumns()},p.prototype.getOriginalColumnGroup=function(i){return ur("27.0","getOriginalColumnGroup","getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(i)},p.prototype.getPrimaryColumns=function(){return ur("28.0","getPrimaryColumns","getColumns"),this.getColumns()},p.prototype.getSecondaryColumns=function(){return ur("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},p.prototype.setSecondaryColumns=function(i){ur("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(i)},p.prototype.getSecondaryPivotColumn=function(i,n){return ur("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(i,n)},kg([ae("columnModel")],p.prototype,"columnModel",void 0),kg([ct],p.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),kg([lt("columnApi")],p)}(),Vg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Nl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Yy=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.initialised=!1,n}return Vg(i,p),i.prototype.init=function(){var n=this;this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(z.EVENT_CELL_VALUE_CHANGED,function(a){return n.callColumnCellValueChangedHandler(a)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(a){return n.isTreeData=a.currentValue})},i.prototype.getValue=function(n,a,u,c){if(void 0===u&&(u=!1),void 0===c&&(c=!1),this.initialised||this.init(),a){var F,v=n.getColDef(),C=v.field,T=n.getColId(),M=a.data,$=a.groupData&&void 0!==a.groupData[T],ne=!c&&a.aggData&&void 0!==a.aggData[T];if(u&&v.filterValueGetter?F=this.executeFilterValueGetter(v.filterValueGetter,M,n,a):this.isTreeData&&ne?F=a.aggData[T]:this.isTreeData&&v.valueGetter?F=this.executeValueGetter(v.valueGetter,M,n,a):this.isTreeData&&C&&M?F=Me(M,C,n.isFieldContainsDots()):$?F=a.groupData[T]:ne?F=a.aggData[T]:v.valueGetter?F=this.executeValueGetter(v.valueGetter,M,n,a):C&&M&&(F=Me(M,C,n.isFieldContainsDots())),this.cellExpressions&&"string"==typeof F&&0===F.indexOf("=")){var pe=F.substring(1);F=this.executeValueGetter(pe,M,n,a)}if(null==F){var me=this.getOpenedGroup(a,n);if(null!=me)return me}return F}},i.prototype.getOpenedGroup=function(n,a){if(this.gridOptionsService.is("showOpenedGroup")&&a.getColDef().showRowGroup)for(var c=a.getColDef().showRowGroup,v=n.parent;null!=v;){if(v.rowGroupColumn&&(!0===c||c===v.rowGroupColumn.getColId()))return v.key;v=v.parent}},i.prototype.setValue=function(n,a,u,c){var v=this.columnModel.getPrimaryColumn(a);if(!n||!v)return!1;s(n.data)&&(n.data={});var C=v.getColDef(),T=C.field,M=C.valueSetter;if(s(T)&&s(M))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var $,F={node:n,data:n.data,oldValue:this.getValue(v,n),newValue:u,colDef:v.getColDef(),column:v,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return F.newValue=u,void 0===($=o(M)?"function"==typeof M?M(F):this.expressionService.evaluate(M,F):this.setValueUsingField(n.data,T,u,v.isFieldContainsDots()))&&($=!0),!!$&&(n.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),F.newValue=this.getValue(v,n),this.eventService.dispatchEvent({type:z.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:F.column,api:F.api,columnApi:F.columnApi,colDef:F.colDef,context:F.context,data:n.data,node:n,oldValue:F.oldValue,newValue:F.newValue,value:F.newValue,source:c}),!0)},i.prototype.callColumnCellValueChangedHandler=function(n){var a=n.colDef.onCellValueChanged;"function"==typeof a&&a({node:n.node,data:n.data,oldValue:n.oldValue,newValue:n.newValue,colDef:n.colDef,column:n.column,api:n.api,columnApi:n.columnApi,context:n.context})},i.prototype.setValueUsingField=function(n,a,u,c){if(!a)return!1;var v=!1;if(c)for(var C=a.split("."),T=n;C.length>0&&T;){var M=C.shift();0===C.length?(v=T[M]==u)||(T[M]=u):T=T[M]}else(v=n[a]==u)||(n[a]=u);return!v},i.prototype.executeFilterValueGetter=function(n,a,u,c){var v={data:a,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,c)};return"function"==typeof n?n(v):this.expressionService.evaluate(n,v)},i.prototype.executeValueGetter=function(n,a,u,c){var v=u.getColId(),C=this.valueCache.getValue(c,v);if(void 0!==C)return C;var M,T={data:a,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,c)};return M="function"==typeof n?n(T):this.expressionService.evaluate(n,T),this.valueCache.setValue(c,v,M),M},i.prototype.getValueCallback=function(n,a){var u=this.columnModel.getPrimaryColumn(a);return u?this.getValue(u,n):null},i.prototype.getKeyForNode=function(n,a){var u=this.getValue(n,a),c=n.getColDef().keyCreator,v=u;return c&&(v=c({value:u,colDef:n.getColDef(),column:n,node:a,data:a.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof v||null==v||"[object Object]"===(v=String(v))&&_e(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),v},Nl([ae("expressionService")],i.prototype,"expressionService",void 0),Nl([ae("columnModel")],i.prototype,"columnModel",void 0),Nl([ae("valueCache")],i.prototype,"valueCache",void 0),Nl([Xe],i.prototype,"init",null),Nl([lt("valueService")],i)}(nt),Xy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),df=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Hg=function(p,i){return function(n,a){i(n,a,p)}},ec=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.expressionToFunctionCache={},n}return Xy(i,p),i.prototype.setBeans=function(n){this.logger=n.create("ExpressionService")},i.prototype.evaluate=function(n,a){if("string"==typeof n)return this.evaluateExpression(n,a);console.error("AG Grid: value should be either a string or a function",n)},i.prototype.evaluateExpression=function(n,a){try{return this.createExpressionFunction(n)(a.value,a.context,a.oldValue,a.newValue,a.value,a.node,a.data,a.colDef,a.rowIndex,a.api,a.columnApi,a.getValue,a.column,a.columnGroup)}catch(v){return console.log("Processing of the expression failed"),console.log("Expression = "+n),console.log("Params =",a),console.log("Exception = "+v),null}},i.prototype.createExpressionFunction=function(n){if(this.expressionToFunctionCache[n])return this.expressionToFunctionCache[n];var a=this.createFunctionBody(n),u=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",a);return this.expressionToFunctionCache[n]=u,u},i.prototype.createFunctionBody=function(n){return n.indexOf("return")>=0?n:"return "+n+";"},df([Hg(0,Zt("loggerFactory"))],i.prototype,"setBeans",null),df([lt("expressionService")],i)}(nt),qy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Wg=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.templateCache={},n.waitingCallbacks={},n}return qy(i,p),i.prototype.getTemplate=function(n,a){var u=this.templateCache[n];if(u)return u;var c=this.waitingCallbacks[n],v=this;if(!c){this.waitingCallbacks[n]=c=[];var C=new XMLHttpRequest;C.onload=function(){v.handleHttpResult(this,n)},C.open("GET",n),C.send()}return a&&c.push(a),null},i.prototype.handleHttpResult=function(n,a){if(200===n.status&&null!==n.response){this.templateCache[a]=n.response||n.responseText;for(var u=this.waitingCallbacks[a],c=0;c<u.length;c++)(0,u[c])()}else console.warn("AG Grid: Unable to get template error "+n.status+" - "+a)},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("templateService")],i),i}(nt),Zy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$g=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},tc=function(p,i){return function(n,a){i(n,a,p)}},Jy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Zy(i,p),i.prototype.setBeans=function(n){this.logging=n.is("debug")},i.prototype.create=function(n){return new jg(n,this.isLogging.bind(this))},i.prototype.isLogging=function(){return this.logging},$g([tc(0,Zt("gridOptionsService"))],i.prototype,"setBeans",null),$g([lt("loggerFactory")],i)}(nt),jg=function(){function p(i,n){this.name=i,this.isLoggingFunc=n}return p.prototype.isLogging=function(){return this.isLoggingFunc()},p.prototype.log=function(i){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+i)},p}(),Qy=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},em=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Qy(i,p),i.prototype.setComp=function(n,a,u){var c=this;this.view=n,this.eGridHostDiv=a,this.eGui=u,this.dragAndDropService.addDropTarget({getContainer:function(){return c.eGui},isInterestedIn:function(C){return C===yn.HeaderCell||C===yn.ToolPanel},getIconName:function(){return pi.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(a),this.createManagedBean(new Ou(this.view)),this.addRtlSupport(),this.addManagedListener(this,z.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,z.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var v=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return v()}),this.ctrlsService.registerGridCtrl(this)},i.prototype.isDetailGrid=function(){var n,a=this.focusService.findTabbableParent(this.getGui());return(null===(n=a?.getAttribute("row-id"))||void 0===n?void 0:n.startsWith("detail"))||!1},i.prototype.showDropZones=function(){return Et.isRegistered(rt.RowGroupingModule)},i.prototype.showSideBar=function(){return Et.isRegistered(rt.SideBarModule)},i.prototype.showStatusBar=function(){return Et.isRegistered(rt.StatusBarModule)},i.prototype.showWatermark=function(){return Et.isRegistered(rt.EnterpriseCoreModule)},i.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:z.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},i.prototype.addRtlSupport=function(){var n=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(n)},i.prototype.destroyGridUi=function(){this.view.destroyGridUi()},i.prototype.getGui=function(){return this.eGui},i.prototype.setResizeCursor=function(n){this.view.setCursor(n?"ew-resize":null)},i.prototype.disableUserSelect=function(n){this.view.setUserSelect(n?"none":null)},i.prototype.focusNextInnerContainer=function(n){var a=this.gridOptionsService.getDocument(),u=this.view.getFocusableContainers(),v=u.findIndex(function(C){return C.contains(a.activeElement)})+(n?-1:1);return!(v<=0||v>=u.length)&&this.focusService.focusInto(u[v])},i.prototype.focusInnerElement=function(n){var a=this.view.getFocusableContainers(),u=this.columnModel.getAllDisplayedColumns();if(n){if(a.length>1)return this.focusService.focusInto(wr(a),!0);var c=wr(u);if(this.focusService.focusGridView(c,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(u[0]):this.focusService.focusFirstHeader()},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1),this.view.forceFocusOutOfContainer(n)},Fl([ae("focusService")],i.prototype,"focusService",void 0),Fl([ae("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Fl([ae("columnModel")],i.prototype,"columnModel",void 0),Fl([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),Fl([ae("mouseEventService")],i.prototype,"mouseEventService",void 0),Fl([ae("dragAndDropService")],i.prototype,"dragAndDropService",void 0),i}(nt),tm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},rm=function(p){function i(n){var a=p.call(this)||this;return a.eGridDiv=n,a}return tm(i,p),i.prototype.postConstruct=function(){var n=this;this.logger=this.loggerFactory.create("GridComp");var a={destroyGridUi:function(){return n.destroyBean(n)},setRtlClass:function(c){return n.addCssClass(c)},addOrRemoveKeyboardFocusClass:function(c){return n.addOrRemoveCssClass(Yu.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){n.getGui().style.userSelect=c??"",n.getGui().style.webkitUserSelect=c??""},setCursor:function(c){n.getGui().style.cursor=c??""}};this.ctrl=this.createManagedBean(new em);var u=this.createTemplate();this.setTemplate(u),this.ctrl.setComp(a,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return n.ctrl.focusInnerElement(c)}})},i.prototype.insertGridIntoDom=function(){var n=this,a=this.getGui();this.eGridDiv.appendChild(a),this.addDestroyFunc(function(){n.eGridDiv.removeChild(a),n.logger.log("Grid removed from DOM")})},i.prototype.updateLayoutClasses=function(n,a){var u=this.eRootWrapperBody.classList;u.toggle(dn.AUTO_HEIGHT,a.autoHeight),u.toggle(dn.NORMAL,a.normal),u.toggle(dn.PRINT,a.print),this.addOrRemoveCssClass(dn.AUTO_HEIGHT,a.autoHeight),this.addOrRemoveCssClass(dn.NORMAL,a.normal),this.addOrRemoveCssClass(dn.PRINT,a.print)},i.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.getFocusableContainers=function(){var n=[this.gridBodyComp.getGui()];return this.sideBarComp&&n.push(this.sideBarComp.getGui()),n.filter(function(a){return Vt(a)})},rc([ae("loggerFactory")],i.prototype,"loggerFactory",void 0),rc([gt("gridBody")],i.prototype,"gridBodyComp",void 0),rc([gt("sideBar")],i.prototype,"sideBarComp",void 0),rc([gt("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),rc([Xe],i.prototype,"postConstruct",null),i}(Wu),nm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pf=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Gl=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},nc=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Gl(arguments[i]));return p},fd=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}var n;return nm(i,p),n=i,i.prototype.progressSort=function(a,u,c){var v=this.getNextSortDirection(a);this.setSortForColumn(a,v,u,c)},i.prototype.setSortForColumn=function(a,u,c,v){"asc"!==u&&"desc"!==u&&(u=null);var T=[a];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&a.getColDef().showRowGroup){a.getColDef().field||(T=[]);var M=this.columnModel.getSourceColumnsForGroupColumn(a),F=M?.filter(function(ne){return ne.getColDef().sortable});F&&(T=nc(T,F))}T.forEach(function(ne){return ne.setSort(u,v)}),(c||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(T,v),this.updateSortIndex(a),this.dispatchSortChangedEvents(v)},i.prototype.updateSortIndex=function(a){var u=this.gridOptionsService.isColumnsSortingCoupledToGroup(),c=this.columnModel.getGroupDisplayColumnForGroup(a.getId()),v=u&&c||a,C=this.getColumnsWithSortingOrdered(!0);this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(F){return F.setSortIndex(null)});var T=C.filter(function(F){return F!==v});(v.getSort()?nc(T,[v]):T).forEach(function(F,$){return F.setSortIndex($)})},i.prototype.onSortChanged=function(a){this.dispatchSortChangedEvents(a)},i.prototype.isSortActive=function(){var u=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return u&&u.length>0},i.prototype.dispatchSortChangedEvents=function(a){this.eventService.dispatchEvent({type:z.EVENT_SORT_CHANGED,source:a})},i.prototype.clearSortBarTheseColumns=function(a,u){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){a.includes(c)||c.setSort(void 0,u)})},i.prototype.getNextSortDirection=function(a){var u;if(u=a.getColDef().sortingOrder?a.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):n.DEFAULT_SORTING_ORDER,!Array.isArray(u)||u.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+u),null;var c=a.getColDef().field?a.getSort():this.getDisplaySortForColumn(a),v=u[0];if("mixed"!==c){var C=u.indexOf(c);v=C<0||C==u.length-1?u[0]:u[C+1]}return n.DEFAULT_SORTING_ORDER.indexOf(v)<0?(console.warn("AG Grid: invalid sort type "+v),null):v},i.prototype.getIndexedSortMap=function(a){var u=this;void 0===a&&(a=!1);var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(F){return!!F.getSort()});!a&&this.columnModel.isPivotMode()&&(c=c.filter(function(F){return!!F.getAggFunc()||!F.isPrimary()||u.columnModel.getGroupDisplayColumnForGroup(F.getId())}));var v=this.columnModel.getRowGroupColumns().filter(function(F){return!!F.getSort()}),C=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!v.length;C&&(c=nc(new Set(c.map(function(F){var $;return null!==($=u.columnModel.getGroupDisplayColumnForGroup(F.getId()))&&void 0!==$?$:F}))));var T={};c.forEach(function(F,$){return T[F.getId()]=$}),c.sort(function(F,$){var ne=F.getSortIndex(),pe=$.getSortIndex();return null!=ne&&null!=pe?ne-pe:null==ne&&null==pe?T[F.getId()]>T[$.getId()]?1:-1:null==pe?-1:1});var M=new Map;return c.forEach(function(F,$){return M.set(F,$)}),C&&v.forEach(function(F){var $=u.columnModel.getGroupDisplayColumnForGroup(F.getId());M.set(F,M.get($))}),M},i.prototype.getColumnsWithSortingOrdered=function(a){return void 0===a&&(a=!1),nc(this.getIndexedSortMap(a).entries()).sort(function(u,c){return Gl(u,2)[1]-Gl(c,2)[1]}).map(function(u){return Gl(u,1)[0]})},i.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered(!0).map(function(a){return{sort:a.getSort(),colId:a.getId()}})},i.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),column:a}})},i.prototype.canColumnDisplayMixedSort=function(a){var u=this.gridOptionsService.isColumnsSortingCoupledToGroup(),c=!!a.getColDef().showRowGroup;return u&&c},i.prototype.getDisplaySortForColumn=function(a){var u=this.columnModel.getSourceColumnsForGroupColumn(a);if(!this.canColumnDisplayMixedSort(a)||!u?.length)return a.getSort();var v=a.getColDef().field?nc([a],u):u,C=v[0].getSort();return v.every(function(M){return M.getSort()==C})?C:"mixed"},i.prototype.getDisplaySortIndexForColumn=function(a){return this.getIndexedSortMap().get(a)},i.DEFAULT_SORTING_ORDER=["asc","desc",null],pf([ae("columnModel")],i.prototype,"columnModel",void 0),n=pf([lt("sortController")],i)}(nt),im=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),am=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return im(i,p),i.prototype.setMouseOver=function(n){this.selectedColumns=n,this.eventService.dispatchEvent({type:z.EVENT_COLUMN_HOVER_CHANGED})},i.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:z.EVENT_COLUMN_HOVER_CHANGED})},i.prototype.isHovered=function(n){return!!this.selectedColumns&&this.selectedColumns.indexOf(n)>=0},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("columnHoverService")],i),i}(nt),sm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ff=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},lm=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.executeNextFuncs=[],n.executeLaterFuncs=[],n.active=!1,n.animationThreadCount=0,n}return sm(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){return n.gridBodyCtrl=a.gridBodyCtrl})},i.prototype.isActive=function(){return this.active},i.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},i.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},i.prototype.executeNextVMTurn=function(n){this.active?this.executeNextFuncs.push(n):n()},i.prototype.executeLaterVMTurn=function(n){this.active?this.executeLaterFuncs.push(n):n()},i.prototype.ensureAnimationCssClassPresent=function(){var n=this;this.animationThreadCount++;var a=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){n.animationThreadCount===a&&n.gridBodyCtrl.setColumnMovingCss(!1)})},i.prototype.flush=function(){var n=this.executeNextFuncs;this.executeNextFuncs=[];var a=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==n.length||0!==a.length)&&(window.setTimeout(function(){return n.forEach(function(u){return u()})},0),window.setTimeout(function(){return a.forEach(function(u){return u()})},300))},ff([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),ff([Xe],i.prototype,"postConstruct",null),ff([lt("columnAnimationService")],i)}(nt),um=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hd=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Kg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return um(i,p),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.centerRowContainerCon=a.centerRowContainerCtrl,n.addManagedListener(n.eventService,z.EVENT_BODY_HEIGHT_CHANGED,n.checkPageSize.bind(n)),n.addManagedListener(n.eventService,z.EVENT_SCROLL_VISIBILITY_CHANGED,n.checkPageSize.bind(n)),n.checkPageSize()})},i.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon},i.prototype.checkPageSize=function(){var n=this;if(!this.notActive()){var a=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(a>0){var u=function(){var c=n.gridOptionsService.getRowHeightAsNumber(),v=Math.floor(a/c);n.gridOptionsService.set("paginationPageSize",v)};this.isBodyRendered?Pt(function(){return u()},50)():(u(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},hd([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),hd([Xe],i.prototype,"postConstruct",null),hd([lt("paginationAutoPageSizeService")],i)}(nt),cm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),dm=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},zg=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.cacheVersion=0,n}return cm(i,p),i.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},i.prototype.onDataChanged=function(){this.neverExpires||this.expire()},i.prototype.expire=function(){this.cacheVersion++},i.prototype.setValue=function(n,a,u){this.active&&(n.__cacheVersion!==this.cacheVersion&&(n.__cacheVersion=this.cacheVersion,n.__cacheData={}),n.__cacheData[a]=u)},i.prototype.getValue=function(n,a){if(this.active&&n.__cacheVersion===this.cacheVersion)return n.__cacheData[a]},dm([Xe],i.prototype,"init",null),dm([lt("valueCache")],i)}(nt),Yg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hf=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},pm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Yg(i,p),i.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,z.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},i.prototype.onCellValueChanged=function(n){"paste"!==n.source&&this.doChangeDetection(n.node,n.column)},i.prototype.doChangeDetection=function(n,a){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!n.isRowPinned()){var u=this.gridOptionsService.is("aggregateOnlyChangedColumns"),c=new ad(u,this.clientSideRowModel.getRootNode());c.addParentNode(n.parent,[a]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},hf([ae("rowModel")],i.prototype,"rowModel",void 0),hf([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),hf([Xe],i.prototype,"init",null),hf([lt("changeDetectionService")],i)}(nt),fm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vd=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},hm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return fm(i,p),i.prototype.adaptFunction=function(n,a){var u=this.componentMetadataProvider.retrieve(n);return u&&u.functionAdapter?u.functionAdapter(a):null},i.prototype.adaptCellRendererFunction=function(n){return function(){function u(){}return u.prototype.refresh=function(c){return!1},u.prototype.getGui=function(){return this.eGui},u.prototype.init=function(c){var v=n(c),C=typeof v;this.eGui="string"!==C&&"number"!==C&&"boolean"!==C?null!=v?v:zt("<span></span>"):zt("<span>"+v+"</span>")},u}()},i.prototype.doesImplementIComponent=function(n){return!!n&&n.prototype&&"getGui"in n.prototype},vd([ae("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),vd([lt("agComponentUtils")],i)}(nt),Ea=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zs=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Ii=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Ea(i,p),i.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},i.prototype.retrieve=function(n){return this.componentMetaData[n]},zs([ae("agComponentUtils")],i.prototype,"agComponentUtils",void 0),zs([Xe],i.prototype,"postConstruct",null),zs([lt("componentMetadataProvider")],i)}(nt),Ys=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Bl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Io=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},Hl={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},qs={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ul=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.calculatedSizes={},n}return Ys(i,p),i.prototype.postConstruct=function(){var a,n=this,u=null!==(a=this.getTheme().el)&&void 0!==a?a:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){n.calculatedSizes={},n.fireGridStylesChangedEvent()}),this.mutationObserver.observe(u||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},i.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:z.EVENT_GRID_STYLES_CHANGED})},i.prototype.getSassVariable=function(n){var a=this.getTheme(),u=a.themeFamily,c=a.el;if(u&&0===u.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[u]||(this.calculatedSizes[u]={}),this.calculatedSizes[u][n]??(this.calculatedSizes[u][n]=this.calculateValueForSassProperty(n,u,c),this.calculatedSizes[u][n])},i.prototype.calculateValueForSassProperty=function(n,a,u){var c,v="ag-theme-"+(a.match("material")?"material":a.match("balham")?"balham":a.match("alpine")?"alpine":"custom"),C=Hl[v][n],T=this.gridOptionsService.getDocument();if(u||(u=this.eGridDiv),!qs[n])return C;var M=qs[n],F=T.createElement("div"),$=Array.from(u.classList);(c=F.classList).add.apply(c,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Io(arguments[i]));return p}([a],$)),F.style.position="absolute";var ne=M.reduce(function(Te,Ae){var He=T.createElement("div");return He.style.position="static",He.classList.add(Ae),Te.appendChild(He),He},F),pe=0;if(T.body){T.body.appendChild(F);var me=-1!==n.toLowerCase().indexOf("height")?"height":"width";pe=parseInt(window.getComputedStyle(ne)[me],10),T.body.removeChild(F)}return pe||C},i.prototype.isThemeDark=function(){var n=this.getTheme().theme;return!!n&&n.indexOf("dark")>=0},i.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},i.prototype.getTheme=function(){for(var n=/\bag-(material|(?:theme-([\w\-]*)))\b/g,a=this.eGridDiv,u=null,c=[];a;){if(u=n.exec(a.className)){var v=a.className.match(n);v&&(c=v);break}a=a.parentElement||void 0}if(!u)return{allThemes:c};var C=u[0];return{theme:C,el:a,themeFamily:C.replace(/-dark$/,""),allThemes:c}},i.prototype.getFromTheme=function(n,a){var u;return null!==(u=this.getSassVariable(a))&&void 0!==u?u:n},i.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},i.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},i.prototype.setRowHeightVariable=function(n){var u=n+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=u&&this.eGridDiv.style.setProperty("--ag-line-height",u)},i.prototype.getMinColWidth=function(){var n=this.getFromTheme(null,"headerCellMinWidth");return o(n)?Math.max(n,10):10},i.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),p.prototype.destroy.call(this)},Bl([ae("eGridDiv")],i.prototype,"eGridDiv",void 0),Bl([Xe],i.prototype,"postConstruct",null),Bl([lt("environment")],i)}(nt),Xg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ic=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},qg=function(p,i){return function(n,a){i(n,a,p)}},Zg=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.scrollY=0,n.uiBodyHeight=0,n}return Xg(i,p),i.prototype.agWire=function(n){this.logger=n.create("RowContainerHeightService")},i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,z.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=ui(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},i.prototype.isStretching=function(){return this.stretching},i.prototype.getDivStretchOffset=function(){return this.divStretchOffset},i.prototype.updateOffset=function(){if(this.stretching){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,u=this.getUiBodyHeight();(a!==this.scrollY||u!==this.uiBodyHeight)&&(this.scrollY=a,this.uiBodyHeight=u,this.calculateOffset())}},i.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var n=this.scrollY/this.maxScrollY,a=n*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+a+" ("+this.pixelsToShave+" * "+n+")"),this.setDivStretchOffset(a)},i.prototype.setUiContainerHeight=function(n){n!==this.uiContainerHeight&&(this.uiContainerHeight=n,this.eventService.dispatchEvent({type:z.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},i.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},i.prototype.setDivStretchOffset=function(n){var a="number"==typeof n?Math.floor(n):null;this.divStretchOffset!==a&&(this.divStretchOffset=a,this.eventService.dispatchEvent({type:z.EVENT_HEIGHT_SCALE_CHANGED}))},i.prototype.setModelHeight=function(n){this.modelHeight=n,this.stretching=null!=n&&this.maxDivHeight>0&&n>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},i.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},i.prototype.getRealPixelPosition=function(n){return n-this.divStretchOffset},i.prototype.getUiBodyHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return a.bottom-a.top},i.prototype.getScrollPositionForPixel=function(n){if(this.pixelsToShave<=0)return n;var a=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(n/a)},ic([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),ic([qg(0,Zt("loggerFactory"))],i.prototype,"agWire",null),ic([Xe],i.prototype,"postConstruct",null),ic([lt("rowContainerHeightService")],i)}(nt),Jg=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vf=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Qg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Jg(i,p),i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},i.prototype.updateSelectableAfterGrouping=function(n){this.isRowSelectableFunc&&this.recurseDown(n.childrenAfterGroup,function(u){return u.childrenAfterGroup})},i.prototype.recurseDown=function(n,a){var u=this;n&&n.forEach(function(c){var v;c.group&&(c.hasChildren()&&u.recurseDown(a(c),a),v=u.groupSelectsChildren?o((a(c)||[]).find(function(T){return!0===T.selectable})):!!u.isRowSelectableFunc&&u.isRowSelectableFunc(c),c.setRowSelectable(v))})},vf([Xe],i.prototype,"init",null),vf([lt("selectableService")],i)}(nt),ev=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fo=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},_f=function(p){function i(){var n=p.call(this)||this;return n.previousAndFirstButtonsDisabled=!1,n.nextButtonDisabled=!1,n.lastButtonDisabled=!1,n.areListenersSetup=!1,n}return ev(i,p),i.prototype.postConstruct=function(){var n=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",wn(n?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",wn(n?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",wn(n?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",wn(n?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},i.prototype.onPaginationChanged=function(){var a=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(a),a&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},i.prototype.setupListeners=function(){var n=this;this.areListenersSetup||(this.addManagedListener(this.eventService,z.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(a){var u=a.el,c=a.fn;n.addManagedListener(u,"click",c),n.addManagedListener(u,"keydown",function(v){(v.key===Je.ENTER||v.key===Je.SPACE)&&(v.preventDefault(),c())})}),this.areListenersSetup=!0)},i.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},i.prototype.setCurrentPageLabel=function(){var n=this.paginationProxy.getTotalPages()>0,a=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(n?a+1:0)},i.prototype.formatNumber=function(n){var a=this.gridOptionsService.getCallback("paginationNumberFormatter");if(a)return a({value:n});var c=this.localeService.getLocaleTextFunc();return Un(n,c("thousandSeparator",","),c("decimalSeparator","."))},i.prototype.getTemplate=function(){var n=this.localeService.getLocaleTextFunc(),a=n("page","Page"),u=n("to","to"),c=n("of","of"),v=n("firstPage","First Page"),C=n("previousPage","Previous Page"),T=n("nextPage","Next Page"),M=n("lastPage","Last Page"),F=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+F+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+F+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+F+'-to">'+u+'</span>\n                    <span id="ag-'+F+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+F+'-of">'+c+'</span>\n                    <span id="ag-'+F+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+v+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+C+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+F+'-start-page">'+a+'</span>\n                        <span id="ag-'+F+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+F+'-of-page">'+c+'</span>\n                        <span id="ag-'+F+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+T+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+M+'"></div>\n                </span>\n            </div>'},i.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},i.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},i.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},i.prototype.enableOrDisableButtons=function(){var n=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.isLastPageFound(),u=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===n,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=a&&n===u-1||c,this.lastButtonDisabled=!a||c||n===u-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},i.prototype.toggleButtonDisabled=function(n,a){Mn(n,a),n.classList.toggle("ag-disabled",a),a?n.removeAttribute("tabindex"):n.setAttribute("tabindex","0")},i.prototype.updateRowLabels=function(){var v,C,n=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.getPageSize(),u=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?v=C=0:(C=(v=a*n+1)+a-1,u&&C>c&&(C=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(v),this.rowNodeBlockLoader.isLoading()){var T=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=T("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(C)},i.prototype.isZeroPagesToDisplay=function(){var n=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages();return n&&0===a},i.prototype.setTotalLabels=function(){var n=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages(),u=n?this.paginationProxy.getMasterRowCount():null;if(1===u){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(n)this.lbTotal.innerHTML=this.formatNumber(a),this.lbRecordCount.innerHTML=this.formatNumber(u);else{var C=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=C,this.lbRecordCount.innerHTML=C}},i.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},fo([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),fo([ae("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),fo([gt("btFirst")],i.prototype,"btFirst",void 0),fo([gt("btPrevious")],i.prototype,"btPrevious",void 0),fo([gt("btNext")],i.prototype,"btNext",void 0),fo([gt("btLast")],i.prototype,"btLast",void 0),fo([gt("lbRecordCount")],i.prototype,"lbRecordCount",void 0),fo([gt("lbFirstRowOnPage")],i.prototype,"lbFirstRowOnPage",void 0),fo([gt("lbLastRowOnPage")],i.prototype,"lbLastRowOnPage",void 0),fo([gt("lbCurrent")],i.prototype,"lbCurrent",void 0),fo([gt("lbTotal")],i.prototype,"lbTotal",void 0),fo([Xe],i.prototype,"postConstruct",null),i}(lr),gm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),oc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Sa=(()=>((Sa=Sa||{})[Sa.Loading=0]="Loading",Sa[Sa.NoRows=1]="NoRows",Sa))(),vm=function(p){function i(){var n=p.call(this,i.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n.manuallyDisplayed=!1,n}return gm(i,p),i.prototype.updateLayoutClasses=function(n,a){var u=this.eOverlayWrapper.classList;u.toggle(dn.AUTO_HEIGHT,a.autoHeight),u.toggle(dn.NORMAL,a.normal),u.toggle(dn.PRINT,a.print)},i.prototype.postConstruct=function(){this.createManagedBean(new Ou(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,z.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,z.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},i.prototype.setWrapperTypeClass=function(n){var a=this.eOverlayWrapper.classList;a.toggle("ag-overlay-loading-wrapper",n===Sa.Loading),a.toggle("ag-overlay-no-rows-wrapper",n===Sa.NoRows)},i.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var u=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,Sa.Loading)}},i.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var u=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,Sa.NoRows)}},i.prototype.showOverlay=function(n,a){var u=this;this.inProgress||(this.setWrapperTypeClass(a),this.destroyActiveOverlay(),this.inProgress=!0,n&&n.then(function(c){u.inProgress=!1,u.eOverlayWrapper.appendChild(c.getGui()),u.activeOverlay=c,u.destroyRequested&&(u.destroyRequested=!1,u.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},i.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),ze(this.eOverlayWrapper))},i.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},i.prototype.destroy=function(){this.destroyActiveOverlay(),p.prototype.destroy.call(this)},i.prototype.showOrHideOverlay=function(){var n=this.paginationProxy.isEmpty(),a=this.gridOptionsService.is("suppressNoRowsOverlay");n&&!a?this.showNoRowsOverlay():this.hideOverlay()},i.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},i.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},i.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',oc([ae("userComponentFactory")],i.prototype,"userComponentFactory",void 0),oc([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),oc([ae("gridApi")],i.prototype,"gridApi",void 0),oc([ae("columnModel")],i.prototype,"columnModel",void 0),oc([gt("eOverlayWrapper")],i.prototype,"eOverlayWrapper",void 0),oc([Xe],i.prototype,"postConstruct",null),i}(lr),_m=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yf=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ym=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return _m(i,p),i.prototype.getFirstRow=function(){var a,n=0;return this.pinnedRowModel.getPinnedTopRowCount()?a="top":this.rowModel.getRowCount()?(a=null,n=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(a="bottom"),void 0===a?null:{rowIndex:n,rowPinned:a}},i.prototype.getLastRow=function(){var n,a=null,u=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return u?(a="bottom",n=u-1):this.rowModel.getRowCount()?(a=null,n=this.paginationProxy.getPageLastRow()):c&&(a="top",n=c-1),void 0===n?null:{rowIndex:n,rowPinned:a}},i.prototype.getRowNode=function(n){switch(n.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},i.prototype.sameRow=function(n,a){return!n&&!a||!(n&&!a||!n&&a)&&n.rowIndex===a.rowIndex&&n.rowPinned==a.rowPinned},i.prototype.before=function(n,a){switch(n.rowPinned){case"top":if("top"!==a.rowPinned)return!0;break;case"bottom":if("bottom"!==a.rowPinned)return!1;break;default:if(o(a.rowPinned))return"top"!==a.rowPinned}return n.rowIndex<a.rowIndex},i.prototype.rowMax=function(n){var u,a=this;return n.forEach(function(c){(void 0===u||a.before(u,c))&&(u=c)}),u},i.prototype.rowMin=function(n){var u,a=this;return n.forEach(function(c){(void 0===u||a.before(c,u))&&(u=c)}),u},yf([ae("rowModel")],i.prototype,"rowModel",void 0),yf([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),yf([ae("paginationProxy")],i.prototype,"paginationProxy",void 0),yf([lt("rowPositionUtils")],i)}(nt),cE=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return cE(i,p),i.prototype.createId=function(n){return this.createIdFromValues({rowIndex:n.rowIndex,column:n.column,rowPinned:n.rowPinned})},i.prototype.createIdFromValues=function(n){return n.rowIndex+"."+(n.rowPinned??"null")+"."+n.column.getId()},i.prototype.equals=function(n,a){return n.column===a.column&&n.rowPinned===a.rowPinned&&n.rowIndex===a.rowIndex},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("cellPositionUtils")],i),i}(nt),Em=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zs=function p(i){this.cellValueChanges=i},Js=function(p){function i(n,a,u,c){var v=p.call(this,n)||this;return v.initialRange=a,v.finalRange=u,v.ranges=c,v}return Em(i,p),i}(Zs),yd=function(){function p(i){this.actionStack=[],this.maxStackSize=i||p.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return p.prototype.pop=function(){return this.actionStack.pop()},p.prototype.push=function(i){i.cellValueChanges&&i.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(i))},p.prototype.clear=function(){this.actionStack=[]},p.prototype.getCurrentStackSize=function(){return this.actionStack.length},p.DEFAULT_STACK_SIZE=10,p}(),md=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ac=function(){return ac=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},ac.apply(this,arguments)},qi=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},tv=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},sc=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.cellValueChanges=[],n.activeCellEdit=null,n.activeRowEdit=null,n.isPasting=!1,n.isRangeInAction=!1,n.onCellValueChanged=function(a){var u={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned},c=null!==n.activeCellEdit&&n.cellPositionUtils.equals(n.activeCellEdit,u),v=null!==n.activeRowEdit&&n.rowPositionUtils.sameRow(n.activeRowEdit,u);if(c||v||n.isPasting||n.isRangeInAction){var $=a.oldValue,ne=a.value,pe={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:a.column.getColId(),newValue:ne,oldValue:$};n.cellValueChanges.push(pe)}},n.clearStacks=function(){n.undoStack.clear(),n.redoStack.clear()},n}return md(i,p),i.prototype.init=function(){var n=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var a=this.gridOptionsService.getNum("undoRedoCellEditingLimit");a<=0||(this.undoStack=new yd(a),this.redoStack=new yd(a),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,z.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,z.EVENT_MODEL_UPDATED,function(u){u.keepUndoRedoStack||n.clearStacks()}),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,z.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,z.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,z.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,z.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,z.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){n.gridBodyCtrl=n.ctrlsService.getGridBodyCtrl()}))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(n){this.eventService.dispatchEvent({type:z.EVENT_UNDO_STARTED,source:n});var u=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:z.EVENT_UNDO_ENDED,source:n,operationPerformed:u})},i.prototype.redo=function(n){this.eventService.dispatchEvent({type:z.EVENT_REDO_STARTED,source:n});var u=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:z.EVENT_REDO_ENDED,source:n,operationPerformed:u})},i.prototype.undoRedo=function(n,a,u,c,v){if(!n)return!1;var C=n.pop();return!(!C||!C.cellValueChanges||(this.processAction(C,function(T){return T[c]},v),C instanceof Js?this.processRange(C.ranges||[C[u]]):this.processCell(C.cellValueChanges),a.push(C),0))},i.prototype.processAction=function(n,a,u){var c=this;n.cellValueChanges.forEach(function(v){var M=v.columnId,$=c.getRowNode({rowIndex:v.rowIndex,rowPinned:v.rowPinned});$.displayed&&$.setDataValue(M,a(v),u)})},i.prototype.processRange=function(n){var u,a=this;this.rangeService.removeAllCellRanges(!0),n.forEach(function(c,v){if(c){var C=c.startRow,T=c.endRow;v===n.length-1&&(u={rowPinned:C.rowPinned,rowIndex:C.rowIndex,columnId:c.startColumn.getColId()},a.setLastFocusedCell(u)),a.rangeService.addCellRange({rowStartIndex:C.rowIndex,rowStartPinned:C.rowPinned,rowEndIndex:T.rowIndex,rowEndPinned:T.rowPinned,columnStart:c.startColumn,columns:c.columns})}})},i.prototype.processCell=function(n){var a=n[0],C=this.getRowNode({rowIndex:a.rowIndex,rowPinned:a.rowPinned});this.setLastFocusedCell({rowPinned:a.rowPinned,rowIndex:C.rowIndex,columnId:a.columnId},!!this.rangeService)},i.prototype.setLastFocusedCell=function(n,a){var u=n.rowIndex,c=n.columnId,v=n.rowPinned,C=this.gridBodyCtrl.getScrollFeature(),T=this.columnModel.getGridColumn(c);if(T){C.ensureIndexVisible(u),C.ensureColumnVisible(T);var M={rowIndex:u,column:T,rowPinned:v};this.focusService.setFocusedCell(ac(ac({},M),{forceBrowserFocus:!0})),a&&this.rangeService.setRangeToCell(M)}},i.prototype.addRowEditingListeners=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_ROW_EDITING_STARTED,function(a){n.activeRowEdit={rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,z.EVENT_ROW_EDITING_STOPPED,function(){var a=new Zs(n.cellValueChanges);n.pushActionsToUndoStack(a),n.activeRowEdit=null})},i.prototype.addCellEditingListeners=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_CELL_EDITING_STARTED,function(a){n.activeCellEdit={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,z.EVENT_CELL_EDITING_STOPPED,function(a){if(n.activeCellEdit=null,a.valueChanged&&!n.activeRowEdit&&!n.isPasting&&!n.isRangeInAction){var c=new Zs(n.cellValueChanges);n.pushActionsToUndoStack(c)}})},i.prototype.addPasteListeners=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_PASTE_START,function(){n.isPasting=!0}),this.addManagedListener(this.eventService,z.EVENT_PASTE_END,function(){var a=new Zs(n.cellValueChanges);n.pushActionsToUndoStack(a),n.isPasting=!1})},i.prototype.addFillListeners=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_FILL_START,function(){n.isRangeInAction=!0}),this.addManagedListener(this.eventService,z.EVENT_FILL_END,function(a){var u=new Js(n.cellValueChanges,a.initialRange,a.finalRange);n.pushActionsToUndoStack(u),n.isRangeInAction=!1})},i.prototype.addCellKeyListeners=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){n.isRangeInAction=!0}),this.addManagedListener(this.eventService,z.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var a;a=n.rangeService&&n.gridOptionsService.isEnableRangeSelection()?new Js(n.cellValueChanges,void 0,void 0,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(tv(arguments[i]));return p}(n.rangeService.getCellRanges())):new Zs(n.cellValueChanges),n.pushActionsToUndoStack(a),n.isRangeInAction=!1})},i.prototype.pushActionsToUndoStack=function(n){this.undoStack.push(n),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(n){switch(n.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},qi([ae("focusService")],i.prototype,"focusService",void 0),qi([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),qi([ae("rowModel")],i.prototype,"rowModel",void 0),qi([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),qi([ae("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),qi([ae("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),qi([ae("columnModel")],i.prototype,"columnModel",void 0),qi([Tt("rangeService")],i.prototype,"rangeService",void 0),qi([Xe],i.prototype,"init",null),qi([lt("undoRedoService")],i)}(nt),Om=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),mf=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},wm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Om(i,p),i.prototype.findHeader=function(n,a){var u;if(u=n.column instanceof Sn?this.columnModel["getDisplayedGroup"+a](n.column):this.columnModel["getDisplayedCol"+a](n.column)){var C=n.headerRowIndex;if(this.getHeaderRowType(C)===Fn.COLUMN_GROUP){var M=u;if(M.isPadding()&&this.isAnyChildSpanningHeaderHeight(M)){var F=this.getColumnVisibleChild(M,C,a),$=F.nextFocusColumn;$&&(u=$,C=F.nextRow)}}return{column:u,headerRowIndex:C}}},i.prototype.isAnyChildSpanningHeaderHeight=function(n){return!!n&&n.getLeafColumns().some(function(a){return a.isSpanHeaderHeight()})},i.prototype.getColumnVisibleParent=function(n,a){var u=this.getHeaderRowType(a),v=u===Fn.COLUMN,C=u===Fn.FLOATING_FILTER?n:n.getParent(),T=a-1;if(v&&this.isAnyChildSpanningHeaderHeight(n.getParent())){for(;C&&C.isPadding();)C=C.getParent(),T--;T<0&&(C=n,T=a)}return{nextFocusColumn:C,nextRow:T}},i.prototype.getColumnVisibleChild=function(n,a,u){void 0===u&&(u="After");var v=n,C=a+1;if(this.getHeaderRowType(a)===Fn.COLUMN_GROUP){var T=n.getLeafColumns(),M="After"===u?T[0]:wr(T);if(this.isAnyChildSpanningHeaderHeight(M.getParent())){v=M;for(var F=M.getParent();F&&F!==n;)F=F.getParent(),C++}else v=n.getDisplayedChildren()[0]}return{nextFocusColumn:v,nextRow:C}},i.prototype.getHeaderRowType=function(n){var a=this.ctrlsService.getHeaderRowContainerCtrl();if(a)return a.getRowType(n)},i.prototype.findColAtEdgeForHeaderRow=function(n,a){var u=this.columnModel.getAllDisplayedColumns(),c=u["start"===a?0:u.length-1];if(c){var C=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(n);return C==Fn.COLUMN_GROUP?{headerRowIndex:n,column:this.columnModel.getColumnGroupAtLevel(c,n)}:{headerRowIndex:null==C?-1:n,column:c}}},mf([ae("columnModel")],i.prototype,"columnModel",void 0),mf([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),mf([lt("headerPositionUtils")],i)}(nt),Cf=function(){function p(){}return p.prototype.buildColumnDefs=function(i,n,a){var u=this,c=[],v={};return i.forEach(function(C){for(var M=!0,F=u.createDefFromColumn(C,n,a),$=C.getOriginalParent();$;){var ne=null;if($.isPadding())$=$.getOriginalParent();else{var pe=v[$.getGroupId()];if(pe){pe.children.push(F),M=!1;break}(ne=u.createDefFromGroup($))&&(ne.children=[F],v[ne.groupId]=ne,F=ne,$=$.getOriginalParent())}}M&&c.push(F)}),c},p.prototype.createDefFromGroup=function(i){var n=ee(i.getColGroupDef(),["children"]);return n&&(n.groupId=i.getGroupId()),n},p.prototype.createDefFromColumn=function(i,n,a){var u=ee(i.getColDef());return u.colId=i.getColId(),u.width=i.getActualWidth(),u.rowGroup=i.isRowGroupActive(),u.rowGroupIndex=i.isRowGroupActive()?n.indexOf(i):null,u.pivot=i.isPivotActive(),u.pivotIndex=i.isPivotActive()?a.indexOf(i):null,u.aggFunc=i.isValueActive()?i.getAggFunc():null,u.hide=!i.isVisible()||void 0,u.pinned=i.isPinned()?i.getPinned():null,u.sort=i.getSort()?i.getSort():null,u.sortIndex=null!=i.getSortIndex()?i.getSortIndex():null,u},p=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("columnDefFactory")],p),p}(),Wl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Cd=function(){function p(){}return p.prototype.getInitialRowClasses=function(i){var n=[];return o(i.extraCssClass)&&n.push(i.extraCssClass),n.push("ag-row"),n.push(i.rowFocused?"ag-row-focus":"ag-row-no-focus"),i.fadeRowIn&&n.push("ag-opacity-zero"),n.push(i.rowIsEven?"ag-row-even":"ag-row-odd"),i.rowNode.isRowPinned()&&n.push("ag-row-pinned"),i.rowNode.isSelected()&&n.push("ag-row-selected"),i.rowNode.footer&&n.push("ag-row-footer"),n.push("ag-row-level-"+i.rowLevel),i.rowNode.stub&&n.push("ag-row-loading"),i.fullWidthRow&&n.push("ag-full-width-row"),i.expandable&&(n.push("ag-row-group"),n.push(i.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),i.rowNode.dragging&&n.push("ag-row-dragging"),kt(n,this.processClassesFromGridOptions(i.rowNode)),kt(n,this.preProcessRowClassRules(i.rowNode)),n.push(i.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),i.firstRowOnPage&&n.push("ag-row-first"),i.lastRowOnPage&&n.push("ag-row-last"),i.fullWidthRow&&("left"===i.pinned&&n.push("ag-cell-last-left-pinned"),"right"===i.pinned&&n.push("ag-cell-first-right-pinned")),n},p.prototype.processClassesFromGridOptions=function(i){var n=[],a=function(T){"string"==typeof T?n.push(T):Array.isArray(T)&&T.forEach(function(M){return n.push(M)})},u=this.gridOptionsService.get("rowClass");if(u){if("function"==typeof u)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];a(u)}var c=this.gridOptionsService.getCallback("getRowClass");return c&&a(c({data:i.data,node:i,rowIndex:i.rowIndex})),n},p.prototype.preProcessRowClassRules=function(i){var n=[];return this.processRowClassRules(i,function(a){n.push(a)},function(a){}),n},p.prototype.processRowClassRules=function(i,n,a){var u={data:i.data,node:i,rowIndex:i.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),u,n,a)},p.prototype.calculateRowLevel=function(i){return i.group?i.level:i.parent?i.parent.level+1:0},Wl([ae("stylingService")],p.prototype,"stylingService",void 0),Wl([ae("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Wl([lt("rowCssClassCalculator")],p)}(),dE=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ed=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Pm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return dE(i,p),i.prototype.init=function(){var n=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(a){return n.isAccentedSort=a.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return n.primaryColumnsSortGroups=n.gridOptionsService.isColumnsSortingCoupledToGroup()})},i.prototype.doFullSort=function(n,a){var c=n.map(function(v,C){return{currentPos:C,rowNode:v}});return c.sort(this.compareRowNodes.bind(this,a)),c.map(function(v){return v.rowNode})},i.prototype.compareRowNodes=function(n,a,u){for(var c=a.rowNode,v=u.rowNode,C=0,T=n.length;C<T;C++){var pe,M=n[C],F="desc"===M.sort,$=this.getValue(c,M.column),ne=this.getValue(v,M.column),me=this.getComparator(M,c);if(pe=me?me($,ne,c,v,F):Wt.defaultComparator($,ne,this.isAccentedSort),!isNaN(pe)&&0!==pe)return"asc"===M.sort?pe:-1*pe}return a.currentPos-u.currentPos},i.prototype.getComparator=function(n,a){var u=n.column,c=u.getColDef().comparator;if(null!=c)return c;if(u.getColDef().showRowGroup){var v=!a.group&&u.getColDef().field;if(v){var C=this.columnModel.getPrimaryColumn(v);if(C)return C.getColDef().comparator}}},i.prototype.getValue=function(n,a){var u,c;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(a,n,!1,!1);if(n.rowGroupColumn===a){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(a.getColDef().keyCreator)return n.key;var M=null===(u=n.allLeafChildren)||void 0===u?void 0:u[0];return M?this.valueService.getValue(a,M,!1,!1):void 0}var F=this.columnModel.getGroupDisplayColumnForGroup(a.getId());return F?null===(c=n.groupData)||void 0===c?void 0:c[F.getId()]:void 0}return n.group&&a.getColDef().showRowGroup?void 0:this.valueService.getValue(a,n,!1,!1)},Ed([ae("valueService")],i.prototype,"valueService",void 0),Ed([ae("columnModel")],i.prototype,"columnModel",void 0),Ed([Xe],i.prototype,"init",null),Ed([lt("rowNodeSorter")],i)}(nt),Ef=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rv=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.ready=!1,a.readyCallbacks=[],a}var n;return Ef(i,p),n=i,i.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var a=this.createReadyParams();this.readyCallbacks.forEach(function(u){return u(a)}),this.readyCallbacks.length=0}},i.prototype.whenReady=function(a){this.ready?a(this.createReadyParams()):this.readyCallbacks.push(a)},i.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},i.prototype.registerFakeHScrollComp=function(a){this.fakeHScrollComp=a,this.checkReady()},i.prototype.registerFakeVScrollComp=function(a){this.fakeVScrollComp=a,this.checkReady()},i.prototype.registerGridHeaderCtrl=function(a){this.gridHeaderCtrl=a,this.checkReady()},i.prototype.registerCenterRowContainerCtrl=function(a){this.centerRowContainerCtrl=a,this.checkReady()},i.prototype.registerLeftRowContainerCtrl=function(a){this.leftRowContainerCtrl=a,this.checkReady()},i.prototype.registerRightRowContainerCtrl=function(a){this.rightRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopCenterRowContainerCtrl=function(a){this.topCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopLeftRowContainerCon=function(a){this.topLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopRightRowContainerCtrl=function(a){this.topRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerStickyTopCenterRowContainerCtrl=function(a){this.stickyTopCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerStickyTopLeftRowContainerCon=function(a){this.stickyTopLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerStickyTopRightRowContainerCtrl=function(a){this.stickyTopRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomCenterRowContainerCtrl=function(a){this.bottomCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomLeftRowContainerCtrl=function(a){this.bottomLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomRightRowContainerCtrl=function(a){this.bottomRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerHeaderContainer=function(a,u){switch(u){case"left":this.leftHeaderRowContainerCtrl=a;break;case"right":this.rightHeaderRowContainerCtrl=a;break;default:this.centerHeaderRowContainerCtrl=a}this.checkReady()},i.prototype.registerGridBodyCtrl=function(a){this.gridBodyCtrl=a,this.checkReady()},i.prototype.registerGridCtrl=function(a){this.gridCtrl=a,this.checkReady()},i.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},i.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},i.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},i.prototype.getGridCtrl=function(){return this.gridCtrl},i.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},i.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},i.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},i.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},i.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},i.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},i.prototype.getHeaderRowContainerCtrl=function(a){switch(a){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},i.NAME="ctrlsService",i=n=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt(n.NAME)],i),i}(nt),Tm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),nv=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.registry={},n}return Tm(i,p),i.prototype.register=function(n){this.registry[n.controllerName]=n.controllerClass},i.prototype.getInstance=function(n){var a=this.registry[n];if(null!=a)return new a},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("ctrlsFactory")],i),i}(nt),iv=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},ov=function(p){function i(n,a){var u=p.call(this,n)||this;return u.direction=a,u.hideTimeout=null,u}return iv(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,z.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Ft()||Rr())},i.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Uo(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},i.prototype.addActiveListenerToggles=function(){var n=this,c=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(v){return n.addManagedListener(c,v,function(){return n.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(v){return n.addManagedListener(c,v,function(){return n.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},i.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible()},i.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var n=this;this.addManagedListener(this.eventService,z.EVENT_BODY_SCROLL,function(a){a.direction===n.direction&&(null!==n.hideTimeout&&(window.clearTimeout(n.hideTimeout),n.hideTimeout=null),n.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,z.EVENT_BODY_SCROLL_END,function(){n.hideTimeout=window.setTimeout(function(){n.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),n.hideTimeout=null},400)})},i.prototype.getViewport=function(){return this.eViewport},i.prototype.getContainer=function(){return this.eContainer},lc([gt("eViewport")],i.prototype,"eViewport",void 0),lc([gt("eContainer")],i.prototype,"eContainer",void 0),lc([ae("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),lc([ae("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(lr),Rm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Am=function(p){function i(){return p.call(this,i.TEMPLATE,"horizontal")||this}return Rm(i,p),i.prototype.postConstruct=function(){var n=this;p.prototype.postConstruct.call(this);var a=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,a),this.addManagedListener(this.eventService,z.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",a),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Mu(function(u){return n.eContainer.style.width=u+"px"}))},i.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),p.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},i.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},i.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var n=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=n+"px"}},i.prototype.onScrollVisibilityChanged=function(){p.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},i.prototype.setFakeHScrollSpacerWidths=function(){var n=this.scrollVisibleService.isVerticalScrollShowing(),a=this.columnModel.getDisplayedColumnsRightWidth(),u=!this.enableRtl&&n,c=this.gridOptionsService.getScrollbarWidth();u&&(a+=c),Bi(this.eRightSpacer,a),this.eRightSpacer.classList.toggle("ag-scroller-corner",a<=c);var v=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&n&&(v+=c),Bi(this.eLeftSpacer,v),this.eLeftSpacer.classList.toggle("ag-scroller-corner",v<=c)},i.prototype.setScrollVisible=function(){var n=this.scrollVisibleService.isHorizontalScrollShowing(),a=this.invisibleScrollbar,u=this.gridOptionsService.is("suppressHorizontalScroll"),c=n&&this.gridOptionsService.getScrollbarWidth()||0,C=u?0:0===c&&a?16:c;this.addOrRemoveCssClass("ag-scrollbar-invisible",a),zo(this.getGui(),C),zo(this.eViewport,C),zo(this.eContainer,C),this.setDisplayed(n,{skipAriaHidden:!0})},i.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',uc([gt("eLeftSpacer")],i.prototype,"eLeftSpacer",void 0),uc([gt("eRightSpacer")],i.prototype,"eRightSpacer",void 0),uc([ae("columnModel")],i.prototype,"columnModel",void 0),uc([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),uc([Xe],i.prototype,"postConstruct",null),i}(ov),Sf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cc=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},xm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Sf(i,p),i.prototype.postConstruct=function(){var n=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedPropertyListener("domLayout",n)},i.prototype.checkContainerWidths=function(){var n=this.gridOptionsService.isDomLayout("print"),a=n?0:this.columnModel.getDisplayedColumnsLeftWidth(),u=n?0:this.columnModel.getDisplayedColumnsRightWidth();a!=this.leftWidth&&(this.leftWidth=a,this.eventService.dispatchEvent({type:z.EVENT_LEFT_PINNED_WIDTH_CHANGED})),u!=this.rightWidth&&(this.rightWidth=u,this.eventService.dispatchEvent({type:z.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},i.prototype.getPinnedRightWidth=function(){return this.rightWidth},i.prototype.getPinnedLeftWidth=function(){return this.leftWidth},cc([ae("columnModel")],i.prototype,"columnModel",void 0),cc([Xe],i.prototype,"postConstruct",null),cc([lt("pinnedWidthService")],i)}(nt),Sd=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qs=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Of=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.events=[],n}return Sd(i,p),i.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},i.prototype.dispatchExpanded=function(n){var a=this;null!=this.clientSideRowModel?(this.events.push(n),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){a.clientSideRowModel&&a.clientSideRowModel.onRowGroupOpened(),a.events.forEach(function(c){return a.eventService.dispatchEvent(c)}),a.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(n)},Qs([ae("animationFrameService")],i.prototype,"animationFrameService",void 0),Qs([ae("rowModel")],i.prototype,"rowModel",void 0),Qs([Xe],i.prototype,"postConstruct",null),Qs([lt("rowNodeEventThrottle")],i)}(nt),Od=function(){return Od=Object.assign||function(p){for(var i,n=1,a=arguments.length;n<a;n++)for(var u in i=arguments[n])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Od.apply(this,arguments)},vs=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},av=function(p,i){return function(n,a){i(n,a,p)}},Im=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c};function Pf(p){return!0===p||"true"===p}var sv=function(){function p(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Or}return Object.defineProperty(p.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),p.prototype.agWire=function(i,n){this.gridOptions.api=i,this.gridOptions.columnApi=n,this.api=i,this.columnApi=n},p.prototype.init=function(){this.gridOptionLookup=new Set(function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Im(arguments[i]));return p}($t.ALL_PROPERTIES,$t.EVENT_CALLBACKS));var i=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),i),this.getScrollbarWidth()},p.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},p.prototype.is=function(i){return Pf(this.gridOptions[i])},p.prototype.get=function(i){return this.gridOptions[i]},p.prototype.getNum=function(i){return function Df(p){return"number"==typeof p?p:"string"==typeof p?parseInt(p,10):void 0}(this.gridOptions[i])},p.prototype.getCallback=function(i){return this.mergeGridCommonParams(this.gridOptions[i])},p.prototype.exists=function(i){return o(this.gridOptions[i])},p.prototype.mergeGridCommonParams=function(i){var n=this;return i?function(u){var c=u;return c.api=n.api,c.columnApi=n.columnApi,c.context=n.context,i(c)}:i},p.prototype.set=function(i,n,a,u){if(void 0===a&&(a=!1),void 0===u&&(u={}),this.gridOptionLookup.has(i)){var c=this.gridOptions[i];if(a||c!==n){this.gridOptions[i]=n;var v=Od({type:i,currentValue:n,previousValue:c},u);this.propertyEventService.dispatchEvent(v)}}},p.prototype.addEventListener=function(i,n){this.propertyEventService.addEventListener(i,n)},p.prototype.removeEventListener=function(i,n){this.propertyEventService.removeEventListener(i,n)},p.prototype.globalEventHandler=function(i,n){if(!this.destroyed){var a=$t.getCallbackForEvent(i);"function"==typeof this.gridOptions[a]&&this.gridOptions[a](n)}},p.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var n="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ho();null!=n&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:z.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},p.prototype.isRowModelType=function(i){return this.gridOptions.rowModelType===i||"clientSide"===i&&s(this.gridOptions.rowModelType)},p.prototype.isDomLayout=function(i){var n;return(null!==(n=this.gridOptions.domLayout)&&void 0!==n?n:"normal")===i},p.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},p.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},p.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},p.prototype.getRowHeightForNode=function(i,n,a){if(void 0===n&&(n=!1),null==a&&(a=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:a,estimated:!0};var u={node:i,data:i.data},c=this.getCallback("getRowHeight")(u);if(this.isNumeric(c))return 0===c&&_e(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,c),estimated:!1}}return i.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:a,estimated:!1}},p.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},p.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||s(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var i=this.gridOptions.rowHeight;return i&&this.isNumeric(i)?(this.environment.setRowHeightVariable(i),i):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},p.prototype.isNumeric=function(i){return!isNaN(i)&&"number"==typeof i&&isFinite(i)},p.prototype.getDomDataKey=function(){return this.domDataKey},p.prototype.getDomData=function(i,n){var a=i[this.getDomDataKey()];return a?a[n]:void 0},p.prototype.setDomData=function(i,n,a){var u=this.getDomDataKey(),c=i[u];s(c)&&(i[u]=c={}),c[n]=a},p.prototype.getDocument=function(){var i=null;return this.gridOptions.getDocument&&o(this.gridOptions.getDocument)?i=this.gridOptions.getDocument():this.eGridDiv&&(i=this.eGridDiv.ownerDocument),i&&o(i)?i:document},p.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},p.prototype.getRowIdFunc=function(){var i=this.getCallback("getRowId");if(i)return i;var n=this.gridOptions.getRowNodeId;return n?function(a){return n(a.data)}:void 0},p.prototype.getAsyncTransactionWaitMillis=function(){return o(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},p.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},p.prototype.isTreeData=function(){return this.is("treeData")&&Et.assertRegistered(rt.RowGroupingModule,"Tree Data")},p.prototype.isMasterDetail=function(){return this.is("masterDetail")&&Et.assertRegistered(rt.MasterDetailModule,"masterDetail")},p.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&Et.isRegistered(rt.RangeSelectionModule)},p.prototype.isColumnsSortingCoupledToGroup=function(){var i=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!i?.comparator&&!this.isTreeData()},p.prototype.getGroupAggFiltering=function(){var i=this.gridOptions.groupAggFiltering;return"function"==typeof i?this.getCallback("groupAggFiltering"):Pf(i)?function(){return!0}:void 0},p.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?_i("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},p.prototype.isGroupUseEntireRow=function(i){return!i&&!!this.gridOptions.groupDisplayType&&_i("groupRows",this.gridOptions.groupDisplayType)},vs([ae("gridOptions")],p.prototype,"gridOptions",void 0),vs([ae("eventService")],p.prototype,"eventService",void 0),vs([ae("environment")],p.prototype,"environment",void 0),vs([ae("eGridDiv")],p.prototype,"eGridDiv",void 0),vs([av(0,Zt("gridApi")),av(1,Zt("columnApi"))],p.prototype,"agWire",null),vs([Xe],p.prototype,"init",null),vs([ct],p.prototype,"destroy",null),vs([lt("gridOptionsService")],p)}(),Lm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lv=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Lm(i,p),i.prototype.getLocaleTextFunc=function(){var n=this.gridOptionsService.getCallback("getLocaleText");if(n)return function(c,v,C){return n({key:c,defaultValue:v,variableValues:C})};var a=this.gridOptionsService.get("localeTextFunc");if(a)return a;var u=this.gridOptionsService.get("localeText");return function(c,v,C){var T=u&&u[c];if(T&&C&&C.length)for(var M=0;!(M>=C.length)&&-1!==T.indexOf("${variable}");)T=T.replace("${variable}",C[M++]);return T??v}},i=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}([lt("localeService")],i),i}(nt),bf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Tf=function(p){function i(){return p.call(this,i.TEMPLATE,"vertical")||this}return bf(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.createManagedBean(new Tp(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this)},i.prototype.setScrollVisible=function(){var n=this.scrollVisibleService.isVerticalScrollShowing(),a=this.invisibleScrollbar,u=n&&this.gridOptionsService.getScrollbarWidth()||0,c=0===u&&a?16:u;this.addOrRemoveCssClass("ag-scrollbar-invisible",a),Bi(this.getGui(),c),Bi(this.eViewport,c),Bi(this.eContainer,c),this.setDisplayed(n,{skipAriaHidden:!0})},i.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);u>3&&c&&Object.defineProperty(i,n,c)}([Xe],i.prototype,"postConstruct",null),i}(ov),cv=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},dv=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(cv(arguments[i]));return p},pv=function(){function p(i,n,a){n?(this.gridOptions=n,(new fv).create(i,n,function(u){var c=new rm(i);u.createBean(c)},void 0,a)):console.error("AG Grid: no gridOptions provided to the grid")}return p.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},p}(),fv=function(){function p(){}return p.prototype.create=function(i,n,a,u,c){var v=this,C=!!n.debug,T=this.getRegisteredModules(c),M=this.createBeansList(n.rowModelType,T),F=this.createProvidedBeans(i,n,c);if(M){var $={providedBeanInstances:F,beanClasses:M,debug:C},ne=new jg("AG Grid",function(){return n.debug}),pe=new jg("Context",function(){return $.debug}),me=new ir($,pe),Te=me.getBean("beans");this.registerModuleUserComponents(Te,T),this.registerStackComponents(Te,T),this.registerControllers(Te,T),a(me),Te.ctrlsService.whenReady(function(){v.setColumnsAndData(Te),v.dispatchGridReadyEvent(Te);var Ae=Et.isRegistered(rt.EnterpriseCoreModule);ne.log("initialised successfully, enterprise = "+Ae)}),u&&u(me)}},p.prototype.registerControllers=function(i,n){n.forEach(function(a){a.controllers&&a.controllers.forEach(function(u){return i.ctrlsFactory.register(u)})})},p.prototype.registerStackComponents=function(i,n){var a=this.createAgStackComponentsList(n);i.agStackComponentsRegistry.setupComponents(a)},p.prototype.getRegisteredModules=function(i){var n=i?i.modules:null,a=Et.getRegisteredModules(),u=[],c={};function v(C,T){(function M(F){c[F.moduleName]||(c[F.moduleName]=!0,u.push(F),Et.register(F,C))})(T),T.dependantModules&&T.dependantModules.forEach(v.bind(null,C))}return n&&n.forEach(v.bind(null,!0)),a&&a.forEach(v.bind(null,!Et.isPackageBased())),u},p.prototype.registerModuleUserComponents=function(i,n){this.extractModuleEntity(n,function(u){return u.userComponents?u.userComponents:[]}).forEach(function(u){i.userComponentRegistry.registerDefaultComponent(u.componentName,u.componentClass)})},p.prototype.createProvidedBeans=function(i,n,a){var u=a?a.frameworkOverrides:null;s(u)&&(u=new uf);var c={gridOptions:n,eGridDiv:i,globalEventListener:a?a.globalEventListener:null,frameworkOverrides:u};return a&&a.providedBeanInstances&&Object.assign(c,a.providedBeanInstances),c},p.prototype.createAgStackComponentsList=function(i){var n=[{componentName:"AgCheckbox",componentClass:cl},{componentName:"AgRadioButton",componentClass:hu},{componentName:"AgToggleButton",componentClass:bg},{componentName:"AgInputTextField",componentClass:To},{componentName:"AgInputTextArea",componentClass:ld},{componentName:"AgInputNumberField",componentClass:vu},{componentName:"AgInputRange",componentClass:ef},{componentName:"AgSelect",componentClass:Oc},{componentName:"AgSlider",componentClass:ud},{componentName:"AgGridBody",componentClass:ey},{componentName:"AgHeaderRoot",componentClass:_y},{componentName:"AgSortIndicator",componentClass:Fs},{componentName:"AgPagination",componentClass:_f},{componentName:"AgOverlayWrapper",componentClass:vm},{componentName:"AgGroupComponent",componentClass:rf},{componentName:"AgPanel",componentClass:sf},{componentName:"AgDialog",componentClass:xg},{componentName:"AgRowContainer",componentClass:xp},{componentName:"AgFakeHorizontalScroll",componentClass:Am},{componentName:"AgFakeVerticalScroll",componentClass:Tf}],a=this.extractModuleEntity(i,function(u){return u.agStackComponents?u.agStackComponents:[]});return n.concat(a)},p.prototype.createBeansList=function(i,n){void 0===i&&(i="clientSide");var a=n.filter(function(T){return!T.rowModel||T.rowModel===i}),u={clientSide:rt.ClientSideRowModelModule,infinite:rt.InfiniteRowModelModule,serverSide:rt.ServerSideRowModelModule,viewport:rt.ViewportRowModelModule};if(u[i]){if(Et.assertRegistered(u[i],"rowModelType = '"+i+"'")){var c=[Lh,ym,Cm,wm,Kg,A_,gh,hm,Ii,_g,Eh,Zg,yy,lv,li,wg,R_,wi,Or,sv,Ng,pd,Eu,Hn,nE,sE,Eg,ec,vo,Wg,Ky,Ru,zg,Yy,Jy,eo,Oy,Cy,pi,zy,Yu,ny,Ul,$y,Og,cs,ty,fd,am,lm,Qg,ra,pm,Ey,sc,ja,Cf,Cd,Zp,Pm,rv,xm,Of,nv],v=this.extractModuleEntity(a,function(T){return T.beans?T.beans:[]});c.push.apply(c,dv(v));var C=[];return c.forEach(function(T){C.indexOf(T)<0&&C.push(T)}),C}}else console.error("AG Grid: could not find row model for rowModelType = "+i)},p.prototype.extractModuleEntity=function(i,n){return[].concat.apply([],dv(i.map(n)))},p.prototype.setColumnsAndData=function(i){var n=i.gridOptionsService.get("columnDefs");i.columnModel.setColumnDefs(n||[],"gridInitializing"),i.rowModel.start()},p.prototype.dispatchGridReadyEvent=function(i){i.eventService.dispatchEvent({type:z.EVENT_GRID_READY})},p}(),hv=function(){function p(){}return p.prototype.wrap=function(i,n,a,u){var c=this;void 0===a&&(a=[]);var v=this.createWrapper(i,u);return n.forEach(function(C){c.createMethod(v,C,!0)}),a.forEach(function(C){c.createMethod(v,C,!1)}),v},p.prototype.unwrap=function(i){return i},p.prototype.createMethod=function(i,n,a){i.addMethod(n,this.createMethodProxy(i,n,a))},p.prototype.createMethodProxy=function(i,n,a){return function(){return i.hasMethod(n)?i.callMethod(n,arguments):(a&&console.warn("AG Grid: Framework component is missing the method "+n+"()"),null)}},p}(),gv={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},Fm=["chartSettings","chartData","chartFormat"],vv=["chartUnlink","chartLink","chartDownload"],_v={settings:"chartSettings",data:"chartData",format:"chartFormat"},el=typeof global>"u"?{}:global;el.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,el.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,el.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,el.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,el.Node=typeof Node>"u"?{}:Node,el.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Cv=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},Mf=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Cv(arguments[i]));return p},Ev=function(){function p(i,n,a,u,c,v){this.nextId=0,this.allNodesMap={},this.rootNode=i,this.gridOptionsService=n,this.eventService=a,this.columnModel=u,this.beans=v,this.selectionService=c,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=p.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return p.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},p.prototype.getCopyOfNodesMap=function(){return Wt.cloneObject(this.allNodesMap)},p.prototype.getRowNode=function(i){return this.allNodesMap[i]},p.prototype.setRowData=function(i){var n=this;if("string"!=typeof i){var a=this.rootNode,u=this.rootNode.sibling;a.childrenAfterFilter=null,a.childrenAfterGroup=null,a.childrenAfterAggFilter=null,a.childrenAfterSort=null,a.childrenMapped=null,a.updateHasChildren(),this.nextId=0,this.allNodesMap={},i?a.allLeafChildren=i.map(function(c){return n.createNode(c,n.rootNode,p.TOP_LEVEL)}):(a.allLeafChildren=[],a.childrenAfterGroup=[]),u&&(u.childrenAfterFilter=a.childrenAfterFilter,u.childrenAfterGroup=a.childrenAfterGroup,u.childrenAfterAggFilter=a.childrenAfterAggFilter,u.childrenAfterSort=a.childrenAfterSort,u.childrenMapped=a.childrenMapped,u.allLeafChildren=a.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},p.prototype.updateRowData=function(i,n){var a={remove:[],update:[],add:[]},u=[];return this.executeRemove(i,a,u),this.executeUpdate(i,a,u),this.executeAdd(i,a),this.updateSelection(u,"rowDataChanged"),n&&Wt.sortRowNodesByOrder(this.rootNode.allLeafChildren,n),a},p.prototype.updateSelection=function(i,n){var a=i.length>0;a&&i.forEach(function(c){c.setSelected(!1,!1,!0,n)}),this.selectionService.updateGroupsFromChildrenSelections(n),a&&this.eventService.dispatchEvent({type:z.EVENT_SELECTION_CHANGED,source:n})},p.prototype.executeAdd=function(i,n){var u,a=this,c=i.add,v=i.addIndex;if(!Wt.missingOrEmpty(c)){var C=c.map(function(me){return a.createNode(me,a.rootNode,p.TOP_LEVEL)});if("number"==typeof v&&v>=0){var T=this.rootNode.allLeafChildren,M=T.length,F=v;if(this.doingTreeData&&v>0&&M>0)for(var $=0;$<M;$++)if((null===(u=T[$])||void 0===u?void 0:u.rowIndex)==v-1){F=$+1;break}var ne=T.slice(0,F),pe=T.slice(F,T.length);this.rootNode.allLeafChildren=Mf(ne,C,pe)}else this.rootNode.allLeafChildren=Mf(this.rootNode.allLeafChildren,C);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),n.add=C}},p.prototype.executeRemove=function(i,n,a){var u=this,c=i.remove;if(!Wt.missingOrEmpty(c)){var v={};c.forEach(function(C){var T=u.lookupRowNode(C);T&&(T.isSelected()&&a.push(T),T.clearRowTopAndRowIndex(),v[T.id]=!0,delete u.allNodesMap[T.id],n.remove.push(T))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(C){return!v[C.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},p.prototype.executeUpdate=function(i,n,a){var u=this,c=i.update;Wt.missingOrEmpty(c)||c.forEach(function(v){var C=u.lookupRowNode(v);C&&(C.updateData(v),!C.selectable&&C.isSelected()&&a.push(C),u.setMasterForRow(C,v,p.TOP_LEVEL,!1),n.update.push(C))})},p.prototype.lookupRowNode=function(i){var a,n=this.gridOptionsService.getRowIdFunc();if(n){var u=n({data:i,level:0});if(!(a=this.allNodesMap[u]))return console.error("AG Grid: could not find row id="+u+", data item was not found for this id"),null}else if(!(a=this.rootNode.allLeafChildren.find(function(c){return c.data===i})))return console.error("AG Grid: could not find data item as object was not found",i),console.error("Consider using getRowId to help the Grid find matching row data"),null;return a||null},p.prototype.createNode=function(i,n,a){var u=new yr(this.beans);return u.group=!1,this.setMasterForRow(u,i,a,!0),n&&!this.suppressParentsInRowNodes&&(u.parent=n),u.level=a,u.setDataAndId(i,this.nextId.toString()),this.allNodesMap[u.id]&&console.warn("AG Grid: duplicate node id '"+u.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[u.id]=u,this.nextId++,u},p.prototype.setMasterForRow=function(i,n,a,u){if(this.doingTreeData)i.setMaster(!1),u&&(i.expanded=!1);else if(i.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(n))),u){var c=this.columnModel.getRowGroupColumns();i.expanded=!!i.master&&this.isExpanded(a+(c?c.length:0))}},p.prototype.isExpanded=function(i){var n=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===n||i<n},p.TOP_LEVEL=0,p.ROOT_NODE_ID="ROOT_NODE_ID",p}(),Sv=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Wi=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Ov=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c},dc=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ov(arguments[i]));return p},Rn=(()=>((Rn=Rn||{})[Rn.Normal=0]="Normal",Rn[Rn.AfterFilter=1]="AfterFilter",Rn[Rn.AfterFilterAndSort=2]="AfterFilterAndSort",Rn[Rn.PivotNodes=3]="PivotNodes",Rn))(),_s=function(p){function i(){var n=null!==p&&p.apply(this,arguments)||this;return n.onRowHeightChanged_debounced=Wt.debounce(n.onRowHeightChanged.bind(n),100),n.rowsToDisplay=[],n}return Sv(i,p),i.prototype.init=function(){var n=this.refreshModel.bind(this,{step:mr.EVERYTHING}),a=!this.gridOptionsService.is("suppressAnimationFrame"),u=this.refreshModel.bind(this,{step:mr.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:a});this.addManagedListener(this.eventService,z.EVENT_NEW_COLUMNS_LOADED,u),this.addManagedListener(this.eventService,z.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:mr.PIVOT})),this.addManagedListener(this.eventService,z.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,z.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var c=this.refreshModel.bind(this,{step:mr.MAP,keepRenderedRows:!0,animate:a});this.addManagedPropertyListener("groupRemoveSingleChildren",c),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",c),this.rootNode=new yr(this.beans),this.nodeManager=new Ev(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},i.prototype.start=function(){var n=this.gridOptionsService.get("rowData");n&&this.setRowData(n)},i.prototype.ensureRowHeightsValid=function(n,a,u,c){var v,C=!1;do{v=!1;for(var T=this.getRowIndexAtPixel(n),M=this.getRowIndexAtPixel(a),F=Math.max(T,u),$=Math.min(M,c),ne=F;ne<=$;ne++){var pe=this.getRow(ne);if(pe.rowHeightEstimated){var me=this.gridOptionsService.getRowHeightForNode(pe);pe.setRowHeight(me.height),v=!0,C=!0}}v&&this.setRowTopAndRowIndex()}while(v);return C},i.prototype.setRowTopAndRowIndex=function(){for(var n=this.environment.getDefaultRowHeight(),a=0,u=new Set,c=this.gridOptionsService.isDomLayout("normal"),v=0;v<this.rowsToDisplay.length;v++){var C=this.rowsToDisplay[v];if(null!=C.id&&u.add(C.id),null==C.rowHeight){var T=this.gridOptionsService.getRowHeightForNode(C,c,n);C.setRowHeight(T.height,T.estimated)}C.setRowTop(a),C.setRowIndex(v),a+=C.rowHeight}return u},i.prototype.clearRowTopAndRowIndex=function(n,a){var u=n.isActive(),c=function(C){C&&null!=C.id&&!a.has(C.id)&&C.clearRowTopAndRowIndex()},v=function(C){c(C),c(C.detailNode),c(C.sibling),C.hasChildren()&&C.childrenAfterGroup&&(u&&-1!=C.level&&!C.expanded||C.childrenAfterGroup.forEach(v))};v(this.rootNode)},i.prototype.ensureRowsAtPixel=function(n,a,u){var c=this;void 0===u&&(u=0);var v=this.getRowIndexAtPixel(a),C=this.getRow(v),T=!this.gridOptionsService.is("suppressAnimationFrame");return C!==n[0]&&(n.forEach(function(M){Wt.removeFromArray(c.rootNode.allLeafChildren,M)}),n.forEach(function(M,F){Wt.insertIntoArray(c.rootNode.allLeafChildren,M,Math.max(v+u,0)+F)}),this.refreshModel({step:mr.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:T}),!0)},i.prototype.highlightRowAtPixel=function(n,a){var u=null!=a?this.getRowIndexAtPixel(a):null,c=null!=u?this.getRow(u):null;if(c&&n&&c!==n&&null!=a){var v=this.getHighlightPosition(a,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(v),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},i.prototype.getHighlightPosition=function(n,a){if(!a){var u=this.getRowIndexAtPixel(n);if(!(a=this.getRow(u||0)))return Hi.Below}return n-a.rowTop<a.rowHeight/2?Hi.Above:Hi.Below},i.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},i.prototype.isLastRowIndexKnown=function(){return!0},i.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},i.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var a=this.rootNode.childrenAfterAggFilter;return a?a.length:0},i.prototype.getTopLevelRowDisplayedIndex=function(n){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return n;var u=this.rootNode.childrenAfterSort[n];if(this.gridOptionsService.is("groupHideOpenParents"))for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},i.prototype.getRowBounds=function(n){if(Wt.missing(this.rowsToDisplay))return null;var a=this.rowsToDisplay[n];return a?{rowTop:a.rowTop,rowHeight:a.rowHeight}:null},i.prototype.onRowGroupOpened=function(){var n=this.gridOptionsService.isAnimateRows();this.refreshModel({step:mr.MAP,keepRenderedRows:!0,animate:n})},i.prototype.onFilterChanged=function(n){if(!n.afterDataChange){var a=this.gridOptionsService.isAnimateRows(),u=0===n.columns.length||n.columns.some(function(v){return v.isPrimary()});this.refreshModel({step:u?mr.FILTER:mr.FILTER_AGGREGATES,keepRenderedRows:!0,animate:a})}},i.prototype.onSortChanged=function(){var n=this.gridOptionsService.isAnimateRows();this.refreshModel({step:mr.SORT,keepRenderedRows:!0,animate:n,keepEditingRows:!0})},i.prototype.getType=function(){return"clientSide"},i.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:mr.PIVOT}):this.refreshModel({step:mr.AGGREGATE})},i.prototype.createChangePath=function(n){var a=Wt.missingOrEmpty(n),u=new ad(!1,this.rootNode);return(a||this.gridOptionsService.isTreeData())&&u.setInactive(),u},i.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(n){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==n.rowNodeTransactions)return!1;var a=n.rowNodeTransactions.filter(function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==a||0==a.length},i.prototype.buildRefreshModelParams=function(n){var a=mr.EVERYTHING,u={everything:mr.EVERYTHING,group:mr.EVERYTHING,filter:mr.FILTER,map:mr.MAP,aggregate:mr.AGGREGATE,sort:mr.SORT,pivot:mr.PIVOT};if(Wt.exists(n)&&(a=u[n]),!Wt.missing(a))return{step:a,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+n+", available steps are "+Object.keys(u).join(", "))},i.prototype.refreshModel=function(n){var a="object"==typeof n&&"step"in n?n:this.buildRefreshModelParams(n);if(a&&!this.isSuppressModelUpdateAfterUpdateTransaction(a)){var u=this.createChangePath(a.rowNodeTransactions);switch(a.step){case mr.EVERYTHING:this.doRowGrouping(a.groupState,a.rowNodeTransactions,a.rowNodeOrder,u,!!a.afterColumnsChanged);case mr.FILTER:this.doFilter(u);case mr.PIVOT:this.doPivot(u);case mr.AGGREGATE:this.doAggregate(u);case mr.FILTER_AGGREGATES:this.doFilterAggregates(u);case mr.SORT:this.doSort(a.rowNodeTransactions,u);case mr.MAP:this.doRowsToDisplay()}var c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(u,c),this.eventService.dispatchEvent({type:z.EVENT_MODEL_UPDATED,animate:a.animate,keepRenderedRows:a.keepRenderedRows,newData:a.newData,newPage:!1,keepUndoRedoStack:a.keepUndoRedoStack})}},i.prototype.isEmpty=function(){var n=Wt.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Wt.missing(this.rootNode)||n||!this.columnModel.isReady()},i.prototype.isRowsToRender=function(){return Wt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},i.prototype.getNodesInRangeForSelection=function(n,a){var v,u=!a,c=!1,C=[],T=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(M){var F=u&&!c;if(u||(M===a||M===n)&&(u=!0),!M.group||!T){var ne=u&&!c,pe=M.isParentOfNode(v);(ne||pe)&&C.push(M)}F&&(M===a||M===n)&&(c=!0,v=M===a?a:n)}),C},i.prototype.setDatasource=function(n){console.error("AG Grid: should never call setDatasource on clientSideRowController")},i.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},i.prototype.getRootNode=function(){return this.rootNode},i.prototype.getRow=function(n){return this.rowsToDisplay[n]},i.prototype.isRowPresent=function(n){return this.rowsToDisplay.indexOf(n)>=0},i.prototype.getRowIndexAtPixel=function(n){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var a=0,u=this.rowsToDisplay.length-1;if(n<=0)return 0;if(Wt.last(this.rowsToDisplay).rowTop<=n)return this.rowsToDisplay.length-1;for(var v=-1,C=-1;;){var T=Math.floor((a+u)/2),M=this.rowsToDisplay[T];if(this.isRowInPixel(M,n))return T;if(M.rowTop<n?a=T+1:M.rowTop>n&&(u=T-1),v===a&&C===u)return T;v=a,C=u}},i.prototype.isRowInPixel=function(n,a){return n.rowTop<=a&&n.rowTop+n.rowHeight>a},i.prototype.forEachLeafNode=function(n){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(a,u){return n(a,u)})},i.prototype.forEachNode=function(n,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:dc(this.rootNode.childrenAfterGroup||[]),callback:n,recursionType:Rn.Normal,index:0,includeFooterNodes:a})},i.prototype.forEachNodeAfterFilter=function(n,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:dc(this.rootNode.childrenAfterAggFilter||[]),callback:n,recursionType:Rn.AfterFilter,index:0,includeFooterNodes:a})},i.prototype.forEachNodeAfterFilterAndSort=function(n,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:dc(this.rootNode.childrenAfterSort||[]),callback:n,recursionType:Rn.AfterFilterAndSort,index:0,includeFooterNodes:a})},i.prototype.forEachPivotNode=function(n,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:n,recursionType:Rn.PivotNodes,index:0,includeFooterNodes:a})},i.prototype.recursivelyWalkNodesAndCallback=function(n){var a,u=n.nodes,c=n.callback,v=n.recursionType,C=n.includeFooterNodes,T=n.index,M=u[0];C&&null!==(a=M?.parent)&&void 0!==a&&a.sibling&&u.push(M.parent.sibling);for(var F=0;F<u.length;F++){var $=u[F];if(c($,T++),$.hasChildren()&&!$.footer){var ne=null;switch(v){case Rn.Normal:ne=$.childrenAfterGroup;break;case Rn.AfterFilter:ne=$.childrenAfterAggFilter;break;case Rn.AfterFilterAndSort:ne=$.childrenAfterSort;break;case Rn.PivotNodes:ne=$.leafGroup?null:$.childrenAfterSort}ne&&(T=this.recursivelyWalkNodesAndCallback({nodes:dc(ne),callback:c,recursionType:v,index:T,includeFooterNodes:C}))}}return T},i.prototype.doAggregate=function(n){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:n})},i.prototype.doFilterAggregates=function(n){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:n}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},i.prototype.expandOrCollapseAll=function(n){var a=this.gridOptionsService.isTreeData(),u=this.columnModel.isPivotActive(),c=function(T){T&&T.forEach(function(M){var F=function(){M.expanded=n,c(M.childrenAfterGroup)};a?Wt.exists(M.childrenAfterGroup)&&F():u?!M.leafGroup&&F():M.group&&F()})};this.rootNode&&c(this.rootNode.childrenAfterGroup),this.refreshModel({step:mr.MAP}),this.eventService.dispatchEvent({type:z.EVENT_EXPAND_COLLAPSE_ALL,source:n?"expandAll":"collapseAll"})},i.prototype.doSort=function(n,a){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:n,changedPath:a})},i.prototype.doRowGrouping=function(n,a,u,c,v){this.groupStage?(a?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:a,rowNodeOrder:u,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:v}),this.restoreGroupState(n)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",c)&&this.eventService.dispatchEvent({type:z.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},i.prototype.restoreGroupState=function(n){n&&Wt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(a,u){"boolean"==typeof n[u]&&(a.expanded=n[u])})},i.prototype.doFilter=function(n){this.filterStage.execute({rowNode:this.rootNode,changedPath:n})},i.prototype.doPivot=function(n){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:n})},i.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var n={};return Wt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(a,u){return n[u]=a.expanded}),n},i.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},i.prototype.getRowNode=function(n){if("string"==typeof n&&0==n.indexOf(yr.ID_PREFIX_ROW_GROUP)){var u=void 0;return this.forEachNode(function(c){c.id===n&&(u=c)}),u}return this.nodeManager.getRowNode(n)},i.prototype.setRowData=function(n){var a=this.getGroupState();this.nodeManager.setRowData(n),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:z.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:mr.EVERYTHING,groupState:a,newData:!0})},i.prototype.batchUpdateRowData=function(n,a){var u=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){u.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:n,callback:a})},i.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},i.prototype.executeBatchUpdateRowData=function(){var n=this;this.valueCache.onDataChanged();var a=[],u=[],c=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(C){var T=n.nodeManager.updateRowData(C.rowDataTransaction,void 0);u.push(T),C.callback&&a.push(C.callback.bind(null,T)),"number"==typeof C.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(u,void 0,c),a.length>0&&window.setTimeout(function(){a.forEach(function(C){return C()})},0),u.length>0&&this.eventService.dispatchEvent({type:z.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:u}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},i.prototype.updateRowData=function(n,a){this.valueCache.onDataChanged();var u=this.nodeManager.updateRowData(n,a);return this.commonUpdateRowData([u],a,"number"==typeof n.addIndex),u},i.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var a={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var u=0;u<this.rootNode.allLeafChildren.length;u++)a[this.rootNode.allLeafChildren[u].id]=u;return a}},i.prototype.commonUpdateRowData=function(n,a,u){var c=!this.gridOptionsService.is("suppressAnimationFrame");u&&(a=this.createRowNodeOrder()),this.refreshModel({step:mr.EVERYTHING,rowNodeTransactions:n,rowNodeOrder:a,keepRenderedRows:!0,keepEditingRows:!0,animate:c}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:z.EVENT_ROW_DATA_UPDATED})},i.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},i.prototype.onRowHeightChanged=function(){this.refreshModel({step:mr.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},i.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},i.prototype.resetRowHeights=function(){var n=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),n&&this.onRowHeightChanged()},i.prototype.resetRowHeightsForAllRowNodes=function(){var n=!1;return this.forEachNode(function(a){a.setRowHeight(a.rowHeight,!0);var u=a.detailNode;u&&u.setRowHeight(u.rowHeight,!0),n=!0}),n},i.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},Wi([ae("columnModel")],i.prototype,"columnModel",void 0),Wi([ae("selectionService")],i.prototype,"selectionService",void 0),Wi([ae("filterManager")],i.prototype,"filterManager",void 0),Wi([ae("valueCache")],i.prototype,"valueCache",void 0),Wi([ae("beans")],i.prototype,"beans",void 0),Wi([ae("filterStage")],i.prototype,"filterStage",void 0),Wi([ae("sortStage")],i.prototype,"sortStage",void 0),Wi([ae("flattenStage")],i.prototype,"flattenStage",void 0),Wi([Tt("groupStage")],i.prototype,"groupStage",void 0),Wi([Tt("aggregationStage")],i.prototype,"aggregationStage",void 0),Wi([Tt("pivotStage")],i.prototype,"pivotStage",void 0),Wi([Tt("filterAggregatesStage")],i.prototype,"filterAggregatesStage",void 0),Wi([Xe],i.prototype,"init",null),Wi([lt("rowModel")],i)}(nt),Gm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wv=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Rf=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Gm(i,p),i.prototype.execute=function(n){this.filterService.filter(n.changedPath)},wv([ae("filterService")],i.prototype,"filterService",void 0),wv([lt("filterStage")],i)}(nt),tl=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$l=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Bm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return tl(i,p),i.prototype.execute=function(n){var a=this,u=this.sortController.getSortOptions(),c=Wt.exists(u)&&u.length>0,v=c&&Wt.exists(n.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),C=u.some(function(T){return!!a.columnModel.getGroupDisplayColumnForGroup(T.column.getId())});this.sortService.sort(u,c,v,n.rowNodeTransactions,n.changedPath,C)},$l([ae("sortService")],i.prototype,"sortService",void 0),$l([ae("sortController")],i.prototype,"sortController",void 0),$l([ae("columnModel")],i.prototype,"columnModel",void 0),$l([lt("sortStage")],i)}(nt),Af=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Dv=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},pE=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Af(i,p),i.prototype.execute=function(n){var a=n.rowNode,u=[],c={value:0},v=this.columnModel.isPivotMode(),C=v&&a.leafGroup;return this.recursivelyAddToRowsToDisplay(C?[a]:a.childrenAfterSort,u,c,v,0),!C&&u.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(a.createFooter(),this.addRowNodeToRowsToDisplay(a.sibling,u,c,0)),u},i.prototype.recursivelyAddToRowsToDisplay=function(n,a,u,c,v){if(!Wt.missingOrEmpty(n))for(var C=this.gridOptionsService.is("groupHideOpenParents"),T=this.gridOptionsService.is("groupRemoveSingleChildren"),M=!T&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),F=0;F<n.length;F++){var $=n[F],ne=$.hasChildren(),me=T&&ne&&1===$.childrenAfterGroup.length,Te=M&&ne&&$.leafGroup&&1===$.childrenAfterGroup.length;if(!(c&&!ne||C&&$.expanded&&!$.master&&(!c||!$.leafGroup)||me||Te)&&this.addRowNodeToRowsToDisplay($,a,u,v),!c||!$.leafGroup)if(ne){var Ze=me||Te;($.expanded||Ze)&&(this.recursivelyAddToRowsToDisplay($.childrenAfterSort,a,u,c,Ze?v:v+1),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay($.sibling,a,u,v))}else if($.master&&$.expanded){var St=this.createDetailNode($);this.addRowNodeToRowsToDisplay(St,a,u,v)}}},i.prototype.addRowNodeToRowsToDisplay=function(n,a,u,c){var v=this.gridOptionsService.isGroupMultiAutoColumn();a.push(n),n.setUiLevel(v?0:c)},i.prototype.createDetailNode=function(n){if(Wt.exists(n.detailNode))return n.detailNode;var a=new yr(this.beans);return a.detail=!0,a.selectable=!1,a.parent=n,Wt.exists(n.id)&&(a.id="detail_"+n.id),a.data=n.data,a.level=n.level+1,n.detailNode=a,a},Dv([ae("columnModel")],i.prototype,"columnModel",void 0),Dv([ae("beans")],i.prototype,"beans",void 0),Dv([lt("flattenStage")],i)}(nt),km=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wd=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Pv=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return km(i,p),i.prototype.init=function(){this.postSortFunc=this.getPostSortFunc()},i.prototype.sort=function(n,a,u,c,v,C){var T=this,M=this.gridOptionsService.is("groupMaintainOrder"),F=this.columnModel.getAllGridColumns().some(function(me){return me.isRowGroupActive()}),$={};u&&c&&($=this.calculateDirtyNodes(c));var ne=this.columnModel.isPivotMode();v&&v.forEachChangedNodeDepthFirst(function(me){T.pullDownGroupDataForHideOpenParents(me.childrenAfterAggFilter,!0);var Te=ne&&me.leafGroup;if(M&&F&&!me.leafGroup&&!C){var He=me.childrenAfterAggFilter.slice(0);if(me.childrenAfterSort){var Ue={};me.childrenAfterSort.forEach(function(st,St){Ue[st.id]=St}),He.sort(function(st,St){var Ut,jt;return(null!==(Ut=Ue[st.id])&&void 0!==Ut?Ut:0)-(null!==(jt=Ue[St.id])&&void 0!==jt?jt:0)})}me.childrenAfterSort=He}else me.childrenAfterSort=!a||Te?me.childrenAfterAggFilter.slice(0):u?T.doDeltaSort(me,$,v,n):T.rowNodeSorter.doFullSort(me.childrenAfterAggFilter,n);me.sibling&&(me.sibling.childrenAfterSort=me.childrenAfterSort),T.updateChildIndexes(me),T.postSortFunc&&T.postSortFunc({nodes:me.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(v)},i.prototype.getPostSortFunc=function(){var n=this.gridOptionsService.getCallback("postSortRows");if(n)return n;var a=this.gridOptionsService.get("postSort");return a?function(u){return a(u.nodes)}:void 0},i.prototype.calculateDirtyNodes=function(n){var a={},u=function(c){c&&c.forEach(function(v){return a[v.id]=!0})};return n&&n.forEach(function(c){u(c.add),u(c.update),u(c.remove)}),a},i.prototype.doDeltaSort=function(n,a,u,c){var v=this,C=n.childrenAfterAggFilter,T=n.childrenAfterSort;if(!T)return this.rowNodeSorter.doFullSort(C,c);var M={},F=[];C.forEach(function(me){a[me.id]||!u.canSkip(me)?F.push(me):M[me.id]=!0});var $=T.filter(function(me){return M[me.id]}),ne=function(me,Te){return{currentPos:Te,rowNode:me}},pe=F.map(ne).sort(function(me,Te){return v.rowNodeSorter.compareRowNodes(c,me,Te)});return this.mergeSortedArrays(c,pe,$.map(ne)).map(function(me){return me.rowNode})},i.prototype.mergeSortedArrays=function(n,a,u){for(var c=[],v=0,C=0;v<a.length&&C<u.length;){var T=this.rowNodeSorter.compareRowNodes(n,a[v],u[C]);c.push(T<0?a[v++]:u[C++])}for(;v<a.length;)c.push(a[v++]);for(;C<u.length;)c.push(u[C++]);return c},i.prototype.updateChildIndexes=function(n){if(!Wt.missing(n.childrenAfterSort))for(var a=n.childrenAfterSort,u=0;u<a.length;u++){var c=a[u],C=u===n.childrenAfterSort.length-1;c.setFirstChild(0===u),c.setLastChild(C),c.setChildIndex(u)}},i.prototype.updateGroupDataForHideOpenParents=function(n){var a=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData())return Wt.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(v){a.pullDownGroupDataForHideOpenParents(v.childrenAfterSort,!1),v.childrenAfterSort.forEach(function(C){C.hasChildren()&&c(C)})};n&&n.executeFromRootNode(function(v){return c(v)})}},i.prototype.pullDownGroupDataForHideOpenParents=function(n,a){var u=this;!this.gridOptionsService.is("groupHideOpenParents")||Wt.missing(n)||n.forEach(function(c){u.columnModel.getGroupDisplayColumns().forEach(function(C){var T=C.getColDef().showRowGroup;if("string"==typeof T){var F=u.columnModel.getPrimaryColumn(T);if(F!==c.rowGroupColumn)if(a)c.setGroupValue(C.getId(),void 0);else{var ne=c.getFirstChildOfFirstChild(F);ne&&c.setGroupValue(C.getId(),ne.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},wd([ae("columnModel")],i.prototype,"columnModel",void 0),wd([ae("rowNodeSorter")],i.prototype,"rowNodeSorter",void 0),wd([Xe],i.prototype,"init",null),wd([lt("sortService")],i)}(nt),Vm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yn=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},bv=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Vm(i,p),i.prototype.filter=function(n){var a=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(a,n)},i.prototype.filterNodes=function(n,a){var u=this,c=function(M,F){M.childrenAfterFilter=M.hasChildren()&&n&&!F?M.childrenAfterGroup.filter(function($){var ne=$.childrenAfterFilter&&$.childrenAfterFilter.length>0,pe=$.data&&u.filterManager.doesRowPassFilter({rowNode:$});return ne||pe}):M.childrenAfterGroup,M.sibling&&(M.sibling.childrenAfterFilter=M.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var v=function(M,F){if(M.childrenAfterGroup)for(var $=0;$<M.childrenAfterGroup.length;$++){var ne=M.childrenAfterGroup[$],pe=F||u.filterManager.doesRowPassFilter({rowNode:ne});ne.childrenAfterGroup?v(M.childrenAfterGroup[$],pe):c(ne,pe)}c(M,F)};a.executeFromRootNode(function(M){return v(M,!1)})}else a.forEachChangedNodeDepthFirst(function(M){return c(M,!1)},!0)},i.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},Yn([ae("filterManager")],i.prototype,"filterManager",void 0),Yn([lt("filterService")],i)}(nt),Hm=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Dd=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Um=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Hm(i,p),i.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},i.prototype.isActive=function(){var n=this.gridOptionsService.exists("getRowId"),a=this.gridOptionsService.is("immutableData");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&(n||a)},i.prototype.setRowData=function(n){var a=this.createTransactionForRowData(n);if(a){var u=function(p,i){var n="function"==typeof Symbol&&p[Symbol.iterator];if(!n)return p;var u,v,a=n.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(C){v={error:C}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return c}(a,2);this.clientSideRowModel.updateRowData(u[0],u[1])}},i.prototype.createTransactionForRowData=function(n){if(Wt.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var a=this.gridOptionsService.getRowIdFunc();if(null!=a){var u={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),C=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return Wt.exists(n)&&n.forEach(function(T,M){var F=a({data:T,level:0}),$=c[F];C&&(C[F]=M),$?($.data!==T&&u.update.push(T),c[F]=void 0):u.add.push(T)}),Wt.iterateObject(c,function(T,M){M&&u.remove.push(M.data)}),[u,C]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Dd([ae("rowModel")],i.prototype,"rowModel",void 0),Dd([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),Dd([Xe],i.prototype,"postConstruct",null),Dd([lt("immutableService")],i)}(nt),Rv={version:"29.3.5",moduleName:rt.ClientSideRowModelModule,rowModel:"clientSide",beans:[_s,Rf,Bm,pE,Pv,bv,Um]},jl=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),xf=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Av=function(p){function i(n,a,u){var c=p.call(this,n)||this;return c.parentCache=a,c.params=u,c.startRow=n*u.blockSize,c.endRow=c.startRow+u.blockSize,c}return jl(i,p),i.prototype.postConstruct=function(){this.createRowNodes()},i.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},i.prototype.setDataAndId=function(n,a,u){!n.id&&n.alreadyRendered&&(n.alreadyRendered=!1),Wt.exists(a)?n.setDataAndId(a,u.toString()):n.setDataAndId(void 0,void 0)},i.prototype.loadFromDatasource=function(){var n=this,a=this.createLoadParams();Wt.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){n.params.datasource.getRows(a)},0)},i.prototype.processServerFail=function(){},i.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},i.prototype.forEachNode=function(n,a,u){var c=this;this.rowNodes.forEach(function(v,C){c.startRow+C<u&&n(v,a.next())})},i.prototype.getLastAccessed=function(){return this.lastAccessed},i.prototype.getRow=function(n,a){return void 0===a&&(a=!1),a||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[n-this.startRow]},i.prototype.getStartRow=function(){return this.startRow},i.prototype.getEndRow=function(){return this.endRow},i.prototype.createRowNodes=function(){this.rowNodes=[];for(var n=0;n<this.params.blockSize;n++){var a=this.startRow+n,u=new yr(this.beans);u.setRowHeight(this.params.rowHeight),u.uiLevel=0,u.setRowIndex(a),u.setRowTop(this.params.rowHeight*a),this.rowNodes.push(u)}},i.prototype.processServerResult=function(n){var a=this;this.rowNodes.forEach(function(c,v){a.setDataAndId(c,n.rowData?n.rowData[v]:void 0,a.startRow+v)}),this.parentCache.pageLoaded(this,null!=n.rowCount&&n.rowCount>=0?n.rowCount:void 0)},i.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(n){n.clearRowTopAndRowIndex()})},xf([ae("beans")],i.prototype,"beans",void 0),xf([Xe],i.prototype,"postConstruct",null),xf([ct],i.prototype,"destroyRowNodes",null),i}(sd),xv=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pd=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Iv=function(p,i){return function(n,a){i(n,a,p)}},fE=function(p){function i(n){var a=p.call(this)||this;return a.lastRowIndexKnown=!1,a.blocks={},a.blockCount=0,a.rowCount=n.initialRowCount,a.params=n,a}return xv(i,p),i.prototype.setBeans=function(n){this.logger=n.create("InfiniteCache")},i.prototype.getRow=function(n,a){void 0===a&&(a=!1);var u=Math.floor(n/this.params.blockSize),c=this.blocks[u];if(!c){if(a)return;c=this.createBlock(u)}return c.getRow(n)},i.prototype.createBlock=function(n){var a=this.createBean(new Av(n,this,this.params));return this.blocks[a.getId()]=a,this.blockCount++,this.purgeBlocksIfNeeded(a),this.params.rowNodeBlockLoader.addBlock(a),a},i.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(a){return a.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},i.prototype.destroyAllBlocks=function(){var n=this;this.getBlocksInOrder().forEach(function(a){return n.destroyBlock(a)})},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},i.prototype.pageLoaded=function(n,a){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+n.getId()+", lastRow = "+a),this.checkRowCount(n,a),this.onCacheUpdated())},i.prototype.purgeBlocksIfNeeded=function(n){var a=this,u=this.getBlocksInOrder().filter(function(M){return M!=n});u.sort(function(M,F){return F.getLastAccessed()-M.getLastAccessed()});var v=this.params.maxBlocksInCache>0,C=v?this.params.maxBlocksInCache-1:null,T=i.MAX_EMPTY_BLOCKS_TO_KEEP-1;u.forEach(function(M,F){if(M.getState()===Av.STATE_WAITING_TO_LOAD&&F>=T||v&&F>=C){if(a.isBlockCurrentlyDisplayed(M)||a.isBlockFocused(M))return;a.removeBlockFromCache(M)}})},i.prototype.isBlockFocused=function(n){var a=this.focusService.getFocusCellToUseAfterRefresh();if(!a||null!=a.rowPinned)return!1;var u=n.getStartRow(),c=n.getEndRow();return a.rowIndex>=u&&a.rowIndex<c},i.prototype.isBlockCurrentlyDisplayed=function(n){var a=n.getStartRow(),u=n.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(a,u)},i.prototype.removeBlockFromCache=function(n){n&&this.destroyBlock(n)},i.prototype.checkRowCount=function(n,a){if("number"==typeof a&&a>=0)this.rowCount=a,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(n.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},i.prototype.setRowCount=function(n,a){this.rowCount=n,Wt.exists(a)&&(this.lastRowIndexKnown=a),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},i.prototype.forEachNodeDeep=function(n){var a=this,u=new Ja;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(n,u,a.rowCount)})},i.prototype.getBlocksInOrder=function(){return Wt.getAllValuesInObject(this.blocks).sort(function(u,c){return u.getId()-c.getId()})},i.prototype.destroyBlock=function(n){delete this.blocks[n.getId()],this.destroyBean(n),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(n)},i.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:z.EVENT_STORE_UPDATED}))},i.prototype.destroyAllBlocksPastVirtualRowCount=function(){var n=this,a=[];this.getBlocksInOrder().forEach(function(u){u.getId()*n.params.blockSize>=n.rowCount&&a.push(u)}),a.length>0&&a.forEach(function(u){return n.destroyBlock(u)})},i.prototype.purgeCache=function(){var n=this;this.getBlocksInOrder().forEach(function(a){return n.removeBlockFromCache(a)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},i.prototype.getRowNodesInRange=function(n,a){var u=this,c=[],v=-1,C=!1,T=new Ja;Wt.missing(n)&&(C=!0);var M=!1;return this.getBlocksInOrder().forEach(function($){if(!M){if(C&&v+1!==$.getId())return void(M=!0);v=$.getId(),$.forEachNode(function(ne){var pe=ne===n||ne===a;(C||pe)&&c.push(ne),pe&&(C=!C)},T,u.rowCount)}}),M||C?[]:c},i.MAX_EMPTY_BLOCKS_TO_KEEP=2,Pd([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),Pd([ae("focusService")],i.prototype,"focusService",void 0),Pd([Iv(0,Zt("loggerFactory"))],i.prototype,"setBeans",null),Pd([ct],i.prototype,"destroyAllBlocks",null),i}(nt),If=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Oa=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},wa=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return If(i,p),i.prototype.getRowBounds=function(n){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*n}},i.prototype.ensureRowHeightsValid=function(n,a,u,c){return!1},i.prototype.init=function(){var n=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return n.destroyCache()}),this.verifyProps())},i.prototype.verifyProps=function(){(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator"))&&Wt.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},i.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},i.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,z.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,z.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,z.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},i.prototype.onFilterChanged=function(){this.reset()},i.prototype.onSortChanged=function(){this.reset()},i.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},i.prototype.isSortModelDifferent=function(){return!Wt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},i.prototype.getType=function(){return"infinite"},i.prototype.setDatasource=function(n){this.destroyDatasource(),this.datasource=n,n&&this.reset()},i.prototype.isEmpty=function(){return!this.infiniteCache},i.prototype.isRowsToRender=function(){return!!this.infiniteCache},i.prototype.getNodesInRangeForSelection=function(n,a){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(n,a):[]},i.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsService.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var u=this.createModelUpdatedEvent();this.eventService.dispatchEvent(u)}},i.prototype.createModelUpdatedEvent=function(){return{type:z.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},i.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new Ja},this.infiniteCache=this.createBean(new fE(this.cacheParams))},i.prototype.defaultIfInvalid=function(n,a){return n>0?n:a},i.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},i.prototype.onCacheUpdated=function(){var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)},i.prototype.getRow=function(n){if(this.infiniteCache&&!(n>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(n)},i.prototype.getRowNode=function(n){var a;return this.forEachNode(function(u){u.id===n&&(a=u)}),a},i.prototype.forEachNode=function(n){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(n)},i.prototype.getTopLevelRowCount=function(){return this.getRowCount()},i.prototype.getTopLevelRowDisplayedIndex=function(n){return n},i.prototype.getRowIndexAtPixel=function(n){if(0!==this.rowHeight){var a=Math.floor(n/this.rowHeight),u=this.getRowCount()-1;return a>u?u:a}return 0},i.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},i.prototype.isRowPresent=function(n){return!!this.getRowNode(n.id)},i.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},i.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},i.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},i.prototype.setRowCount=function(n,a){this.infiniteCache&&this.infiniteCache.setRowCount(n,a)},Oa([ae("filterManager")],i.prototype,"filterManager",void 0),Oa([ae("sortController")],i.prototype,"sortController",void 0),Oa([ae("selectionService")],i.prototype,"selectionService",void 0),Oa([ae("rowRenderer")],i.prototype,"rowRenderer",void 0),Oa([ae("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Oa([Xe],i.prototype,"init",null),Oa([ct],i.prototype,"destroyDatasource",null),Oa([lt("rowModel")],i)}(nt),$m={version:"29.3.5",moduleName:rt.InfiniteRowModelModule,rowModel:"infinite",beans:[wa]},ea=function(){function p(){}return p.prototype.setBeans=function(i){this.beans=i},p.prototype.getFileName=function(i){var n=this.getDefaultFileExtension();return(null==i||!i.length)&&(i=this.getDefaultFileName()),-1===i.indexOf(".")?i+"."+n:i},p.prototype.getData=function(i){var n=this.createSerializingSession(i);return this.beans.gridSerializer.serialize(n,i)},p}(),Lo=function(){function p(i){this.groupColumns=[];var a=i.valueService,u=i.gridOptionsService,c=i.processCellCallback,v=i.processHeaderCallback,C=i.processGroupHeaderCallback,T=i.processRowGroupCallback;this.columnModel=i.columnModel,this.valueService=a,this.gridOptionsService=u,this.processCellCallback=c,this.processHeaderCallback=v,this.processGroupHeaderCallback=C,this.processRowGroupCallback=T}return p.prototype.prepare=function(i){this.groupColumns=i.filter(function(n){return!!n.getColDef().showRowGroup})},p.prototype.extractHeaderValue=function(i){return this.getHeaderName(this.processHeaderCallback,i)??""},p.prototype.extractRowCellValue=function(i,n,a,u,c){var C=this.gridOptionsService.is("groupHideOpenParents")&&!c.footer||!this.shouldRenderGroupSummaryCell(c,i,n)?this.valueService.getValue(i,c):this.createValueForGroupNode(c);return this.processCell({accumulatedRowIndex:a,rowNode:c,column:i,value:C,processCellCallback:this.processCellCallback,type:u})??""},p.prototype.shouldRenderGroupSummaryCell=function(i,n,a){var u;if(!i||!i.group)return!1;if(-1!==this.groupColumns.indexOf(n)){if(null!==(u=i.groupData)&&void 0!==u&&u[n.getId()])return!0;if(i.footer&&-1===i.level){var C=n.getColDef();return null==C||!0===C.showRowGroup||C.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var M=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===a&&M},p.prototype.getHeaderName=function(i,n){return i?i({column:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(n,"csv",!0)},p.prototype.createValueForGroupNode=function(i){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var n=i.footer,a=[i.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;i.parent;)a.push((i=i.parent).key);var u=a.reverse().join(" -> ");return n?"Total "+u:u},p.prototype.processCell=function(i){var c=i.value,v=i.processCellCallback;return v?v({accumulatedRowIndex:i.accumulatedRowIndex,column:i.column,node:i.rowNode,value:c,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:i.type}):c??""},p}(),No=function(){function p(){}return p.download=function(i,n){var a=document.defaultView||window;if(a){var u=document.createElement("a"),c=a.URL.createObjectURL(n);u.setAttribute("href",c),u.setAttribute("download",i),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:a})),document.body.removeChild(u),a.setTimeout(function(){a.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},p}(),Lv=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jm=function(p){function i(n){var a=p.call(this,n)||this;a.isFirstLine=!0,a.result="";var c=n.columnSeparator;return a.suppressQuotes=n.suppressQuotes,a.columnSeparator=c,a}return Lv(i,p),i.prototype.addCustomContent=function(n){var a=this;n&&("string"==typeof n?(/^\s*\n/.test(n)||this.beginNewLine(),n=n.replace(/\r?\n/g,"\r\n"),this.result+=n):n.forEach(function(u){a.beginNewLine(),u.forEach(function(c,v){0!==v&&(a.result+=a.columnSeparator),a.result+=a.putInQuotes(c.data.value||""),c.mergeAcross&&a.appendEmptyCells(c.mergeAcross)})}))},i.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},i.prototype.onNewHeaderGroupingRowColumn=function(n,a,u,c){0!=u&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(a),this.appendEmptyCells(c)},i.prototype.appendEmptyCells=function(n){for(var a=1;a<=n;a++)this.result+=this.columnSeparator+this.putInQuotes("")},i.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},i.prototype.onNewHeaderRowColumn=function(n,a){0!=a&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(n))},i.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},i.prototype.onNewBodyRowColumn=function(n,a,u){0!=a&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(n,a,a,"csv",u))},i.prototype.putInQuotes=function(n){return this.suppressQuotes?n:null==n?'""':("string"==typeof n?a=n:"function"==typeof n.toString?a=n.toString():(console.warn("AG Grid: unknown value type during csv conversion"),a=""),'"'+a.replace(/"/g,'""')+'"');var a},i.prototype.parse=function(){return this.result},i.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},i}(Lo),Km=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kl=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Nv=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Km(i,p),i.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},i.prototype.getMergedParams=function(n){var a=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},a,n)},i.prototype.export=function(n){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var a=this.getMergedParams(n),u=this.getData(a),c=new Blob(["\ufeff",u],{type:"text/plain"});return No.download(this.getFileName(a.fileName),c),u},i.prototype.exportDataAsCsv=function(n){return this.export(n)},i.prototype.getDataAsCsv=function(n,a){void 0===a&&(a=!1);var u=a?Object.assign({},n):this.getMergedParams(n);return this.getData(u)},i.prototype.getDefaultFileName=function(){return"export.csv"},i.prototype.getDefaultFileExtension=function(){return"csv"},i.prototype.createSerializingSession=function(n){var a=this;return new jm({columnModel:a.columnModel,valueService:a.valueService,gridOptionsService:a.gridOptionsService,processCellCallback:n.processCellCallback||void 0,processHeaderCallback:n.processHeaderCallback||void 0,processGroupHeaderCallback:n.processGroupHeaderCallback||void 0,processRowGroupCallback:n.processRowGroupCallback||void 0,suppressQuotes:n.suppressQuotes||!1,columnSeparator:n.columnSeparator||","})},i.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Kl([ae("columnModel")],i.prototype,"columnModel",void 0),Kl([ae("valueService")],i.prototype,"valueService",void 0),Kl([ae("gridSerializer")],i.prototype,"gridSerializer",void 0),Kl([ae("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Kl([Xe],i.prototype,"postConstruct",null),Kl([lt("csvCreator")],i)}(ea),Nf=function(){var p=function(i,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,n)};return function(i,n){function a(){this.constructor=i}p(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fo=function(p,i,n,a){var v,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,n,a);else for(var C=p.length-1;C>=0;C--)(v=p[C])&&(c=(u<3?v(c):u>3?v(i,n,c):v(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c},Da=(()=>((Da=Da||{})[Da.HEADER_GROUPING=0]="HEADER_GROUPING",Da[Da.HEADER=1]="HEADER",Da[Da.BODY=2]="BODY",Da))(),Ff=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Nf(i,p),i.prototype.serialize=function(n,a){void 0===a&&(a={});var u=this.getColumnsToExport(a.allColumns,a.columnKeys);return Wt.compose(this.prepareSession(u),this.prependContent(a),this.exportColumnGroups(a,u),this.exportHeaders(a,u),this.processPinnedTopRows(a,u),this.processRows(a,u),this.processPinnedBottomRows(a,u),this.appendContent(a))(n).parse()},i.prototype.processRow=function(n,a,u,c){var v=a.shouldRowBeSkipped||function(){return!1},C=this.gridOptionsService.context,T=this.gridOptionsService.api,M=this.gridOptionsService.columnApi,F=this.gridOptionsService.is("groupRemoveSingleChildren"),$=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),pe=null!=a.rowPositions||!!a.onlySelected,me=this.gridOptionsService.is("groupHideOpenParents")&&!pe,Te=this.columnModel.isPivotMode()?c.leafGroup:!c.group,Ae=!!c.footer,Ze=1===c.allChildrenCount&&(F||$&&c.leafGroup);if((a.skipGroups||a.skipRowGroups)&&a.skipGroups&&Wt.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!Te&&!Ae&&(a.skipRowGroups||Ze||me)||a.onlySelected&&!c.isSelected()||a.skipPinnedTop&&"top"===c.rowPinned||a.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||Te||Ae)&&!v({node:c,api:T,columnApi:M,context:C})){var Ut=n.onNewBodyRow();if(u.forEach(function(At,Jt){Ut.onColumn(At,Jt,c)}),a.getCustomContentBelowRow){var jt=a.getCustomContentBelowRow({node:c,api:T,columnApi:M,context:C});jt&&n.addCustomContent(jt)}}},i.prototype.appendContent=function(n){return function(a){var u=n.customFooter||n.appendContent;return u&&(n.customFooter&&Wt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),a.addCustomContent(u)),a}},i.prototype.prependContent=function(n){return function(a){var u=n.customHeader||n.prependContent;return u&&(n.customHeader&&Wt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),a.addCustomContent(u)),a}},i.prototype.prepareSession=function(n){return function(a){return a.prepare(n),a}},i.prototype.exportColumnGroups=function(n,a){var u=this;return function(c){if(n.skipColumnGroupHeaders)n.columnGroups&&Wt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var v=new Bo,C=u.displayedGroupCreator.createDisplayedGroups(a,u.columnModel.getGridBalancedTree(),v,null);u.recursivelyAddHeaderGroups(C,c,n.processGroupHeaderCallback)}return c}},i.prototype.exportHeaders=function(n,a){return function(u){if(n.skipHeader||n.skipColumnHeaders)n.skipHeader&&Wt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=u.onNewHeaderRow();a.forEach(function(v,C){c.onColumn(v,C,void 0)})}return u}},i.prototype.processPinnedTopRows=function(n,a){var u=this;return function(c){var v=u.processRow.bind(u,c,n,a);return n.rowPositions?n.rowPositions.filter(function(C){return"top"===C.rowPinned}).sort(function(C,T){return C.rowIndex-T.rowIndex}).map(function(C){return u.pinnedRowModel.getPinnedTopRow(C.rowIndex)}).forEach(v):u.pinnedRowModel.forEachPinnedTopRow(v),c}},i.prototype.processRows=function(n,a){var u=this;return function(c){var v=u.rowModel,C=v.getType(),T="clientSide"===C,M="serverSide"===C,F=!T&&n.onlySelected,$=u.processRow.bind(u,c,n,a),ne=n.exportedRows,pe=void 0===ne?"filteredAndSorted":ne;if(n.rowPositions)n.rowPositions.filter(function(Te){return null==Te.rowPinned}).sort(function(Te,Ae){return Te.rowIndex-Ae.rowIndex}).map(function(Te){return v.getRow(Te.rowIndex)}).forEach($);else if(u.columnModel.isPivotMode())T?v.forEachPivotNode($,!0):v.forEachNode($);else if(n.onlySelectedAllPages||F){var me=u.selectionService.getSelectedNodes();u.replicateSortedOrder(me),me.forEach($)}else"all"===pe?v.forEachNode($):T?v.forEachNodeAfterFilterAndSort($,!0):M?v.forEachNodeAfterFilterAndSort($):v.forEachNode($);return c}},i.prototype.replicateSortedOrder=function(n){var a=this,u=this.sortController.getSortOptions(),c=function(v,C){var T,M,F,$;return null!=v.rowIndex&&null!=C.rowIndex?v.rowIndex-C.rowIndex:v.level===C.level?(null===(T=v.parent)||void 0===T?void 0:T.id)===(null===(M=C.parent)||void 0===M?void 0:M.id)?a.rowNodeSorter.compareRowNodes(u,{rowNode:v,currentPos:null!==(F=v.rowIndex)&&void 0!==F?F:-1},{rowNode:C,currentPos:null!==($=C.rowIndex)&&void 0!==$?$:-1}):c(v.parent,C.parent):v.level>C.level?c(v.parent,C):c(v,C.parent)};n.sort(c)},i.prototype.processPinnedBottomRows=function(n,a){var u=this;return function(c){var v=u.processRow.bind(u,c,n,a);return n.rowPositions?n.rowPositions.filter(function(C){return"bottom"===C.rowPinned}).sort(function(C,T){return C.rowIndex-T.rowIndex}).map(function(C){return u.pinnedRowModel.getPinnedBottomRow(C.rowIndex)}).forEach(v):u.pinnedRowModel.forEachPinnedBottomRow(v),c}},i.prototype.getColumnsToExport=function(n,a){void 0===n&&(n=!1);var u=this.columnModel.isPivotMode();return a&&a.length?this.columnModel.getGridColumns(a):n&&!u?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([Qi]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},i.prototype.recursivelyAddHeaderGroups=function(n,a,u){var c=[];n.forEach(function(v){v.getChildren&&v.getChildren().forEach(function(T){return c.push(T)})}),n.length>0&&n[0]instanceof Sn&&this.doAddHeaderHeader(a,n,u),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,a,u)},i.prototype.doAddHeaderHeader=function(n,a,u){var c=this,v=n.onNewHeaderGroupingRow(),C=0;a.forEach(function(T){var F,M=T;F=u?u({columnGroup:M,api:c.gridOptionsService.api,columnApi:c.gridOptionsService.columnApi,context:c.gridOptionsService.context}):c.columnModel.getDisplayNameForColumnGroup(M,"header");var $=M.getLeafColumns().reduce(function(ne,pe,me,Te){var Ae=Wt.last(ne);return"open"===pe.getColumnGroupShow()?(!Ae||null!=Ae[1])&&ne.push(Ae=[me]):Ae&&null==Ae[1]&&(Ae[1]=me-1),me===Te.length-1&&Ae&&null==Ae[1]&&(Ae[1]=me),ne},[]);v.onColumn(M,F||"",C++,M.getLeafColumns().length-1,$)})},Fo([ae("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),Fo([ae("columnModel")],i.prototype,"columnModel",void 0),Fo([ae("rowModel")],i.prototype,"rowModel",void 0),Fo([ae("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Fo([ae("selectionService")],i.prototype,"selectionService",void 0),Fo([ae("rowNodeSorter")],i.prototype,"rowNodeSorter",void 0),Fo([ae("sortController")],i.prototype,"sortController",void 0),Fo([lt("gridSerializer")],i)}(nt),Fv={version:"29.3.5",moduleName:rt.CsvExportModule,beans:[Nv,Ff]},Gv=function(){function p(){}return p.createHeader=function(i){void 0===i&&(i={});var u=["version"];return i.version||(i.version="1.0"),i.encoding&&u.push("encoding"),i.standalone&&u.push("standalone"),"<?xml "+u.map(function(v){return v+'="'+i[v]+'"'}).join(" ")+" ?>"},p.createXml=function(i,n){var a=this,u="";i.properties&&(i.properties.prefixedAttributes&&i.properties.prefixedAttributes.forEach(function(v){Object.keys(v.map).forEach(function(C){u+=a.returnAttributeIfPopulated(v.prefix+C,v.map[C],n)})}),i.properties.rawMap&&Object.keys(i.properties.rawMap).forEach(function(v){u+=a.returnAttributeIfPopulated(v,i.properties.rawMap[v],n)}));var c="<"+i.name+u;return i.children||null!=i.textNode?null!=i.textNode?c+">"+i.textNode+"</"+i.name+">\r\n":(c+=">\r\n",i.children&&i.children.forEach(function(v){c+=a.createXml(v,n)}),c+"</"+i.name+">\r\n"):c+"/>\r\n"},p.returnAttributeIfPopulated=function(i,n,a){if(!n&&""!==n&&0!==n)return"";var u=n;return"boolean"==typeof n&&a&&(u=a(n))," "+i+'="'+u+'"'},p}(),Ym=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Bv=function(){function p(){}return p.addFolders=function(i){i.forEach(this.addFolder.bind(this))},p.addFolder=function(i){this.folders.push({path:i,created:new Date,isBase64:!1})},p.addFile=function(i,n,a){void 0===a&&(a=!1),this.files.push({path:i,created:new Date,content:n,isBase64:a})},p.getContent=function(i){void 0===i&&(i="application/zip");var n=this.buildFileStream(),a=this.buildUint8Array(n);return this.clearStream(),new Blob([a],{type:i})},p.clearStream=function(){this.folders=[],this.files=[]},p.buildFileStream=function(i){var n,a;void 0===i&&(i="");var u=this.folders.concat(this.files),c=u.length,v="",C=0,T=0;try{for(var M=function(p){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&p[i],a=0;if(n)return n.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),F=M.next();!F.done;F=M.next()){var ne=this.getHeader(F.value,C),pe=ne.fileHeader,me=ne.folderHeader,Te=ne.content;C+=pe.length+Te.length,T+=me.length,i+=pe+Te,v+=me}}catch(He){n={error:He}}finally{try{F&&!F.done&&(a=M.return)&&a.call(M)}finally{if(n)throw n.error}}return i+v+this.buildFolderEnd(c,T,C)},p.getHeader=function(i,n){var a=i.content,u=i.path,c=i.created,v=i.isBase64,T=Wt.decToHex,M=(0,Wt.utf8_encode)(u),F=M!==u,$=this.convertTime(c),ne=this.convertDate(c),pe="";if(F){var me=T(1,1)+T(this.getFromCrc32Table(M),4)+M;pe="up"+T(me.length,2)+me}var Te=a?this.getConvertedContent(a,v):{size:0,content:""},Ae=Te.size,He=Te.content,Ue="\n\0"+(F?"\0\b":"\0\0")+"\0\0"+T($,2)+T(ne,2)+T(Ae?this.getFromCrc32Table(He):0,4)+T(Ae,4)+T(Ae,4)+T(M.length,2)+T(pe.length,2);return{fileHeader:"PK\x03\x04"+Ue+M+pe,folderHeader:"PK\x01\x02\x14\0"+Ue+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\x10\0\0\0")+T(n,4)+M+pe,content:He||""}},p.getConvertedContent=function(i,n){return void 0===n&&(n=!1),n&&(i=i.split(";base64,")[1]),{size:(i=n?atob(i):i).length,content:i}},p.buildFolderEnd=function(i,n,a){var u=Wt.decToHex;return"PK\x05\x06\0\0\0\0"+u(i,2)+u(i,2)+u(n,4)+u(a,4)+"\0\0"},p.buildUint8Array=function(i){for(var n=new Uint8Array(i.length),a=0;a<n.length;a++)n[a]=i.charCodeAt(a);return n},p.getFromCrc32Table=function(i){if(!i.length)return 0;for(var n=i.length,a=new Uint8Array(n),u=0;u<n;u++)a[u]=i.charCodeAt(u);var c=-1;for(u=0;u<n;u++)c=c>>>8^Ym[255&(c^a[u])];return-1^c},p.convertTime=function(i){var n=i.getHours();return n<<=6,n|=i.getMinutes(),(n<<=5)|i.getSeconds()/2},p.convertDate=function(i){var n=i.getFullYear()-1980;return n<<=4,n|=i.getMonth()+1,(n<<=5)|i.getDate()},p.folders=[],p.files=[],p}(),Gf=[Rv,$m,Fv];Et.registerModules(Gf)},3742:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4298),MD5=function(){function l(){this.ieCompatibility=!1}return l.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},l.prototype.md5cycle=function(t,e){var r=t[0],o=t[1],s=t[2],d=t[3];r=this.ff(r,o,s,d,e[0],7,-680876936),d=this.ff(d,r,o,s,e[1],12,-389564586),s=this.ff(s,d,r,o,e[2],17,606105819),o=this.ff(o,s,d,r,e[3],22,-1044525330),r=this.ff(r,o,s,d,e[4],7,-176418897),d=this.ff(d,r,o,s,e[5],12,1200080426),s=this.ff(s,d,r,o,e[6],17,-1473231341),o=this.ff(o,s,d,r,e[7],22,-45705983),r=this.ff(r,o,s,d,e[8],7,1770035416),d=this.ff(d,r,o,s,e[9],12,-1958414417),s=this.ff(s,d,r,o,e[10],17,-42063),o=this.ff(o,s,d,r,e[11],22,-1990404162),r=this.ff(r,o,s,d,e[12],7,1804603682),d=this.ff(d,r,o,s,e[13],12,-40341101),s=this.ff(s,d,r,o,e[14],17,-1502002290),o=this.ff(o,s,d,r,e[15],22,1236535329),r=this.gg(r,o,s,d,e[1],5,-165796510),d=this.gg(d,r,o,s,e[6],9,-1069501632),s=this.gg(s,d,r,o,e[11],14,643717713),o=this.gg(o,s,d,r,e[0],20,-373897302),r=this.gg(r,o,s,d,e[5],5,-701558691),d=this.gg(d,r,o,s,e[10],9,38016083),s=this.gg(s,d,r,o,e[15],14,-660478335),o=this.gg(o,s,d,r,e[4],20,-405537848),r=this.gg(r,o,s,d,e[9],5,568446438),d=this.gg(d,r,o,s,e[14],9,-1019803690),s=this.gg(s,d,r,o,e[3],14,-187363961),o=this.gg(o,s,d,r,e[8],20,1163531501),r=this.gg(r,o,s,d,e[13],5,-1444681467),d=this.gg(d,r,o,s,e[2],9,-51403784),s=this.gg(s,d,r,o,e[7],14,1735328473),o=this.gg(o,s,d,r,e[12],20,-1926607734),r=this.hh(r,o,s,d,e[5],4,-378558),d=this.hh(d,r,o,s,e[8],11,-2022574463),s=this.hh(s,d,r,o,e[11],16,1839030562),o=this.hh(o,s,d,r,e[14],23,-35309556),r=this.hh(r,o,s,d,e[1],4,-1530992060),d=this.hh(d,r,o,s,e[4],11,1272893353),s=this.hh(s,d,r,o,e[7],16,-155497632),o=this.hh(o,s,d,r,e[10],23,-1094730640),r=this.hh(r,o,s,d,e[13],4,681279174),d=this.hh(d,r,o,s,e[0],11,-358537222),s=this.hh(s,d,r,o,e[3],16,-722521979),o=this.hh(o,s,d,r,e[6],23,76029189),r=this.hh(r,o,s,d,e[9],4,-640364487),d=this.hh(d,r,o,s,e[12],11,-421815835),s=this.hh(s,d,r,o,e[15],16,530742520),o=this.hh(o,s,d,r,e[2],23,-995338651),r=this.ii(r,o,s,d,e[0],6,-198630844),d=this.ii(d,r,o,s,e[7],10,1126891415),s=this.ii(s,d,r,o,e[14],15,-1416354905),o=this.ii(o,s,d,r,e[5],21,-57434055),r=this.ii(r,o,s,d,e[12],6,1700485571),d=this.ii(d,r,o,s,e[3],10,-1894986606),s=this.ii(s,d,r,o,e[10],15,-1051523),o=this.ii(o,s,d,r,e[1],21,-2054922799),r=this.ii(r,o,s,d,e[8],6,1873313359),d=this.ii(d,r,o,s,e[15],10,-30611744),s=this.ii(s,d,r,o,e[6],15,-1560198380),o=this.ii(o,s,d,r,e[13],21,1309151649),r=this.ii(r,o,s,d,e[4],6,-145523070),d=this.ii(d,r,o,s,e[11],10,-1120210379),s=this.ii(s,d,r,o,e[2],15,718787259),o=this.ii(o,s,d,r,e[9],21,-343485551),t[0]=this.add32(r,t[0]),t[1]=this.add32(o,t[1]),t[2]=this.add32(s,t[2]),t[3]=this.add32(d,t[3])},l.prototype.cmn=function(t,e,r,o,s,d){return e=this.add32(this.add32(e,t),this.add32(o,d)),this.add32(e<<s|e>>>32-s,r)},l.prototype.ff=function(t,e,r,o,s,d,f){return this.cmn(e&r|~e&o,t,e,s,d,f)},l.prototype.gg=function(t,e,r,o,s,d,f){return this.cmn(e&o|r&~o,t,e,s,d,f)},l.prototype.hh=function(t,e,r,o,s,d,f){return this.cmn(e^r^o,t,e,s,d,f)},l.prototype.ii=function(t,e,r,o,s,d,f){return this.cmn(r^(e|~o),t,e,s,d,f)},l.prototype.md51=function(t){var o,e=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(o=64;o<=t.length;o+=64)this.md5cycle(r,this.md5blk(t.substring(o-64,o)));t=t.substring(o-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<t.length;o++)s[o>>2]|=t.charCodeAt(o)<<(o%4<<3);if(s[o>>2]|=128<<(o%4<<3),o>55)for(this.md5cycle(r,s),o=0;o<16;o++)s[o]=0;return s[14]=8*e,this.md5cycle(r,s),r},l.prototype.md5blk=function(t){for(var e=[],r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e},l.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),r="",o=0;o<4;o++)r+=e[t>>8*o+4&15]+e[t>>8*o&15];return r},l.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},l.prototype.md5=function(t){return this.hex(this.md51(t))},l.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},l.prototype.add32Std=function(t,e){return t+e&4294967295},l.prototype.add32Compat=function(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r},l}(),__read$1c=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s};function missingOrEmpty(l){return null==l||0===l.length}function exists(l,t){return void 0===t&&(t=!1),null!=l&&(""!==l||t)}var LicenseManager=function(){function l(t){this.watermarkMessage=void 0,this.document=t,this.md5=new MD5,this.md5.init()}return l.prototype.validateLicense=function(){if(missingOrEmpty(l.licenseKey))this.isWebsiteUrl()||this.outputMissingLicenseKey();else if(l.licenseKey.length>32)if(-1!==l.licenseKey.indexOf("For_Trialing_ag-Grid_Only"))this.outputInvalidLicenseKey();else{var t=l.extractLicenseComponents(l.licenseKey),r=t.license,o=t.version,s=t.isTrial;t.md5===this.md5.md5(r)?exists(o)&&o?this.validateLicenseKeyForVersion(o,!!s,r):this.validateLegacyKey(r):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},l.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(l.decode(e),10))},l.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,""),r=(e=e.replace(/\r?\n|\r/g,"")).length-32,o=e.substring(r),s=e.substring(0,r),d=__read$1c(l.extractBracketedInformation(e),2);return{md5:o,license:s,version:d[0],isTrial:d[1]}},l.prototype.getLicenseDetails=function(t){var e=l.extractLicenseComponents(t),o=e.license,s=e.version,d=e.isTrial,f=e.md5===this.md5.md5(o)&&-1===t.indexOf("For_Trialing_ag-Grid_Only"),y=null,m=null;return f&&(m=l.extractExpiry(o),f=!isNaN(m.getTime()),d)&&(y=m<new Date),{licenseKey:t,valid:f,expiry:f?l.formatDate(m):null,version:s||"legacy",isTrial:d,trialExpired:y}},l.prototype.isDisplayWatermark=function(){return!this.isLocalhost()&&!this.isWebsiteUrl()&&!missingOrEmpty(this.watermarkMessage)},l.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},l.prototype.getHostname=function(){var r=(this.document.defaultView||window).location.hostname;return void 0===r?"":r},l.prototype.isWebsiteUrl=function(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)},l.prototype.isLocalhost=function(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)},l.formatDate=function(t){var r=t.getDate(),o=t.getMonth(),s=t.getFullYear();return r+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][o]+" "+s},l.getGridReleaseDate=function(){return new Date(parseInt(l.decode(l.RELEASE_INFORMATION),10))},l.decode=function(t){for(var s,d,f,y,m,E,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",O=0,D=t.replace(/[^A-Za-z0-9+/=]/g,"");O<D.length;)f=e.indexOf(D.charAt(O++)),s=(15&(y=e.indexOf(D.charAt(O++))))<<4|(m=e.indexOf(D.charAt(O++)))>>2,d=(3&m)<<6|(E=e.indexOf(D.charAt(O++))),r+=String.fromCharCode(f<<2|y>>4),64!=m&&(r+=String.fromCharCode(s)),64!=E&&(r+=String.fromCharCode(d));return l.utf8_decode(r)},l.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},l.setLicenseKey=function(t){this.licenseKey=t},l.extractBracketedInformation=function(t){var e=t.split("[").filter(function(s){return s.indexOf("]")>-1}).map(function(s){return s.split("]")[0]});if(!e||0===e.length)return[null,null];var r=1===e.filter(function(s){return"TRIAL"===s}).length;return[e.filter(function(s){return 0===s.indexOf("v")}).map(function(s){return s.replace(/^v/,"")})[0],r]},l.prototype.validateLicenseKeyForVersion=function(t,e,r){"2"===t&&(e?this.validateForTrial(r):this.validateLegacyKey(r))},l.prototype.validateLegacyKey=function(t){var e=l.getGridReleaseDate(),r=l.extractExpiry(t),o=!1,s=!1;if(isNaN(r.getTime())||(o=!0,s=e<r),o){if(!s){var d=l.formatDate(r),f=l.formatDate(e);this.outputIncompatibleVersion(d,f)}}else this.outputInvalidLicenseKey()},l.prototype.validateForTrial=function(t){var e=l.extractExpiry(t),r=new Date,o=!1,s=!1;if(isNaN(e.getTime())||(o=!0,s=e>r),o){if(!s){var d=l.formatDate(e);this.outputExpiredTrialKey(d)}}else this.outputInvalidLicenseKey()},l.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},l.prototype.outputExpiredTrialKey=function(t){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+t+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},l.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},l.prototype.outputIncompatibleVersion=function(t,e){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+t+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+e+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},l.RELEASE_INFORMATION="MTY4Mzg5NTUzNDI5OA==",l}(),__extends$3l=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)},function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),__decorate$2w=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GridLicenseManager=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$3l(t,l),t.prototype.validateLicense=function(){this.licenseManager=new LicenseManager(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},t.getLicenseDetails=function(e){return new LicenseManager(null).getLicenseDetails(e)},t.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},t.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},t.setLicenseKey=function(e){LicenseManager.setLicenseKey(e)},__decorate$2w([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"validateLicense",null),__decorate$2w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("licenseManager")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3k=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2v=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},WatermarkComp=function(l){function t(){return l.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return __extends$3k(t,l),t.prototype.postConstruct=function(){var e=this,r=this.shouldDisplayWatermark();this.setDisplayed(r),r&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.setDisplayed(!1)},5e3))},t.prototype.shouldDisplayWatermark=function(){var s=(this.gridOptionsService.getDocument().defaultView||window).location.pathname,d=this.licenseManager.isDisplayWatermark();return!!s&&-1!==s.indexOf("forceWatermark")||d},__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("licenseManager")],t.prototype,"licenseManager",void 0),__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),__decorate$2v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$i="29.3.5",EnterpriseCoreModule={version:VERSION$i,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.EnterpriseCoreModule,beans:[GridLicenseManager],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]},__extends$3j=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2u=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$D=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SOURCE_PASTE="paste",EXPORT_TYPE_DRAG_COPY="dragCopy",EXPORT_TYPE_CLIPBOARD="clipboard",CellClearType=(()=>((CellClearType=CellClearType||{})[CellClearType.CellRange=0]="CellRange",CellClearType[CellClearType.SelectedRows=1]="SelectedRows",CellClearType[CellClearType.FocusedCell=2]="FocusedCell",CellClearType))(),ClipboardService=function(l){function t(){var r=null!==l&&l.apply(this,arguments)||this;return r.lastPasteOperationTime=0,r.navigatorApiFailed=!1,r}var e;return __extends$3j(t,l),e=t,t.prototype.init=function(){var r=this;this.logger=this.loggerFactory.create("ClipboardService"),"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl})},t.prototype.pasteFromClipboard=function(){var r=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsService.is("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(s),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),r.navigatorApiFailed=!0,r.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var r=this,o=!1,s=function(d){var f=(new Date).getTime();f-r.lastPasteOperationTime<50&&(o=!0,d.preventDefault()),r.lastPasteOperationTime=f};this.executeOnTempElement(function(d){d.addEventListener("paste",s),d.focus({preventScroll:!0})},function(d){var f=d.value;o?r.refocusLastFocusedCell():r.processClipboardData(f),d.removeEventListener("paste",s)})},t.prototype.refocusLastFocusedCell=function(){var r=this.focusService.getFocusedCell();r&&this.focusService.setFocusedCell({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0})},t.prototype.getClipboardDelimiter=function(){var r=this.gridOptionsService.get("clipboardDelimiter");return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r)?r:"\t"},t.prototype.processClipboardData=function(r){var o=this;if(null!=r){var s=e.stringToArray(r,this.getClipboardDelimiter()),d=this.gridOptionsService.getCallback("processDataFromClipboard");d&&(s=d({data:s})),null!=s&&(this.gridOptionsService.is("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(s),this.doPasteOperation(function(y,m,E,O){o.rangeService&&o.rangeService.isMoreThanOneCell()&&!o.hasOnlyOneValueToPaste(s)?o.pasteIntoActiveRange(s,y,m,O):o.pasteStartingFromFocusedCell(s,y,m,E,O)}))}},t.stringToArray=function(r,o){void 0===o&&(o=",");var s=[],d=function(x){return"\r"===x||"\n"===x},f=!1;if(""===r)return[[""]];for(var m,E,O,y=function(x,L,B){var U=r[B-1],Y=r[B],ee=r[B+1],oe=function(){s[x]||(s[x]=[]),s[x][L]||(s[x][L]="")};if(oe(),'"'===Y){if(f)return'"'===ee?(s[x][L]+='"',B++):f=!1,m=x,E=L,O=B,"continue";if(void 0===U||U===o||d(U))return f=!0,m=x,E=L,O=B,"continue"}if(!f){if(Y===o)return L++,oe(),m=x,E=L,O=B,"continue";if(d(Y))return L=0,x++,oe(),"\r"===Y&&"\n"===ee&&B++,m=x,E=L,O=B,"continue"}s[x][L]+=Y,m=x,E=L,O=B},D=0,P=0,R=0;R<r.length;R++)y(D,P,R),D=m,P=E,R=O;return s},t.prototype.doPasteOperation=function(r){var f,d="clipboard";if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_START,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,source:d}),this.clientSideRowModel){var y=this.gridOptionsService.is("aggregateOnlyChangedColumns");f=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dkq(y,this.clientSideRowModel.getRootNode())}var m={},E=[];r(m,E,this.focusService.getFocusedCell(),f),f&&this.clientSideRowModel.doAggregate(f),this.rowRenderer.refreshCells(),this.dispatchFlashCells(m),this.fireRowChanged(E),this.refocusLastFocusedCell(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_END,source:d})},t.prototype.pasteIntoActiveRange=function(r,o,s,d){var f=this,y=this.getRangeSize()%r.length!=0,m=0,E=0;this.iterateActiveRanges(!1,function(D,P,R,x){if(x-m>=r.length){if(y)return;m+=E,E=0}var B=r[x-m];s.push(P);var U=f.gridOptionsService.getCallback("processCellFromClipboard");R.forEach(function(Y,ee){if(Y.isCellEditable(P)&&!Y.isSuppressPaste(P)){ee>=B.length&&(ee%=B.length);var oe=f.processCell(P,Y,B[ee],EXPORT_TYPE_DRAG_COPY,U);P.setDataValue(Y,oe,SOURCE_PASTE),d&&d.addParentNode(P.parent,[Y]);var q=f.cellPositionUtils.createIdFromValues({rowIndex:D.rowIndex,column:Y,rowPinned:D.rowPinned});o[q]=!0}}),E++})},t.prototype.pasteStartingFromFocusedCell=function(r,o,s,d,f){if(d){var y={rowIndex:d.rowIndex,rowPinned:d.rowPinned},m=this.columnModel.getDisplayedColumnsStartingAt(d.column);this.isPasteSingleValueIntoRange(r)?this.pasteSingleValueIntoRange(r,s,o,f):this.pasteMultipleValues(r,y,s,m,o,EXPORT_TYPE_CLIPBOARD,f)}},t.prototype.isPasteSingleValueIntoRange=function(r){return this.hasOnlyOneValueToPaste(r)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(r,o,s,d){var f=this,y=r[0][0];this.iterateActiveRanges(!1,function(E,O,D){o.push(O),D.forEach(function(P){return f.updateCellValue(O,P,y,s,EXPORT_TYPE_CLIPBOARD,d)})})},t.prototype.hasOnlyOneValueToPaste=function(r){return 1===r.length&&1===r[0].length},t.prototype.copyRangeDown=function(){var r=this;if(this.rangeService&&!this.rangeService.isEmpty()){var o=[];this.doPasteOperation(function(d,f,y,m){var E=r.gridOptionsService.getCallback("processCellForClipboard"),O=r.gridOptionsService.getCallback("processCellFromClipboard");r.iterateActiveRanges(!0,function(P,R,x){o.length?(f.push(R),x.forEach(function(L,B){if(L.isCellEditable(R)&&!L.isSuppressPaste(R)){var U=r.processCell(R,L,o[B],EXPORT_TYPE_DRAG_COPY,O);R.setDataValue(L,U,SOURCE_PASTE),m&&m.addParentNode(R.parent,[L]);var oe=r.cellPositionUtils.createIdFromValues({rowIndex:P.rowIndex,column:L,rowPinned:P.rowPinned});d[oe]=!0}})):x.forEach(function(L){var B=r.processCell(R,L,r.valueService.getValue(L,R),EXPORT_TYPE_DRAG_COPY,E);o.push(B)})})})}},t.prototype.removeLastLineIfBlank=function(r){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(r);if(o&&1===o.length&&""===o[0]){if(1===r.length)return;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(r,o)}},t.prototype.fireRowChanged=function(r){var o=this;"fullRow"===this.gridOptionsService.get("editType")&&r.forEach(function(s){o.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_VALUE_CHANGED,node:s,data:s.data,rowIndex:s.rowIndex,rowPinned:s.rowPinned})})},t.prototype.pasteMultipleValues=function(r,o,s,d,f,y,m){var E=this,O=o,D=null!=this.clientSideRowModel&&!this.gridOptionsService.isTreeData();r.forEach(function(R){var x=function(){for(;;){if(!O)return null;var R=E.rowPositionUtils.getRowNode(O);if(O=E.cellNavigationService.getRowBelow({rowPinned:O.rowPinned,rowIndex:O.rowIndex}),null==R)return null;if(!(R.detail||R.footer||D&&R.group))return R}}();x&&(R.forEach(function(L,B){return E.updateCellValue(x,d[B],L,f,y,m)}),s.push(x))})},t.prototype.updateCellValue=function(r,o,s,d,f,y){if(r&&o&&o.isCellEditable(r)&&!o.isSuppressPaste(r)){var m=this.processCell(r,o,s,f,this.gridOptionsService.getCallback("processCellFromClipboard"));r.setDataValue(o,m,SOURCE_PASTE),d[this.cellPositionUtils.createIdFromValues({rowIndex:r.rowIndex,column:o,rowPinned:r.rowPinned})]=!0,y&&y.addParentNode(r.parent,[o])}},t.prototype.copyToClipboard=function(r){void 0===r&&(r={}),this.copyOrCutToClipboard(r)},t.prototype.cutToClipboard=function(r){void 0===r&&(r={}),!this.gridOptionsService.is("suppressCutToClipboard")&&this.copyOrCutToClipboard(r,!0)},t.prototype.copyOrCutToClipboard=function(r,o){var s=r.includeHeaders,d=r.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+s),null==s&&(s=this.gridOptionsService.is("copyHeadersToClipboard")),null==d&&(d=this.gridOptionsService.is("copyGroupHeadersToClipboard"));var f={includeHeaders:s,includeGroupHeaders:d},y=!this.gridOptionsService.is("suppressCopyRowsToClipboard"),m=null;!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?y&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(f),m=CellClearType.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(f),m=CellClearType.FocusedCell):(this.copySelectedRangeToClipboard(f),m=CellClearType.CellRange),o&&null!==m&&this.clearCellsAfterCopy(m)},t.prototype.clearCellsAfterCopy=function(r){if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),r===CellClearType.CellRange)this.rangeService.clearCellRangeCellValues(void 0,"clipboardService");else if(r===CellClearType.SelectedRows)this.clearSelectedRows();else{var o=this.focusService.getFocusedCell();if(null==o)return;var s=this.rowPositionUtils.getRowNode(o);s&&this.clearCellValue(s,o.column)}this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},t.prototype.clearSelectedRows=function(){var r,o,s,d,f=this.selectionService.getSelectedNodes(),y=this.columnModel.getAllDisplayedColumns();try{for(var m=__values$D(f),E=m.next();!E.done;E=m.next()){var O=E.value;try{for(var D=(s=void 0,__values$D(y)),P=D.next();!P.done;P=D.next())this.clearCellValue(O,P.value)}catch(x){s={error:x}}finally{try{P&&!P.done&&(d=D.return)&&d.call(D)}finally{if(s)throw s.error}}}}catch(x){r={error:x}}finally{try{E&&!E.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}},t.prototype.clearCellValue=function(r,o){o.isCellEditable(r)&&r.setDataValue(o,null,"clipboardService")},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.is("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(r,o,s){var d=this;if(this.rangeService&&!this.rangeService.isEmpty()){var f=this.rangeService.getCellRanges();r?this.iterateActiveRange(f[0],o,s,!0):f.forEach(function(y,m){return d.iterateActiveRange(y,o,s,m===f.length-1)})}},t.prototype.iterateActiveRange=function(r,o,s,d){if(this.rangeService){var f=this.rangeService.getRangeStartRow(r),y=this.rangeService.getRangeEndRow(r);s&&r.columns&&s(r.columns);for(var m=0,E=!1;!E&&null!=f;){var O=this.rowPositionUtils.getRowNode(f);E=this.rowPositionUtils.sameRow(f,y),o(f,O,r.columns,m++,E&&d),f=this.cellNavigationService.getRowBelow(f)}}},t.prototype.copySelectedRangeToClipboard=function(r){if(void 0===r&&(r={}),this.rangeService&&!this.rangeService.isEmpty()){var s=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(r):this.buildDataFromRanges(r),f=s.cellsToFlash;this.copyDataToClipboard(s.data),this.dispatchFlashCells(f)}},t.prototype.buildDataFromMergedRanges=function(r){var o=this,s=new Set,d=this.rangeService.getCellRanges(),f=new Map,y=[],m={};d.forEach(function(P){P.columns.forEach(function(B){return s.add(B)});var R=o.getRangeRowPositionsAndCellsToFlash(P),L=R.cellsToFlash;R.rowPositions.forEach(function(B){var U=B.rowIndex+"-"+(B.rowPinned||"null");f.get(U)||(f.set(U,!0),y.push(B))}),Object.assign(m,L)});var E=this.columnModel.getAllDisplayedColumns(),O=Array.from(s);return O.sort(function(P,R){return E.indexOf(P)-E.indexOf(R)}),{data:this.buildExportParams({columns:O,rowPositions:y,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders}),cellsToFlash:m}},t.prototype.buildDataFromRanges=function(r){var o=this,s=this.rangeService.getCellRanges(),d=[],f={};return s.forEach(function(y){var m=o.getRangeRowPositionsAndCellsToFlash(y),E=m.rowPositions;Object.assign(f,m.cellsToFlash),d.push(o.buildExportParams({columns:y.columns,rowPositions:E,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders}))}),{data:d.join("\n"),cellsToFlash:f}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(r){for(var o=this,s=[],d={},f=this.rangeService.getRangeStartRow(r),y=this.rangeService.getRangeEndRow(r),m=f;m&&(s.push(m),r.columns.forEach(function(E){var R=o.cellPositionUtils.createIdFromValues({rowIndex:m.rowIndex,column:E,rowPinned:m.rowPinned});d[R]=!0}),!this.rowPositionUtils.sameRow(m,y));)m=this.cellNavigationService.getRowBelow(m);return{rowPositions:s,cellsToFlash:d}},t.prototype.copyFocusedCellToClipboard=function(r){var o;void 0===r&&(r={});var s=this.focusService.getFocusedCell();if(null!=s){var d=this.cellPositionUtils.createId(s),m=this.buildExportParams({columns:[s.column],rowPositions:[{rowPinned:s.rowPinned,rowIndex:s.rowIndex}],includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});this.copyDataToClipboard(m),this.dispatchFlashCells(((o={})[d]=!0,o))}},t.prototype.copySelectedRowsToClipboard=function(r){void 0===r&&(r={});var f=this.buildExportParams({columns:r.columnKeys,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});this.copyDataToClipboard(f)},t.prototype.buildExportParams=function(r){var o=this,d=r.rowPositions,f=r.includeHeaders,m=r.includeGroupHeaders,O={columnKeys:r.columns,rowPositions:d,skipColumnHeaders:!(void 0!==f&&f),skipColumnGroupHeaders:!(void 0!==m&&m),suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!d,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(D){return o.processRowGroupCallback(D)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(O,!0)},t.prototype.processRowGroupCallback=function(r){var o=r.node,s=o.key,d=s??"";if(r.node.footer){var f="";s&&s.length&&(f=" "+s),d="Total"+f}var y=this.gridOptionsService.getCallback("processCellForClipboard");if(y){var m=o.rowGroupColumn;return!m&&o.footer&&-1===o.level&&(m=this.columnModel.getRowGroupColumns()[0]),y({value:d,node:o,column:m,type:"clipboard"})}return d},t.prototype.dispatchFlashCells=function(r){var o=this;window.setTimeout(function(){o.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FLASH_CELLS,cells:r})},0)},t.prototype.processCell=function(r,o,s,d,f){return f?f({column:o,node:r,value:s,type:d}):s},t.prototype.copyDataToClipboard=function(r){var o=this,s=this.gridOptionsService.getCallback("sendToClipboard");s?s({data:r}):!this.gridOptionsService.is("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(r).catch(function(f){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(f),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),o.copyDataToClipboardLegacy(r)}):this.copyDataToClipboardLegacy(r)},t.prototype.copyDataToClipboardLegacy=function(r){var o=this;this.executeOnTempElement(function(s){var d=o.gridOptionsService.getDocument(),f=d.activeElement;s.value=r||" ",s.select(),s.focus({preventScroll:!0}),d.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=f&&null!=f.focus&&f.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(r,o){var s=this.gridOptionsService.getDocument(),d=s.createElement("textarea");d.style.width="1px",d.style.height="1px",d.style.top=s.documentElement.scrollTop+"px",d.style.left=s.documentElement.scrollLeft+"px",d.style.position="absolute",d.style.opacity="0";var f=this.gridCtrl.getGui();f.appendChild(d);try{r(d)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}o?window.setTimeout(function(){o(d),f.removeChild(d)},100):f.removeChild(d)},t.prototype.getRangeSize=function(){var r=this.rangeService.getCellRanges(),o=0,s=0;return r.length>0&&(o=this.rangeService.getRangeStartRow(r[0]).rowIndex,s=this.rangeService.getRangeEndRow(r[0]).rowIndex),o-s+1},__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("csvCreator")],t.prototype,"csvCreator",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],t.prototype,"selectionService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$2u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),e=__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("clipboardService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$h="29.3.5",ClipboardModule={version:VERSION$h,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,beans:[ClipboardService],dependantModules:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC]},__extends$3i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2t=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ExpandState=(()=>((ExpandState=ExpandState||{})[ExpandState.EXPANDED=0]="EXPANDED",ExpandState[ExpandState.COLLAPSED=1]="COLLAPSED",ExpandState[ExpandState.INDETERMINATE=2]="INDETERMINATE",ExpandState))(),PrimaryColsHeaderPanel=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$3i(t,l),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(o){o.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(o.preventDefault(),e.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var r=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(ExpandState.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,r=!this.params.suppressColumnSelectAll,o=!this.params.suppressColumnExpandAll,s=this.columnModel.isPrimaryColumnGroupsPresent(),d=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(d("searchOoo","Search...")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSelect.getGui(),r),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,o&&s)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){var r=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:r})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var r=this;e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&setTimeout(function(){return r.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===ExpandState.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.expandState===ExpandState.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.expandState===ExpandState.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.expandState===ExpandState.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],t.prototype,"eExpand",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSelect")],t.prototype,"eSelect",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),__decorate$2t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),ColumnModelItem=function(){function l(t,e,r,o,s){void 0===o&&(o=!1),this.eventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.displayName=t,this.dept=r,this.group=o,o?(this.columnGroup=e,this.expanded=s,this.children=[]):this.column=e}return l.prototype.isGroup=function(){return this.group},l.prototype.getDisplayName=function(){return this.displayName},l.prototype.getColumnGroup=function(){return this.columnGroup},l.prototype.getColumn=function(){return this.column},l.prototype.getDept=function(){return this.dept},l.prototype.isExpanded=function(){return!!this.expanded},l.prototype.getChildren=function(){return this.children},l.prototype.isPassesFilter=function(){return this.passesFilter},l.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:l.EVENT_EXPANDED_CHANGED}))},l.prototype.setPassesFilter=function(t){this.passesFilter=t},l.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},l.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},l.EVENT_EXPANDED_CHANGED="expandedChanged",l}(),__extends$3h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2s=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$1b=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$J=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$1b(arguments[t]));return l},__values$C=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ToolPanelContextMenu=function(l){function t(e,r,o){var s=l.call(this,'<div class="ag-menu"></div>')||this;return s.column=e,s.mouseEvent=r,s.parentEl=o,s.displayName=null,s}return __extends$3h(t,l),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){this.columns=e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(r){return r.isPrimary()&&r.isAllowRowGroup()}),this.allowValues=this.columns.some(function(r){return r.isPrimary()&&r.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(r){return r.isPrimary()&&r.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowRowGroup()},activeFunction:function(o){return o.isRowGroupActive()},activateLabel:function(){return r("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return r("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowValue()},activeFunction:function(o){return o.isValueActive()},activateLabel:function(){return r("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return r("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(o){return e.columnModel.isPivotMode()&&o.isPrimary()&&o.isAllowPivot()},activeFunction:function(o){return o.isPivotActive()},activateLabel:function(){return r("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return r("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return __spread$J(e).concat(this.columns.filter(function(r){return-1===e.indexOf(r)}))},t.prototype.removeColumnsFromList=function(e){var r=this;return e.filter(function(o){return-1===r.columns.indexOf(o)})},t.prototype.displayContextMenu=function(){var e=this,r=this.getGui(),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),s=this.getMappedMenuItems(),d=this.localeService.getLocaleTextFunc(),f=function(){};r.appendChild(o.getGui()),o.addMenuItems(s),o.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),f()});var y=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(o.getGui())},ariaLabel:d("ariaLabelContextMenu","Context Menu"),closedCallback:function(m){m instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(o)}});y&&(f=y.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:r})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,r,o=[],s=function(E){var O=d.columns.some(function(P){return E.allowedFunction(P)&&!E.activeFunction(P)}),D=d.columns.some(function(P){return E.allowedFunction(P)&&E.activeFunction(P)});O&&o.push({name:E.activateLabel(d.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(E.addIcon,d.gridOptionsService,null),action:function(){return E.activateFunction()}}),D&&o.push({name:E.deactivateLabel(d.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(E.removeIcon,d.gridOptionsService,null),action:function(){return E.deActivateFunction()}})},d=this;try{for(var f=__values$C(this.menuItemMap.values()),y=f.next();!y.done;y=f.next())s(y.value)}catch(E){e={error:E}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return o},__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$2s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2r=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelColumnGroupComp=function(l){function t(e,r,o,s){var d=l.call(this)||this;return d.modelItem=e,d.allowDragging=r,d.eventType=o,d.focusWrapper=s,d.processingColumnStateChange=!1,d.modelItem=e,d.columnGroup=e.getColumnGroup(),d.columnDept=e.getDept(),d.allowDragging=r,d}return __extends$3g(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ColumnModelItem.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach(function(d){return e.addOrRemoveCssClass(d,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef();if(r){var o=function(){e.setTooltip(r.headerTooltip)};o(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,o)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var r=this,s=this.columnGroup;if(!this.gridOptionsService.is("functionsReadOnly")){var f=this.createBean(new ToolPanelContextMenu(s,e,this.focusWrapper));this.addDestroyFunc(function(){f.isAlive()&&r.destroyBean(f)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(r){e.addManagedListener(r,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var r=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:r?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){r&&e.onChangeCommon(!0)},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(r){e[r.getId()]=r.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],r=function(o){o.forEach(function(s){s.isPassesFilter()&&(s.isGroup()?r(s.getChildren()):e.push(s.getColumn()))})};return r(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumnGroup","Column Group"),o=this.cbSelect.getValue(),s=void 0===o?e("ariaIndeterminate","indeterminate"):o?e("ariaVisible","visible"):e("ariaHidden","hidden"),d=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(d+" ("+s+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),r=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(r),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",r),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,r=this.columnModel.isPivotMode(),o=this.getVisibleLeafColumns(),s=0,d=0;if(o.forEach(function(f){!r&&f.getColDef().lockVisible||(e.isColumnChecked(f,r)?s++:d++)}),!(s>0&&d>0))return s>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),r=0;return this.columnGroup.getLeafColumns().forEach(function(o){e?o.isAnyFunctionAllowed()&&r++:o.getColDef().lockVisible||r++}),0===r},t.prototype.isColumnChecked=function(e,r){if(r){var o=e.isPivotActive(),s=e.isRowGroupActive(),d=e.isValueActive();return o||s||d}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,!e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var r=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!r||!e&&r)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),__decorate$2r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2q=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PRIMARY_COLS_LIST_ITEM_HOVERED="ag-list-item-hovered",PrimaryColsListPanelItemDragFeature=function(l){function t(e,r){var o=l.call(this)||this;return o.comp=e,o.virtualList=r,o.currentDragColumn=null,o.lastHoveredColumnItem=null,o}return __extends$3f(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(d){var f=d.getColDef();return!!f.suppressMovable||!!f.lockPosition})&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(o){return o===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(o){return e.onDragging(o)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var r=this.getDragColumnItem(e),o=this.virtualList.getComponentAt(r.rowIndex);if(o){var s=o.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===r.rowIndex&&this.lastHoveredColumnItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=r,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(s,""+PRIMARY_COLS_LIST_ITEM_HOVERED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(s,"ag-item-highlight-"+r.position))}}},t.prototype.getDragColumnItem=function(e){var r=this.virtualList.getGui(),o=parseFloat(window.getComputedStyle(r).paddingTop),s=this.virtualList.getRowHeight(),d=this.virtualList.getScrollTop(),f=Math.max(0,(e.y-o+d)/s),y=this.comp.getDisplayedColsList().length-1,m=0|Math.min(y,f);return{rowIndex:m,position:Math.round(f)>f||f>y?"bottom":"top",component:this.virtualList.getComponentAt(m)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),r=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(r,e,"toolPanelUi"),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var r=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(),d=o.length;return r.indexOf(o[0])<e?d:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var o,e=this.lastHoveredColumnItem.component,r="top"===this.lastHoveredColumnItem.position;e instanceof ToolPanelColumnGroupComp?(o=e.getColumns()[0],r=!0):o=e.getColumn();var d=this.columnModel.getAllGridColumns().indexOf(o),f=r?d:d+1;return f-this.getMoveDiff(f)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+PRIMARY_COLS_LIST_ITEM_HOVERED).forEach(function(r){[PRIMARY_COLS_LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(o){r.classList.remove(o)})}),this.lastHoveredColumnItem=null},__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2p=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelColumnComp=function(l){function t(e,r,o,s,d){var f=l.call(this)||this;return f.column=e,f.columnDept=r,f.allowDragging=o,f.groupsExist=s,f.focusWrapper=d,f.processingColumnStateChange=!1,f}return __extends$3e(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.displayName);this.eLabel.innerHTML=s;var d=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+d),this.setupDragging(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach(function(y){return e.addOrRemoveCssClass(y,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,r=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var r=this,s=this.column;if(!this.gridOptionsService.is("functionsReadOnly")){var f=this.createBean(new ToolPanelContextMenu(s,e,this.focusWrapper));this.addDestroyFunc(function(){f.isAlive()&&r.destroyBean(f)})}},t.prototype.handleKeyDown=function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsService.is("functionsReadOnly")){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumn","Column"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(s+" ("+o+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var r=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:r?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){r&&e.onChangeCommon(!0)},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var r=this.column.isAnyFunctionActive();this.cbSelect.setValue(r)}else this.cbSelect.setValue(this.column.isVisible());var o=!0,s=!0;if(e){var d=this.gridOptionsService.is("functionsReadOnly"),f=!this.column.isAnyFunctionAllowed();s=o=!d&&!f}else{var y=this.column.getColDef();o=!y.lockVisible,s=!!y.enableRowGroup||!!y.enableValue||!(y.lockPosition||y.suppressMovable)}this.cbSelect.setReadOnly(!o),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!s),this.addOrRemoveCssClass("ag-column-select-column-readonly",!s&&!o);var L=e&&this.gridOptionsService.is("functionsPassive");this.cbSelect.setPassive(L),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),__decorate$2p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2o=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},UIColumnModel=function(){function l(t){this.items=t}return l.prototype.getRowCount=function(){return this.items.length},l.prototype.getRow=function(t){return this.items[t]},l}(),PRIMARY_COLS_LIST_PANEL_CLASS="ag-column-select-list",PrimaryColsListPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return __extends$3d(t,l),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,r,o){var s=this;this.params=e,this.allowDragging=r,this.eventType=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED].forEach(function(m){s.addManagedListener(s.eventService,m,s.fireSelectionChangedEvent.bind(s))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var y=this.localeService.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("column-select","tree",y)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(m,E){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(E,m.getDept()+1),s.createComponentFromItem(m,E)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsService.is("suppressMovableColumns")&&this.createManagedBean(new PrimaryColsListPanelItemDragFeature(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,r){if(e.isGroup()){var o=new ToolPanelColumnGroupComp(e,this.allowDragging,this.eventType,r);return this.getContext().createBean(o),o}var s=new ToolPanelColumnComp(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,r);return this.getContext().createBean(s),s},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),r=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||r?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();o&&(e[o.getId()]=r.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){this.allColsTree&&this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();if(o){var s=e[o.getId()];null!=s&&r.setExpanded(s)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var r=this.colDefService.createColumnTree(e);this.buildListModel(r),this.groupsExist=e.some(function(o){return o&&typeof o.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var r=this,o=this.onColumnExpanded.bind(this),d=function(m,E,O){m.forEach(function(D){D instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?f(D,E,O):y(D,E,O)})},f=function(m,E,O){var D=m.getColGroupDef();if(!D||!D.suppressColumnsToolPanel){if(m.isPadding())return void d(m.getChildren(),E,O);var R=r.columnModel.getDisplayNameForProvidedColumnGroup(null,m,r.eventType),x=new ColumnModelItem(R,m,E,!0,r.expandGroupsByDefault);O.push(x),function(m){m.addEventListener(ColumnModelItem.EVENT_EXPANDED_CHANGED,o);var E=m.removeEventListener.bind(m,ColumnModelItem.EVENT_EXPANDED_CHANGED,o);r.destroyColumnItemFuncs.push(E)}(x),d(m.getChildren(),E+1,x.getChildren())}},y=function(m,E,O){if(!m.getColDef()||!m.getColDef().suppressColumnsToolPanel){var P=r.columnModel.getDisplayNameForColumn(m,"columnToolPanel");O.push(new ColumnModelItem(P,m,E))}};this.destroyColumnTree(),d(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var r=function(s){s.isPassesFilter()&&(e.displayedColsList.push(s),s.isGroup()&&s.isExpanded()&&s.getChildren().forEach(r))};this.allColsTree.forEach(r),this.virtualList.setModel(new UIColumnModel(this.displayedColsList));var o=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=o&&this.focusRowIfAlive(o),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var r=this;window.setTimeout(function(){r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var r=function(o){o.forEach(function(s){e(s),s.isGroup()&&r(s.getChildren())})};r(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(r){r.isGroup()&&r.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,r){if(r){var o=[];this.forEachItem(function(d){if(d.isGroup()){var f=d.getColumnGroup().getId();r.indexOf(f)>=0&&(d.setExpanded(e),o.push(f))}});var s=r.filter(function(d){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(o,d)});s.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",s)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,r=0;return this.forEachItem(function(o){o.isGroup()&&(o.isExpanded()?e++:r++)}),e>0&&r>0?ExpandState.INDETERMINATE:r>0?ExpandState.COLLAPSED:ExpandState.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,r=0,o=this.columnModel.isPivotMode();if(this.forEachItem(function(s){if(!s.isGroup()&&s.isPassesFilter()){var y,d=s.getColumn(),f=d.getColDef();if(o){if(!d.isAllowPivot()&&!d.isAllowRowGroup()&&!d.isAllowValue())return;y=d.isValueActive()||d.isPivotActive()||d.isRowGroupActive()}else{if(f.lockVisible)return;y=d.isVisible()}y?e++:r++}}),!(e>0&&r>0))return!(0===e||r>0)},t.prototype.setFilterText=function(e){this.filterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,r=function(s){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.filterText))return!0;var d=s.getDisplayName();return null==d||-1!==d.toLowerCase().indexOf(e.filterText)},o=function(s,d){var f=!1;if(s.isGroup()){var y=r(s);s.getChildren().forEach(function(E){var O=o(E,y||d);O&&(f=O)})}var m=!(!d&&!f)||r(s);return s.setPassesFilter(m),m};this.allColsTree.forEach(function(s){return o(s,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="'+PRIMARY_COLS_LIST_PANEL_CLASS+'" role="presentation"></div>',__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],t.prototype,"colDefService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),__decorate$2o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyColumnTree",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2n=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PivotModePanel=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$3c(t,l),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var r=this.gridOptionsService.api;r&&r.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbPivotMode")],t.prototype,"cbPivotMode",void 0),__decorate$2n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2m=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AggregationStage=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$3b(t,l),t.prototype.execute=function(e){var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.columnModel.getValueColumns()),o=!this.getGroupRowAggFunc(),s=e.changedPath&&e.changedPath.isActive();if(!(r&&o&&s)){var d=this.createAggDetails(e);this.recursivelyCreateAggData(d)}},t.prototype.getGroupRowAggFunc=function(){var e=this.gridOptionsService.getCallback("getGroupRowAgg");if(e)return e;var r=this.gridOptionsService.get("groupRowAggNodes");return r?function(o){return r(o.nodes)}:void 0},t.prototype.createAggDetails=function(e){var r=this.columnModel.isPivotActive(),o=this.columnModel.getValueColumns(),s=r?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:o,pivotColumns:s}},t.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.is("suppressAggFilteredOnly")},t.prototype.recursivelyCreateAggData=function(e){var r=this;this.filteredOnly=!this.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(s){if(s.hasChildren()){if(-1===s.level){var y=!r.columnModel.isPivotMode();if(r.gridOptionsService.is("suppressAggAtRootLevel")&&y)return}r.aggregateRowNode(s,e)}else s.aggData&&s.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,r){var f,o=0===r.valueColumns.length,s=0===r.pivotColumns.length,d=this.getGroupRowAggFunc();f=d?d({nodes:e.childrenAfterFilter}):o?null:s?this.aggregateRowNodeUsingValuesOnly(e,r):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(f),e.sibling&&e.sibling.setAggData(f)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var o,r=this,s={},d=null!==(o=this.columnModel.getSecondaryColumns())&&void 0!==o?o:[];return d.forEach(function(f){var R,y=f.getColDef(),m=y.pivotValueColumn,O=y.colId,D=y.pivotKeys;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(y.pivotTotalColumnIds)||(R=e.leafGroup?r.getValuesFromMappedSet(e.childrenMapped,D??[],m):r.getValuesPivotNonLeaf(e,O),s[O]=r.aggregateValues(R,m.getAggFunc(),m,e,f))}),d.forEach(function(f){var y=f.getColDef(),m=y.pivotValueColumn,E=y.pivotTotalColumnIds,O=y.colId;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(E)){var D=[];!E||!E.length||(E.forEach(function(P){D.push(s[P])}),s[O]=r.aggregateValues(D,m.getAggFunc(),m,e,f))}}),s},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,r){var o=this,s={},d=r.changedPath.isActive()?r.changedPath.getValueColumnsForNode(e,r.valueColumns):r.valueColumns,f=r.changedPath.isActive()?r.changedPath.getNotValueColumnsForNode(e,r.valueColumns):null,y=this.getValuesNormal(e,d),m=e.aggData;return d.forEach(function(E,O){s[E.getId()]=o.aggregateValues(y[O],E.getAggFunc(),E,e)}),f&&m&&f.forEach(function(E){s[E.getId()]=m[E.getId()]}),s},t.prototype.getValuesPivotNonLeaf=function(e,r){var o=[];return e.childrenAfterFilter.forEach(function(s){o.push(s.aggData[r])}),o},t.prototype.getValuesFromMappedSet=function(e,r,o){var s=this,d=e;if(r.forEach(function(y){return d=d?d[y]:null}),!d)return[];var f=[];return d.forEach(function(y){var m=s.valueService.getValue(o,y);f.push(m)}),f},t.prototype.getValuesNormal=function(e,r){var o=[];r.forEach(function(){return o.push([])});for(var s=r.length,d=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,f=d.length,y=0;y<f;y++)for(var m=d[y],E=0;E<s;E++){var D=this.valueService.getValue(r[E],m);o[E].push(D)}return o},t.prototype.aggregateValues=function(e,r,o,s,d){var f="string"==typeof r?this.aggFuncService.getAggFunc(r):r;return"function"!=typeof f?(console.error("AG Grid: unrecognised aggregation function "+r),null):f({values:e,column:o,colDef:o?o.getColDef():void 0,pivotResultColumn:d,rowNode:s,data:s?s.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context})},__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggregationStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BatchRemover=function(){function l(){this.allSets={},this.allParents=[]}return l.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},l.prototype.isRemoveFromAllLeafChildren=function(t,e){return!!this.getSet(t).removeFromAllLeafChildren[e.id]},l.prototype.preventRemoveFromAllLeafChildren=function(t,e){delete this.getSet(t).removeFromAllLeafChildren[e.id]},l.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},l.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},l.prototype.getAllParents=function(){return this.allParents},l.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var r=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(o){return!r.removeFromChildrenAfterGroup[o.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(o){return!r.removeFromAllLeafChildren[o.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},l}(),__extends$3a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2l=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$1a=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$I=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$1a(arguments[t]));return l},GroupStage=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.groupIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,e}return __extends$3a(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsService.get("getDataPath"))},t.prototype.execute=function(e){var r=this.createGroupingDetails(e);r.transactions?this.handleTransaction(r):this.shotgunResetEverything(r,!0===e.afterColumnsChanged),this.positionLeafsAndGroups(e.changedPath),this.orderGroups(r.rootNode),this.selectableService.updateSelectableAfterGrouping(r.rootNode)},t.prototype.positionLeafsAndGroups=function(e){this.usingTreeData||e.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var d,o=[],s=[];r.childrenAfterGroup.forEach(function(f){var y;null!==(y=f.childrenAfterGroup)&&void 0!==y&&y.length?""!==f.key||d?s.push(f):d=f:o.push(f)}),d&&s.push(d),r.childrenAfterGroup=__spread$I(o,s)}},!1)},t.prototype.createGroupingDetails=function(e){var r=e.rowNode,o=e.changedPath,s=e.rowNodeTransactions,d=e.rowNodeOrder,f=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols:f,rootNode:r,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!f?0:f.length,rowNodeOrder:d,transactions:s,changedPath:o}},t.prototype.handleTransaction=function(e){var r=this;e.transactions.forEach(function(o){var s=r.usingTreeData?void 0:new BatchRemover;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o.remove)&&r.removeNodes(o.remove,e,s),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o.update)&&r.moveNodesInWrongPath(o.update,e,s),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o.add)&&r.insertNodes(o.add,e,!1),s){var d=s.getAllParents().slice();s.flush(),r.removeEmptyGroups(d,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(r){r.childrenAfterGroup&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.sortRowNodesByOrder(r.childrenAfterGroup,e.rowNodeOrder)&&e.changedPath.addParentNode(r)},!1,!0)},t.prototype.orderGroups=function(e){if(!this.usingTreeData){var r=this.getInitialGroupOrderComparator();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r)&&function o(s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s.childrenAfterGroup)&&!s.leafGroup&&(s.childrenAfterGroup.sort(function(f,y){return r({nodeA:f,nodeB:y})}),s.childrenAfterGroup.forEach(function(f){return o(f)}))}(e)}},t.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptionsService.getCallback("initialGroupOrderComparator");if(e)return e;var r=this.gridOptionsService.get("defaultGroupOrderComparator");return r?function(o){return r(o.nodeA,o.nodeB)}:void 0},t.prototype.getExistingPathForNode=function(e,r){for(var o=[],s=this.usingTreeData?e:e.parent;s&&s!==r.rootNode;)o.push({key:s.key,rowGroupColumn:s.rowGroupColumn,field:s.field}),s=s.parent;return o.reverse(),o},t.prototype.moveNodesInWrongPath=function(e,r,o){var s=this;e.forEach(function(d){r.changedPath.isActive()&&r.changedPath.addParentNode(d.parent);var f=function(O){return O.key},y=s.getExistingPathForNode(d,r).map(f),m=s.getGroupInfo(d,r).map(f);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(y,m)||s.moveNode(d,r,o)})},t.prototype.moveNode=function(e,r,o){this.removeNodesInStages([e],r,o),this.insertOneNode(e,r,!0,o),e.setData(e.data),r.changedPath.isActive()&&r.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,r,o){this.removeNodesInStages(e,r,o),r.changedPath.isActive()&&e.forEach(function(s){return r.changedPath.addParentNode(s.parent)})},t.prototype.removeNodesInStages=function(e,r,o){if(this.removeNodesFromParents(e,r,o),this.usingTreeData){this.postRemoveCreateFillerNodes(e,r);var s=e.map(function(d){return d.parent});this.removeEmptyGroups(s,r)}},t.prototype.forEachParentGroup=function(e,r,o){for(var s=r;s&&s!==e.rootNode;)o(s),s=s.parent},t.prototype.removeNodesFromParents=function(e,r,o){var s=this,d=null==o,f=o||new BatchRemover;e.forEach(function(y){s.removeFromParent(y,f),s.forEachParentGroup(r,y.parent,function(m){f.removeFromAllLeafChildren(m,y)})}),d&&f.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,r){var o=this;e.forEach(function(s){if(s.hasChildren()){var f=o.getExistingPathForNode(s,r),y=o.findParentForNode(s,f,r);y.expanded=s.expanded,y.allLeafChildren=s.allLeafChildren,y.childrenAfterGroup=s.childrenAfterGroup,y.childrenMapped=s.childrenMapped,y.updateHasChildren(),y.childrenAfterGroup.forEach(function(m){return m.parent=y})}})},t.prototype.removeEmptyGroups=function(e,r){for(var o=this,s=!0,f=function(){s=!1;var y=new BatchRemover;e.forEach(function(m){o.forEachParentGroup(r,m,function(E){(function(y){var m=o.getChildrenMappedKey(y.key,y.rowGroupColumn),E=y.parent;return!!(E&&E.childrenMapped&&E.childrenMapped[m]&&y.isEmptyRowGroupNode())})(E)&&(s=!0,o.removeFromParent(E,y),E.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),y.flush()};s;)f()},t.prototype.removeFromParent=function(e,r){e.parent&&(r?r.removeFromChildrenAfterGroup(e.parent,e):(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[o]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,r){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);r&&(null!=r.childrenMapped&&(r.childrenMapped[o]=e),r.childrenAfterGroup.push(e),r.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,r){return null!=e&&null!=r&&e.pivotMode===r.pivotMode&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e.groupedCols,r.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var r=this,o=function(s){s&&s.forEach(function(d){!r.usingTreeData&&!d.group||(r.setGroupData(d,{field:d.field,key:d.key,rowGroupColumn:d.rowGroupColumn}),o(d.childrenAfterGroup))})};o(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,r){if(!this.noChangeInGroupingColumns(e,r)){this.selectionService.filterFromSelection(function(f){return f&&!f.group});var o=e.rootNode;o.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren();var d=o.sibling;d&&(d.childrenAfterGroup=o.childrenAfterGroup,d.childrenMapped=o.childrenMapped),this.insertNodes(o.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,r){var o=!1,s=this.columnModel.getGroupDisplayColumns(),d=s?s.map(function(f){return f.getId()}).join("-"):"";return r&&(o=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==d&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=d,o},t.prototype.insertNodes=function(e,r,o){var s=this;e.forEach(function(d){s.insertOneNode(d,r,o),r.changedPath.isActive()&&r.changedPath.addParentNode(d.parent)})},t.prototype.insertOneNode=function(e,r,o,s){var d=this.getGroupInfo(e,r),f=this.findParentForNode(e,d,r,s);f.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[f.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(f,e,o):(e.parent=f,e.level=d.length,f.childrenAfterGroup.push(e),f.updateHasChildren())},t.prototype.findParentForNode=function(e,r,o,s){var d=this,f=o.rootNode;return r.forEach(function(y,m){f=d.getOrCreateNextNode(f,y,m,o),s?.isRemoveFromAllLeafChildren(f,e)?s?.preventRemoveFromAllLeafChildren(f,e):f.allLeafChildren.push(e)}),f},t.prototype.swapGroupWithUserNode=function(e,r,o){r.parent=e.parent,r.key=e.key,r.field=e.field,r.groupData=e.groupData,r.level=e.level,o||(r.expanded=e.expanded),r.leafGroup=e.leafGroup,r.rowGroupIndex=e.rowGroupIndex,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.sibling=e.sibling,r.updateHasChildren(),this.removeFromParent(e),r.childrenAfterGroup.forEach(function(s){return s.parent=r}),this.addToParent(r,e.parent)},t.prototype.getOrCreateNextNode=function(e,r,o,s){var d=this.getChildrenMappedKey(r.key,r.rowGroupColumn),f=e.childrenMapped?e.childrenMapped[d]:void 0;return f||(f=this.createGroup(r,e,o,s),this.addToParent(f,e)),f},t.prototype.createGroup=function(e,r,o,s){var d=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return d.group=!0,d.field=e.field,d.rowGroupColumn=e.rowGroupColumn,this.setGroupData(d,e),d.id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),d.key=e.key,d.level=o,d.leafGroup=!this.usingTreeData&&o===s.groupedColCount-1,d.allLeafChildren=[],d.setAllChildrenCount(0),d.rowGroupIndex=this.usingTreeData?null:o,d.childrenAfterGroup=[],d.childrenMapped={},d.updateHasChildren(),d.parent=s.includeParents?r:null,this.setExpandedInitialValue(s,d),this.gridOptionsService.is("groupIncludeFooter")&&d.createFooter(),d},t.prototype.setGroupData=function(e,r){var o=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(d){(o.usingTreeData||e.rowGroupColumn&&d.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[d.getColId()]=r.key)})},t.prototype.getChildrenMappedKey=function(e,r){return r?r.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,r){if(e.pivotMode&&r.leafGroup)r.expanded=!1;else{var o=this.gridOptionsService.getCallback("isGroupOpenByDefault");r.expanded=o?1==o({rowNode:r,field:r.field,key:r.key,level:r.level,rowGroupColumn:r.rowGroupColumn}):-1===e.expandByDefault||r.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,r){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,r)},t.prototype.getGroupInfoFromCallback=function(e){var r=this.getDataPath?this.getDataPath(e.data):null;return(null==r||0===r.length)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),r?r.map(function(s){return{key:s,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,r){var o=this,s=[];return r.groupedCols.forEach(function(d){var f=o.valueService.getKeyForNode(d,e),y=null!=f&&""!==f;if((r.pivotMode||!o.gridOptionsService.is("groupAllowUnbalanced"))&&!y&&(f="",y=!0),y){var E={key:f,field:d.getColDef().field,rowGroupColumn:d};s.push(E)}}),s},__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectableService")],t.prototype,"selectableService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],t.prototype,"selectionService",void 0),__decorate$2l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("groupStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$39=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$O=function(){return __assign$O=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$O.apply(this,arguments)},__decorate$2k=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$19=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$H=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$19(arguments[t]));return l},PivotColDefService=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$39(t,l),e=t,t.prototype.createPivotColumnDefs=function(r){var o=this.columnModel.getPivotColumns(),s=this.columnModel.getValueColumns(),f=this.recursiveBuildGroup(0,r,[],o.length,o),m=function y(O,D){return void 0===D&&(D=[]),O.forEach(function(P){void 0!==P.children?y(P.children,D):D.push(P)}),D}(f);return this.addRowGroupTotals(f,m,s),this.addExpandablePivotGroups(f,m),this.addPivotTotalsToGroups(f,m),{pivotColumnGroupDefs:f,pivotColumnDefs:m.map(function(O){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(O)})}},t.prototype.recursiveBuildGroup=function(r,o,s,d,f){var y=this,m=this.columnModel.getValueColumns();if(r>=d)return this.buildMeasureCols(s);var E=f[r].getColDef(),O=this.headerNameComparator.bind(this,E.pivotComparator);if(1===m.length&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&r===d-1){var D=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,function(R){var x=__spread$H(s,[R]);D.push(__assign$O(__assign$O({},y.createColDef(m[0],R,x)),{columnGroupShow:"open"}))}),D.sort(O),D}var P=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,function(R,x){var L=__spread$H(s,[R]);P.push({children:y.recursiveBuildGroup(r+1,x,L,d,f),headerName:R,pivotKeys:L,columnGroupShow:"open",groupId:y.generateColumnGroupId(L)})}),P.sort(O),P},t.prototype.buildMeasureCols=function(r){var o=this,s=this.columnModel.getValueColumns();return 0===s.length?[this.createColDef(null,"-",r)]:s.map(function(d){var f=o.columnModel.getDisplayNameForColumn(d,"header");return __assign$O(__assign$O({},o.createColDef(d,f,r)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(r,o){var s=this;if(!this.gridOptionsService.is("suppressExpandablePivotGroups")&&!this.gridOptionsService.get("pivotColumnGroupTotals")){var d=function(f,y,m){var E=f;if(E.children){var O=new Map;E.children.forEach(function(L){d(L,y,O)});var D=!E.children.some(function(L){return L.children});s.columnModel.getValueColumns().forEach(function(L){var B=s.columnModel.getDisplayNameForColumn(L,"header"),U=s.createColDef(L,B,f.pivotKeys);U.pivotTotalColumnIds=O.get(L.getColId()),U.columnGroupShow="closed",U.aggFunc=L.getAggFunc(),D||(f.children.push(U),y.push(U))}),s.merge(m,O)}else{var P=f;if(!P.pivotValueColumn)return;var R=P.pivotValueColumn.getColId(),x=m.has(R)?m.get(R):[];x.push(P.colId),m.set(R,x)}};r.forEach(function(f){d(f,o,new Map)})}},t.prototype.addPivotTotalsToGroups=function(r,o){var s=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var d="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),f=this.columnModel.getValueColumns(),y=f.map(function(E){return E.getAggFunc()});if(y&&!(y.length<1)&&this.sameAggFuncs(y)){var m=f[0];r.forEach(function(E){s.recursivelyAddPivotTotal(E,o,m,d)})}}},t.prototype.recursivelyAddPivotTotal=function(r,o,s,d){var f=this,y=r;if(!y.children)return r.colId?[r.colId]:null;var E=[];if(y.children.forEach(function(x){var L=f.recursivelyAddPivotTotal(x,o,s,d);L&&(E=E.concat(L))}),y.children.length>1){var D=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),P=this.createColDef(s,D,r.pivotKeys,!0);P.pivotTotalColumnIds=E,P.aggFunc=s.getAggFunc();var R=r.children;d?R.push(P):R.unshift(P),o.push(P)}return E},t.prototype.addRowGroupTotals=function(r,o,s){var d=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var f="after"===this.gridOptionsService.get("pivotRowTotals"),y=f?s.slice():s.slice().reverse(),m=function(D){var P=y[D],R=[];r.forEach(function(L){R=R.concat(d.extractColIdsForValueColumn(L,P))});var x=y.length>1||!E.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");E.createRowGroupTotal(r,o,P,R,f,x)},E=this,O=0;O<y.length;O++)m(O)},t.prototype.extractColIdsForValueColumn=function(r,o){var s=this;if(!r.children)return r.pivotValueColumn===o&&r.colId?[r.colId]:[];var y=[];return r.children.forEach(function(m){s.extractColIdsForValueColumn(m,o);var E=s.extractColIdsForValueColumn(m,o);y=y.concat(E)}),y},t.prototype.createRowGroupTotal=function(r,o,s,d,f,y){var E;if(0===this.columnModel.getValueColumns().length)E=this.createColDef(null,"-",[]);else{var O=this.columnModel.getDisplayNameForColumn(s,"header");(E=this.createColDef(s,O,[])).pivotTotalColumnIds=d}E.colId=e.PIVOT_ROW_TOTAL_PREFIX+E.colId,o.push(E);var D=y?{children:[E],pivotKeys:[],groupId:e.PIVOT_ROW_TOTAL_PREFIX+"_pivotGroup_"+s.getColId()}:E;f?r.push(D):r.unshift(D)},t.prototype.createColDef=function(r,o,s,d){void 0===d&&(d=!1);var f={};if(r){var y=r.getColDef();Object.assign(f,y),f.hide=!1}return f.headerName=o,f.colId=this.generateColumnId(s||[],r&&!d?r.getColId():""),f.field=f.colId,f.valueGetter=function(m){var E;return null===(E=m.data)||void 0===E?void 0:E[m.colDef.field]},f.pivotKeys=s,f.pivotValueColumn=r,!0===f.filter&&(f.filter="agNumberColumnFilter"),f},t.prototype.sameAggFuncs=function(r){if(1==r.length)return!0;for(var o=1;o<r.length;o++)if(r[o]!==r[0])return!1;return!0},t.prototype.headerNameComparator=function(r,o,s){return r?r(o.headerName,s.headerName):o.headerName&&!s.headerName?1:!o.headerName&&s.headerName?-1:o.headerName&&s.headerName?o.headerName<s.headerName?-1:o.headerName>s.headerName?1:0:0},t.prototype.merge=function(r,o){o.forEach(function(s,d,f){var y=r.has(d)?r.get(d):[],m=__spread$H(y,s);r.set(d,m)})},t.prototype.generateColumnGroupId=function(r){return"pivotGroup_"+this.columnModel.getPivotColumns().map(function(s){return s.getColId()}).join("-")+"_"+r.join("-")},t.prototype.generateColumnId=function(r,o){return"pivot_"+this.columnModel.getPivotColumns().map(function(d){return d.getColId()}).join("-")+"_"+r.join("-")+"_"+o},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),e=__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotColDefService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$38=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2j=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PivotStage=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.uniqueValues={},e}return __extends$38(t,l),t.prototype.execute=function(e){var r=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(r):this.executePivotOff(r)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e){var r=this.bucketUpRowNodes(e),o=this.setUniqueValues(r),s=this.columnModel.getValueColumns(),d=s.map(function(x){return x.getId()+"-"+x.getColDef().headerName}).join("#"),f=s.map(function(x){return x.getAggFunc().toString()}).join("#"),y=this.aggregationColumnsHashLastTime!==d,m=this.aggregationFuncsHashLastTime!==f;this.aggregationColumnsHashLastTime=d,this.aggregationFuncsHashLastTime=f;var E=this.columnModel.getRowGroupColumns().map(function(x){return x.getId()}).join("#"),O=E!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=E,o||y||O||m){var D=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),P=D.pivotColumnGroupDefs;this.pivotColumnDefs=D.pivotColumnDefs,this.columnModel.setSecondaryColumns(P,"rowModelUpdated"),e&&e.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var r=this,o={};e.forEachChangedNodeDepthFirst(function(d){d.leafGroup&&(d.childrenMapped=null)});var s=function(d){var f;d.leafGroup?r.bucketRowNode(d,o):null===(f=d.childrenAfterFilter)||void 0===f||f.forEach(s)};return e.executeFromRootNode(s),o},t.prototype.bucketRowNode=function(e,r){var o=this.columnModel.getPivotColumns();e.childrenMapped=0===o.length?null:this.bucketChildren(e.childrenAfterFilter,o,0,r),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,r,o,s){var d=this,f={},y=r[o];if(e.forEach(function(E){var O=d.valueService.getKeyForNode(y,E);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(O)&&(O=""),s[O]||(s[O]={}),f[O]||(f[O]=[]),f[O].push(E)}),o===r.length-1)return f;var m={};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(f,function(E,O){m[E]=d.bucketChildren(O,r,o+1,s[E])}),m},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotColDefService")],t.prototype,"pivotColDefService",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$37=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2i=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AGBigInt=typeof BigInt>"u"?null:BigInt,AggFuncService=function(l){function t(){var r=null!==l&&l.apply(this,arguments)||this;return r.aggFuncsMap={},r.initialised=!1,r}var e;return __extends$37(t,l),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=aggSum,this.aggFuncsMap[e.AGG_FIRST]=aggFirst,this.aggFuncsMap[e.AGG_LAST]=aggLast,this.aggFuncsMap[e.AGG_MIN]=aggMin,this.aggFuncsMap[e.AGG_MAX]=aggMax,this.aggFuncsMap[e.AGG_COUNT]=aggCount,this.aggFuncsMap[e.AGG_AVG]=aggAvg,this.initialised=!0},t.prototype.isAggFuncPossible=function(r,o){var s=this.getFuncNames(r),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(s,o),f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.aggFuncsMap[o]);return d&&f},t.prototype.getDefaultAggFunc=function(r){var o=r.getColDef().defaultAggFunc;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&this.isAggFuncPossible(r,o))return o;if(this.isAggFuncPossible(r,e.AGG_SUM))return e.AGG_SUM;var s=this.getFuncNames(r);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(s)?s[0]:null},t.prototype.addAggFuncs=function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(r,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(r,o){this.init(),this.aggFuncsMap[r]=o},t.prototype.getAggFunc=function(r){return this.init(),this.aggFuncsMap[r]},t.prototype.getFuncNames=function(r){return r.getColDef().allowedAggFuncs??Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",__decorate$2i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),e=__decorate$2i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggFuncService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),l;function aggSum(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];"number"==typeof o?null===e?e=o:e+=AGBigInt?"number"==typeof e?o:AGBigInt(o):o:"bigint"==typeof o&&(e=null===e?o:("bigint"==typeof e?e:AGBigInt(e))+o)}return e}function aggFirst(l){return l.values.length>0?l.values[0]:null}function aggLast(l){return l.values.length>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l.values):null}function aggMin(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];("number"==typeof o||"bigint"==typeof o)&&(null===e||e>o)&&(e=o)}return e}function aggMax(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];("number"==typeof o||"bigint"==typeof o)&&(null===e||e<o)&&(e=o)}return e}function aggCount(l){for(var t=l.values,e=0,r=0;r<t.length;r++){var o=t[r];e+=null!=o&&"number"==typeof o.value?o.value:1}return e}function aggAvg(l){for(var t,e,r,o=l.values,s=0,d=0,f=0;f<o.length;f++){var y=o[f],m=null;"number"==typeof y||"bigint"==typeof y?(m=y,d++):null!=y&&("number"==typeof y.value||"bigint"==typeof y.value)&&"number"==typeof y.count&&(m=AGBigInt?y.value*("number"==typeof y.value?y.count:AGBigInt(y.count)):y.value*y.count,d+=y.count),"number"==typeof m?s+=AGBigInt?"number"==typeof s?m:AGBigInt(m):m:"bigint"==typeof m&&(s=("bigint"==typeof s?s:AGBigInt(s))+m)}var E=null;d>0&&(E=AGBigInt?s/("number"==typeof s?d:AGBigInt(d)):s/d);var O=null===(e=null===(t=l.rowNode)||void 0===t?void 0:t.aggData)||void 0===e?void 0:e[null===(r=l.column)||void 0===r?void 0:r.getColId()];return O&&O.count===d&&O.value===E?O:{count:d,value:E,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var __extends$36=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2h=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DropZoneColumnComp=function(l){function t(e,r,o,s,d){var f=l.call(this)||this;return f.column=e,f.dragSourceDropTarget=r,f.ghost=o,f.dropZonePurpose=s,f.horizontal=d,f.popupShowing=!1,f}return __extends$36(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var r=this.getGui(),o=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(r),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!o&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip()},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc(),r=this.getColumnAndAggFuncName(),o=r.name,s=r.aggFuncName,d=e("ariaDropZoneColumnComponentAggFuncSeperator"," of "),f={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},y=this.column.getSort(),m=this.gridOptionsService.is("rowGroupPanelSuppressSort"),E=[[s&&""+s+d,o,this.isGroupingZone()&&!m&&y&&", "+f[y]].filter(function(x){return!!x}).join("")],O=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!O){var D=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");E.push(D)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!m){var P=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");E.push(P)}var R=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");E.push(R),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.getGui(),E.join(". "))},t.prototype.setupTooltip=function(){var e=this,r=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.setupSort=function(){var e=this,r=this.column.getColDef().sortable,o=this.isGroupingZone();if(r&&o&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var s=function(d){d.preventDefault();var f="ctrl"===e.gridOptionsService.get("multiSortKey");e.sortController.progressSort(e.column,f?d.ctrlKey||d.metaKey:d.shiftKey,"uiColumnSorted")};this.addGuiEventListener("click",s),this.addGuiEventListener("keydown",function(d){d.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&e.isGroupingZone()&&s(d)})}},t.prototype.addDragSource=function(){var e=this,r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(s){var d=s.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER;s.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DELETE&&(s.preventDefault(),e.dispatchEvent(r)),d&&e.isAggregationZone()&&!e.gridOptionsService.is("functionsReadOnly")&&(s.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(s){e.dispatchEvent(r),s.stopPropagation()});var o=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eButton);this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,function(){e.dispatchEvent(r)}),this.addDestroyFunc(o.destroy.bind(o))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,r="";if(this.isAggregationZone()){var o=this.column.getAggFunc(),s="string"==typeof o?o:"agg";r=this.localeService.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:r}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),r=e.name,o=e.aggFuncName,s=this.isAggregationZone()?o+"("+r+")":r,d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(s);this.eText.innerHTML=d},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("select-agg-func"),o=this.aggFuncService.getFuncNames(this.column),s=this.getGui(),d=r.getGui();r.setModel({getRow:function(D){return o[D]},getRowCount:function(){return o.length}}),this.getContext().createBean(r);var f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');f.style.top="0px",f.style.left="0px",f.appendChild(d),f.style.width=s.clientWidth+"px";var m=this.localeService.getLocaleTextFunc(),E=this.popupService.addPopup({modal:!0,eChild:f,closeOnEsc:!0,closedCallback:function(){e.destroyBean(r),e.popupShowing=!1,s.focus()},ariaLabel:m("ariaLabelAggregationFunction","Aggregation Function")});E&&r.setComponentCreator(this.createAggSelect.bind(this,E.hideFunc)),r.addGuiEventListener("keydown",function(D){if(D.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||D.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE){var P=r.getLastFocusedRow();if(null==P)return;var R=r.getComponentAt(P);R&&R.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:s,ePopup:f,keepWithinBounds:!0,column:this.column,position:"under"}),r.refresh();var O=o.findIndex(function(D){return D===e.column.getAggFunc()});-1===O&&(O=0),r.focusRow(O)}},t.prototype.createAggSelect=function(e,r){var o=this,d=this.localeService.getLocaleTextFunc(),f=r.toString(),y=d(f,f);return new AggItemComp(function(){e(),o.gridOptionsService.is("functionsPassive")?o.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[o.column],aggFunc:r}):o.columnModel.setColumnAggFunc(o.column,r,"toolPanelDragAndDrop")},y)},t.prototype.addElementClasses=function(e,r){e.classList.add("ag-column-drop-cell"+(r=r?"-"+r:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+r)},t.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},t.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eText")],t.prototype,"eText",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDragHandle")],t.prototype,"eDragHandle",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eButton")],t.prototype,"eButton",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSortIndicator")],t.prototype,"eSortIndicator",void 0),__decorate$2h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),AggItemComp=function(l){function t(e,r){var o=l.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.selectItem=e,o.getGui().innerText=r,o.addGuiEventListener("click",o.selectItem),o}return __extends$36(t,l),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$35=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2g=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$18=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$G=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$18(arguments[t]));return l},BaseDropZonePanel=function(l){function t(e,r){var o=l.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return o.horizontal=e,o.dropZonePurpose=r,o.state=t.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.resizeEnabled=!1,o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(o.eColumnDropList,"listbox"),o}return __extends$35(t,l),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),l.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var o=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN,s=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP;if(this.horizontal){var d=this.gridOptionsService.is("enableRtl");o=!d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT||d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT,s=!d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT||d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT}if(o||s){var f=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);f&&(e.preventDefault(),f.focus())}},t.prototype.addElementClasses=function(e,r){e.classList.add("ag-column-drop"+(r=r?"-"+r:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+r)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.HeaderCell||e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},t.prototype.checkInsertIndex=function(e){var r=this.getNewInsertIndex(e);if(r<0)return!1;var o=r!==this.insertIndex;return o&&(this.insertIndex=r),o},t.prototype.getNewInsertIndex=function(e){var r=this,o=e.event,s=this.horizontal?o.clientX:o.clientY,d=this.childColumnComponents.map(function(O){return O.getGui().getBoundingClientRect()}),f=d.findIndex(function(O){return r.horizontal?O.right>s&&O.left<s:O.top<s&&O.bottom>s});if(-1===f){var y=this.beans.gridOptionsService.is("enableRtl");return d.every(function(O){return s>(r.horizontal?O.right:O.bottom)})?y&&this.horizontal?0:this.childColumnComponents.length:d.every(function(O){return s<(r.horizontal?O.left:O.top)})?y&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=f?f+1:f},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=r.filter(this.isColumnDroppable.bind(this));if(o.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!e.fromNudge){var d=e.dragSource.getDragItem();this.setColumnsVisible(d.columns,!1,"uiColumnDragged")}this.potentialDndColumns=o,this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,r,o){if(void 0===o&&(o="api"),e){var s=e.filter(function(d){return!d.getColDef().lockVisible});this.colModel.setColumnsVisible(s,r,o)}},t.prototype.isPotentialDndColumns=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge){var s=e.dragSource.getDragItem();this.setColumnsVisible(s.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.is("functionsPassive")||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var r=this.getExistingColumns().filter(function(o){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,o)});this.updateColumns(r)},t.prototype.addColumns=function(e){if(e){var r=this.getExistingColumns().slice(),o=e.filter(function(s){return r.indexOf(s)<0});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(r,o,this.insertIndex),this.updateColumns(r)}},t.prototype.rearrangeColumns=function(e){var r=this.getNonGhostColumns().slice();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(r,e,this.insertIndex),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(r,this.getExistingColumns())&&(this.updateColumns(r),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,r=this.resizeEnabled,o=this.getFocusedItem(),s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),r&&this.toggleResizable(r),this.focusService.isKeyboardMode()&&this.restoreFocus(o,s)},t.prototype.getFocusedItem=function(){var e=this.getGui(),r=this.gridOptionsService.getDocument().activeElement;return e.contains(r)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(r):-1},t.prototype.restoreFocus=function(e,r){var o=this.getGui(),s=Array.from(o.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===s.length&&r.focus();var f=s[Math.min(s.length-1,e)];f&&f.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,r=this.getExistingColumns();return this.isPotentialDndColumns()?r.filter(function(o){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.potentialDndColumns,o)}):r},t.prototype.addColumnsToGui=function(){var e=this,o=this.getNonGhostColumns().map(function(d){return e.createColumnComponent(d,!1)});if(this.isPotentialDndColumns()){var s=this.potentialDndColumns.map(function(d){return e.createColumnComponent(d,!0)});this.insertIndex>=o.length?o.push.apply(o,__spread$G(s)):o.splice.apply(o,__spread$G([this.insertIndex,0],s))}this.appendChild(this.eColumnDropList),o.forEach(function(d,f){f>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(d.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(r,o){var s=r.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaPosInSet(s,o+1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaSetSize(s,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,r){var o=this,s=new DropZoneColumnComp(e,this.dropTarget,r,this.dropZonePurpose,this.horizontal);return s.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(s),this.guiDestroyFunctions.push(function(){return o.destroyBean(s)}),r||this.childColumnComponents.push(s),s},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,r=document.createElement("div");if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaHidden(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),r.appendChild(e),!this.horizontal){var o=document.createElement("span");this.addElementClasses(o,"title"),o.innerHTML=this.params.title,r.appendChild(o)}this.appendChild(r)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var r=this.beans.gridOptionsService.is("enableRtl"),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(r?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(o,"cell-separator"),e.appendChild(o)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"colModel",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$34=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2f=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RowGroupDropZonePanel=function(l){function t(e){return l.call(this,e,"rowGroup")||this}return __extends$34(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=e("groups","Row Groups");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsService.is("functionsPassive")?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"passBeansUp",null),t}(BaseDropZonePanel),__extends$33=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2e=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PivotDropZonePanel=function(l){function t(e){return l.call(this,e,"pivot")||this}return __extends$33(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("pivotColumnsEmptyMessage","Drag here to set column labels"),o=e("pivots","Column Labels");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var r=this.columnModel.isPivotActive();this.setDisplayed(e&&r);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsService.is("functionsPassive")?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_PIVOT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"passBeansUp",null),t}(BaseDropZonePanel),__extends$32=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2d=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GridHeaderDropZones=function(l){function t(){return l.call(this)||this}return __extends$32(t,l),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),r=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(e,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,r),this.addManagedListener(this.pivotComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,r),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsService.get("rowGroupPanelShow");if("always"===e)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===e){var r=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(r)}else this.rowGroupComp.setDisplayed(!1)}},__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$31=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2c=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FilterAggregatesStage=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$31(t,l),t.prototype.execute=function(e){var r=this,o=this.columnModel.isPivotMode(),s=this.filterManager.isAggregateFilterPresent(),y=this.gridOptionsService.getGroupAggFiltering()||(o?function(D){return D.node.leafGroup}:function(D){return!D.node.group}),E=function(D,P){void 0===P&&(P=!1),D.childrenAfterFilter&&(D.childrenAfterAggFilter=D.childrenAfterFilter,P&&D.childrenAfterAggFilter.forEach(function(R){return E(R,P)}),r.setAllChildrenCount(D)),D.sibling&&(D.sibling.childrenAfterAggFilter=D.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(s?function(D){var P;D.childrenAfterAggFilter=(null===(P=D.childrenAfterFilter)||void 0===P?void 0:P.filter(function(R){var x;return y({node:R})&&r.filterManager.doesRowPassAggregateFilters({rowNode:R})?(E(R,!0),!0):null===(x=R.childrenAfterAggFilter)||void 0===x?void 0:x.length}))||null,r.setAllChildrenCount(D),D.sibling&&(D.sibling.childrenAfterAggFilter=D.childrenAfterAggFilter)}:E,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(o){r++,r+=o.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(o){o.group?r+=o.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){e.hasChildren()?this.gridOptionsService.isTreeData()?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)},__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("filterAggregatesStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$g="29.3.5",__extends$30=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2b=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GroupFilter=function(l){function t(){return l.call(this,'\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')||this}return __extends$30(t,l),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e){var r=this;return this.params=e,this.validateParams(),this.updateGroups().then(function(){r.addManagedListener(r.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.validateParams=function(){var e=this.params.colDef;e.field&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.')},"groupFilterFieldParam"),e.filterValueGetter&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.')},"groupFilterFilterValueGetterParam"),e.filterParams&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')},"groupFilterFilterParams")},t.prototype.updateGroups=function(){var e=this.updateGroupField();return this.getUnderlyingFilters(e)},t.prototype.getSourceColumns=function(){return this.groupColumn=this.params.column,this.gridOptionsService.is("treeData")?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.")},"groupFilterTreeData"),[]):this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn)||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter.")},"groupFilterNotGroupColumn"),[])},t.prototype.updateGroupField=function(){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var r=this.getSourceColumns(),o=r.filter(function(s){return s.isFilterAllowed()});return o.length?(1===r.length?(this.selectedColumn=o[0],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!o.some(function(s){return s.getId()===e.selectedColumn.getId()}))&&(this.selectedColumn=o[0]),this.createGroupFieldSelectElement(o),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>')),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!0)),o):(this.selectedColumn=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1),null)},t.prototype.createGroupFieldSelectElement=function(e){var r=this;this.eGroupFieldSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);var o=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(o("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(function(s){var d;return{value:s.getId(),text:null!==(d=r.columnModel.getDisplayNameForColumn(s,"groupFilter",!1))&&void 0!==d?d:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(function(s){return r.updateSelectedColumn(s)}),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===e.length&&this.eGroupFieldSelect.setDisabled(!0)},t.prototype.getUnderlyingFilters=function(e){var r=this;if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var o=[],s=[];return e.forEach(function(d){var f=r.filterManager.getOrCreateFilterWrapper(d,"COLUMN_MENU");f?.filterPromise&&o.push(f.filterPromise.then(function(y){return y&&s.push({filter:y,column:d}),d.getId()===r.selectedColumn.getId()&&(r.selectedFilter=y??void 0),y}))}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o).then(function(){r.filterColumnPairs=s,r.groupColumn.setFilterActive(r.isFilterActive(),"columnRowGroupChanged")})},t.prototype.addUnderlyingFilterElement=function(){var e=this;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var r=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return r?r.guiPromise.then(function(o){var s;e.eUnderlyingFilter.appendChild(o),null===(s=r.filterPromise)||void 0===s||s.then(function(d){var f,y;null===(f=d?.afterGuiAttached)||void 0===f||f.call(d,e.afterGuiAttachedParams),(null===(y=e.afterGuiAttachedParams)||void 0===y||!y.suppressFocus)&&e.eGroupFieldSelect&&!e.eGroupFieldSelect.isDisabled()&&e.eGroupFieldSelect.getFocusableElement().focus()})}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.updateSelectedColumn=function(e){var r,o;if(e){null===(o=null===(r=this.selectedFilter)||void 0===r?void 0:r.afterGuiDetached)||void 0===o||o.call(r);var s=this.getFilterColumnPair(e);this.selectedColumn=s?.column,this.selectedFilter=s?.filter,this.dispatchEvent({type:t.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},t.prototype.isFilterActive=function(){var e;return!(null===(e=this.filterColumnPairs)||void 0===e||!e.some(function(r){return r.filter.isFilterActive()}))},t.prototype.doesFilterPass=function(){return!0},t.prototype.getModel=function(){return null},t.prototype.setModel=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.afterGuiAttached=function(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()},t.prototype.afterGuiDetached=function(){var e,r;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),null===(r=null===(e=this.selectedFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===r||r.call(e)},t.prototype.onColumnRowGroupChanged=function(){var e=this;this.updateGroups().then(function(){e.dispatchEvent({type:t.EVENT_COLUMN_ROW_GROUP_CHANGED}),e.eventService.dispatchEvent({type:"filterAllowedUpdated"})})},t.prototype.getFilterColumnPair=function(e){var r;if(e)return null===(r=this.filterColumnPairs)||void 0===r?void 0:r.find(function(o){return o.column.getId()===e})},t.prototype.getSelectedFilter=function(){return this.selectedFilter},t.prototype.getSelectedColumn=function(){return this.selectedColumn},t.prototype.isFilterAllowed=function(){return!!this.selectedColumn},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupField")],t.prototype,"eGroupField",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eUnderlyingFilter")],t.prototype,"eUnderlyingFilter",void 0),__decorate$2b([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$2$=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2a=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GroupFloatingFilterComp=function(l){function t(){return l.call(this,'\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        ')||this}return __extends$2$(t,l),t.prototype.init=function(e){var r=this;this.params=e;var o="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(s){r.params.parentFilterInstance(function(d){r.parentFilterInstance=d,o?r.setupUnderlyingFloatingFilterElement().then(function(){return s()}):(r.setupReadOnlyFloatingFilterElement(),s())})}).then(function(){r.addManagedListener(r.parentFilterInstance,GroupFilter.EVENT_SELECTED_COLUMN_CHANGED,function(){return r.onSelectedColumnChanged()}),r.addManagedListener(r.parentFilterInstance,GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.setupReadOnlyFloatingFilterElement=function(){var e=this;if(!this.eFloatingFilterText){this.eFloatingFilterText=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.INo);var r=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),o=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+o("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.params.showParentFilter()})}this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},t.prototype.setupUnderlyingFloatingFilterElement=function(){var e=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eFloatingFilter);var r=this.parentFilterInstance.getSelectedColumn();if(r&&!r.isVisible()){var o=this.filterManager.getFloatingFilterCompDetails(r,this.params.showParentFilter);if(o)return this.columnVisibleChangedListener||(this.columnVisibleChangedListener=this.addManagedListener(r,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this))),o.newAgStackInstance().then(function(s){var d,f;e.underlyingFloatingFilter=s,null===(d=e.underlyingFloatingFilter)||void 0===d||d.onParentModelChanged(null===(f=e.parentFilterInstance.getSelectedFilter())||void 0===f?void 0:f.getModel()),e.appendChild(s.getGui()),e.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},t.prototype.onParentModelChanged=function(e,r){var o,s;this.showingUnderlyingFloatingFilter?null===(o=this.underlyingFloatingFilter)||void 0===o||o.onParentModelChanged(null===(s=this.parentFilterInstance.getSelectedFilter())||void 0===s?void 0:s.getModel(),r):this.updateDisplayedValue()},t.prototype.updateDisplayedValue=function(){if(this.parentFilterInstance&&this.eFloatingFilterText){var e=this.parentFilterInstance.getSelectedFilter();if(!e)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){var r=e.getModel();this.eFloatingFilterText.setValue(null==r?"":e.getModelAsString(r))}else this.eFloatingFilterText.setValue("")}},t.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilter")],t.prototype,"eFloatingFilter",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),RowGroupingModule={version:VERSION$g,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:GroupFilter},{componentName:"agGroupColumnFloatingFilter",componentClass:GroupFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$2_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$29=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ValuesDropZonePanel=function(l){function t(e){return l.call(this,e,"aggregation")||this}return __extends$2_(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("valueColumnsEmptyMessage","Drag here to aggregate"),o=e("values","Values");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsService.is("functionsPassive")?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$29([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"passBeansUp",null),t}(BaseDropZonePanel),__extends$2Z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$28=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PrimaryColsPanel=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$2Z(t,l),t.prototype.init=function(e,r,o){this.allowDragging=e,this.params=r,this.eventType=o,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$N=function(){return __assign$N=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$N.apply(this,arguments)},__decorate$27=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ColumnToolPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return __extends$2Y(t,l),t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var r=this;if(this.params=__assign$N(__assign$N(__assign$N({},{suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi}),e),{context:this.gridOptionsService.context}),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new PrimaryColsPanel),this.childDestroyFuncs.push(function(){return r.destroyBean(r.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new RowGroupDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new ValuesDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new PivotDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var s=this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){r.resetChildrenHeight(),r.setLastVisible()});this.childDestroyFuncs.push(function(){return s()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var r=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new RowGroupDropZonePanel(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new ValuesDropZonePanel(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new PivotDropZonePanel(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var r=e.getGui();e.toggleResizable(!r.classList.contains("ag-last-column-drop")&&!r.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(d){return d.classList.remove("ag-last-column-drop")});var o=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o);s&&s.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var r=this.getGui().children,o=0;o<r.length;o++){var s=r[o];s.style.removeProperty("height"),s.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2X=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$26=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},HorizontalResizeComp=function(l){function t(){var e=l.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return __extends$2X(t,l),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.is("enableRtl"))},t.prototype.dispatchResizeEvent=function(e,r,o){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_SIZE_CHANGED,width:o,started:e,ended:r})},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},t.prototype.onResizeEnd=function(e){return this.onResizing(e,!0)},t.prototype.onResizing=function(e,r){void 0===r&&(r=!1);var s=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(s=Math.min(this.maxWidth,s)),this.elementToResize.style.width=s+"px",this.dispatchResizeEvent(!1,r,s)},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},__decorate$26([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),__decorate$26([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$25=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SideBarButtonComp=function(l){function t(e){var r=l.call(this)||this;return r.toolPanelDef=e,r}return __extends$2W(t,l),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span ref ="eLabel" class="ag-side-button-label"></span>\n                </button>\n            </div>'},t.prototype.setLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.toolPanelDef,o=e(r.labelKey,r.labelDefault);this.eLabel.innerText=o},t.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eToggleButton")],t.prototype,"eToggleButton",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eIconWrapper")],t.prototype,"eIconWrapper",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$25([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2V=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$24=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SideBarButtonsComp=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return __extends$2V(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB&&e.shiftKey){var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(r,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(r){r.setSelected(e===r.getToolPanelId())})},t.prototype.addButtonComp=function(e){var r=this,o=this.createBean(new SideBarButtonComp(e));this.buttonComps.push(o),this.appendChild(o),o.addEventListener(SideBarButtonComp.EVENT_TOGGLE_BUTTON_CLICKED,function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"clearButtons",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),SideBarDefParser=function(){function l(){}return l.parse=function(t){if(t){if(!0===t)return{toolPanels:[l.DEFAULT_COLUMN_COMP,l.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return l.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(o){var s=l.DEFAULT_BY_KEY[o];s?e.push(s):console.warn("AG Grid: the key "+o+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(l.DEFAULT_BY_KEY).join(","))}),0===e.length?void 0:{toolPanels:e,defaultToolPanel:e[0].id}}return{toolPanels:l.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}}},l.parseComponents=function(t){var e=[];return t&&t.forEach(function(r){var o=null;if("string"==typeof r){var s=l.DEFAULT_BY_KEY[r];if(!s)return void console.warn("AG Grid: the key "+r+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(l.DEFAULT_BY_KEY).join(","));o=s}else o=r;e.push(o)}),e},l.DEFAULT_BY_KEY={columns:l.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:l.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},l}(),__extends$2U=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$23=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelWrapper=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$2U(t,l),t.prototype.setupResize=function(){var e=this.getGui(),r=this.resizeBar=this.createManagedBean(new HorizontalResizeComp);r.setElementToResize(e),this.appendChild(r)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var r=e.id,o=e.minWidth,s=e.maxWidth,d=e.width;this.toolPanelId=r,this.width=d;var m=this.userComponentFactory.getToolPanelCompDetails(e,{}).newAgStackInstance();null!=m?(m.then(this.setToolPanelComponent.bind(this)),null!=o&&this.resizeBar.setMinWidth(o),null!=s&&this.resizeBar.setMaxWidth(s)):console.warn("AG Grid: error processing tool panel component "+r+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var r=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){r.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var r=this.gridOptionsService.is("enableRtl"),o="left"===e;this.resizeBar.setInverted(r?o:!o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',__decorate$23([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$23([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"setupResize",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2T=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$22=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SideBarComp=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return __extends$2T(t,l),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(SideBarButtonsComp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.addManagedPropertyListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var o=this.focusService,s=this.sideBarButtonsComp,d=this.getGui(),f=s.getGui(),m=this.gridOptionsService.getDocument().activeElement,E=d.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),O=e.target;if(E){if(f.contains(m))return void(o.focusInto(E,e.shiftKey)&&e.preventDefault());if(e.shiftKey){var D=null;E.contains(m)?D=this.focusService.findNextFocusableElement(E,void 0,!0):o.isTargetUnderManagedComponent(E,O)&&e.shiftKey&&(D=this.focusService.findFocusableElementBeforeTabGuard(E,O)),D||(D=f.querySelector(".ag-selected button")),D&&(e.preventDefault(),D.focus())}}}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(r.activeElement)){var o=this.sideBarButtonsComp.getGui(),s=Array.prototype.slice.call(o.querySelectorAll(".ag-side-button")),d=r.activeElement,f=s.findIndex(function(E){return E.contains(d)}),y=null;switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:y=Math.max(0,f-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:y=Math.min(f+1,s.length-1)}if(null!==y){var m=s[y].querySelector("button");m&&(m.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var r=e.toolPanelId,o=this.openedItem();this.openToolPanel(o===r?void 0:r,"sideBarButtonClicked")},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsService.get("sideBar");if(this.sideBar=SideBarDefParser.parse(e),this.sideBar&&this.sideBar.toolPanels){this.setDisplayed(!this.sideBar.hiddenByDefault);var o=this.sideBar.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(o),this.setupToolPanels(o),this.setSideBarPosition(this.sideBar.position),this.sideBar.hiddenByDefault||this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},t.prototype.getDef=function(){return this.sideBar},t.prototype.setSideBarPosition=function(e){e||(e="right");var r="left"===e,o=r?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",r),this.addOrRemoveCssClass("ag-side-bar-right",!r),this.toolPanelWrappers.forEach(function(s){s.setResizerSizerSide(o)}),this},t.prototype.setupToolPanels=function(e){var r=this;e.forEach(function(o){if(null!=o.id){if("agColumnsToolPanel"===o.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===o.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var d=new ToolPanelWrapper;r.getContext().createBean(d),d.setToolPanelDef(o),d.setDisplayed(!1),r.getGui().appendChild(d.getGui()),r.toolPanelWrappers.push(d)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e,r){void 0===r&&(r="api");var o=this.openedItem();o!==e&&(this.toolPanelWrappers.forEach(function(f){var y=e===f.getToolPanelId();f.setDisplayed(y)}),o!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,o??void 0,r)))},t.prototype.getToolPanelInstance=function(e){var r=this.toolPanelWrappers.filter(function(o){return o.getToolPanelId()===e})[0];if(r)return r.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e,r,o){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e}),r&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:o,key:r,visible:!1}),e&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:o,key:e,visible:!0})},t.prototype.close=function(e){void 0===e&&(e="api"),this.openToolPanel(void 0,e)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(r){r.isDisplayed()&&(e=r.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),__decorate$22([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2S=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$21=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelColDefService=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isColGroupDef=function(r){return r&&typeof r.children<"u"},e.getId=function(r){return e.isColGroupDef(r)?r.groupId:r.colId},e}return __extends$2S(t,l),t.prototype.createColumnTree=function(e){var r=this,o=[],s=function(f,y){if(r.isColGroupDef(f)){var m=f,O=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm(m,typeof m.groupId<"u"?m.groupId:m.headerName,!1,y),D=[];return m.children.forEach(function(L){var B=s(L,y+1);B&&D.push(B)}),O.setChildren(D),O}var P=f,x=r.columnModel.getPrimaryColumn(P.colId?P.colId:P.field);return x||o.push(P),x},d=[];return e.forEach(function(f){var y=s(f,0);y&&d.push(y)}),o.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",o),d},t.prototype.syncLayoutWithGrid=function(e){var r=this.getLeafPathTrees();e(this.mergeLeafPathTrees(r))},t.prototype.getLeafPathTrees=function(){var e=function(s,d){var f;if(s instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)if(s.isPadding())f=d;else{var y=Object.assign({},s.getColGroupDef());y.groupId=s.getGroupId(),y.children=[d],f=y}else{var m=Object.assign({},s.getColDef());m.colId=s.getColId(),f=m}var E=s.getOriginalParent();return E?e(E,f):f};return this.columnModel.getAllGridColumns().filter(function(s){var d=s.getColDef();return s.isPrimary()&&!d.showRowGroup}).map(function(s){return e(s,s.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var r=this,s=function(E,O){if(!r.isColGroupDef(O))return E;var D=E,P=O;return P.children&&P.groupId&&r.addChildrenToGroup(D,P.groupId,P.children[0])||P.children.forEach(function(x){return s(D,x)}),D},d=[],f=1;f<=e.length;f++){var y=e[f-1],m=e[f];O=m,r.isColGroupDef(E=y)&&r.isColGroupDef(O)&&r.getId(E)===r.getId(O)?e[f]=s(y,m):d.push(y)}var E,O;return d},t.prototype.addChildrenToGroup=function(e,r,o){var s=this;if(!this.isColGroupDef(e))return!0;var O,D,P,R,x,L,f=e,y=o;if(D=y,P=(O=f).children.map(s.getId),R=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(P,s.getId(D)),L=(x=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(O.children))&&s.getId(x)!==s.getId(D),R&&L)return f.children.push(y),!0;if(f.groupId===r){var m=f.children.map(this.getId);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(m,this.getId(y)))return f.children.push(y),!0}return f.children.forEach(function(O){return s.addChildrenToGroup(O,r,o)}),!1},__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("toolPanelColDefService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$f="29.3.5",SideBarModule={version:VERSION$f,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SideBarModule,beans:[ToolPanelColDefService],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:HorizontalResizeComp},{componentName:"AgSideBar",componentClass:SideBarComp},{componentName:"AgSideBarButtons",componentClass:SideBarButtonsComp}],dependantModules:[EnterpriseCoreModule]},__decorate$20=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ModelItemUtils=function(){function l(){}return l.prototype.selectAllChildren=function(t,e,r){var o=this.extractAllLeafColumns(t);this.setAllColumns(o,e,r)},l.prototype.setColumn=function(t,e,r){this.setAllColumns([t],e,r)},l.prototype.setAllColumns=function(t,e,r){this.columnModel.isPivotMode()?this.setAllPivot(t,e,r):this.setAllVisible(t,e,r)},l.prototype.extractAllLeafColumns=function(t){var e=[],r=function(o){o.forEach(function(s){s.isPassesFilter()&&(s.isGroup()?r(s.getChildren()):e.push(s.getColumn()))})};return r(t),e},l.prototype.setAllVisible=function(t,e,r){var o=[];t.forEach(function(s){s.getColDef().lockVisible||s.isVisible()!=e&&o.push({colId:s.getId(),hide:!e})}),o.length>0&&this.columnModel.applyColumnState({state:o},r)},l.prototype.setAllPivot=function(t,e,r){this.gridOptionsService.is("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,r)},l.prototype.setAllPivotPassive=function(t,e){var r=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),s=this.columnModel.getRowGroupColumns().slice(),d=!1,f=!1,y=!1;t.forEach(e?function(x){x.isAnyFunctionActive()||(x.isAllowValue()?(o.push(x),f=!0):x.isAllowRowGroup()?(s.push(x),d=!0):x.isAllowPivot()&&(r.push(x),y=!0))}:function(x){x.isAnyFunctionActive()&&(r.indexOf(x)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(r,x),d=!0),o.indexOf(x)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(o,x),f=!0),s.indexOf(x)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(s,x),y=!0))}),d&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r}),y&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:s}),f&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:s})},l.prototype.setAllPivotActive=function(t,e,r){var o=this,s=[];t.forEach(e?function(m){if(!m.isAnyFunctionActive())if(m.isAllowValue()){var E="string"==typeof m.getAggFunc()?m.getAggFunc():o.aggFuncService.getDefaultAggFunc(m);s.push({colId:m.getId(),aggFunc:E})}else m.isAllowRowGroup()?s.push({colId:m.getId(),rowGroup:!0}):m.isAllowPivot()&&s.push({colId:m.getId(),pivot:!0})}:function(m){(m.isPivotActive()||m.isRowGroupActive()||m.isValueActive())&&s.push({colId:m.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),s.length>0&&this.columnModel.applyColumnState({state:s},r)},__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],l.prototype,"aggFuncService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],l.prototype,"gridOptionsService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("eventService")],l.prototype,"eventService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("modelItemUtils")],l)}(),VERSION$e="29.3.5",ColumnsToolPanelModule={version:VERSION$e,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,beans:[ModelItemUtils],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PrimaryColsHeaderPanel},{componentName:"AgPrimaryColsList",componentClass:PrimaryColsListPanel},{componentName:"AgPrimaryCols",componentClass:PrimaryColsPanel}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ColumnToolPanel}],dependantModules:[EnterpriseCoreModule,RowGroupingModule,SideBarModule]},workbook={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},excelWorkbook={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},column={getTemplate:function(l){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:l.width}}]}}}},cell={getTemplate:function(l){var t=l.mergeAcross,e=l.styleId,r=l.data,o={};return t&&(o.MergeAcross=t),e&&(o.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:o}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:r?.type}}]},textNode:r?.value}]}}},row={getTemplate:function(l){return{name:"Row",children:l.cells.map(function(e){return cell.getTemplate(e)})}}},worksheet={getTemplate:function(l){var t=l.table,e=l.name,o=t.rows,s=t.columns.map(function(f){return column.getTemplate(f)}),d=o.map(function(f){return row.getTemplate(f)});return{name:"Worksheet",children:[{name:"Table",children:s.concat(d)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}},documentProperties={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},alignment={getTemplate:function(l){var t=l.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},borders={getTemplate:function(l){var t=l.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(d,f){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==f?"Bottom":1==f?"Left":2==f?"Right":"Top",LineStyle:d.lineStyle,Weight:d.weight,Color:d.color}}]}}})}}},font={getTemplate:function(l){var t=l.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},interior={getTemplate:function(l){var t=l.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},protection={getTemplate:function(l){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:l.protection.protected,HideFormula:l.protection.hideFormula}}]}}}},numberFormat={getTemplate:function(l){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:l.numberFormat.format}}]}}}},style={getTemplate:function(l){var t=l.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:l.name||t}}]}}}},ExcelXmlFactory=function(){function l(){}return l.createExcel=function(t,e){var r=this.excelXmlHeader(),o=documentProperties.getTemplate(),s=excelWorkbook.getTemplate(),d=this.workbook(o,s,t,e);return""+r+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(d,function(f){return f?"1":"0"})},l.workbook=function(t,e,r,o){var s=[t,e,this.stylesXmlElement(r)].concat(worksheet.getTemplate(o));return Object.assign({},workbook.getTemplate(),{children:s})},l.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},l.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(r){return e.styleXmlElement(r)}):[]}},l.styleXmlElement=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},style.getTemplate(t),{children:e})},l.addProperty=function(t,e){return function(r){return e[t]?r.concat({alignment,borders,font,interior,numberFormat,protection}[t].getTemplate(e)):r}},l.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,l}(),INCH_TO_EMU=9525,numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},pixelsToPoint=function(l){return Math.round(72*l/96)},pointsToPixel=function(l){return Math.round(96*l/72)},pixelsToEMU=function(l){return Math.ceil(l*INCH_TO_EMU)},getFontFamilyId=function(l){if(void 0!==l){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(l||"Automatic");return Math.max(e,0)}},getHeightFromProperty=function(l,t){var e;if(t)return e="number"==typeof t?t:t({rowIndex:l}),pixelsToPoint(e)},setExcelImageTotalWidth=function(l,t){var e=l.position,r=e.colSpan,o=e.column;if(l.width)if(r)for(var s=t.slice(o-1,o+r-1),d=0,f=0;f<s.length;f++){var y=s[f].getActualWidth();if(l.width<d+y){l.position.colSpan=f+1,l.totalWidth=l.width,l.width=l.totalWidth-d;break}d+=y}else l.totalWidth=l.width},setExcelImageTotalHeight=function(l,t){var e=l.position,r=e.rowSpan,o=e.row;if(l.height)if(r)for(var s=0,d=0,f=o;f<o+r;f++){var y=pointsToPixel(getHeightFromProperty(f,t)||20);if(l.height<s+y){l.position.rowSpan=d+1,l.totalHeight=l.height,l.height=l.totalHeight-s;break}s+=y,d++}else l.totalHeight=l.height},createXmlPart=function(l){return""+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createHeader({encoding:"UTF-8",standalone:"yes"})+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(l)},getExcelColumnName=function(l){var r=String.fromCharCode,o=Math.floor(l/26),s=l%26;return o&&26!==l?s?o<26?r(65+o-1)+r(65+s-1):getExcelColumnName(o)+r(65+s-1):getExcelColumnName(o-1)+"Z":r(65+l-1)},__extends$2R=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$M=function(){return __assign$M=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$M.apply(this,arguments)},__read$17=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$F=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$17(arguments[t]));return l},BaseExcelSerializingSession=function(l){function t(e){var r=l.call(this,e)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},e),r.stylesByIds={},r.config.baseExcelStyles.forEach(function(o){r.stylesByIds[o.id]=o}),r.excelStyles=__spread$F(r.config.baseExcelStyles),r}return __extends$2R(t,l),t.prototype.addCustomContent=function(e){var r=this;e.forEach(function(o){var s=r.rows.length+1,d={height:getHeightFromProperty(s,o.height||r.config.rowHeight),cells:(o.cells||[]).map(function(f,y){var m,E,O,D=r.addImage(s,r.columnsToExport[y],null===(m=f.data)||void 0===m?void 0:m.value),P=null;f.styleId&&(P="string"==typeof f.styleId?[f.styleId]:f.styleId);var R=r.getStyleId(P);if(D)return r.createCell(R,r.getDataTypeForValue(D.value),null==D.value?"":D.value);var x=null!==(O=null===(E=f.data)||void 0===E?void 0:E.value)&&void 0!==O?O:"",L=r.getDataTypeForValue(x);return f.mergeAcross?r.createMergedCell(R,L,x,f.mergeAcross):r.createCell(R,L,x)}),outlineLevel:o.outlineLevel||void 0};null!=o.collapsed&&(d.collapsed=o.collapsed),null!=o.hidden&&(d.hidden=o.hidden),r.rows.push(d)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,r=[];return this.rows.push({cells:r,height:getHeightFromProperty(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(o,s,d,f,y){var m=e.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,rowIndex:1,value:"grouping-"+s,columnGroup:o});r.push(__assign$M(__assign$M({},e.createMergedCell(e.getStyleId(m),e.getDataTypeForValue("string"),s,f)),{collapsibleRanges:y}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(e){var r=this;l.prototype.prepare.call(this,e),this.columnsToExport=__spread$F(e),this.cols=e.map(function(o,s){return r.convertColumnToExcel(o,s)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(o,s){return Math.max(o,s.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.isNumerical=function(e){return isFinite(e)&&""!==e&&!isNaN(parseFloat(e))},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,r){var o=this.config.columnWidth;return o?"number"==typeof o?{width:o}:{width:o({column:e,index:r})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,r){var o=this;return function(s,d){var f=o.extractHeaderValue(s),y=o.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,rowIndex:e,value:f,column:s});r.push(o.createCell(o.getStyleId(y),o.getDataTypeForValue("string"),f))}},t.prototype.onNewRow=function(e,r){var o=[];return this.rows.push({cells:o,height:getHeightFromProperty(this.rows.length+1,r)}),{onColumn:e.bind(this,this.rows.length,o)()}},t.prototype.onNewBodyColumn=function(e,r){var o=this,s=0;return function(d,f,y){if(s>0)s-=1;else{if(!o.config.gridOptionsService.is("groupHideOpenParents")&&null!=y.level){var m=y.footer?1:0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o.rows).outlineLevel=y.level+m}var E=o.extractRowCellValue(d,f,e,"excel",y),O=o.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.BODY,rowIndex:e,value:E,column:d,node:y}),D=o.getStyleId(O),P=d.getColSpan(y),R=o.addImage(e,d,E);R?r.push(o.createCell(D,o.getDataTypeForValue(R.value),null==R.value?"":R.value)):P>1?(s=P-1,r.push(o.createMergedCell(D,o.getDataTypeForValue(E),E,P-1))):r.push(o.createCell(D,o.getDataTypeForValue(E),E))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var r=e.join("-");return this.mixedStyles[r]||this.addNewMixedStyle(e),this.mixedStyles[r].excelID},t.prototype.addNewMixedStyle=function(e){var r=this;this.mixedStyleCounter+=1;var o="mixedStyle"+this.mixedStyleCounter,s={};e.forEach(function(f){r.excelStyles.forEach(function(y){y.id===f&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.deepCloneObject(y))})}),s.id=o,s.name=o;var d=e.join("-");this.mixedStyles[d]={excelID:o,key:d,result:s},this.excelStyles.push(s),this.stylesByIds[o]=s},t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WKU),__extends$2Q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ExcelXmlSerializingSession=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2Q(t,l),t.prototype.createExcel=function(e){return ExcelXmlFactory.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return this.isNumerical(e)?"Number":"String"},t.prototype.getType=function(e,r,o){if(this.isFormula(o))return"Formula";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,r,o){var s=this.getStyleById(e),d=this.getType(r,s,o)||r;return{styleId:s?e:void 0,data:{type:d,value:this.getValueTransformed(d,o)}}},t.prototype.getValueTransformed=function(e,r){var f,o=this;switch(e){case"String":return function(f){if(o.config.suppressTextAsCDATA)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(f);var y="<![CDATA[",m="]]>",E=new RegExp(m,"g");return y+String(f).replace(E,"]]"+m+y+">")+m}(r);case"Number":return Number(r).valueOf()+"";case"Boolean":return(f=r)&&"0"!==f&&"false"!==f?"1":"0";default:return r}},t.prototype.createMergedCell=function(e,r,o,s){return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:o},mergeAcross:s}},t}(BaseExcelSerializingSession),coreFactory={getTemplate:function(l){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:l},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},contentTypeFactory={getTemplate:function(l){return{name:l.name,properties:{rawMap:{Extension:l.Extension,PartName:l.PartName,ContentType:l.ContentType}}}}},__read$16=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$E=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$16(arguments[t]));return l},contentTypesFactory={getTemplate:function(l){var t=new Array(l).fill(void 0).map(function(f,y){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(y+1)+".xml"}}),e=ExcelXlsxFactory.worksheetImages.size,r={};ExcelXlsxFactory.workbookImageIds.forEach(function(f){r[f.type]=!0});var o=new Array(e).fill(void 0).map(function(f,y){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(y+1)+".xml"}}),s=Object.keys(r).map(function(f){return{name:"Default",ContentType:"image/"+f,Extension:f}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:__spread$E(s,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],o,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(f){return contentTypeFactory.getTemplate(f)})}}},getAnchor=function(l,t){return{name:"xdr:"+l,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},getExt=function(l){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(l.recolor&&l.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},getNvPicPr=function(l,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:l.id,descr:null!=l.altText?l.altText:void 0}},children:[getExt(l)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},getColorDetails=function(l){if(l.saturation||l.tint){var t=[];return l.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*l.saturation}}}),l.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*l.tint}}}),t}},getDuoTone=function(l,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:l.color}},children:getColorDetails(l)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:getColorDetails(t)}]}},getBlipFill=function(l,t){var e;if(l.transparency){var r=Math.min(Math.max(l.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*r)}}}]}if(l.recolor)switch(e||(e=[]),l.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},getSpPr=function(l,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return l.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(l.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},getImageBoxSize=function(l){l.fitCell=!!l.fitCell||!l.width||!l.height;var t=l.position,e=void 0===t?{}:t,r=l.fitCell,o=l.width,s=void 0===o?0:o,d=l.height,f=void 0===d?0:d,y=l.totalHeight,m=l.totalWidth,E=e.offsetX,O=void 0===E?0:E,D=e.offsetY,P=void 0===D?0:D,R=e.row,x=void 0===R?1:R,L=e.rowSpan,B=void 0===L?1:L,U=e.column,Y=void 0===U?1:U,ee=e.colSpan,oe=void 0===ee?1:ee;return{from:{row:x-1,col:Y-1,offsetX:pixelsToEMU(O),offsetY:pixelsToEMU(P)},to:{row:x-1+(r?1:B-1),col:Y-1+(r?1:oe-1),offsetX:pixelsToEMU(s+O),offsetY:pixelsToEMU(f+P)},height:pixelsToEMU(y||f),width:pixelsToEMU(m||s)}},getPicture=function(l,t,e,r){return{name:"xdr:pic",children:[getNvPicPr(l,t+1),getBlipFill(l,e+1),getSpPr(l,r)]}},drawingFactory={getTemplate:function(l){var t=l.sheetIndex,e=ExcelXlsxFactory.worksheetImages.get(t),r=ExcelXlsxFactory.worksheetImageIds.get(t);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:e.map(function(s,d){var f=getImageBoxSize(s);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[getAnchor("from",f.from),getAnchor("to",f.to),getPicture(s,d,r.get(s.id).index,f),{name:"xdr:clientData"}]}})}}},__read$15=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},getColorChildren=function(l){var t=__read$15(l,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}},colorScheme={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[getColorChildren(["dk1","sysClr","windowText","000000"]),getColorChildren(["lt1","sysClr","window","FFFFFF"]),getColorChildren(["dk2","srgbClr","44546A"]),getColorChildren(["lt2","srgbClr","E7E6E6"]),getColorChildren(["accent1","srgbClr","4472C4"]),getColorChildren(["accent2","srgbClr","ED7D31"]),getColorChildren(["accent3","srgbClr","A5A5A5"]),getColorChildren(["accent4","srgbClr","FFC000"]),getColorChildren(["accent5","srgbClr","5B9BD5"]),getColorChildren(["accent6","srgbClr","70AD47"]),getColorChildren(["hlink","srgbClr","0563C1"]),getColorChildren(["folHlink","srgbClr","954F72"])]}}},__read$14=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},getFont$1=function(l){var t=__read$14(l,4);return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}},fontScheme={getTemplate:function(){var l=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[getFont$1(["latin","Calibri Light",void 0,"020F0302020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),getFont$1(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$1(["font",l("\u7b49\u7ebf Light"),"Hans"]),getFont$1(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$1(["font","Times New Roman","Arab"]),getFont$1(["font","Times New Roman","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","MoolBoran","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Times New Roman","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[getFont$1(["latin","Calibri",void 0,"020F0502020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),getFont$1(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$1(["font",l("\u7b49\u7ebf"),"Hans"]),getFont$1(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$1(["font","Arial","Arab"]),getFont$1(["font","Arial","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","DaunPenh","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Arial","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]}]}}},__read$13=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},getPropertyVal=function(l,t,e){return{name:"a:"+l,properties:{rawMap:{val:t}},children:e}},getGs=function(l){var t=__read$13(l,6),e=t[0],r=t[1],s=t[3],d=t[4],f=t[5],y=[];return y.push(getPropertyVal("satMod",t[2])),s&&y.push(getPropertyVal("lumMod",s)),d&&y.push(getPropertyVal("tint",d)),f&&y.push(getPropertyVal("shade",f)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:r}},children:y}]}},getSolidFill=function(l,t){return{name:"a:solidFill",children:[getPropertyVal("schemeClr",l,t)]}},getGradFill=function(l){var t=__read$13(l,5),e=t[0],r=t[1],o=t[2],s=t[3],f=__read$13(t[4],2),y=f[0],m=f[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[getGs(r),getGs(o),getGs(s)]},{name:"a:lin",properties:{rawMap:{ang:y,scaled:m}}}]}},getLine=function(l){var t=__read$13(l,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[getSolidFill("phClr"),getPropertyVal("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},getEffectStyle=function(l){var t=[];if(l){var e=__read$13(l,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[getPropertyVal("srgbClr","000000",[getPropertyVal("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},getFillStyleList=function(){return{name:"a:fillStyleLst",children:[getSolidFill("phClr"),getGradFill(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),getGradFill(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},getLineStyleList=function(){return{name:"a:lnStyleLst",children:[getLine(["6350","flat","sng","ctr"]),getLine(["12700","flat","sng","ctr"]),getLine(["19050","flat","sng","ctr"])]}},getEffectStyleList=function(){return{name:"a:effectStyleLst",children:[getEffectStyle(),getEffectStyle(),getEffectStyle(["57150","19050","5400000","ctr","0"])]}},getBgFillStyleList=function(){return{name:"a:bgFillStyleLst",children:[getSolidFill("phClr"),getSolidFill("phClr",[getPropertyVal("tint","95000"),getPropertyVal("satMod","170000")]),getGradFill(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},formatScheme={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]}}},themeElements={getTemplate:function(){return{name:"a:themeElements",children:[colorScheme.getTemplate(),fontScheme.getTemplate(),formatScheme.getTemplate()]}}},officeTheme={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[themeElements.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},buildSharedString=function(l){var t=[];return l.forEach(function(e,r){var o=r.toString(),s={name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o))};o.trim().length!==o.length&&(s.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[s]})}),t},sharedStrings={getTemplate:function(l){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.size,uniqueCount:l.size}},children:buildSharedString(l)}}},numberFormatFactory={getTemplate:function(l){return{name:"numFmt",properties:{rawMap:{formatCode:l.formatCode,numFmtId:l.numFmtId}}}}},numberFormatsFactory={getTemplate:function(l){return{name:"numFmts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return numberFormatFactory.getTemplate(t)})}}},fontFactory={getTemplate:function(l){var r=l.color,s=l.fontName,f=l.family,y=l.scheme,m=l.italic,E=l.bold,O=l.strikeThrough,D=l.outline,P=l.shadow,R=l.underline,x=l.verticalAlign,L=[{name:"sz",properties:{rawMap:{val:l.size}}},{name:"color",properties:{rawMap:{theme:l.colorTheme,rgb:void 0===r?"FF000000":r}}},{name:"name",properties:{rawMap:{val:void 0===s?"Calibri":s}}}];return f&&L.push({name:"family",properties:{rawMap:{val:f}}}),y&&L.push({name:"scheme",properties:{rawMap:{val:y}}}),m&&L.push({name:"i"}),E&&L.push({name:"b"}),O&&L.push({name:"strike"}),D&&L.push({name:"outline"}),P&&L.push({name:"shadow"}),R&&L.push({name:"u",properties:{rawMap:{val:R}}}),x&&L.push({name:"vertAlign",properties:{rawMap:{val:x}}}),{name:"font",children:L}}},fontsFactory={getTemplate:function(l){return{name:"fonts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return fontFactory.getTemplate(t)})}}},fillFactory={getTemplate:function(l){var e=l.fgTheme,r=l.fgTint,o=l.fgRgb,s=l.bgRgb,d=l.bgIndexed,f={name:"patternFill",properties:{rawMap:{patternType:l.patternType}}};return(e||r||o)&&(f.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:r,rgb:o}}}]),(d||s)&&(f.children||(f.children=[]),f.children.push({name:"bgColor",properties:{rawMap:{indexed:d,rgb:s}}})),{name:"fill",children:[f]}}},fillsFactory={getTemplate:function(l){return{name:"fills",properties:{rawMap:{count:l.length}},children:l.map(function(t){return fillFactory.getTemplate(t)})}}},getWeightName=function(l){switch(l){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},mappedBorderNames={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mediumBorders=["Dashed","DashDot","DashDotDot"],colorMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},horizontalAlignmentMap={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},verticalAlignmentMap={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},convertLegacyPattern=function(l){return l?colorMap[l]||l:"none"},convertLegacyColor=function(l){return null==l?l:("#"===l.charAt(0)&&(l=l.substr(1)),6===l.length?"FF"+l:l)},convertLegacyBorder=function(l,t){if(!l)return"thin";var e=getWeightName(t),r=mappedBorderNames[l];return"Continuous"===l?e:"medium"===e&&-1!==mediumBorders.indexOf(r)?"medium"+r:r.charAt(0).toLowerCase()+r.substr(1)},convertLegacyHorizontalAlignment=function(l){return horizontalAlignmentMap[l]||"general"},convertLegacyVerticalAlignment=function(l){return verticalAlignmentMap[l]||void 0},getBorderColor=function(l){return{name:"color",properties:{rawMap:{rgb:convertLegacyColor(l||"#000000")}}}},borderFactory$1={getTemplate:function(l){var t=l.left,e=l.right,r=l.top,o=l.bottom,s=l.diagonal,d=t?[getBorderColor(t.color)]:void 0,f=e?[getBorderColor(e.color)]:void 0,y=r?[getBorderColor(r.color)]:void 0,m=o?[getBorderColor(o.color)]:void 0,E=s?[getBorderColor(s.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:d},{name:"right",properties:{rawMap:{style:e&&e.style}},children:f},{name:"top",properties:{rawMap:{style:r&&r.style}},children:y},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:m},{name:"diagonal",properties:{rawMap:{style:s&&s.style}},children:E}]}}},bordersFactory={getTemplate:function(l){return{name:"borders",properties:{rawMap:{count:l.length}},children:l.map(function(t){return borderFactory$1.getTemplate(t)})}}},getReadingOrderId=function(l){var e=["Context","LeftToRight","RightToLeft"].indexOf(l);return Math.max(e,0)},alignmentFactory={getTemplate:function(l){var t=l.horizontal,e=l.indent,r=l.readingOrder,o=l.rotate,s=l.shrinkToFit,d=l.vertical,f=l.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&convertLegacyHorizontalAlignment(t),indent:e,readingOrder:r&&getReadingOrderId(r),textRotation:o,shrinkToFit:s,vertical:d&&convertLegacyVerticalAlignment(d),wrapText:f}}}}},protectionFactory={getTemplate:function(l){return{name:"protection",properties:{rawMap:{hidden:!0===l.hideFormula?1:0,locked:!1===l.protected?0:1}}}}},xfFactory={getTemplate:function(l){var t=l.alignment,e=l.borderId,r=l.fillId,o=l.fontId,s=l.numFmtId,d=l.protection,f=l.xfId,y=[];return t&&y.push(alignmentFactory.getTemplate(t)),d&&y.push(protectionFactory.getTemplate(d)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:d?1:void 0,applyBorder:e?1:void 0,applyFill:r?1:void 0,borderId:e,fillId:r,applyFont:o?1:void 0,fontId:o,applyNumberFormat:s?1:void 0,numFmtId:s,xfId:f}},children:y.length?y:void 0}}},cellStylesXfsFactory={getTemplate:function(l){return{name:"cellStyleXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return xfFactory.getTemplate(t)})}}},cellXfsFactory={getTemplate:function(l){return{name:"cellXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return xfFactory.getTemplate(t)})}}},borderFactory={getTemplate:function(l){return{name:"cellStyle",properties:{rawMap:{builtinId:l.builtinId,name:l.name,xfId:l.xfId}}}}},cellStylesFactory={getTemplate:function(l){return{name:"cellStyles",properties:{rawMap:{count:l.length}},children:l.map(function(t){return borderFactory.getTemplate(t)})}}},__assign$L=function(){return __assign$L=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$L.apply(this,arguments)},stylesMap,registeredNumberFmts,registeredFonts,registeredFills,registeredBorders,registeredCellStyleXfs,registeredCellXfs,registeredCellStyles,currentSheet,getStyleName=function(l,t){return-1!==l.indexOf("mixedStyle")&&t>1&&(l+="_"+t),l},resetStylesheetValues=function(){stylesMap={base:0},registeredNumberFmts=[],registeredFonts=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],registeredFills=[{patternType:"none"},{patternType:"gray125"}],registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],registeredCellStyles=[{builtinId:0,name:"Normal",xfId:0}]},registerFill=function(l){var t=convertLegacyPattern(l.pattern),e=convertLegacyColor(l.color),r=convertLegacyColor(l.patternColor),o=registeredFills.findIndex(function(s){return!(s.patternType!=t||s.fgRgb!=e||s.bgRgb!=r)});return-1===o&&(o=registeredFills.length,registeredFills.push({patternType:t,fgRgb:e,bgRgb:r})),o},registerNumberFmt=function(l){if(l=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l),numberFormatMap[l])return numberFormatMap[l];var t=registeredNumberFmts.findIndex(function(e){return e.formatCode===l});return-1===t?registeredNumberFmts.push({formatCode:l,numFmtId:t=registeredNumberFmts.length+164}):t=registeredNumberFmts[t].numFmtId,t},registerBorders=function(l){var s,d,f,y,m,E,O,D,t=l.borderBottom,e=l.borderTop,r=l.borderLeft,o=l.borderRight;r&&(f=convertLegacyBorder(r.lineStyle,r.weight),O=convertLegacyColor(r.color)),o&&(y=convertLegacyBorder(o.lineStyle,o.weight),D=convertLegacyColor(o.color)),t&&(s=convertLegacyBorder(t.lineStyle,t.weight),m=convertLegacyColor(t.color)),e&&(d=convertLegacyBorder(e.lineStyle,e.weight),E=convertLegacyColor(e.color));var P=registeredBorders.findIndex(function(R){var x=R.left,L=R.right,B=R.top,U=R.bottom;if(!x&&(f||O)||!L&&(y||D)||!B&&(d||E)||!U&&(s||m))return!1;var Y=x||{},re=L||{},se=B||{},ve=U||{};return!(Y.style!=f||Y.color!=O||re.style!=y||re.color!=D||se.style!=d||se.color!=E||ve.style!=s||ve.color!=m)});return-1===P&&(P=registeredBorders.length,registeredBorders.push({left:{style:f,color:O},right:{style:y,color:D},top:{style:d,color:E},bottom:{style:s,color:m},diagonal:{style:void 0,color:void 0}})),P},registerFont=function(l){var t=l.fontName,e=void 0===t?"Calibri":t,r=l.color,o=l.size,s=l.bold,d=l.italic,f=l.outline,y=l.shadow,m=l.strikeThrough,E=l.underline,O=l.family,D=l.verticalAlign,P=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(e),R=convertLegacyColor(r),x=getFontFamilyId(O),L=E?E.toLocaleLowerCase():void 0,B=D?D.toLocaleLowerCase():void 0,U=registeredFonts.findIndex(function(Y){return!(Y.fontName!=P||Y.color!=R||Y.size!=o||Y.bold!=s||Y.italic!=d||Y.outline!=f||Y.shadow!=y||Y.strikeThrough!=m||Y.underline!=L||Y.verticalAlign!=B||Y.family!=x)});return-1===U&&(U=registeredFonts.length,registeredFonts.push({fontName:P,color:R,size:o,bold:s,italic:d,outline:f,shadow:y,strikeThrough:m,underline:L,verticalAlign:B,family:x?.toString()})),U},registerStyle=function(l){var t=l.alignment,e=l.borders,r=l.font,o=l.interior,s=l.numberFormat,d=l.protection,f=l.id,y=0,m=0,E=0,O=0;f&&(f=getStyleName(f,currentSheet),null==stylesMap[f]&&(o&&(y=registerFill(o)),e&&(m=registerBorders(e)),r&&(E=registerFont(r)),s&&(O=registerNumberFmt(s.format)),stylesMap[f]=registeredCellXfs.length,registeredCellXfs.push({alignment:t,borderId:m||0,fillId:y||0,fontId:E||0,numFmtId:O||0,protection:d,xfId:0})))},stylesheetFactory={getTemplate:function(l){var t=numberFormatsFactory.getTemplate(registeredNumberFmts),e=fontsFactory.getTemplate(registeredFonts.map(function(y){return __assign$L(__assign$L({},y),{size:null!=y.size?y.size:l})})),r=fillsFactory.getTemplate(registeredFills),o=bordersFactory.getTemplate(registeredBorders),s=cellStylesXfsFactory.getTemplate(registeredCellStyleXfs),d=cellXfsFactory.getTemplate(registeredCellXfs),f=cellStylesFactory.getTemplate(registeredCellStyles);return resetStylesheetValues(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,r,o,s,d,f,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},getStyleId=function(l,t){return stylesMap[getStyleName(l,t)]||0},registerStyles=function(l,t){1===(currentSheet=t)&&resetStylesheetValues(),l.forEach(registerStyle)},sheetFactory={getTemplate:function(l,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:l,sheetId:e,"r:id":"rId"+e}}}}},sheetsFactory={getTemplate:function(l){return{name:"sheets",children:l.map(function(t,e){return sheetFactory.getTemplate(t,e)})}}},workbookFactory={getTemplate:function(l){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[sheetsFactory.getTemplate(l)]}}},getExcelCellWidth=function(l){return Math.ceil((l-12)/7+1)},columnFactory={getTemplate:function(l){var t=l.min,e=l.max,r=l.outlineLevel,o=l.s,s=l.width,d=l.hidden,f=l.bestFit,y=1,m="0";return s>1&&(y=getExcelCellWidth(s),m="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:r??void 0,width:y,style:o,hidden:d?"1":"0",bestFit:f?"1":"0",customWidth:m}}}}},convertLegacyType=function(l){var t=l.charAt(0).toLowerCase();return"s"===t?"inlineStr":t},cellFactory={getTemplate:function(l,t,e){var r=l.ref,s=l.styleId,d=l.data||{type:"empty",value:null},f=d.type,y=d.value,m=f;"f"===f?m="str":f.charAt(0)===f.charAt(0).toUpperCase()&&(m=convertLegacyType(f));var O,E={name:"c",properties:{rawMap:{r,t:"empty"===m?void 0:m,s:s?getStyleId(s,e):void 0}}};return"empty"===m?E:(O="str"===m&&"f"===f?[{name:"f",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(y))}]:"inlineStr"===m?[{name:"is",children:[{name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(y))}]}]:[{name:"v",textNode:y}],Object.assign({},E,{children:O}))}},__read$12=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$D=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$12(arguments[t]));return l},addEmptyCells=function(l,t){for(var e=[],r=0,o=0;o<l.length;o++)(s=l[o]).mergeAcross&&(e.push({pos:o,excelPos:r}),r+=s.mergeAcross),r++;if(e.length)for(o=e.length-1;o>=0;o--){for(var d=[],s=l[e[o].pos],f=1;f<=s.mergeAcross;f++)d.push({ref:""+getExcelColumnName(e[o].excelPos+1+f)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});d.length&&l.splice.apply(l,__spread$D([e[o].pos+1,0],d))}},shouldDisplayCell=function(l){var t;return""!==(null===(t=l.data)||void 0===t?void 0:t.value)||void 0!==l.styleId},rowFactory={getTemplate:function(l,t,e){var r=l.collapsed,o=l.hidden,s=l.height,d=l.outlineLevel,f=l.cells,y=void 0===f?[]:f;return addEmptyCells(y,t),{name:"row",properties:{rawMap:{r:t+1,collapsed:r,hidden:o?"1":"0",ht:s,customHeight:null!=s?"1":"0",spans:"1:1",outlineLevel:d||void 0}},children:y.filter(shouldDisplayCell).map(function(E,O){return cellFactory.getTemplate(E,O,e)})}}},mergeCellFactory={getTemplate:function(l){return{name:"mergeCell",properties:{rawMap:{ref:l}}}}},getMergedCellsAndAddColumnGroups=function(l,t){var e=[],r=[];l.forEach(function(d,f){var E,m=0;d.cells.forEach(function(O,D){var P=D+m+1,R=getExcelColumnName(P),x=f+1;if(O.mergeAcross){var L=getExcelColumnName(D+(m+=O.mergeAcross)+1);e.push(""+R+x+":"+L+x)}t[P-1]||(t[P-1]={});var B=O.collapsibleRanges;B&&B.forEach(function(U){r.push([P+U[0],P+U[1]])}),(E=t[P-1]).min=P,E.max=P,O.ref=""+R+x})}),r.sort(function(d,f){return d[0]!==f[0]?d[0]-f[0]:f[1]-d[1]});var o=new Map,s=new Map;return r.filter(function(d){var f=d.toString();return!o.get(f)&&(o.set(f,!0),!0)}).forEach(function(d){var f=t.find(function(m){return m.min==d[0]&&m.max==d[1]}),y=s.get(d[0]);t.push({min:d[0],max:d[1],outlineLevel:y||1,width:(f||{width:100}).width}),s.set(d[0],(y||0)+1)}),e},getPageOrientation=function(l){return!l||"Portrait"!==l&&"Landscape"!==l?"portrait":l.toLocaleLowerCase()},getPageSize=function(l){if(null==l)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(l);return-1===e?1:e+1},addColumns=function(l){return function(t){return l.length&&t.push({name:"cols",children:l.map(function(e){return columnFactory.getTemplate(e)})}),t}},addSheetData=function(l,t){return function(e){return l.length&&e.push({name:"sheetData",children:l.map(function(r,o){return rowFactory.getTemplate(r,o,t)})}),e}},addMergeCells=function(l){return function(t){return l.length&&t.push({name:"mergeCells",properties:{rawMap:{count:l.length}},children:l.map(function(e){return mergeCellFactory.getTemplate(e)})}),t}},addPageMargins=function(l){return function(t){var e=l.top,o=l.right,d=l.bottom,y=l.left,E=l.header,D=l.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===d?.75:d,footer:void 0===D?.3:D,header:void 0===E?.3:E,left:void 0===y?.7:y,right:void 0===o?.7:o,top:void 0===e?.75:e}}}),t}},addPageSetup=function(l){return function(t){return l&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(l.orientation),paperSize:getPageSize(l.pageSize)}}}),t}},replaceHeaderFooterTokens=function(l){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,r){l=l.replace(e,r)}),l},getHeaderPosition=function(l){return"Center"===l?"C":"Right"===l?"R":"L"},applyHeaderFontStyle=function(l,t){return t&&(l+="&amp;&quot;",l+=t.fontName||"Calibri",l+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",l+="&quot;",t.size&&(l+="&amp;"+t.size),t.strikeThrough&&(l+="&amp;S"),t.underline&&(l+="&amp;"+("Double"===t.underline?"E":"U")),t.color&&(l+="&amp;K"+t.color.replace("#","").toUpperCase())),l},processHeaderFooterContent=function(l){return l.reduce(function(t,e){var r=getHeaderPosition(e.position);return""+applyHeaderFontStyle(t+"&amp;"+r,e.font)+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(replaceHeaderFooterTokens(e.value))},"")},buildHeaderFooter=function(l){var e=[];return["all","first","even"].forEach(function(r){var o=l[r],s="all"===r?"odd":r;!o||!o.header&&!o.footer||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,function(d,f){var y=""+d.charAt(0).toUpperCase()+d.slice(1);f&&e.push({name:""+s+y,properties:{rawMap:{"xml:space":"preserve"}},textNode:processHeaderFooterContent(f)})})}),e},addHeaderFooter=function(l){return function(t){return l?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=l.first?1:0,differentOddEven:null!=l.even?1:0}},children:buildHeaderFooter(l)}),t):t}},addDrawingRel=function(l){return function(t){return ExcelXlsxFactory.worksheetImages.get(l)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}},addSheetPr=function(){return function(l){return l.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),l}},addSheetFormatPr=function(l){return function(t){var e=l.reduce(function(r,o){return o.outlineLevel&&o.outlineLevel>r?o.outlineLevel:r},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),t}},worksheetFactory={getTemplate:function(l){var e=l.currentSheet,r=l.margins,o=void 0===r?{}:r,s=l.pageSetup,d=l.headerFooterConfig,f=l.worksheet.table,y=f.rows,m=f.columns,E=m&&m.length?getMergedCellsAndAddColumnGroups(y,m):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(addSheetPr(),addSheetFormatPr(y),addColumns(m),addSheetData(y,e+1),addMergeCells(E),addPageMargins(o),addPageSetup(s),addHeaderFooter(d),addDrawingRel(e))([])}}},relationshipFactory={getTemplate:function(l){return{name:"Relationship",properties:{rawMap:{Id:l.Id,Type:l.Type,Target:l.Target}}}}},relationshipsFactory={getTemplate:function(l){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:l.map(function(e){return relationshipFactory.getTemplate(e)})}}},__read$11=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$C=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$11(arguments[t]));return l},ExcelXlsxFactory=function(){function l(){}return l.createExcel=function(t,e,r,o,s){return this.addSheetName(e),registerStyles(t,this.sheetNames.length),this.createWorksheet(e,r,o,s)},l.buildImageMap=function(t,e,r,o,s){var d=this.sheetNames.length,f=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:o.indexOf(r)+1}));var y=t;if(setExcelImageTotalWidth(y,o),setExcelImageTotalHeight(y,s),f){var m=f.find(function(E){return E.sheetId===d});m?m.image.push(y):f.push({sheetId:d,image:[y]})}else this.images.set(y.id,[{sheetId:d,image:[y]}]),this.workbookImageIds.set(y.id,{type:y.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(d,y)},l.buildSheetImageMap=function(t,e){var r=this.worksheetImageIds.get(t);r||this.worksheetImageIds.set(t,r=new Map);var o=this.worksheetImages.get(t);o?(o.push(e),r.get(e.id)||r.set(e.id,{index:r.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),r.set(e.id,{index:0,type:e.imageType}))},l.addSheetName=function(t){for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.name)||"",r="";-1!==this.sheetNames.indexOf(""+e+r);)if(""===r)r="_1";else{var o=parseInt(r.slice(1),10);r="_"+(o+1)}t.name=""+e+r,this.sheetNames.push(t.name)},l.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},l.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET},l.createWorkbook=function(){return createXmlPart(workbookFactory.getTemplate(this.sheetNames))},l.createStylesheet=function(t){return createXmlPart(stylesheetFactory.getTemplate(t))},l.createSharedStrings=function(){return createXmlPart(sharedStrings.getTemplate(this.sharedStrings))},l.createCore=function(t){return createXmlPart(coreFactory.getTemplate(t))},l.createContentTypes=function(t){return createXmlPart(contentTypesFactory.getTemplate(t))},l.createRels=function(){var t=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return createXmlPart(t)},l.createTheme=function(){return createXmlPart(officeTheme.getTemplate())},l.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(o,s){return{Id:"rId"+(s+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(s+1)+".xml"}}),r=relationshipsFactory.getTemplate(__spread$C(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return createXmlPart(r)},l.createDrawing=function(t){return createXmlPart(drawingFactory.getTemplate({sheetIndex:t}))},l.createDrawingRel=function(t){var e=this,r=this.worksheetImageIds.get(t),o=[];return r.forEach(function(s,d){o.push({Id:"rId"+(s.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(d).index+1)+"."+s.type})}),createXmlPart(relationshipsFactory.getTemplate(o))},l.createWorksheetDrawingRel=function(t){var e=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return createXmlPart(e)},l.createWorksheet=function(t,e,r,o){return createXmlPart(worksheetFactory.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:r,headerFooterConfig:o}))},l.sharedStrings=new Map,l.sheetNames=[],l.images=new Map,l.worksheetImages=new Map,l.workbookImageIds=new Map,l.worksheetImageIds=new Map,l.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,l}(),__extends$2P=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ExcelXlsxSerializingSession=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2P(t,l),t.prototype.createExcel=function(e){var s=this.config;return ExcelXlsxFactory.createExcel(this.excelStyles,e,s.margins,s.pageSetup,s.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":this.isNumerical(e)?"n":"s"},t.prototype.getType=function(e,r,o){if(this.isFormula(o))return"f";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(e,r,o){if(this.config.addImageToCell){var s=this.config.addImageToCell(e,r,o);if(s)return ExcelXlsxFactory.buildImageMap(s.image,e,r,this.columnsToExport,this.config.rowHeight),s}},t.prototype.createCell=function(e,r,o){var s=this.getStyleById(e),d=this.getType(r,s,o)||r;return{styleId:s?e:void 0,data:{type:d,value:this.getCellValue(d,o)}}},t.prototype.createMergedCell=function(e,r,o,s){var d=o??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:"s"===r?ExcelXlsxFactory.getStringPosition(d).toString():o},mergeAcross:s}},t.prototype.getCellValue=function(e,r){if(null==r)return ExcelXlsxFactory.getStringPosition("").toString();switch(e){case"s":return""===r?"":ExcelXlsxFactory.getStringPosition(r).toString();case"f":return r.slice(1);case"n":return Number(r).toString();default:return r}},t}(BaseExcelSerializingSession),__extends$2O=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$K=function(){return __assign$K=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$K.apply(this,arguments)},__decorate$1$=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},getMultipleSheetsAsExcel=function(l){var t=l.data,e=l.fontSize,r=void 0===e?11:e,o=l.author,s=void 0===o?"AG Grid":o,d=ExcelXlsxFactory.images.size>0;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),d){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var f=0;ExcelXlsxFactory.images.forEach(function(O){var D=O[0].image[0];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/media/image"+ ++f+"."+D.imageType,D.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void ExcelXlsxFactory.resetFactory();var y=t.length,m=0;return t.forEach(function(O,D){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/worksheets/sheet"+(D+1)+".xml",O),d&&ExcelXlsxFactory.worksheetImages.get(D)&&createImageRelationsForSheet(D,m++)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/workbook.xml",ExcelXlsxFactory.createWorkbook()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/styles.xml",ExcelXlsxFactory.createStylesheet(r)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/sharedStrings.xml",ExcelXlsxFactory.createSharedStrings()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/theme/theme1.xml",ExcelXlsxFactory.createTheme()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/_rels/workbook.xml.rels",ExcelXlsxFactory.createWorkbookRels(y)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("docProps/core.xml",ExcelXlsxFactory.createCore(s)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("[Content_Types].xml",ExcelXlsxFactory.createContentTypes(y)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("_rels/.rels",ExcelXlsxFactory.createRels()),ExcelXlsxFactory.resetFactory(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.getContent(l.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},exportMultipleSheetsAsExcel=function(l){var t=l.fileName,e=void 0===t?"export.xlsx":t,r=getMultipleSheetsAsExcel(l);r&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(e,r)},createImageRelationsForSheet=function(l,t){var e="xl/drawings",r=e+"/drawing"+(t+1)+".xml",s="xl/worksheets/_rels/sheet"+(l+1)+".xml.rels";ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(e+"/_rels/drawing"+(t+1)+".xml.rels",ExcelXlsxFactory.createDrawingRel(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(r,ExcelXlsxFactory.createDrawing(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(s,ExcelXlsxFactory.createWorksheetDrawingRel(t))},ExcelCreator=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.exportMode="xlsx",e}return __extends$2O(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},r,e)},t.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),l.prototype.getData.call(this,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),o=this.getData(r),d=this.packageFile({data:[o],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType});return d&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(this.getFileName(r.fileName),d),o},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var r=this.getMergedParams(e),o=this.getData(r);return e&&"xml"===e.exportMode?o:this.packageFile({data:[o],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType})},t.prototype.setFactoryMode=function(e,r){void 0===r&&(r="xlsx"),("xlsx"===r?ExcelXlsxFactory:ExcelXmlFactory).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?ExcelXlsxFactory:ExcelXmlFactory).factoryMode},t.prototype.getSheetDataForExcel=function(e){var r=this.getMergedParams(e);return this.getData(r)},t.prototype.getMultipleSheetsAsExcel=function(e){return getMultipleSheetsAsExcel(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return exportMultipleSheetsAsExcel(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var r=this,o=r.columnModel,s=r.valueService,d=r.gridOptionsService,f="xlsx"===this.getExportMode(),y="ag-grid";null!=e.sheetName&&(y=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(e.sheetName.toString().substr(0,31)));var m=__assign$K(__assign$K({},e),{sheetName:y,columnModel:o,valueService:s,gridOptionsService:d,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new(f?ExcelXlsxSerializingSession:ExcelXmlSerializingSession)(m)},t.prototype.styleLinker=function(e){var r=e.rowType,o=e.rowIndex,s=e.value,d=e.column,f=e.columnGroup,y=e.node,m=r===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,E=r===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,O=m?d:f,D=[];if(m||E)return D.push("header"),E&&D.push("headerGroup"),O&&(D=D.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getHeaderClassesFromColDef(O.getDefinition(),this.gridOptionsService,d||null,f||null))),D;var P=this.gridOptionsService.get("excelStyles"),R=["cell"];if(!P||!P.length)return R;var x=P.map(function(L){return L.id});return this.stylingService.processAllCellClasses(d.getDefinition(),{value:s,data:y.data,node:y,colDef:d.getDefinition(),column:d,rowIndex:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},function(L){x.indexOf(L)>-1&&R.push(L)}),R.sort(function(L,B){return x.indexOf(L)<x.indexOf(B)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressExcelExport")},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):getMultipleSheetsAsExcel(e)},__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("stylingService")],t.prototype,"stylingService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$1$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("excelCreator")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.z0n),VERSION$d="29.3.5",ExcelExportModule={version:VERSION$d,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule,beans:[ExcelCreator,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.YaM,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IFn],dependantModules:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC,EnterpriseCoreModule]},__extends$2N=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1_=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},EXPAND_STATE=(()=>((EXPAND_STATE=EXPAND_STATE||{})[EXPAND_STATE.EXPANDED=0]="EXPANDED",EXPAND_STATE[EXPAND_STATE.COLLAPSED=1]="COLLAPSED",EXPAND_STATE[EXPAND_STATE.INDETERMINATE=2]="INDETERMINATE",EXPAND_STATE))(),FiltersToolPanelHeaderPanel=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2N(t,l),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.localeService.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(EXPAND_STATE.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,r=!this.params.suppressExpandAll,o=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search..."));var d=this.columnModel.getAllGridColumns().some(function(f){return f.getOriginalParent()&&f.isFilterAllowed()});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,r&&d)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===EXPAND_STATE.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.currentExpandState===EXPAND_STATE.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===EXPAND_STATE.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===EXPAND_STATE.INDETERMINATE)},__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],t.prototype,"eExpand",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"preConstruct",null),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2M=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1Z=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelFilterComp=function(l){function t(e){void 0===e&&(e=!1);var r=l.call(this,t.TEMPLATE)||this;return r.expanded=!1,r.hideHeader=e,r}return __extends$2M(t,l),t.prototype.postConstruct=function(){this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var r=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(o){o.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&r.toggleExpanded()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,r,o){if(null!=r){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(e,this.gridOptionsService,o);r.appendChild(s)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED})},t.prototype.onFilterDestroyed=function(e){this.expanded&&"api"===e.source&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement())},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){this.expanded||(this.expanded=!0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement())},t.prototype.addFilterElement=function(){var e=this,r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(o){var s=o.filterPromise,d=o.guiPromise;s?.then(function(f){e.underlyingFilter=f,f&&d.then(function(y){y&&r.appendChild(y),e.agFilterToolPanelBody.appendChild(r),f.afterGuiAttached&&f.afterGuiAttached({container:"toolPanel"})})})}},t.prototype.collapse=function(){var e,r;this.expanded&&(this.expanded=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!0),null===(r=null===(e=this.underlyingFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===r||r.call(e))},t.prototype.removeFilterElement=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.agFilterToolPanelBody)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.refreshFilter=function(e){var r;if(this.expanded){var o=this.underlyingFilter;o&&(e?"function"==typeof o.refreshVirtualList&&o.refreshVirtualList():null===(r=o.afterGuiDetached)||void 0===r||r.call(o))}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterName")],t.prototype,"eFilterName",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterIcon")],t.prototype,"eFilterIcon",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],t.prototype,"eExpand",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2L=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1Y=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelFilterGroupComp=function(l){function t(e,r,o,s,d){var f=l.call(this)||this;return f.columnGroup=e,f.childFilterComps=r,f.depth=s,f.expandedCallback=o,f.showingColumn=d,f}return __extends$2L(t,l),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(r){e.filterGroupComp.addItem(r),r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var r=function(){var o=e.columnGroup.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(e){this.childFilterComps.forEach(function(r){r instanceof t?r.refreshFilters(e):r.refreshFilter(e)})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,r){this.filterGroupComp.hideItem(e,r)},t.prototype.hideGroup=function(e){this.setDisplayed(!e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(r){r instanceof ToolPanelFilterComp&&e(r)})},t.prototype.addExpandCollapseListeners=function(){var e=this,r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.expand()})},o=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.collapse()})};this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,r),this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_COLLAPSED,o)},t.prototype.getColumns=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(r){e.addManagedListener(r,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(o){return o.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filterGroupComp")],t.prototype,"filterGroupComp",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"preConstruct",null),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2K=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1X=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FiltersToolPanelListPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return __extends$2K(t,l),t.prototype.init=function(e){var r=this;this.initialised=!0;var o={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(o,e),this.params=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,function(s){"filters"===s.key&&r.refreshFilters(s.visible)}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this.columnModel.getPrimaryColumnTree();this.recreateFilters(e)},t.prototype.setFiltersLayout=function(e){var r=this.toolPanelColDefService.createColumnTree(e);this.recreateFilters(r)},t.prototype.recreateFilters=function(e){var r=this,o=this.gridOptionsService.getDocument().activeElement,s=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(e,0,s);var d=this.filterGroupComps.length;d&&(this.filterGroupComps.forEach(function(f){return r.appendChild(f)}),this.setFirstAndLastVisible(0,d-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(o)&&o.focus()},t.prototype.recursivelyAddComps=function(e,r,o){var s=this;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(e.map(function(d){if(d instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(s.recursivelyAddFilterGroupComps(d,r,o));var f=d;if(!s.shouldDisplayFilter(f))return[];var m=new ToolPanelFilterComp(0===r);if(s.createBean(m),m.setColumn(f),o.get(f.getId())&&m.expand(),r>0)return m;var E=s.createBean(new ToolPanelFilterGroupComp(f,[m],s.onGroupExpanded.bind(s),r,!0));return E.addCssClassToTitleBar("ag-filter-toolpanel-header"),o.get(E.getFilterGroupId())||E.collapse(),E}))},t.prototype.recursivelyAddFilterGroupComps=function(e,r,o){if(this.filtersExistInChildren(e.getChildren())){var s=e.getColGroupDef();if(s&&s.suppressFiltersToolPanel)return[];var d=e.isPadding()?r:r+1,f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(this.recursivelyAddComps(e.getChildren(),d,o));if(e.isPadding())return f;var y=new ToolPanelFilterGroupComp(e,f,this.onGroupExpanded.bind(this),r,!1);return this.createBean(y),y.addCssClassToTitleBar("ag-filter-toolpanel-header"),!1===o.get(y.getFilterGroupId())&&y.collapse(),[y]}},t.prototype.filtersExistInChildren=function(e){var r=this;return e.some(function(o){return o instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?r.filtersExistInChildren(o.getChildren()):r.shouldDisplayFilter(o)})},t.prototype.shouldDisplayFilter=function(e){var r=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!r},t.prototype.getExpansionState=function(){var e=new Map,r=function(o){e.set(o.getFilterGroupId(),o.isExpanded()),o.getChildren().forEach(function(s){s instanceof ToolPanelFilterGroupComp?r(s):e.set(s.getColumn().getId(),s.isExpanded())})};return this.filterGroupComps.forEach(r),e},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,r){var o=[],s=function(f){var y=f.getFilterGroupId();(!r||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(r,y))&&(e&&f.isColumnGroup()?f.expand():f.collapse(),o.push(y)),f.getChildren().forEach(function(E){E instanceof ToolPanelFilterGroupComp&&s(E)})};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),r){var d=r.filter(function(f){return o.indexOf(f)<0});d.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",d)}},t.prototype.expandFilters=function(e,r){var o=[],s=function(f){if(f instanceof ToolPanelFilterGroupComp){var y=!1;return f.getChildren().forEach(function(O){s(O)&&(e?(f.expand(),y=!0):f.isColumnGroup()||f.collapse())}),y}var m=f.getColumn().getColId(),E=!r||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(r,m);return E&&(e?f.expand():f.collapse(),o.push(m)),E};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),r){var d=r.filter(function(f){return o.indexOf(f)<0});d.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",d)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,r=0,o=function(d){d.isColumnGroup()&&(d.isExpanded()?e++:r++,d.getChildren().forEach(function(f){f instanceof ToolPanelFilterGroupComp&&o(f)}))};this.filterGroupComps.forEach(o),this.dispatchEvent({type:"groupExpanded",state:e>0&&r>0?EXPAND_STATE.INDETERMINATE:r>0?EXPAND_STATE.COLLAPSED:EXPAND_STATE.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var s,d,r=function(f){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)||-1!==f.toLowerCase().indexOf(e)},o=function(f,y){if(!(f instanceof ToolPanelFilterGroupComp))return r(f.getColumnFilterName()||"");var m=f.getChildren(),E=r(f.getFilterGroupName()),O=y||E;if(O){f.hideGroup(!1);for(var D=0;D<m.length;D++)o(m[D],O),f.hideGroupItem(!1,D);return!0}var P=!1;return m.forEach(function(R,x){var L=o(R,y);f.hideGroupItem(!L,x),L&&(P=!0)}),f.hideGroup(!P),P};this.filterGroupComps.forEach(function(f,y){o(f,!1),void 0===s?f.containsCssClass("ag-hidden")||(s=y,d=y):!f.containsCssClass("ag-hidden")&&d!==y&&(d=y)}),this.setFirstAndLastVisible(s,d)},t.prototype.setFirstAndLastVisible=function(e,r){this.filterGroupComps.forEach(function(o,s){o.removeCssClass("ag-first-group-visible"),o.removeCssClass("ag-last-group-visible"),s===e&&o.addCssClass("ag-first-group-visible"),s===r&&o.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(e){this.filterGroupComps.forEach(function(r){return r.refreshFilters(e)})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2J=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$J=function(){return __assign$J=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$J.apply(this,arguments)},__decorate$1W=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FiltersToolPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return __extends$2J(t,l),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(d){return d()}),this.listenerDestroyFuncs=[]),this.initialised=!0,this.params=__assign$J(__assign$J(__assign$J({},{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi}),e),{context:this.gridOptionsService.context}),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$c="29.3.5",FiltersToolPanelModule={version:VERSION$c,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:FiltersToolPanelHeaderPanel},{componentName:"AgFiltersToolPanelList",componentClass:FiltersToolPanelListPanel}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:FiltersToolPanel}],dependantModules:[SideBarModule,EnterpriseCoreModule]},__extends$2I=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),TimeInterval=function(){function l(t,e,r){this._encode=t,this._decode=e,this._rangeCallback=r}return l.prototype.floor=function(t){var e=new Date(t),r=this._encode(e);return this._decode(r)},l.prototype.ceil=function(t){var e=new Date(Number(t)-1),r=this._encode(e);return this._decode(r+1)},l.prototype.range=function(t,e,r){var o,s=null===(o=this._rangeCallback)||void 0===o?void 0:o.call(this,t,e),d=this._encode(r?this.floor(t):this.ceil(t)),f=this._encode(r?this.ceil(e):this.floor(e));if(f<d)return[];for(var y=[],m=d;m<=f;m++){var E=this._decode(m);y.push(E)}return s?.(),y},l}(),CountableTimeInterval=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2I(t,l),t.prototype.getOffset=function(e,r){var o="number"==typeof e||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(o)%r},t.prototype.every=function(e,r){var d,o=this,s=0,f=(r??{}).snapTo,y=void 0===f?"start":f;if("string"==typeof y){var m=s;d=function(P,R){return s=o.getOffset("start"===y?P:R,e),function(){return s=m}}}else"number"==typeof y?s=this.getOffset(new Date(y),e):y instanceof Date&&(s=this.getOffset(y,e));return new TimeInterval(function(P){var R=o._encode(P);return Math.floor((R-s)/e)},function(P){return o._decode(P*e+s)},d)},t}(TimeInterval);function encode$b(l){return l.getTime()}function decode$b(l){return new Date(l)}var millisecond=new CountableTimeInterval(encode$b,decode$b);new Date(0).getFullYear();var durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,offset$2=(new Date).getTimezoneOffset()*durationMinute;function encode$a(l){return Math.floor((l.getTime()-offset$2)/durationSecond)}function decode$a(l){return new Date(offset$2+l*durationSecond)}var second=new CountableTimeInterval(encode$a,decode$a),offset$1=(new Date).getTimezoneOffset()*durationMinute;function encode$9(l){return Math.floor((l.getTime()-offset$1)/durationMinute)}function decode$9(l){return new Date(offset$1+l*durationMinute)}var minute=new CountableTimeInterval(encode$9,decode$9),offset=(new Date).getTimezoneOffset()*durationMinute;function encode$8(l){return Math.floor((l.getTime()-offset)/durationHour)}function decode$8(l){return new Date(offset+l*durationHour)}var hour=new CountableTimeInterval(encode$8,decode$8);function encode$7(l){var t=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate());return Math.floor(t/durationDay)}function decode$7(l){var t=new Date(0);return t.setDate(t.getDate()+l),t.setHours(0,0,0,0),t}var day=new CountableTimeInterval(encode$7,decode$7),baseSunday=new Date(2023,0,1);function weekday(l){var t=Date.UTC(baseSunday.getFullYear(),baseSunday.getMonth(),baseSunday.getDate())+l*durationDay;return new CountableTimeInterval(function e(o){var s=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate());return Math.floor((s-t)/durationWeek)},function r(o){var s=new Date(t);return s.setDate(s.getDate()+7*o),s})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);function encode$6(l){return 12*l.getFullYear()+l.getMonth()}function decode$6(l){var t=Math.floor(l/12);return new Date(t,l-12*t,1)}var month=new CountableTimeInterval(encode$6,decode$6);function encode$5(l){return l.getFullYear()}function decode$5(l){var t=new Date;return t.setFullYear(l),t.setMonth(0,1),t.setHours(0,0,0,0),t}var year=new CountableTimeInterval(encode$5,decode$5);function encode$4(l){return Math.floor(l.getTime()/durationMinute)}function decode$4(l){return new Date(l*durationMinute)}var utcMinute=new CountableTimeInterval(encode$4,decode$4);function encode$3(l){return Math.floor(l.getTime()/durationHour)}function decode$3(l){return new Date(l*durationHour)}var utcHour=new CountableTimeInterval(encode$3,decode$3);function encode$2(l){return Math.floor(l.getTime()/durationDay)}function decode$2(l){var t=new Date(0);return t.setUTCDate(t.getUTCDate()+l),t.setUTCHours(0,0,0,0),t}var utcDay=new CountableTimeInterval(encode$2,decode$2);function encode$1(l){return 12*l.getUTCFullYear()+l.getUTCMonth()}function decode$1(l){var t=Math.floor(l/12);return new Date(Date.UTC(t,l-12*t,1))}var utcMonth=new CountableTimeInterval(encode$1,decode$1);function encode(l){return l.getUTCFullYear()}function decode(l){var t=new Date;return t.setUTCFullYear(l),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var utcYear=new CountableTimeInterval(encode,decode),time=Object.freeze({__proto__:null,millisecond,second,minute,hour,day,sunday,monday,tuesday,wednesday,thursday,friday,saturday,month,year,utcMinute,utcHour,utcDay,utcMonth,utcYear}),MOBILE=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function isDesktop(){var l=navigator.userAgent;return!MOBILE.some(function(t){return t.test(l)})}var HdpiCanvas=function(){function l(t){var e=t.document,r=void 0===e?window.document:e,o=t.width,s=void 0===o?600:o,d=t.height,f=void 0===d?300:d,y=t.domLayer,m=void 0!==y&&y,E=t.zIndex,O=void 0===E?0:E,D=t.name,P=void 0===D?void 0:D,R=t.overrideDevicePixelRatio,x=void 0===R?void 0:R;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=r,this.element=r.createElement("canvas"),this.element.width=s,this.element.height=f,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var L=this.element.style;L.userSelect="none",L.display="block",m&&(L.position="absolute",L.zIndex=String(O),L.top="0",L.left="0",L.pointerEvents="none",L.opacity="1",P&&(this.element.id=P)),this.setPixelRatio(x),this.resize(s,f)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),l.prototype.remove=function(){var t=this.element.parentNode;t?.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},l.prototype.snapshot=function(){},l.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(t||"").trim()||"image";var r=this.getDataURL(e),o=this.document,s=o.createElement("a");s.href=r,s.download=t,s.style.display="none",o.body.appendChild(s),s.click(),o.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t??window.devicePixelRatio;isDesktop()||(e=1),l.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,o=r.element,s=r.context,d=r.pixelRatio;o.width=Math.round(t*d),o.height=Math.round(e*d),o.style.width=t+"px",o.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!1,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),l.measureText=function(t,e,r,o){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=r,s.textAlign=o,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var o=r.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var r=this.textSizeCache,o=r[e];if(o){var s=o[t];if(s)return s}else r[e]={};var d=this.svgText;d.style.font=e,d.textContent=t;var f=d.getBBox(),y={width:f.width,height:f.height};return r[e][t]=y,y},l.overrideScale=function(t,e){var r=0,o={save:function(){this.$save(),r++},restore:function(){if(!(r>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),r--},setTransform:function(d,f,y,m,E,O){"object"==typeof d?this.$setTransform(d):this.$setTransform(d*e,f*e,y*e,m*e,E*e,O*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==r)throw new Error("AG Charts - Save/restore depth is non-zero: "+r)}};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=o[s])},l.textSizeCache={},l}(),__assign$I=function(){return __assign$I=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$I.apply(this,arguments)},__read$10=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},BBox=function(){function l(t,e,r,o){this.x=t,this.y=e,this.width=r,this.height=o}return l.prototype.clone=function(){var t=this;return new l(t.x,t.y,t.width,t.height)},l.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.collidesBBox=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},l.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},l.prototype.shrink=function(t,e){var r=this,o=function(s,d){switch(s){case"top":r.y+=d;case"bottom":r.height-=d;break;case"left":r.x+=d;case"right":r.width-=d;break;case"vertical":r.y+=d,r.height-=2*d;break;case"horizontal":r.x+=d,r.width-=2*d;break;default:r.x+=d,r.width-=2*d,r.y+=d,r.height-=2*d}};return"number"==typeof t?o(e,t):Object.entries(t).forEach(function(s){var d=__read$10(s,2);return o(d[0],d[1])}),this},l.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var r=__assign$I({},t);for(var o in r)r[o]*=-1;this.shrink(r)}return this},l.merge=function(t){var e=1/0,r=1/0,o=-1/0,s=-1/0;return t.forEach(function(d){d.x<e&&(e=d.x),d.y<r&&(r=d.y),d.x+d.width>o&&(o=d.x+d.width),d.y+d.height>s&&(s=d.y+d.height)}),new l(e,r,o-e,s-r)},l}(),__read$$=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},Matrix=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!1,configurable:!0}),l.prototype.AxB=function(t,e,r){var s=t[1]*e[0]+t[3]*e[1],d=t[0]*e[2]+t[2]*e[3],f=t[1]*e[2]+t[3]*e[3],y=t[0]*e[4]+t[2]*e[5]+t[4],m=t[1]*e[4]+t[3]*e[5]+t[5];(r=r||t)[0]=t[0]*e[0]+t[2]*e[1],r[1]=s,r[2]=d,r[3]=f,r[4]=y,r[5]=m},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=this.elements,e=t[0],r=t[1],o=t[2],s=t[3],d=t[4],f=t[5],y=1/(e*s-r*o);return new l([s*=y,-(r*=y),-(o*=y),e*=y,o*f-s*d,r*d-e*f])},l.prototype.inverseTo=function(t){var e=this.elements,r=e[0],o=e[1],s=e[2],d=e[3],f=e[4],y=e[5],m=1/(r*d-o*s);return t.setElements([d*=m,-(o*=m),-(s*=m),r*=m,s*y-d*f,o*f-r*y]),this},l.prototype.invertSelf=function(){var t=this.elements,e=t[0],r=t[1],o=t[2],s=t[3],d=t[4],f=t[5],y=1/(e*s-r*o);return e*=y,r*=y,o*=y,t[0]=s*=y,t[1]=-r,t[2]=-o,t[3]=e,t[4]=o*f-s*d,t[5]=r*d-e*f,this},l.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},l.prototype.transformBBox=function(t,e){var r=this.elements,o=r[0],s=r[1],d=r[2],f=r[3],y=.5*t.width,m=.5*t.height,E=t.x+y,O=t.y+m,D=Math.abs(y*o)+Math.abs(m*d),P=Math.abs(y*s)+Math.abs(m*f);return e||(e=new BBox(0,0,0,0)),e.x=E*o+O*d+r[4]-D,e.y=E*s+O*f+r[5]-P,e.width=D+D,e.height=P+P,e},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return l.instance.setElements(t.elements)},l.updateTransformMatrix=function(t,e,r,o,s,d,f){var P,R,y=__read$$([0,0],2),m=y[0],E=y[1],O=e,D=r;1===O&&1===D?(P=0,R=0):(P=null==f?.scalingCenterX?m:f?.scalingCenterX,R=null==f?.scalingCenterY?E:f?.scalingCenterY);var U,Y,x=o,L=Math.cos(x),B=Math.sin(x);0===x?(U=0,Y=0):(U=null==f?.rotationCenterX?m:f?.rotationCenterX,Y=null==f?.rotationCenterY?E:f?.rotationCenterY);var re=P*(1-O)-U,ie=R*(1-D)-Y;return t.setElements([L*O,B*O,-B*D,L*D,L*re-B*ie+U+s,B*re+L*ie+Y+d]),t},l.fromContext=function(t){var e=t.getTransform();return new l([e.a,e.b,e.c,e.d,e.e,e.f])},l.instance=new l,l}(),ID_MAP={};function createId$1(l){var t,e=l.constructor,r=Object.prototype.hasOwnProperty.call(e,"className")?e.className:e.name;if(!r)throw new Error("The "+e+" is missing the 'className' property.");var o=(null!==(t=ID_MAP[r])&&void 0!==t?t:0)+1;return ID_MAP[r]=o,r+"-"+o}function windowValue(l){var t=typeof window<"u"?window:void 0;return t?.[l]}var RedrawType=(()=>((RedrawType=RedrawType||{})[RedrawType.NONE=0]="NONE",RedrawType[RedrawType.TRIVIAL=1]="TRIVIAL",RedrawType[RedrawType.MINOR=2]="MINOR",RedrawType[RedrawType.MAJOR=3]="MAJOR",RedrawType))();function evalAvailable(){try{return eval(""),!0}catch(l){return!1}}var EVAL_USEABLE=evalAvailable();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=windowValue("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key])if(EVAL_USEABLE){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!0})}else{var setter=function(l){var t=this[privateKey];(l=convertor?convertor(l):l)!==t&&(this[privateKey]=l,"normal"===type&&this.markDirty(this,redraw),"transform"===type&&this.markDirtyTransform(redraw),"path"===type&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,redraw)),"font"===type&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,redraw)),changeCb&&changeCb(this)),checkDirtyOnAssignment&&null!=l&&l._dirty>RedrawType.NONE&&this.markDirty(l,l._dirty)},getter=function(){return this[privateKey]};Object.defineProperty(target,key,{set:setter,get:getter,enumerable:!0,configurable:!0})}}}var ChangeDetectable=function(){function l(){this._dirty=RedrawType.MAJOR}return l.prototype.markDirty=function(t,e){void 0===e&&(e=RedrawType.TRIVIAL),!(this._dirty>e)&&(this._dirty=e)},l.prototype.markClean=function(t){this._dirty=RedrawType.NONE},l.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},l}(),__extends$2H=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1V=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$B=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$_=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$B=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$_(arguments[t]));return l},PointerEvents=(()=>((PointerEvents=PointerEvents||{})[PointerEvents.All=0]="All",PointerEvents[PointerEvents.None=1]="None",PointerEvents))(),zIndexChangedCallback=function(l){l.parent&&(l.parent.dirtyZIndex=!0),l.zIndexChanged()},Node=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.serialNumber=t._nextSerialNumber++,e.id=createId$1(e),e.tag=NaN,e.isContainerNode=!1,e._children=[],e.childSet={},e.matrix=new Matrix,e.inverseMatrix=new Matrix,e._dirtyTransform=!1,e.scalingX=1,e.scalingY=1,e.scalingCenterX=null,e.scalingCenterY=null,e.rotationCenterX=null,e.rotationCenterY=null,e.rotation=0,e.translationX=0,e.translationY=0,e.visible=!0,e.dirtyZIndex=!1,e.zIndex=0,e.zIndexSubOrder=void 0,e.pointerEvents=PointerEvents.All,e}return __extends$2H(t,l),Object.defineProperty(t.prototype,"datum",{get:function(){var e;return void 0!==this._datum?this._datum:null===(e=this._parent)||void 0===e?void 0:e.datum},set:function(e){this._datum=e},enumerable:!1,configurable:!0}),t.prototype._setLayerManager=function(e){var r,o;this._layerManager=e,this._debug=e?.debug;try{for(var s=__values$B(this.children),d=s.next();!d.done;d=s.next())d.value._setLayerManager(e)}catch(y){r={error:y}}finally{try{d&&!d.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},Object.defineProperty(t.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),t.prototype.append=function(e){var r,o;Array.isArray(e)||(e=[e]);try{for(var s=__values$B(e),d=s.next();!d.done;d=s.next()){var f=d.value;if(f.parent)throw new Error(f+" already belongs to another parent: "+f.parent+".");if(f.layerManager)throw new Error(f+" already belongs to a scene: "+f.layerManager+".");if(this.childSet[f.id])throw new Error("Duplicate "+f.constructor.name+" node: "+f);this._children.push(f),this.childSet[f.id]=!0,f._parent=this,f._setLayerManager(this.layerManager)}}catch(y){r={error:y}}finally{try{d&&!d.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this.dirtyZIndex=!0,this.markDirty(this,RedrawType.MAJOR)},t.prototype.appendChild=function(e){return this.append(e),e},t.prototype.removeChild=function(e){if(e.parent===this){var r=this.children.indexOf(e);if(r>=0)return this._children.splice(r,1),delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,RedrawType.MAJOR),e}throw new Error("The node to be removed is not a child of this node.")},t.prototype.insertBefore=function(e,r){var o=e.parent;if(e.parent&&e.parent.removeChild(e),r&&r.parent===this){var s=this.children.indexOf(r);if(!(s>=0))throw new Error(r+" has "+o+" as the parent, but is not in its list of children.");this._children.splice(s,0,e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager),this.dirtyZIndex=!0,this.markDirty(e,RedrawType.MAJOR)}else this.append(e);return e},t.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var e=Matrix.flyweight(this.matrix),r=this.parent;r;)r.computeTransformMatrix(),e.preMultiplySelf(r.matrix),r=r.parent;return e},t.prototype.transformPoint=function(e,r){return this.calculateCumulativeMatrix().invertSelf().transformPoint(e,r)},t.prototype.inverseTransformPoint=function(e,r){return this.calculateCumulativeMatrix().transformPoint(e,r)},t.prototype.transformBBox=function(e){return this.calculateCumulativeMatrix().invertSelf().transformBBox(e)},t.prototype.inverseTransformBBox=function(e){return this.calculateCumulativeMatrix().transformBBox(e)},t.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,RedrawType.MAJOR)},t.prototype.containsPoint=function(e,r){return!1},t.prototype.pickNode=function(e,r){var o;if(this.visible&&this.pointerEvents!==PointerEvents.None&&this.containsPoint(e,r)){var s=this.children;if(s.length>1e3){for(var d=s.length-1;d>=0;d--)if(f=null!==(o=s[d].computeBBox())&&void 0!==o&&o.containsPoint(e,r)?s[d].pickNode(e,r):void 0)return f}else if(s.length)for(d=s.length-1;d>=0;d--){var f;if(f=s[d].pickNode(e,r))return f}else if(!this.isContainerNode)return this}},t.prototype.findNodes=function(e){var r,o,s=e(this)?[this]:[];try{for(var d=__values$B(this.children),f=d.next();!f.done;f=d.next()){var m=f.value.findNodes(e);m&&s.push.apply(s,__spread$B(m))}}catch(E){r={error:E}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return s},t.prototype.computeBBox=function(){},t.prototype.computeTransformedBBox=function(){var e=this.computeBBox();if(e){this.computeTransformMatrix();for(var r=Matrix.flyweight(this.matrix),o=this.parent;o;)o.computeTransformMatrix(),r.preMultiplySelf(o.matrix),o=o.parent;return r.transformBBox(e,e),e}},t.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var e=this,r=e.matrix;Matrix.updateTransformMatrix(r,e.scalingX,e.scalingY,e.rotation,e.translationX,e.translationY,{scalingCenterX:e.scalingCenterX,scalingCenterY:e.scalingCenterY,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY}),r.inverseTo(this.inverseMatrix),this._dirtyTransform=!1}},t.prototype.render=function(e){var r=e.stats;this._dirty=RedrawType.NONE,r&&r.nodesRendered++},t.prototype.clearBBox=function(e){var r=this.computeBBox();if(null!=r){var o=r.x,s=r.y,d=r.width,f=r.height,y=this.transformPoint(o,s),m=this.transformPoint(o+d,s+f);e.clearRect(y.x,y.y,m.x-y.x,m.y-y.y)}},t.prototype.markDirty=function(e,r,o){void 0===r&&(r=RedrawType.TRIVIAL),void 0===o&&(o=r),!(this._dirty>r)&&(this._dirty===r&&r===o||(this._dirty=r,this.parent?this.parent.markDirty(this,o):this.layerManager&&this.layerManager.markDirty()))},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),t.prototype.markClean=function(e){var r,o,s=e||{},d=s.force,y=s.recursive,m=void 0===y||y;if((this._dirty!==RedrawType.NONE||void 0!==d&&d)&&(this._dirty=RedrawType.NONE,m))try{for(var E=__values$B(this.children),O=E.next();!O.done;O=E.next())O.value.markClean()}catch(P){r={error:P}}finally{try{O&&!O.done&&(o=E.return)&&o.call(E)}finally{if(r)throw r.error}}},t.prototype.visibilityChanged=function(){},Object.defineProperty(t.prototype,"nodeCount",{get:function(){var e,r,o=1,s=this._dirty>=RedrawType.NONE||this._dirtyTransform?1:0,d=this.visible?1:0;try{for(var f=__values$B(this._children),y=f.next();!y.done;y=f.next()){var E=y.value.nodeCount;o+=E.count,d+=E.visibleCount,s+=E.dirtyCount}}catch(R){e={error:R}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return{count:o,visibleCount:d,dirtyCount:s}},enumerable:!1,configurable:!0}),t.prototype.zIndexChanged=function(){},t._nextSerialNumber=0,__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"scalingX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"scalingY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"scalingCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"scalingCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"rotationCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"rotationCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"rotation",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"translationX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],t.prototype,"translationY",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(e){return e.visibilityChanged()}})],t.prototype,"visible",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],t.prototype,"zIndex",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],t.prototype,"zIndexSubOrder",void 0),t}(ChangeDetectable);function ascendingStringNumberUndefined(l,t){var e=0;return"number"==typeof l&&"number"==typeof t?e=l-t:"string"==typeof l&&"string"==typeof t?e=l.localeCompare(t):null==l&&null==t||(e=null==l?-1:null==t?1:String(l).localeCompare(String(t))),e}function compoundAscending(l,t,e){var r=function(d){return"function"==typeof d?d():d};for(var o in l){var s=e(r(l[o]),r(t[o]));if(0!==s)return s}return 0}var doOnceFlags$1={};function doOnce$1(l,t){doOnceFlags$1[t]||(l(),doOnceFlags$1[t]=!0)}var __read$Z=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$A=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$Z(arguments[t]));return l},Logger={debug:function(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];console.log.apply(console,__spread$A(l))},warn:function(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];console.warn.apply(console,__spread$A(["AG Charts - "+l],t))},error:function(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];console.error.apply(console,__spread$A(["AG Charts - "+l],t))},warnOnce:function(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];doOnce$1(function(){return Logger.warn.apply(Logger,__spread$A([l],t))},"Logger.warn: "+l)},errorOnce:function(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];doOnce$1(function(){return Logger.error.apply(Logger,__spread$A([l],t))},"Logger.warn: "+l)}},__extends$2G=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$H=function(){return __assign$H=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$H.apply(this,arguments)},__decorate$1U=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$A=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$Y=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$z=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$Y(arguments[t]));return l},Group=function(l){function t(e){var r,o=l.call(this)||this;o.opts=e,o.opacity=1,o.lastBBox=void 0;var s=e||{},d=s.zIndex,f=s.zIndexSubOrder;return o.isContainerNode=!0,void 0!==d&&(o.zIndex=d),void 0!==f&&(o.zIndexSubOrder=f),o.name=null===(r=o.opts)||void 0===r?void 0:r.name,o}return __extends$2G(t,l),t.prototype.zIndexChanged=function(){var e;this.layer&&(null===(e=this._layerManager)||void 0===e||e.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},t.prototype.isLayer=function(){return null!=this.layer},t.prototype._setLayerManager=function(e){var o,r=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(l.prototype._setLayerManager.call(this,e),e&&null!==(o=this.opts)&&void 0!==o&&o.layer){var s=this.opts||{};this.layer=e.addLayer({zIndex:s.zIndex,zIndexSubOrder:s.zIndexSubOrder,name:s.name,getComputedOpacity:function(){return r.getComputedOpacity()},getVisibility:function(){return r.getVisibility()}})}},t.prototype.getComputedOpacity=function(){var e=1,r=this;do{r instanceof t&&(e*=r.opacity)}while(r=r.parent);return e},t.prototype.getVisibility=function(){for(var e=this,r=this.visible;e=e.parent;)e.visible||(r=e.visible);return r},t.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},t.prototype.markDirty=function(e,r){void 0===r&&(r=RedrawType.TRIVIAL),l.prototype.markDirty.call(this,e,r,r<=RedrawType.MINOR?RedrawType.TRIVIAL:r)},t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){return this.computeTransformMatrix(),t.computeBBox(this.children)},t.prototype.computeTransformedBBox=function(){return this.computeBBox()},t.prototype.render=function(e){var r,o,s,d,f=this.opts,y=(void 0===f?{}:f).name,m=void 0===y?void 0:y,E=this._debug,O=(void 0===E?{}:E).consoleLog,D=void 0!==O&&O,P=this,R=P.dirty,x=P.dirtyZIndex,L=P.layer,B=P.children,U=P.clipRect,Y=e.ctx,ee=e.forceRender,oe=e.clipBBox,re=e.resized,ie=e.stats,q=Y.getTransform(),se=R>=RedrawType.MINOR||x||re,ue=se||B.some(function(Ye){return Ye.dirty>=RedrawType.TRIVIAL});if(m&&D&&Logger.debug({name:m,group:this,isDirty:se,isChildDirty:ue,renderCtx:e,forceRender:ee}),L){var ge=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(ge)?ge.isInfinite()||(ee=!1):(ee=!0,this.lastBBox=ge)}if(!se&&!ue&&!ee)return m&&D&&ie&&Logger.debug({name:m,result:"skipping",renderCtx:e,counts:this.nodeCount,group:this}),L&&ie&&(ie.layersSkipped++,ie.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});var Ce=this.visible;if(L){if((Y=L.context).save(),Y.resetTransform(),ee=!0,L.clear(),oe){var Pe=oe.width,Me=oe.height,Re=oe.x,Ne=oe.y;D&&Logger.debug({name:m,clipBBox:oe,ctxTransform:Y.getTransform(),renderCtx:e,group:this}),this.clipCtx(Y,Re,Ne,Pe,Me)}Y.setTransform(q)}else Y.globalAlpha*=this.opacity;this.computeTransformMatrix(),this.matrix.toContext(Y),U&&(Re=U.x,Ne=U.y,Pe=U.width,Me=U.height,Y.save(),D&&Logger.debug({name:m,clipRect:U,ctxTransform:Y.getTransform(),renderCtx:e,group:this}),this.clipCtx(Y,Re,Ne,Pe,Me),oe=this.matrix.inverse().transformBBox(U)),x&&(this.sortChildren(),ee=!0);var De=ee!==e.forceRender||oe!==e.clipBBox||Y!==e.ctx?__assign$H(__assign$H({},e),{ctx:Y,forceRender:ee,clipBBox:oe}):e,_e=0;try{for(var Oe=__values$A(B),Le=Oe.next();!Le.done;Le=Oe.next()){var Ie=Le.value;Ie.visible&&Ce?ee||Ie.dirty!==RedrawType.NONE?(Y.save(),Ie.render(De),Y.restore()):ie&&(_e+=Ie.nodeCount.count):(Ie.markClean(),ie&&(_e+=Ie.nodeCount.count))}}catch(Ye){r={error:Ye}}finally{try{Le&&!Le.done&&(o=Oe.return)&&o.call(Oe)}finally{if(r)throw r.error}}ie&&(ie.nodesSkipped+=_e),l.prototype.render.call(this,e),U&&Y.restore(),L&&(ie&&ie.layersRendered++,Y.restore(),L.snapshot(),null===(d=(s=L.context).verifyDepthZero)||void 0===d||d.call(s)),m&&D&&ie&&Logger.debug({name:m,result:"rendered",skipped:_e,renderCtx:e,counts:this.nodeCount,group:this})},t.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort(function(e,r){var o,s;return compoundAscending(__spread$z([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.serialNumber]),__spread$z([r.zIndex],null!==(s=r.zIndexSubOrder)&&void 0!==s?s:[void 0,void 0],[r.serialNumber]),ascendingStringNumberUndefined)})},t.prototype.clipCtx=function(e,r,o,s,d){e.beginPath(),e.moveTo(r,o),e.lineTo(r+s,o),e.lineTo(r+s,o+d),e.lineTo(r,o+d),e.closePath(),e.clip()},t.computeBBox=function(e){var r=1/0,o=-1/0,s=1/0,d=-1/0;return e.forEach(function(f){if(f.visible){var y=f.computeTransformedBBox();if(y){var m=y.x,E=y.y;m<r&&(r=m),E<s&&(s=E),m+y.width>o&&(o=m+y.width),E+y.height>d&&(d=E+y.height)}}}),new BBox(r,s,o-r,d-s)},t.prototype.setClipRectInGroupCoordinateSpace=function(e){this.clipRect=e?this.transformBBox(e):void 0},t.className="Group",__decorate$1U([SceneChangeDetection({convertor:function(e){return Math.min(1,Math.max(0,e))}})],t.prototype,"opacity",void 0),t}(Node),HdpiOffscreenCanvas=function(){function l(t){var e=t.width,r=void 0===e?600:e,o=t.height,s=void 0===o?300:o,d=t.overrideDevicePixelRatio,f=void 0===d?void 0:d;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(r,s),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(f),this.resize(r,s)}return l.isSupported=function(){return null!=window.OffscreenCanvas},l.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},l.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},l.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t??window.devicePixelRatio;isDesktop()||(e=1),HdpiCanvas.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,o=r.canvas,s=r.context,d=r.pixelRatio;o.width=Math.round(t*d),o.height=Math.round(e*d),s.resetTransform(),this._width=t,this._height=e}},l}(),__assign$G=function(){return __assign$G=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$G.apply(this,arguments)},__awaiter$f=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$f=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$X=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$y=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$X(arguments[t]));return l},__values$z=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function buildSceneNodeHighlight(){var l,t=null!==(l=windowValue("agChartsSceneDebug"))&&void 0!==l?l:[];"string"==typeof t&&(t=[t]);var e=[];return t.forEach(function(r){"layout"===r?e.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):e.push(r)}),e}var Scene=function(){function l(t){var e,r;this.id=createId$1(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,sceneNodeHighlight:[]};var o=t.document,s=void 0===o?window.document:o,d=t.mode,f=void 0===d?windowValue("agChartsSceneRenderModel")||"adv-composite":d,y=t.width,m=t.height,E=t.overrideDevicePixelRatio,O=void 0===E?void 0:E;this.overrideDevicePixelRatio=O,this.opts={document:s,mode:f},this.debug.consoleLog=!0===windowValue("agChartsDebug"),this.debug.stats=null!==(e=windowValue("agChartsSceneStats"))&&void 0!==e&&e,this.debug.dirtyTree=null!==(r=windowValue("agChartsSceneDirtyTree"))&&void 0!==r&&r,this.debug.sceneNodeHighlight=buildSceneNodeHighlight(),this.canvas=new HdpiCanvas({document:s,width:y,height:m,overrideDevicePixelRatio:O})}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),l.prototype.download=function(t,e){this.canvas.download(t,e)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),l.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var r=t<=0||e<=0,o=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||o||r||(this.pendingSize=[t,e],this.markDirty(),0))},l.prototype.addLayer=function(t){var e,r=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(r)){var s=t.zIndex,d=void 0===s?this._nextZIndex++:s,f=t.name,y=t.zIndexSubOrder,m=t.getComputedOpacity,E=t.getVisibility,O=this,D=O.width,P=O.height,R=O.overrideDevicePixelRatio,x="dom-composite"===r,B="adv-composite"===r&&HdpiOffscreenCanvas.isSupported()?new HdpiOffscreenCanvas({width:D,height:P,overrideDevicePixelRatio:R}):new HdpiCanvas({document:this.opts.document,width:D,height:P,domLayer:x,zIndex:d,name:f,overrideDevicePixelRatio:R}),U={id:this._nextLayerId++,name:f,zIndex:d,zIndexSubOrder:y,canvas:B,getComputedOpacity:m,getVisibility:E};if(d>=this._nextZIndex&&(this._nextZIndex=d+1),this.layers.push(U),this.sortLayers(),x){var Y=this.layers.map(function(re){return re.canvas}).filter(function(re){return re instanceof HdpiCanvas}),ee=Y.findIndex(function(re){return re===B});(null!==(e=Y[ee-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",B.element)}return this.debug.consoleLog&&Logger.debug({layers:this.layers}),U.canvas}},l.prototype.removeLayer=function(t){var e=this.layers.findIndex(function(r){return r.canvas===t});e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},l.prototype.moveLayer=function(t,e,r){var o=this.layers.find(function(s){return s.canvas===t});o&&(o.zIndex=e,o.zIndexSubOrder=r,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},l.prototype.sortLayers=function(){this.layers.sort(function(t,e){var r,o;return compoundAscending(__spread$y([t.zIndex],null!==(r=t.zIndexSubOrder)&&void 0!==r?r:[void 0,void 0],[t.id]),__spread$y([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.id]),ascendingStringNumberUndefined)})},l.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager(this)),this.markDirty())},enumerable:!1,configurable:!0}),l.prototype.strip=function(){var t,e,r=this.layers;try{for(var o=__values$z(r),s=o.next();!s.done;s=o.next()){var d=s.value;d.canvas.destroy(),delete d.canvas}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}r.splice(0,r.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},l.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},l.prototype.render=function(t){var e;return __awaiter$f(this,void 0,void 0,function(){var r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,ee;return __generator$f(this,function(oe){return s=void 0===(o=(r=t||{}).debugSplitTimes)?[performance.now()]:o,f=void 0===(d=r.extraDebugStats)?{}:d,m=(y=this).canvas,E=y.canvas.context,O=y.root,D=y.layers,R=y.opts.mode,(P=y.pendingSize)&&((ee=this.canvas).resize.apply(ee,__spread$y(P)),this.layers.forEach(function(re){var ie;return(ie=re.canvas).resize.apply(ie,__spread$y(P))}),this.pendingSize=void 0),O&&!O.visible?(this._dirty=!1,[2]):O&&!this.dirty?(this.debug.consoleLog&&Logger.debug("no-op",{redrawType:RedrawType[O.dirty],tree:this.buildTree(O)}),this.debugStats(s,E,void 0,f),[2]):(x={ctx:E,forceRender:!0,resized:!!P,debugNodes:{}},"detailed"===this.debug.stats&&(x.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),L=!1,(!O||O.dirty>=RedrawType.TRIVIAL)&&(L=!0,m.clear()),O&&this.debug.dirtyTree&&(B=this.buildDirtyTree(O),Logger.debug({dirtyTree:B.dirtyTree,paths:B.paths})),O&&L&&(this.debug.consoleLog&&Logger.debug("before",{redrawType:RedrawType[O.dirty],canvasCleared:L,tree:this.buildTree(O)}),O.visible&&(E.save(),O.render(x),E.restore())),"dom-composite"!==R&&D.length>0&&L&&(this.sortLayers(),E.save(),E.setTransform(1/m.pixelRatio,0,0,1/m.pixelRatio,0,0),D.forEach(function(re){var ie=re.canvas,q=ie.imageSource,ue=re.getComputedOpacity;!ie.enabled||!(0,re.getVisibility)()||(E.globalAlpha=ue(),E.drawImage(q,0,0))}),E.restore()),null===(e=E.verifyDepthZero)||void 0===e||e.call(E),this._dirty=!1,this.debugStats(s,E,x.stats,f),this.debugSceneNodeHighlight(E,this.debug.sceneNodeHighlight,x.debugNodes),O&&this.debug.consoleLog&&Logger.debug("after",{redrawType:RedrawType[O.dirty],canvasCleared:L,tree:this.buildTree(O)}),[2])})})},l.prototype.debugStats=function(t,e,r,o){var s,d;void 0===o&&(o={});var f=performance.now();if(this.debug.stats){var y=t[0];t.push(f);var m=function(ve,Ce){var Pe=ve+Ce;return ve+" / "+Pe+" ("+Math.round(100*ve/Pe)+"%)"},E=function(ve,Ce){return Math.round(100*(Ce-ve))/100+"ms"},O=r??{},D=O.layersRendered,P=void 0===D?0:D,R=O.layersSkipped,x=void 0===R?0:R,L=O.nodesRendered,B=void 0===L?0:L,U=O.nodesSkipped,Y=void 0===U?0:U,ee=t.map(function(ve,Ce){return Ce>0?E(t[Ce-1],ve):null}).filter(function(ve){return null!=ve}).join(" + "),oe=Object.entries(o).map(function(ve){var Ce=__read$X(ve,2);return Ce[0]+": "+Ce[1]}).join(" ; "),re=[E(y,f)+" ("+ee+")",""+oe,"detailed"===this.debug.stats?"Layers: "+m(P,x):null,"detailed"===this.debug.stats?"Nodes: "+m(B,Y):null].filter(function(ve){return null!=ve});e.save(),e.fillStyle="white",e.fillRect(0,0,200,10+15*re.length),e.fillStyle="black";var q=0;try{for(var se=__values$z(re),ue=se.next();!ue.done;ue=se.next())e.fillText(ue.value,2,10+15*q++)}catch(ve){s={error:ve}}finally{try{ue&&!ue.done&&(d=se.return)&&d.call(se)}finally{if(s)throw s.error}}e.restore()}},l.prototype.debugSceneNodeHighlight=function(t,e,r){var o,s,d,f,y,m,E,O=function(ue){return function(ge){return!!ue.test(ge.id)||ge instanceof Group&&null!=ge.name&&ue.test(ge.name)}},D=function(ue){return function(ge){return ue===ge.id||ge instanceof Group&&null!=ge.name&&ue===ge.name}};try{for(var P=__values$z(e),R=P.next();!R.done;R=P.next()){var x=R.value;if("string"!=typeof x||null==r[x]){var L="string"==typeof x?D(x):O(x),B=null===(E=this.root)||void 0===E?void 0:E.findNodes(L);if(!B||0===B.length){Logger.debug("no debugging node with id ["+x+"] in scene graph.");continue}try{for(var U=(d=void 0,__values$z(B)),Y=U.next();!Y.done;Y=U.next())(ee=Y.value)instanceof Group&&ee.name?r[ee.name]=ee:r[ee.id]=ee}catch(ue){d={error:ue}}finally{try{Y&&!Y.done&&(f=U.return)&&f.call(U)}finally{if(d)throw d.error}}}}}catch(ue){o={error:ue}}finally{try{R&&!R.done&&(s=P.return)&&s.call(P)}finally{if(o)throw o.error}}t.save();try{for(var oe=__values$z(Object.entries(r)),re=oe.next();!re.done;re=oe.next()){var ee,ie=__read$X(re.value,2),q=ie[0],se=(ee=ie[1]).computeTransformedBBox();se?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(se.x,se.y,se.width,se.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(q,se.x,se.y,se.width),t.fillText(q,se.x,se.y,se.width)):Logger.debug("no bbox for debugged node ["+q+"].")}}catch(ue){y={error:ue}}finally{try{re&&!re.done&&(m=oe.return)&&m.call(oe)}finally{if(y)throw y.error}}t.restore()},l.prototype.buildTree=function(t){var r,e=this,o=null!==(r=t instanceof Group?t.name:null)&&void 0!==r?r:t.id;return __assign$G({name:o,node:t,dirty:RedrawType[t.dirty]},t.children.map(function(s){return e.buildTree(s)}).reduce(function(s,d){var f=d.name,y=d.node,O=y.zIndex,D=y.zIndexSubOrder,P=d.node;return(!y.visible||y.opacity<=0)&&(f="("+f+")"),P instanceof Group&&P.isLayer()&&(f="*"+f+"*"),s[[""+(f??"<unknown>"),"z: "+O,D&&"zo: "+D.join(" / ")].filter(function(x){return!!x}).join(" ")]=d,s},{}))},l.prototype.buildDirtyTree=function(t){var r,e=this;if(t.dirty===RedrawType.NONE)return{dirtyTree:{},paths:[]};var o=t.children.map(function(f){return e.buildDirtyTree(f)}).filter(function(f){return f.paths.length>0}),s=null!==(r=t instanceof Group?t.name:null)&&void 0!==r?r:t.id,d=0===o.length?[s]:o.map(function(f){return f.paths}).reduce(function(f,y){return f.concat(y)},[]).map(function(f){return s+"."+f});return{dirtyTree:__assign$G({name:s,node:t,dirty:RedrawType[t.dirty]},o.map(function(f){return f.dirtyTree}).filter(function(f){return void 0!==f.dirty}).reduce(function(f,y){return f[y.name||"<unknown>"]=y,f},{})),paths:d}},l.className="Scene",l}(),Observable=function(){function l(){this.allEventListeners=new Map}return l.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var r=this.allEventListeners,o=r.get(t);o||r.set(t,o=new Set),o.has(e)||o.add(e)},l.prototype.removeEventListener=function(t,e){var r=this.allEventListeners,o=r.get(t);o&&(o.delete(e),0===o.size&&r.delete(t))},l.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},l.prototype.clearEventListeners=function(){this.allEventListeners.clear()},l.prototype.fireEvent=function(t){var e=this.allEventListeners.get(t.type);e?.forEach(function(r){return r(t)})},l}(),isString$1=function(l){return"string"==typeof l},isStringObject$1=function(l){return!!l&&Object.prototype.hasOwnProperty.call(l,"toString")&&isString$1(l.toString())},isDate$1=function(l){return l instanceof Date&&!isNaN(+l)};function isDiscrete(l){return isString$1(l)||isStringObject$1(l)}function isContinuous(l){var r;return isNumber$4(l)||!!(r=l)&&Object.prototype.hasOwnProperty.call(r,"valueOf")&&isNumber$4(r.valueOf())||function(r){return r instanceof Date&&!isNaN(+r)}(l)}function checkDatum(l,t){return t&&isContinuous(l)?l:t?void 0:isDiscrete(l)?l:String(l)}var isNumber$4=function(l){return"number"==typeof l&&Number.isFinite(l)},__values$y=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BREAK_TRANSFORM_CHAIN=Symbol("BREAK"),CONFIG_KEY="__decorator_config";function initialiseConfig(l,t,e,r){null==Object.getOwnPropertyDescriptor(l,CONFIG_KEY)&&Object.defineProperty(l,CONFIG_KEY,{value:{}});var o=l[CONFIG_KEY];if(null!=o[e])return o[e];o[e]={setters:[],getters:[]};var s=Object.getOwnPropertyDescriptor(l,t),d=s?.set,f=s?.get;return Object.defineProperty(l,t,{set:function(E){var O,D,P,R,L,x=null!==(R=null===(P=o[e])||void 0===P?void 0:P.setters)&&void 0!==R?R:[];x.some(function(ee){return ee.length>2})&&(L=f?f.call(this):this[r]);try{for(var B=__values$y(x),U=B.next();!U.done;U=B.next())if((E=(0,U.value)(this,t,E,L))===BREAK_TRANSFORM_CHAIN)return}catch(ee){O={error:ee}}finally{try{U&&!U.done&&(D=B.return)&&D.call(B)}finally{if(O)throw O.error}}d?d.call(this,E):this[r]=E},get:function(){var E,O,D,P,R=f?f.call(this):this[r];try{for(var x=__values$y(null!==(P=null===(D=o[e])||void 0===D?void 0:D.getters)&&void 0!==P?P:[]),L=x.next();!L.done;L=x.next())if((R=(0,L.value)(this,t,R))===BREAK_TRANSFORM_CHAIN)return}catch(U){E={error:U}}finally{try{L&&!L.done&&(O=x.return)&&O.call(x)}finally{if(E)throw E.error}}return R},enumerable:!0,configurable:!1}),o[e]}function addTransformToInstanceProperty(l,t){return function(e,r){var o=r.toString(),d=initialiseConfig(e,r,o,"__"+o),f=d.getters;d.setters.push(l),t&&f.splice(0,0,t)}}function createDeprecationWarning(){return function(l,t){var e=["Property ["+l+"] is deprecated.",t].filter(function(r){return null!=r}).join(" ");Logger.warnOnce(e)}}function Deprecated(l,t){var e=t?.default,r=createDeprecationWarning();return addTransformToInstanceProperty(function(o,s,d){return d!==e&&r(s.toString(),l),d})}function DeprecatedAndRenamedTo(l,t){var e=createDeprecationWarning();return addTransformToInstanceProperty(function(r,o,s){return s!==r[l]&&(e(o.toString(),"Use ["+l+"] instead."),r[l]=t?t(s):s),BREAK_TRANSFORM_CHAIN},function(r,o){return e(o.toString(),"Use ["+l+"] instead."),r[l]})}var __read$W=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},Color=function(){function l(t,e,r,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,o||0))}return l.validColorString=function(t){return t.indexOf("#")>=0?!!l.parseHex(t):t.indexOf("rgb")>=0?!!l.stringToRgba(t):!!l.nameToHex[t.toLowerCase()]},l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t.toLowerCase()];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.tryParseFromString=function(t){try{return l.fromString(t)}catch{return Logger.warnOnce("invalid color string: '"+t+"'."),l.fromArray([0,0,0])}},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(o){return parseInt(o,16)}).map(function(o){return o+16*o})}if(e?.length>=3&&e.every(function(o){return o>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var r=__read$W(e,4);return new l(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=__read$W([NaN,NaN],2),r=e[0],o=e[1],s=0;s<t.length;s++){var d=t[s];if(r||"("!==d){if(")"===d){o=s;break}}else r=s}var f=r&&o&&t.substring(r+1,o);if(f){var y=f.split(","),m=[];for(s=0;s<y.length;s++){var E=y[s],O=parseFloat(E);if(isNaN(O))return;E.indexOf("%")>=0?(O=Math.max(0,Math.min(100,O)),O/=100):3===s?O=Math.max(0,Math.min(1,O)):(O=Math.max(0,Math.min(255,O)),O/=255),m.push(O)}return m}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,r,o){void 0===o&&(o=1);var s=l.HSBtoRGB(t,e,r);return new l(s[0],s[1],s[2],o)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,r){var o=Math.min(t,e,r),s=Math.max(t,e,r),f=NaN;if(o!==s){var y=s-o,m=(s-t)/y,E=(s-e)/y,O=(s-r)/y;f=t===s?O-E:e===s?2+m-O:4+E-m,(f/=6)<0&&(f+=1)}return[360*f,0!==s?(s-o)/s:0,s]},l.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,s=0,d=0;if(0===e)o=s=d=r;else{var f=6*(t-Math.floor(t)),y=f-Math.floor(f),m=r*(1-e),E=r*(1-e*y),O=r*(1-e*(1-y));switch(f>>0){case 0:o=r,s=O,d=m;break;case 1:o=E,s=r,d=m;break;case 2:o=m,s=r,d=O;break;case 3:o=m,s=E,d=r;break;case 4:o=O,s=m,d=r;break;case 5:o=r,s=m,d=E}}return[o,s,d]},l.prototype.derive=function(t,e,r,o){var s=l.RGBtoHSB(this.r,this.g,this.b),d=s[2];0==d&&r>1&&(d=.05);var f=((s[0]+t)%360+360)%360,y=Math.max(Math.min(s[1]*e,1),0);d=Math.max(Math.min(d*r,1),0);var m=Math.max(Math.min(this.a*o,1),0),E=l.HSBtoRGB(f,y,d);return E.push(m),l.fromArray(E)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function Validate(l){return addTransformToInstanceProperty(function(t,e,r){var o,s,d;if(l(r,{target:t}))return r;var f=e.toString().replace(/^_*/,""),y=null!==(s=null===(o=t.constructor)||void 0===o?void 0:o.className)&&void 0!==s?s:null===(d=t.constructor)||void 0===d?void 0:d.name;y?.length<3&&(y=null);var m=y?"of ["+y+"] ":"";return Logger.warn(l.message?"Property ["+f+"] "+m+"cannot be set to ["+JSON.stringify(r)+"]; "+l.message+", ignoring.":"Property ["+f+"] "+m+"cannot be set to ["+JSON.stringify(r)+"], ignoring."),BREAK_TRANSFORM_CHAIN})}function predicateWithMessage(l,t){return l.message=t,l}var OPTIONAL=function(l,t,e){return void 0===l||e(l,t)},ARRAY=function(l,t){return predicateWithMessage(function(e,r){return Array.isArray(e)&&(!l||e.length===l)&&(!t||e.every(function(o){return t(o,r)}))},"expecting an Array")},OPT_ARRAY=function(l){return predicateWithMessage(function(t,e){return OPTIONAL(t,e,ARRAY(l))},"expecting an optional Array")},AND=function(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return predicateWithMessage(function(e,r){return l.every(function(o){return o(e,r)})},l.map(function(e){return e.message}).filter(function(e){return null!=e}).join(" AND "))},OR=function(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return predicateWithMessage(function(e,r){return l.some(function(o){return o(e,r)})},l.map(function(e){return e.message}).filter(function(e){return null!=e}).join(" OR "))},isComparable=function(l){return null!=l&&!isNaN(l)},LESS_THAN=function(l){return predicateWithMessage(function(t,e){return!isComparable(t)||!isComparable(e.target[l])||t<e.target[l]},"expected to be less than "+l)},GREATER_THAN=function(l){return predicateWithMessage(function(t,e){return!isComparable(t)||!isComparable(e.target[l])||t>e.target[l]},"expected to be greater than "+l)},FUNCTION=predicateWithMessage(function(l){return"function"==typeof l},"expecting a Function"),OPT_FUNCTION=predicateWithMessage(function(l,t){return OPTIONAL(l,t,FUNCTION)},"expecting an optional Function"),BOOLEAN=predicateWithMessage(function(l){return!0===l||!1===l},"expecting a Boolean"),OPT_BOOLEAN=predicateWithMessage(function(l,t){return OPTIONAL(l,t,BOOLEAN)},"expecting an optional Boolean"),STRING=predicateWithMessage(function(l){return"string"==typeof l},"expecting a String"),OPT_STRING=predicateWithMessage(function(l,t){return OPTIONAL(l,t,STRING)},"expecting an optional String"),DATE=predicateWithMessage(function(l){return l instanceof Date&&!isNaN(+l)},"expecting a Date object"),OPT_DATE=predicateWithMessage(function(l,t){return OPTIONAL(l,t,DATE)},"expecting an optional Date");predicateWithMessage(ARRAY(void 0,DATE),"expecting an Array of Date objects");var DATETIME_MS=NUMBER(0),OPT_DATETIME_MS=predicateWithMessage(function(l,t){return OPTIONAL(l,t,DATETIME_MS)},"expecting an optional number"),OPT_DATE_OR_DATETIME_MS=OR(OPT_DATE,OPT_DATETIME_MS),colorMessage="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",COLOR_STRING=predicateWithMessage(function(l){return"string"==typeof l&&Color.validColorString(l)},"expecting a color String. "+colorMessage),OPT_COLOR_STRING=predicateWithMessage(function(l,t){return OPTIONAL(l,t,COLOR_STRING)},"expecting an optional color String. "+colorMessage),COLOR_STRING_ARRAY=predicateWithMessage(ARRAY(void 0,COLOR_STRING),"expecting an Array of color strings. "+colorMessage),OPT_COLOR_STRING_ARRAY=predicateWithMessage(function(l,t){return OPTIONAL(l,t,COLOR_STRING_ARRAY)},"expecting an optional Array of color strings. "+colorMessage);function NUMBER(l,t){return predicateWithMessage(function(r){return"number"==typeof r&&Number.isFinite(r)&&(void 0===l||r>=l)&&(void 0===t||r<=t)},"expecting a finite Number"+(void 0!==l?", more than or equal to "+l:"")+(void 0!==t?", less than or equal to "+t:""))}function OPT_NUMBER(l,t){return predicateWithMessage(function(r,o){return OPTIONAL(r,o,NUMBER(l,t))},"expecting an optional finite Number"+(void 0!==l?", more than or equal to "+l:"")+(void 0!==t?", less than or equal to "+t:""))}function NUMBER_OR_NAN(l,t){return predicateWithMessage(function(r){return"number"==typeof r&&(isNaN(r)||Number.isFinite(r)&&(void 0===l||r>=l)&&(void 0===t||r<=t))},"expecting a finite Number"+(void 0!==l?", more than or equal to "+l:"")+(void 0!==t?", less than or equal to "+t:""))}var NUMBER_ARRAY=predicateWithMessage(ARRAY(void 0,NUMBER()),"expecting an Array of numbers"),OPT_NUMBER_ARRAY=predicateWithMessage(function(l,t){return OPTIONAL(l,t,NUMBER_ARRAY)},"expecting an optional Array of numbers"),STRING_ARRAY=predicateWithMessage(ARRAY(void 0,STRING),"expecting an Array of strings");function STRING_UNION(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return predicateWithMessage(function(r){return"string"==typeof r&&l.indexOf(r)>=0},"expecting one of: "+l.join(", "))}predicateWithMessage(function(l,t){return OPTIONAL(l,t,STRING_ARRAY)},"expecting an optional Array of strings");var BOOLEAN_ARRAY=predicateWithMessage(ARRAY(void 0,BOOLEAN),"expecting an Array of boolean values");predicateWithMessage(function(l,t){return OPTIONAL(l,t,BOOLEAN_ARRAY)},"expecting an optional Array of boolean values");var FONT_WEIGHTS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],FONT_STYLE=predicateWithMessage(function(l){return"normal"===l||"italic"===l||"oblique"===l},"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),OPT_FONT_STYLE=predicateWithMessage(function(l,t){return OPTIONAL(l,t,FONT_STYLE)},"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),FONT_WEIGHT=predicateWithMessage(function(l){return FONT_WEIGHTS.includes(l)},"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),OPT_FONT_WEIGHT=predicateWithMessage(function(l,t){return OPTIONAL(l,t,FONT_WEIGHT)},"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),LINE_DASH=predicateWithMessage(ARRAY(void 0,NUMBER(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),OPT_LINE_DASH=predicateWithMessage(function(l,t){return OPTIONAL(l,t,LINE_DASH)},"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),LINE_CAPS=["butt","round","square"],LINE_CAP=predicateWithMessage(function(l){return LINE_CAPS.includes(l)},"expecting a line cap keyword such as 'butt', 'round' or 'square'");predicateWithMessage(function(l,t){return OPTIONAL(l,t,LINE_CAP)},"expecting an optional line cap keyword such as 'butt', 'round' or 'square'");var LINE_JOINS=["round","bevel","miter"],LINE_JOIN=predicateWithMessage(function(l){return LINE_JOINS.includes(l)},"expecting a line join keyword such as 'round', 'bevel' or 'miter'");predicateWithMessage(function(l,t){return OPTIONAL(l,t,LINE_JOIN)},"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");var POSITIONS=["top","right","bottom","left"],POSITION=predicateWithMessage(function(l){return POSITIONS.includes(l)},"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),INTERACTION_RANGES=["exact","nearest"],INTERACTION_RANGE=predicateWithMessage(function(l){return"number"==typeof l&&Number.isFinite(l)||INTERACTION_RANGES.includes(l)},"expecting an interaction range of 'exact', 'nearest' or a number"),Layers=(()=>((Layers=Layers||{})[Layers.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",Layers[Layers.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",Layers[Layers.AXIS_ZINDEX=20]="AXIS_ZINDEX",Layers[Layers.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",Layers[Layers.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",Layers[Layers.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",Layers[Layers.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",Layers[Layers.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",Layers[Layers.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX",Layers))(),ChartAxisDirection=(()=>((ChartAxisDirection=ChartAxisDirection||{}).X="x",ChartAxisDirection.Y="y",ChartAxisDirection))(),__decorate$1T=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$x=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DEFAULT_TOOLTIP_CLASS="ag-chart-tooltip",defaultTooltipCss$1="\n."+DEFAULT_TOOLTIP_CLASS+" {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-animation {\n    transition: none !important;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-hidden {\n    visibility: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+'-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.'+DEFAULT_TOOLTIP_CLASS+'-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function toTooltipHtml$1(l,t){if("string"==typeof l)return l;t=t||{};var e=l.content,o=l.title,s=void 0===o?t.title||void 0:o,d=l.color,y=l.backgroundColor;return(s?'<div class="'+DEFAULT_TOOLTIP_CLASS+'-title"\n        style="color: '+(void 0===d?t.color||"white":d)+"; background-color: "+(void 0===y?t.backgroundColor||"#888":y)+'">'+s+"</div>":"")+'<div class="'+DEFAULT_TOOLTIP_CLASS+'-content">'+(void 0===e?t.content||"":e)+"</div>"}var POSITION_TYPES=["pointer","node"],POSITION_TYPE=predicateWithMessage(function(l){return POSITION_TYPES.includes(l)},"expecting a position type keyword such as 'pointer' or 'node'"),TooltipPosition=function(){function l(){this.type="pointer",this.xOffset=0,this.yOffset=0}return __decorate$1T([Validate(POSITION_TYPE)],l.prototype,"type",void 0),__decorate$1T([Validate(NUMBER())],l.prototype,"xOffset",void 0),__decorate$1T([Validate(NUMBER())],l.prototype,"yOffset",void 0),l}(),Tooltip=function(){function l(t,e,r){var o=this;this.enableInteraction=!1,this.enabled=!0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new TooltipPosition,this.showTimeout=0,this.showArrow=!0,this.tooltipRoot=r;var s=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(s),this.element.classList.add(DEFAULT_TOOLTIP_CLASS),this.canvasElement=t,window.IntersectionObserver){var d=new IntersectionObserver(function(y){var m,E;try{for(var O=__values$x(y),D=O.next();!D.done;D=O.next()){var P=D.value;P.target===o.canvasElement&&0===P.intersectionRatio&&o.toggle(!1)}}catch(R){m={error:R}}finally{try{D&&!D.done&&(E=O.return)&&E.call(O)}finally{if(m)throw m.error}}},{root:this.tooltipRoot});d.observe(this.canvasElement),this.observer=d}if(l.tooltipDocuments.indexOf(e)<0){var f=e.createElement("style");f.innerHTML=defaultTooltipCss$1,e.head.insertBefore(f,e.head.querySelector("style")),l.tooltipDocuments.push(e)}}return l.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},l.prototype.isVisible=function(){return!this.element.classList.contains(DEFAULT_TOOLTIP_CLASS+"-hidden")},l.prototype.updateClass=function(t,e){var r=this,o=r.element,s=r.class,d=r.lastClass,f=r.enableInteraction,m=function(E,O){var D=DEFAULT_TOOLTIP_CLASS+"-"+E;O?o.classList.add(D):o.classList.remove(D)};m("no-animation",!this.isVisible()&&!!t),m("no-interaction",!f),m("hidden",!t),m("arrow",!!e),s!==d&&(d&&o.classList.remove(d),s&&o.classList.add(s),this.lastClass=s)},l.prototype.show=function(t,e,r){var s,d,f,y,m,o=this;void 0===r&&(r=!1);var O=this.element,D=this.canvasElement;if(void 0!==e)O.innerHTML=e;else if(!O.innerHTML)return;var P=function(ue,ge,ve){return Math.max(Math.min(ge,ve),ue)},R=null!==(d=null===(s=t.position)||void 0===s?void 0:s.xOffset)&&void 0!==d?d:0,x=null!==(y=null===(f=t.position)||void 0===f?void 0:f.yOffset)&&void 0!==y?y:0,L=D.getBoundingClientRect(),B=L.left+t.offsetX-O.clientWidth/2+R,U=L.top+t.offsetY-O.clientHeight-8+x,Y=this.getWindowBoundingBox(),oe=Y.y+Y.height-O.clientHeight,re=P(Y.x,B,Y.x+Y.width-O.clientWidth-1),ie=P(Y.y,U,oe);if(this.showArrow=!(re!==B||ie!==U||0!==R||0!==x),O.style.transform="translate("+Math.round(re)+"px, "+Math.round(ie)+"px)",this.enableInteraction=null!==(m=t.enableInteraction)&&void 0!==m&&m,this.delay>0&&!r)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){o.toggle(!0)},this.delay));this.toggle(!0)},l.prototype.getWindowBoundingBox=function(){return new BBox(0,0,window.innerWidth,window.innerHeight)},l.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this.showArrow)},l.prototype.pointerLeftOntoTooltip=function(t){var e;if(!this.enableInteraction)return!1;var r=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,s=!!["","-title","-content"].filter(function(d){return r?.contains(""+DEFAULT_TOOLTIP_CLASS+d)});return void 0!==r&&s},l.tooltipDocuments=[],__decorate$1T([Validate(BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1T([Validate(OPT_STRING)],l.prototype,"class",void 0),__decorate$1T([Validate(NUMBER(0))],l.prototype,"delay",void 0),__decorate$1T([DeprecatedAndRenamedTo("range",function(t){return t?"nearest":"exact"})],l.prototype,"tracking",void 0),__decorate$1T([Validate(INTERACTION_RANGE)],l.prototype,"range",void 0),l}(),__extends$2F=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$F=function(){return __assign$F=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$F.apply(this,arguments)},__decorate$1S=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$w=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$V=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$x=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$V(arguments[t]));return l},SeriesNodePickMode=(()=>((SeriesNodePickMode=SeriesNodePickMode||{})[SeriesNodePickMode.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",SeriesNodePickMode[SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",SeriesNodePickMode[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",SeriesNodePickMode[SeriesNodePickMode.NEAREST_NODE=3]="NEAREST_NODE",SeriesNodePickMode))(),warnDeprecated=createDeprecationWarning(),warnSeriesDeprecated=function(){return warnDeprecated("series","Use seriesId to get the series ID")};function keyProperty(l,t,e){return void 0===e&&(e={}),__assign$F(__assign$F({},e),{property:l,type:"key",valueType:t?"range":"category",validation:function(o){return null!=checkDatum(o,t)}})}function valueProperty(l,t,e){return void 0===e&&(e={}),__assign$F(__assign$F({},e),{property:l,type:"value",valueType:t?"range":"category",validation:function(o){return null!=checkDatum(o,t)}})}function sumProperties(l){return{properties:l,type:"sum"}}var SeriesNodeBaseClickEvent=function(){function l(t,e,r){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=r.id,this._series=r}return Object.defineProperty(l.prototype,"series",{get:function(){return warnSeriesDeprecated(),this._series},enumerable:!1,configurable:!0}),l}(),SeriesNodeClickEvent=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2F(t,l),t}(SeriesNodeBaseClickEvent),SeriesNodeDoubleClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2F(t,l),t}(SeriesNodeBaseClickEvent),SeriesItemHighlightStyle=function(){function l(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return __decorate$1S([Validate(OPT_COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),__decorate$1S([Validate(OPT_COLOR_STRING)],l.prototype,"stroke",void 0),__decorate$1S([Validate(OPT_NUMBER(0))],l.prototype,"strokeWidth",void 0),l}(),SeriesHighlightStyle=function(){function l(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return __decorate$1S([Validate(OPT_NUMBER(0))],l.prototype,"strokeWidth",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],l.prototype,"dimOpacity",void 0),__decorate$1S([Validate(OPT_BOOLEAN)],l.prototype,"enabled",void 0),l}(),TextHighlightStyle=function(){function l(){this.color="black"}return __decorate$1S([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),l}(),HighlightStyle=function l(){this.item=new SeriesItemHighlightStyle,this.series=new SeriesHighlightStyle,this.text=new TextHighlightStyle},SeriesTooltip=function(){function l(){this.enabled=!0,this.interaction=new SeriesTooltipInteraction,this.position=new TooltipPosition}return __decorate$1S([Validate(BOOLEAN)],l.prototype,"enabled",void 0),l}(),SeriesTooltipInteraction=function(){function l(){this.enabled=!1}return __decorate$1S([Validate(BOOLEAN)],l.prototype,"enabled",void 0),l}(),Series=function(l){function t(e){var r=void 0===e?{}:e,o=r.useSeriesGroupLayer,s=void 0===o||o,d=r.useLabelLayer,f=void 0!==d&&d,y=r.pickModes,m=void 0===y?[SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST]:y,E=r.directionKeys,O=void 0===E?{}:E,D=l.call(this)||this;D.id=createId$1(D),D.rootGroup=new Group({name:"seriesRoot"}),D.directions=[ChartAxisDirection.X,ChartAxisDirection.Y],D.nodeDataRefresh=!0,D._data=void 0,D._visible=!0,D.showInLegend=!0,D.cursor="default",D.nodeClickRange="exact",D._declarationOrder=-1,D.highlightStyle=new HighlightStyle;var P=D.rootGroup;return D.directionKeys=O,D.contentGroup=P.appendChild(new Group({name:D.id+"-content",layer:s,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return D._declarationOrder},0]})),D.highlightGroup=P.appendChild(new Group({name:D.id+"-highlight",layer:!0,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return D._declarationOrder},15e3]})),D.highlightNode=D.highlightGroup.appendChild(new Group({name:"highlightNode"})),D.highlightLabel=D.highlightGroup.appendChild(new Group({name:"highlightLabel"})),D.highlightNode.zIndex=0,D.highlightLabel.zIndex=10,D.pickModes=m,f&&(D.labelGroup=P.appendChild(new Group({name:D.id+"-series-labels",layer:!0,zIndex:Layers.SERIES_LABEL_ZINDEX}))),D}return __extends$2F(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),t.prototype.hasData=function(){var e=this.data;return e&&(!Array.isArray(e)||e.length>0)},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.visibleChanged()},enumerable:!1,configurable:!0}),t.prototype.getBandScalePadding=function(){return{inner:1,outer:0}},t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!1,configurable:!0}),t.prototype.getKeys=function(e){var r=this,o=this.directionKeys,s=this.resolveKeyDirection(e),d=o&&o[s],f=[],y=function(){for(var E,O,D=[],P=0;P<arguments.length;P++)D[P]=arguments[P];try{for(var R=__values$w(D),x=R.next();!x.done;x=R.next())m(x.value)}catch(B){E={error:B}}finally{try{x&&!x.done&&(O=R.return)&&O.call(R)}finally{if(E)throw E.error}}},m=function(E){Array.isArray(E)?y.apply(void 0,__spread$x(E)):f.push(E)};return d&&d.forEach(function(E){var O=r[E];O&&m(O)}),f},t.prototype.resolveKeyDirection=function(e){return e},t.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},t.prototype.visibleChanged=function(){},t.prototype.getOpacity=function(e){var r=this.highlightStyle.series,o=r.dimOpacity,s=void 0===o?1:o,d=r.enabled;if(!1===(void 0===d||d)||1===s)return 1;switch(this.isItemIdHighlighted(e)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return s}},t.prototype.getStrokeWidth=function(e,r){var o=this.highlightStyle.series,s=o.strokeWidth,d=o.enabled;if(!1===(void 0===d||d)||void 0===s)return e;switch(this.isItemIdHighlighted(r)){case"highlighted":return s;case"no-highlight":case"other-highlighted":case"peer-highlighted":return e}},t.prototype.isItemIdHighlighted=function(e){var r,o=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight(),s=o??{},d=s.series,f=s.itemId;return null!=d?d!==this?"other-highlighted":void 0===f?"highlighted":e&&o!==e&&f!==e.itemId?"peer-highlighted":"highlighted":"no-highlight"},t.prototype.pickNode=function(e,r){var o,s,d=this,f=d.pickModes;if(d.visible&&d.rootGroup.visible)try{for(var E=__values$w(f),O=E.next();!O.done;O=E.next()){var D=O.value;if(!r||r.includes(D)){var P=void 0;switch(D){case SeriesNodePickMode.EXACT_SHAPE_MATCH:P=this.pickNodeExactShape(e);break;case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:P=this.pickNodeMainAxisFirst(e,D===SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case SeriesNodePickMode.NEAREST_NODE:P=this.pickNodeClosestDatum(e)}if(P)return{pickMode:D,match:P.datum,distance:P.distance}}}}catch(R){o={error:R}}finally{try{O&&!O.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}},t.prototype.pickNodeExactShape=function(e){var r=this.contentGroup.pickNode(e.x,e.y);if(r)return{datum:r.datum,distance:0}},t.prototype.pickNodeClosestDatum=function(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},t.prototype.pickNodeMainAxisFirst=function(e,r){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},t.prototype.fireNodeClickEvent=function(e,r){var o=this.getNodeClickEvent(e,r);this.fireEvent(o)},t.prototype.fireNodeDoubleClickEvent=function(e,r){var o=this.getNodeDoubleClickEvent(e,r);this.fireEvent(o)},t.prototype.getNodeClickEvent=function(e,r){return new SeriesNodeClickEvent(e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new SeriesNodeDoubleClickEvent(e,r,this)},t.prototype.toggleSeriesItem=function(e,r){this.visible=r,this.nodeDataRefresh=!0},t.prototype.toggleOtherSeriesItems=function(e,r,o,s){},t.prototype.isEnabled=function(){return this.visible},t.prototype.fixNumericExtent=function(e,r){var o;if(void 0===e)return[];var s=__read$V(e,2),d=s[0],f=s[1];if(f=+f,0==(d=+d)&&0===f)return[0,1];if(d===1/0&&f===-1/0)return[];if(d===1/0&&(d=0),f===-1/0&&(f=0),d===f){var y=null!==(o=r?.calculatePadding(d,f))&&void 0!==o?o:1;d-=y,f+=y}return isNumber$4(d)&&isNumber$4(f)?[d,f]:[]},t.highlightedZIndex=1e12,__decorate$1S([Validate(STRING)],t.prototype,"id",void 0),__decorate$1S([Validate(BOOLEAN)],t.prototype,"_visible",void 0),__decorate$1S([Validate(BOOLEAN)],t.prototype,"showInLegend",void 0),__decorate$1S([Validate(STRING)],t.prototype,"cursor",void 0),__decorate$1S([Validate(INTERACTION_RANGE)],t.prototype,"nodeClickRange",void 0),t}(Observable),__decorate$1R=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Padding$1=function(){function l(t,e,r,o){void 0===t&&(t=0),void 0===e&&(e=t),void 0===r&&(r=t),void 0===o&&(o=e),this.top=t,this.right=e,this.bottom=r,this.left=o}return l.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},__decorate$1R([Validate(NUMBER(0))],l.prototype,"top",void 0),__decorate$1R([Validate(NUMBER(0))],l.prototype,"right",void 0),__decorate$1R([Validate(NUMBER(0))],l.prototype,"bottom",void 0),__decorate$1R([Validate(NUMBER(0))],l.prototype,"left",void 0),l}(),Selection=function(){function l(t,e){this._nodes=[],this._data=[],this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(Node,e)?function(){return new e}:e}return l.select=function(t,e){return new l(t,e)},l.prototype.each=function(t){return this._nodes.forEach(function(e,r){return t(e,e.datum,r)}),this},l.prototype.update=function(t,e){var r=this,o=this._data,s=this._parent,d=this._factory;t.length>o.length?t.slice(o.length).forEach(function(y){var m=d(y);m.datum=y,e&&e(m),s.appendChild(m),r._nodes.push(m)}):t.length<o.length&&this._nodes.splice(t.length).forEach(function(y){s.removeChild(y)}),this._data=t.slice(0);for(var f=0;f<t.length;f++)this._nodes[f].datum=this._data[f];return this},l.prototype.clear=function(){return this.update([]),this},l.prototype.select=function(t){var e=[],r=function(o){t(o)&&e.push(o),o.children.forEach(r)};return r(this._parent),e},l.prototype.selectByClass=function(t){return this.select(function(e){return e instanceof t})},l.prototype.selectByTag=function(t){return this.select(function(e){return e.tag===t})},l.prototype.nodes=function(){return this._nodes},l}(),Gradient=function l(){this.stops=[]},twoPi=2*Math.PI;function normalizeAngle360(l){return l%=twoPi,(l+=twoPi)%twoPi}function normalizeAngle360Inclusive(l){return l%=twoPi,(l+=twoPi)!==twoPi&&(l%=twoPi),l}function normalizeAngle180(l){return(l%=twoPi)<-Math.PI?l+=twoPi:l>=Math.PI&&(l-=twoPi),l}function toRadians$1(l){return l/180*Math.PI}var __extends$2E=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LinearGradient=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.angle=0,e}return __extends$2E(t,l),t.prototype.createGradient=function(e,r){var d=this.stops,y=normalizeAngle360(toRadians$1(this.angle+90)),m=Math.cos(y),E=Math.sin(y),O=r.width,D=r.height,P=r.x+.5*O,R=r.y+.5*D;if(O>0&&D>0){var B,x=Math.sqrt(D*D+O*O)/2,L=Math.atan2(D,O);B=y<Math.PI/2?y:y<Math.PI?Math.PI-y:y<3*Math.PI/2?y-Math.PI:2*Math.PI-y;var U=x*Math.abs(Math.cos(B-L)),Y=e.createLinearGradient(P+m*U,R+E*U,P-m*U,R-E*U);return d.forEach(function(ee){Y.addColorStop(ee.offset,ee.color)}),Y}return"black"},t}(Gradient),__extends$2D=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1Q=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},LINEAR_GRADIENT_REGEXP=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,Shape=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e.fillOpacity=1,e.strokeOpacity=1,e.fill=t.defaultStyles.fill,e.stroke=t.defaultStyles.stroke,e.strokeWidth=t.defaultStyles.strokeWidth,e.lineDash=t.defaultStyles.lineDash,e.lineDashOffset=t.defaultStyles.lineDashOffset,e.lineCap=t.defaultStyles.lineCap,e.lineJoin=t.defaultStyles.lineJoin,e.opacity=t.defaultStyles.opacity,e.fillShadow=t.defaultStyles.fillShadow,e}return __extends$2D(t,l),t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),o=0,s=r.length;o<s;o++){var d=r[o];this[d]=e[d]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&Object.prototype.hasOwnProperty.call(r,o)&&(this[o]=e[o])},t.prototype.updateGradient=function(){var r,e=this.fill;if(e?.startsWith("linear-gradient")&&(r=e.match(LINEAR_GRADIENT_REGEXP))){for(var o=parseFloat(r[1]),s=[],d=r[2],f=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,y=void 0;y=f.exec(d);)s.push(y[0]);this.gradient=new LinearGradient,this.gradient.angle=o,this.gradient.stops=s.map(function(m,E){return{offset:E/(s.length-1),color:m}})}else this.gradient=void 0},t.prototype.align=function(e,r){var o,s,d,f=null!==(d=null===(s=null===(o=this.layerManager)||void 0===o?void 0:o.canvas)||void 0===s?void 0:s.pixelRatio)&&void 0!==d?d:1,y=Math.round(e*f)/f;return null==r?y:0===r?0:r<1?Math.ceil(r*f)/f:Math.round((r+e)*f)/f-y},t.prototype.fillStroke=function(e){this.renderFill(e),this.renderStroke(e)},t.prototype.renderFill=function(e){if(this.fill){var r=e.globalAlpha;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),e.fill(),e.globalAlpha=r}e.shadowColor="rgba(0, 0, 0, 0)"},t.prototype.applyFill=function(e){e.fillStyle=this.gradient?this.gradient.createGradient(e,this.computeBBox()):this.fill},t.prototype.applyFillAlpha=function(e){e.globalAlpha=e.globalAlpha*this.opacity*this.fillOpacity},t.prototype.applyShadow=function(e){var r,o,s=null!==(o=null===(r=this.layerManager)||void 0===r?void 0:r.canvas.pixelRatio)&&void 0!==o?o:1,d=this.fillShadow;d&&d.enabled&&(e.shadowColor=d.color,e.shadowOffsetX=d.xOffset*s,e.shadowOffsetY=d.yOffset*s,e.shadowBlur=d.blur*s)},t.prototype.renderStroke=function(e){if(this.stroke&&this.strokeWidth){var r=e.globalAlpha;e.strokeStyle=this.stroke,e.globalAlpha=r*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),e.stroke(),e.globalAlpha=r}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"fillOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"strokeOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,changeCb:function(e){return e.updateGradient()}})],t.prototype,"fill",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"stroke",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"strokeWidth",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineDash",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineDashOffset",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineCap",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineJoin",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,convertor:function(e){return Math.min(1,Math.max(0,e))}})],t.prototype,"opacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],t.prototype,"fillShadow",void 0),t}(Node),__extends$2C=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1P=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function SceneFontChangeDetection(l){var t=l||{},e=t.redraw;return SceneChangeDetection({redraw:void 0===e?RedrawType.MAJOR:e,type:"font",changeCb:t.changeCb})}var Text=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.x=0,e.y=0,e.lines=[],e.text="",e._dirtyFont=!0,e.fontSize=10,e.fontFamily="sans-serif",e.textAlign=t.defaultStyles.textAlign,e.textBaseline=t.defaultStyles.textBaseline,e.lineHeight=void 0,e}return __extends$2C(t,l),t.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(t.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){for(var e,r,o=0,s=0,d=0,f=0,y=0,m=0;m<this.lines.length;m++){var E=HdpiCanvas.measureText(this.lines[m],this.font,this.textBaseline,this.textAlign);o=Math.max(o,E.actualBoundingBoxLeft),d=Math.max(d,E.width),0==m?(s+=E.actualBoundingBoxAscent,f+=E.actualBoundingBoxAscent):y+=null!==(e=E.fontBoundingBoxAscent)&&void 0!==e?e:E.emHeightAscent,m==this.lines.length-1?f+=E.actualBoundingBoxDescent:y+=null!==(r=E.fontBoundingBoxDescent)&&void 0!==r?r:E.emHeightDescent}return void 0!==this.lineHeight&&(y=(this.lines.length-1)*this.lineHeight),f+=y,s+=y*this.getVerticalOffset(),new BBox(this.x-o,this.y-s,d,f)},t.prototype.getVerticalOffset=function(){switch(this.textBaseline){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}},t.prototype.getApproximateBBox=function(){var e,r=0,o=0,s=0;this.lines.length>0&&(r=(d=HdpiCanvas.getTextSize(this.lines[0],this.font)).width,o=d.height);for(var f=1;f<this.lines.length;f++){var d=HdpiCanvas.getTextSize(this.lines[f],this.font);r=Math.max(r,d.width),s+=null!==(e=this.lineHeight)&&void 0!==e?e:d.height}var m=this.x,E=this.y;switch(this.textAlign){case"end":case"right":m-=r;break;case"center":m-=r/2}switch(this.textBaseline){case"alphabetic":E-=.7*o+.5*s;break;case"middle":E-=.45*o+.5*s;break;case"ideographic":case"bottom":E-=o+s;break;case"hanging":E-=.2*o+.5*s}return new BBox(m,E,r,o+s)},t.prototype.getLineHeight=function(e){var r,o;if(this.lineHeight)return this.lineHeight;if(HdpiCanvas.has.textMetrics){var s=HdpiCanvas.measureText(e,this.font,this.textBaseline,this.textAlign);return(null!==(r=s.fontBoundingBoxAscent)&&void 0!==r?r:s.emHeightAscent)+(null!==(o=s.fontBoundingBoxDescent)&&void 0!==o?o:s.emHeightDescent)}return HdpiCanvas.getTextSize(e,this.font).height},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.render=function(e){var r=e.ctx,s=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(r);var d=this,f=d.fill,y=d.stroke,m=d.strokeWidth;r.font=this.font,r.textAlign=this.textAlign,r.textBaseline=this.textBaseline;var E=this.layerManager.canvas.pixelRatio||1,O=r.globalAlpha;if(f){r.fillStyle=f,r.globalAlpha=O*this.opacity*this.fillOpacity;var D=this.fillShadow;D&&D.enabled&&(r.shadowColor=D.color,r.shadowOffsetX=D.xOffset*E,r.shadowOffsetY=D.yOffset*E,r.shadowBlur=D.blur*E),this.renderLines(function(U,Y,ee){return r.fillText(U,Y,ee)})}if(y&&m){r.strokeStyle=y,r.lineWidth=m,r.globalAlpha=O*this.opacity*this.strokeOpacity;var P=this,R=P.lineDash,x=P.lineDashOffset,L=P.lineCap,B=P.lineJoin;R&&r.setLineDash(R),x&&(r.lineDashOffset=x),L&&(r.lineCap=L),B&&(r.lineJoin=B),this.renderLines(function(U,Y,ee){return r.strokeText(U,Y,ee)})}l.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count);else s&&(s.nodesSkipped+=this.nodeCount.count)},t.prototype.renderLines=function(e){for(var r=this,o=this,s=o.lines,d=o.x,f=o.y,y=this.lines.map(function(D){return r.getLineHeight(D)}),E=-(y.reduce(function(D,P){return D+P},0)-y[0])*this.getVerticalOffset(),O=0;O<s.length;O++)e(s[O],d,f+E),E+=y[O]},t.className="Text",t.defaultStyles=Object.assign({},Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"x",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"y",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(e){return e._splitText()}})],t.prototype,"text",void 0),__decorate$1P([SceneFontChangeDetection()],t.prototype,"fontStyle",void 0),__decorate$1P([SceneFontChangeDetection()],t.prototype,"fontWeight",void 0),__decorate$1P([SceneFontChangeDetection()],t.prototype,"fontSize",void 0),__decorate$1P([SceneFontChangeDetection()],t.prototype,"fontFamily",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"textAlign",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"textBaseline",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"lineHeight",void 0),t}(Shape);function getFont(l,t,e,r){return[e||"",r||"",l+"px",t].join(" ").trim()}function linearRoot(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}function quadraticRoots(l,t,e){if(0===l)return linearRoot(t,e);var r=t*t-4*l*e,o=[];if(0===r){var s=-t/(2*l);s>=0&&s<=1&&o.push(s)}else if(r>0){var d=Math.sqrt(r),f=(-t-d)/(2*l),y=(-t+d)/(2*l);f>=0&&f<=1&&o.push(f),y>=0&&y<=1&&o.push(y)}return o}function cubicRoots(l,t,e,r){if(0===l)return quadraticRoots(t,e,r);var o=t/l,s=e/l,f=(3*s-o*o)/9,y=(9*o*s-r/l*27-2*o*o*o)/54,m=f*f*f+y*y,E=1/3,O=[];if(m>=0){var D=Math.sqrt(m),P=Math.sign(y+D)*Math.pow(Math.abs(y+D),E),R=Math.sign(y-D)*Math.pow(Math.abs(y-D),E),x=Math.abs(Math.sqrt(3)*(P-R)/2),L=-E*o+(P+R);if(L>=0&&L<=1&&O.push(L),0===x){var B=-E*o-(P+R)/2;B>=0&&B<=1&&O.push(B)}}else{var U=Math.acos(y/Math.sqrt(-f*f*f)),Y=E*o,ee=2*Math.sqrt(-f),oe=ee*Math.cos(E*U)-Y,re=ee*Math.cos(E*(U+2*Math.PI))-Y,ie=ee*Math.cos(E*(U+4*Math.PI))-Y;oe>=0&&oe<=1&&O.push(oe),re>=0&&re<=1&&O.push(re),ie>=0&&ie<=1&&O.push(ie)}return O}var __values$v=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function segmentIntersection(l,t,e,r,o,s,d,f){var y=(e-l)*(f-s)-(r-t)*(d-o);if(0===y)return null;var m=((d-o)*(t-s)-(l-o)*(f-s))/y,E=((e-l)*(t-s)-(r-t)*(l-o))/y;return m>=0&&m<=1&&E>=0&&E<=1?{x:l+m*(e-l),y:t+m*(r-t)}:null}function cubicSegmentIntersections(l,t,e,r,o,s,d,f,y,m,E,O){var D,P,R=[],x=m-O,L=E-y,B=y*(O-m)-m*(E-y),U=bezierCoefficients(l,e,o,d),Y=bezierCoefficients(t,r,s,f),q=cubicRoots(x*U[0]+L*Y[0],x*U[1]+L*Y[1],x*U[2]+L*Y[2],x*U[3]+L*Y[3]+B);try{for(var se=__values$v(q),ue=se.next();!ue.done;ue=se.next()){var Re,ge=ue.value,ve=ge*ge,Ce=ge*ve,Pe=U[0]*Ce+U[1]*ve+U[2]*ge+U[3],Me=Y[0]*Ce+Y[1]*ve+Y[2]*ge+Y[3];(Re=y!==E?(Pe-y)/(E-y):(Me-m)/(O-m))>=0&&Re<=1&&R.push({x:Pe,y:Me})}}catch(Ne){D={error:Ne}}finally{try{ue&&!ue.done&&(P=se.return)&&P.call(se)}finally{if(D)throw D.error}}return R}function bezierCoefficients(l,t,e,r){return[3*t-l-3*e+r,3*l-6*t+3*e,-3*l+3*t,l]}function arcIntersections(l,t,e,r,o,s,d,f,y,m){var E=(m-f)/(y-d),O=f-E*d,D=Math.pow(E,2)+1,P=2*(E*(O-t)-l),R=Math.pow(l,2)+Math.pow(O-t,2)-Math.pow(e,2),x=Math.pow(P,2)-4*D*R;if(x<0)return[];var L=(-P+Math.sqrt(x))/2/D,B=(-P-Math.sqrt(x))/2/D,U=[];return[L,B].forEach(function(Y){if(Y>=Math.min(d,y)&&Y<=Math.max(d,y)){var oe=E*Y,re=normalizeAngle360(s?o:r),ie=normalizeAngle360(s?r:o),q=normalizeAngle360(Math.atan2(oe,Y));ie<=re&&(ie+=2*Math.PI),q<re&&(q+=2*Math.PI),q>=re&&q<=ie&&U.push({x:Y,y:oe})}}),U}var __values$u=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Command=(()=>((Command=Command||{})[Command.Move=0]="Move",Command[Command.Line=1]="Line",Command[Command.Arc=2]="Arc",Command[Command.Curve=3]="Curve",Command[Command.ClosePath=4]="ClosePath",Command))(),Path2D=function(){function l(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},l.prototype.draw=function(t){var e,r,o=this.commands,s=this.params,d=0;t.beginPath();try{for(var f=__values$u(o),y=f.next();!y.done;y=f.next())switch(y.value){case Command.Move:t.moveTo(s[d++],s[d++]);break;case Command.Line:t.lineTo(s[d++],s[d++]);break;case Command.Curve:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]);break;case Command.Arc:t.arc(s[d++],s[d++],s[d++],s[d++],s[d++],1===s[d++]);break;case Command.ClosePath:t.closePath()}}catch(E){e={error:E}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}0===o.length&&t.closePath()},l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(Command.Move),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push(Command.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,r,o){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+o),this.lineTo(t,e+o),this.closePath()},l.prototype.arc=function(t,e,r,o,s,d){void 0===d&&(d=!1);var f=t+r*Math.cos(s),y=e+r*Math.sin(s);this.xy?(this.xy[0]=f,this.xy[1]=y):this.xy=[f,y],this.commands.push(Command.Arc),this.params.push(t,e,r,o,s,d?1:0)},l.prototype.cubicCurveTo=function(t,e,r,o,s,d){this.xy||this.moveTo(t,e),this.commands.push(Command.Curve),this.params.push(t,e,r,o,s,d),this.xy[0]=s,this.xy[1]=d},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(Command.ClosePath),this._closedPath=!0)},l.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var r=this.commands,o=this.params,s=r.length,d=-1e4,f=-1e4,y=NaN,m=NaN,E=0,O=0,D=0,P=0,R=0;P<s;P++)switch(r[P]){case Command.Move:isNaN(y)||segmentIntersection(y,m,E,O,d,f,t,e)&&D++,y=E=o[R++],m=O=o[R++];break;case Command.Line:segmentIntersection(E,O,o[R++],o[R++],d,f,t,e)&&D++,E=o[R-2],O=o[R-1];break;case Command.Curve:D+=cubicSegmentIntersections(E,O,o[R++],o[R++],o[R++],o[R++],o[R++],o[R++],d,f,t,e).length,E=o[R-2],O=o[R-1];break;case Command.Arc:D+=arcIntersections(o[R++],o[R++],o[R++],o[R++],o[R++],!!o[R++],d,f,t,e).length,E=o[R-2],O=o[R-1];break;case Command.ClosePath:isNaN(y)||segmentIntersection(y,m,E,O,d,f,t,e)&&D++}return D%2==1},l}(),__extends$2B=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1O=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function ScenePathChangeDetection(l){var t=l||{},e=t.redraw;return SceneChangeDetection({redraw:void 0===e?RedrawType.MAJOR:e,type:"path",convertor:t.convertor,changeCb:t.changeCb})}var Path=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new Path2D,e._dirtyPath=!0,e}return __extends$2B(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,RedrawType.MAJOR))},enumerable:!1,configurable:!0}),t.prototype.checkPathDirty=function(){var e,r;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(r=null===(e=this.fillShadow)||void 0===e?void 0:e.isDirty())&&void 0!==r&&r)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(o.x,o.y)},t.prototype.isDirtyPath=function(){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var r,o,s=e.ctx,f=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){if(this.computeTransformMatrix(),this.matrix.toContext(s),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(s.save(),"normal"===this.clipMode&&(this.clipPath.draw(s),s.clip()),this.path.draw(s),this.fillStroke(s),"punch-out"===this.clipMode){this.clipPath.draw(s),s.clip();var y=null!==(r=this.computeBBox())&&void 0!==r?r:{},m=y.x,O=y.y,P=y.width,x=y.height;s.clearRect(void 0===m?-1e4:m,void 0===O?-1e4:O,void 0===P?2e4:P,void 0===x?2e4:x)}s.restore()}else this.path.draw(s),this.fillStroke(s);null===(o=this.fillShadow)||void 0===o||o.markClean(),l.prototype.render.call(this,e)}else f&&(f.nodesSkipped+=this.nodeCount.count)},t.className="Path",__decorate$1O([ScenePathChangeDetection()],t.prototype,"clipPath",void 0),__decorate$1O([ScenePathChangeDetection()],t.prototype,"clipMode",void 0),t}(Shape),__extends$2A=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1N=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$t=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Marker=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return __extends$2A(t,l),t.prototype.computeBBox=function(){var e=this,s=e.size,d=s/2;return new BBox(e.x-d,e.y-d,s,s)},t.prototype.applyPath=function(e,r){var o,s,d=this.path,y=this.x,m=this.y;d.clear();try{for(var E=__values$t(r),O=E.next();!O.done;O=E.next()){var D=O.value;y+=D.x*e,m+=D.y*e,"move"===D.t?d.moveTo(y,m):d.lineTo(y,m)}}catch(L){o={error:L}}finally{try{O&&!O.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}d.closePath()},__decorate$1N([ScenePathChangeDetection()],t.prototype,"x",void 0),__decorate$1N([ScenePathChangeDetection()],t.prototype,"y",void 0),__decorate$1N([ScenePathChangeDetection({convertor:Math.abs})],t.prototype,"size",void 0),t}(Path),__extends$2z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Square=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2z(t,l),t.prototype.updatePath=function(){var e=this,r=e.path,o=e.x,s=e.y,d=this.size/2;r.clear(),r.moveTo(this.align(o-d),this.align(s-d)),r.lineTo(this.align(o+d),this.align(s-d)),r.lineTo(this.align(o+d),this.align(s+d)),r.lineTo(this.align(o-d),this.align(s+d)),r.closePath()},t.className="Square",t}(Marker);function ProxyPropertyOnWrite(l,t){return addTransformToInstanceProperty(function(e,r,o){return e[l][t??r]=o,o})}function ActionOnSet(l){var t=l.newValue,e=l.oldValue,r=l.changeValue;return addTransformToInstanceProperty(function(o,s,d,f){return d!==f&&(void 0!==f&&e?.call(o,f),void 0!==d&&t?.call(o,d),r?.call(o,d,f)),d})}var __extends$2y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1M=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MarkerLabel=function(l){function t(){var e=l.call(this,{name:"markerLabelGroup"})||this;e.label=new Text,e._marker=new Square,e._markerSize=15,e._spacing=8;var r=e.label;return r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=HdpiCanvas.has.textMetrics?1:0,e.append([e.marker,r]),e.update(),e}return __extends$2y(t,l),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!1,configurable:!0}),t.prototype.update=function(){var r=this.markerSize;this.marker.size=r,this.label.x=r/2+this.spacing},t.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,l.prototype.render.call(this,e)},t.className="MarkerLabel",__decorate$1M([ProxyPropertyOnWrite("label")],t.prototype,"text",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],t.prototype,"fontStyle",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],t.prototype,"fontWeight",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],t.prototype,"fontSize",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],t.prototype,"fontFamily",void 0),__decorate$1M([ProxyPropertyOnWrite("label","fill")],t.prototype,"color",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fill")],t.prototype,"markerFill",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","stroke")],t.prototype,"markerStroke",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeWidth")],t.prototype,"markerStrokeWidth",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fillOpacity")],t.prototype,"markerFillOpacity",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeOpacity")],t.prototype,"markerStrokeOpacity",void 0),t}(Group),__extends$2x=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Circle=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2x(t,l),t.prototype.updatePath=function(){var e=this,r=e.x,o=e.y,s=e.path,f=e.size/2;s.clear(),s.arc(r,o,f,0,2*Math.PI),s.closePath()},t.className="Circle",t}(Marker),__extends$2w=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cross=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2w(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/4.2,t.moves)},t.className="Cross",t.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],t}(Marker),__extends$2v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Diamond=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2v(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/2,t.moves)},t.className="Diamond",t.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],t}(Marker),__extends$2u=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Heart=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2u(t,l),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,r=e.x,o=e.path,d=e.rad,f=e.size/4,y=this.y+f/2;o.clear(),o.arc(r-f,y-f,f,d(130),d(330)),o.arc(r+f,y-f,f,d(220),d(50)),o.lineTo(r,y+f),o.closePath()},t.className="Heart",t}(Marker),__extends$2t=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Plus=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2t(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/3,t.moves)},t.className="Plus",t.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],t}(Marker),__extends$2s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Triangle=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2s(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,1.1*this.size,t.moves)},t.className="Triangle",t.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],t}(Marker);function getMarker$1(l){if(void 0===l&&(l=Square),"string"==typeof l)switch(l){case"circle":return Circle;case"cross":return Cross;case"diamond":return Diamond;case"heart":return Heart;case"plus":return Plus;case"triangle":return Triangle;default:return Square}return"function"==typeof l?l:Square}var ChartUpdateType=(()=>((ChartUpdateType=ChartUpdateType||{})[ChartUpdateType.FULL=0]="FULL",ChartUpdateType[ChartUpdateType.PROCESS_DATA=1]="PROCESS_DATA",ChartUpdateType[ChartUpdateType.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",ChartUpdateType[ChartUpdateType.SERIES_UPDATE=3]="SERIES_UPDATE",ChartUpdateType[ChartUpdateType.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",ChartUpdateType[ChartUpdateType.SCENE_RENDER=5]="SCENE_RENDER",ChartUpdateType[ChartUpdateType.NONE=6]="NONE",ChartUpdateType))(),__values$s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function gridLayout(l){for(var t=l.orientation,e=l.bboxes,r=l.maxHeight,o=l.maxWidth,s=l.itemPaddingY,d=void 0===s?0:s,f=l.itemPaddingX,y=void 0===f?0:f,m=l.forceResult,E=void 0!==m&&m,O="horizontal"===t,D={max:O?o:r,fn:O?function(U){return U.width}:function(U){return U.height},padding:O?y:d},P={max:O?r:o,fn:O?function(U){return U.height}:function(U){return U.width},padding:O?d:y},R=0,x=[];R<e.length;){var B=processBBoxes(e.slice(R),R,D,P,E);if(!B)return;R+=B.processedBBoxCount,x.push(B.pageIndices)}return buildPages(x,t,e,d,y)}function processBBoxes(l,t,e,r,o){var d=estimateStartingGuess(l,e);if(d<1){if(!o)return;d=1}for(var f=d;f>=1;f--){var y=calculatePage(l,t,f,e,r,o);if(null==y&&f<=1)return;if(null!=y){if("number"==typeof y){if(y<=1)return;f=y<f&&y>1?y:f;continue}return{processedBBoxCount:y.length*y[0].length,pageIndices:y}}}}function calculatePage(l,t,e,r,o,s){for(var d,f=[],y=0,m=0,E=[],O=[],D=0;D<l.length;D++){var P=(D+e)%e;0===P&&(y+=m,m=0,E.length>0&&f.push(E),E=[]);var R=r.fn(l[D])+r.padding;if(O[P]=Math.max(null!==(d=O[P])&&void 0!==d?d:0,R),y+(m=Math.max(m,o.fn(l[D])+o.padding))>o.max&&(!s||f.length>0)){E=[];break}if(O.reduce(function(U,Y){return U+Y},0)>r.max&&!s)return O.length<e?O.length:void 0;E.push(D+t)}return E.length>0&&f.push(E),f.length>0?f:void 0}function buildPages(l,t,e,r,o){var s=0,d=0;return{pages:l.map(function(y){"horizontal"===t&&(y=transpose(y));var m=0,E=y.map(function(P){var R=P.map(function(B){return m=Math.max(B,m),e[B]}),x=0,L=0;return R.forEach(function(B){x+=B.height+r,L=Math.max(L,B.width+o)}),{indices:P,bboxes:R,columnHeight:x,columnWidth:L}}),O=0,D=0;return E.forEach(function(P){O+=P.columnWidth,D=Math.max(D,P.columnHeight)}),s=Math.max(O,s),d=Math.max(D,d),{columns:E,startIndex:y[0][0],endIndex:m,pageWidth:O,pageHeight:D}}),maxPageWidth:s,maxPageHeight:d}}function transpose(l){var t,e,r=[];try{for(var o=__values$s(l[0]),s=o.next();!s.done;s=o.next())r.push([])}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return l.forEach(function(f,y){f.forEach(function(m,E){r[E][y]=m})}),r}function estimateStartingGuess(l,t){for(var e=l.length,r=0,o=0;o<e;o++)if((r+=t.fn(l[o])+t.padding)>t.max)return e/o<2?Math.ceil(e/2):o;return e}var __decorate$1L=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PaginationLabel=function(){function l(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return __decorate$1L([Validate(COLOR_STRING)],l.prototype,"color",void 0),__decorate$1L([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1L([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1L([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1L([Validate(STRING)],l.prototype,"fontFamily",void 0),l}(),PaginationMarkerStyle=function(){function l(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return __decorate$1L([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1L([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],l.prototype,"stroke",void 0),__decorate$1L([Validate(NUMBER(0))],l.prototype,"strokeWidth",void 0),__decorate$1L([Validate(NUMBER(0,1))],l.prototype,"strokeOpacity",void 0),l}(),PaginationMarker=function(){function l(){this.size=15,this._shape=Triangle,this.padding=8}return Object.defineProperty(l.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1L([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1L([Validate(NUMBER(0))],l.prototype,"padding",void 0),l}(),Pagination=function(){function l(t,e,r,o){var s=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=r,this.cursorManager=o,this.id=createId$1(this),this.group=new Group({name:"pagination"}),this.labelNode=new Text,this.marker=new PaginationMarker,this.activeStyle=new PaginationMarkerStyle,this.inactiveStyle=new PaginationMarkerStyle,this.highlightStyle=new PaginationMarkerStyle,this.label=new PaginationLabel,this.totalPages=0,this.currentPage=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Triangle,this._previousButton=new Triangle;var d=this.labelNode;d.textBaseline="middle",d.fontSize=12,d.fontFamily="Verdana, sans-serif",d.fill="black",d.y=HdpiCanvas.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,d]),this.interactionManager.addListener("click",function(f){return s.onPaginationClick(f)}),this.interactionManager.addListener("hover",function(f){return s.onPaginationMouseMove(f)}),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),l.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(l.prototype,"orientation",{get:function(){return this._orientation},set:function(t){"horizontal"===(this._orientation=t,t)?(this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2):(this.previousButton.rotation=0,this.nextButton.rotation=Math.PI)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),l.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},l.prototype.updatePositions=function(){this.updateLabelPosition(),this.updateNextButtonPosition()},l.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,r=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+r},l.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},l.prototype.updateLabel=function(){var t=this,o=t.labelNode,s=t.label,d=s.color,f=s.fontStyle,y=s.fontWeight,m=s.fontSize,E=s.fontFamily;o.text=t.currentPage+1+" / "+t.totalPages,o.fill=d,o.fontStyle=f,o.fontWeight=y,o.fontSize=m,o.fontFamily=E},l.prototype.updateMarkers=function(){var t=this,r=t.previousButton,s=t.previousButtonDisabled,d=t.activeStyle,f=t.inactiveStyle,y=t.highlightStyle,m=t.highlightActive,E=function(O,D){return D?f:O===m?y:d};this.updateMarker(t.nextButton,E("next",t.nextButtonDisabled)),this.updateMarker(r,E("previous",s))},l.prototype.updateMarker=function(t,e){var r;t.size=this.marker.size,t.fill=e.fill,t.fillOpacity=null!==(r=e.fillOpacity)&&void 0!==r?r:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},l.prototype.enableOrDisableButtons=function(){var e=this.currentPage,r=this.totalPages,o=0===r,d=0===e;this.nextButtonDisabled=e===r-1||o,this.previousButtonDisabled=d||o},l.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},l.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},l.prototype.onPaginationClick=function(t){var e=t.offsetX,r=t.offsetY;this.nextButtonContainsPoint(e,r)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,r)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},l.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,r=t.offsetY;this.nextButtonContainsPoint(e,r)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,r)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},l.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},l.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},l.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},l.prototype.onMarkerShapeChange=function(){var t=getMarker$1(this.marker.shape||Triangle);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},l.prototype.attachPagination=function(t){t.append(this.group)},l.prototype.computeBBox=function(){return this.group.computeBBox()},l.className="Pagination",l}(),__decorate$1K=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$U=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$w=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$U(arguments[t]));return l},__values$r=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ORIENTATIONS=["horizontal","vertical"],OPT_ORIENTATION=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e){return ORIENTATIONS.includes(e)})},"expecting an orientation keyword such as 'horizontal' or 'vertical'"),LegendLabel=function(){function l(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return l.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1K([Validate(OPT_NUMBER(0))],l.prototype,"maxLength",void 0),__decorate$1K([Validate(COLOR_STRING)],l.prototype,"color",void 0),__decorate$1K([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1K([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1K([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1K([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1K([Validate(OPT_FUNCTION)],l.prototype,"formatter",void 0),l}(),LegendMarker=function(){function l(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(l.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1K([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1K([Validate(NUMBER(0))],l.prototype,"padding",void 0),__decorate$1K([Validate(NUMBER(0))],l.prototype,"strokeWidth",void 0),l}(),LegendItem=function(){function l(){this.marker=new LegendMarker,this.label=new LegendLabel,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return __decorate$1K([Validate(OPT_NUMBER(0))],l.prototype,"maxWidth",void 0),__decorate$1K([Validate(NUMBER(0))],l.prototype,"paddingX",void 0),__decorate$1K([Validate(NUMBER(0))],l.prototype,"paddingY",void 0),__decorate$1K([Validate(BOOLEAN)],l.prototype,"toggleSeriesVisible",void 0),l}(),LegendListeners=function(){function l(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return __decorate$1K([Validate(OPT_FUNCTION)],l.prototype,"legendItemClick",void 0),l}(),Legend=function(){function l(t,e,r,o,s,d){var f,y=this;this.chart=t,this.interactionManager=e,this.cursorManager=r,this.highlightManager=o,this.tooltipManager=s,this.layoutService=d,this.id=createId$1(this),this.group=new Group({name:"legend",layer:!0,zIndex:Layers.LEGEND_ZINDEX}),this.itemSelection=Selection.select(this.group,MarkerLabel),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new LegendItem,this.listeners=new LegendListeners,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="right",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Pagination(function(O){return y.chart.update(O)},function(O){return y.updatePageNumber(O)},this.interactionManager,this.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;var m=[this.interactionManager.addListener("click",function(O){return y.checkLegendClick(O)}),this.interactionManager.addListener("dblclick",function(O){return y.checkLegendDoubleClick(O)}),this.interactionManager.addListener("hover",function(O){return y.handleLegendMouseMove(O)})],E=[this.layoutService.addListener("start-layout",function(O){return y.positionLegend(O.shrinkRect)})];(f=this.destroyFns).push.apply(f,__spread$w(m.map(function(O){return function(){return y.interactionManager.removeListener(O)}}),E.map(function(O){return function(){return y.layoutService.removeListener(O)}})))}return Object.defineProperty(l.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),l.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},l.prototype.destroy=function(){this.destroyFns.forEach(function(t){return t()})},l.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,RedrawType.MINOR)},l.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var r={"...":HdpiCanvas.getTextSize("...",t).width};return e.set(t,r),r},Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),l.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},l.prototype.attachLegend=function(t){t.append(this.group)},l.prototype.performLayout=function(t,e){var r=this,o=this.item,s=o.paddingX,d=o.paddingY,f=o.label,y=o.maxWidth,m=o.marker,E=m.size,O=m.padding,D=m.shape,P=o.label,R=P.maxLength,x=void 0===R?1/0:R,L=P.fontStyle,B=P.fontWeight,U=P.fontSize,Y=P.fontFamily,ee=__spread$w(this.data);this.reverseOrder&&ee.reverse(),this.itemSelection.update(ee);var oe=[],re=f.getFont(),q=y??.8*t,se=E+O+s;if(this.itemSelection.each(function(he,De){var _e,Oe=getMarker$1(D||De.marker.shape);he.marker&&he.marker instanceof Oe||(he.marker=new Oe),he.markerSize=E,he.spacing=O,he.fontStyle=L,he.fontWeight=B,he.fontSize=U,he.fontFamily=Y;var Le=De.itemId||De.id,Ie=(null!==(_e=De.label.text)&&void 0!==_e?_e:"<unknown>").replace(/\r?\n/g," ");he.text=r.truncate(Ie,x,q,se,re,Le),oe.push(he.computeBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var ue=this.size,ge=this.oldSize;ue[0]=t,ue[1]=e,(ue[0]!==ge[0]||ue[1]!==ge[1])&&(ge[0]=ue[0],ge[1]=ue[1]);var ve=this.updatePagination(oe,t,e),Pe=ve.maxPageHeight,Me=ve.maxPageWidth;this.pages=ve.pages,this.maxPageSize=[Me-s,Pe-d];var Re=this.pagination.currentPage;this.pages.length<1||!this.pages[Re]?this.visible=!1:(this.visible=!0,this.updatePositions(Re),this.update())},l.prototype.truncate=function(t,e,r,o,s,d){var f,y,E=t.split(""),O=!1;if(t.length>e&&(t=""+t.substring(0,e),O=!0),Math.floor(o+HdpiCanvas.getTextSize(t,s).width)>r){var P="",R=this.getCharacterWidths(s),x=o+R["..."];try{for(var L=__values$r(E),B=L.next();!B.done;B=L.next()){var U=B.value;if(R[U]||(R[U]=HdpiCanvas.getTextSize(U,s).width),(x+=R[U])>r)break;P+=U}}catch(Y){f={error:Y}}finally{try{B&&!B.done&&(y=L.return)&&y.call(L)}finally{if(f)throw f.error}}t=P,O=!0}return O?(t+="...",this.truncatedItems.add(d)):this.truncatedItems.delete(d),t},l.prototype.updatePagination=function(t,e,r){var o=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=o,this.pagination.translationX=0,this.pagination.translationY=0;var d=this.calculatePagination(t,e,r),f=d.pages,y=d.maxPageHeight,m=d.maxPageWidth,E=d.paginationBBox,O=d.paginationVertical,D=f.findIndex(function(oe){return oe.endIndex>=s});this.pagination.currentPage=Math.min(Math.max(D,0),f.length-1);var P=this.item,U=y-P.paddingY,Y=0,ee=-E.y-this.item.marker.size/2;return O?ee+=U+8:(Y+=m-P.paddingX-E.x+8,ee+=(U-E.height)/2),this.pagination.translationX=Y,this.pagination.translationY=ee,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:y,maxPageWidth:m,pages:f}},l.prototype.calculatePagination=function(t,e,r){var o,s,d,q,f=this.item,y=f.paddingX,m=f.paddingY,E=this.getOrientation(),O=["left","right"].includes(this.position),D=this.pagination.computeBBox(),P=new BBox(0,0,0,0),R=[],x=0,L=0,B=0,Y=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(B++>10){Logger.warn("unable to find stable legend layout.");break}D=P;var re=gridLayout({orientation:E,bboxes:t,maxHeight:r-(O?D.height:0),maxWidth:e-(O?0:D.width),itemPaddingY:m,itemPaddingX:y,forceResult:Y});R=null!==(o=re?.pages)&&void 0!==o?o:[],x=null!==(s=re?.maxPageWidth)&&void 0!==s?s:0,L=null!==(d=re?.maxPageHeight)&&void 0!==d?d:0;var ie=R.length;if(this.pagination.visible=ie>1,this.pagination.totalPages=ie,this.pagination.update(),P=this.pagination.computeBBox(),!this.pagination.visible)break}while((q=P).width!==D.width||q.height!==D.height);return{maxPageWidth:x,maxPageHeight:L,pages:R,paginationBBox:D,paginationVertical:O}},l.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this,r=e.item.paddingY,o=e.itemSelection,s=e.pages;if(!(s.length<1)&&s[t]){var d=s[t],f=d.columns,y=d.startIndex,m=d.endIndex,E=0,O=0,D=f.length,P=f[0].indices.length,R="horizontal"===this.getOrientation(),x=f[0].bboxes[0].height+r,L=[];o.each(function(B,U,Y){var ee,oe;if(Y<y||Y>m)B.visible=!1;else{var re=Y-y,ie=0,q=0;R?(ie=re%D,q=Math.floor(re/D)):(ie=Math.floor(re/P),q=re%P),B.visible=!0;var se=f[ie];se&&(O=x*q,E=null!==(ee=L[q])&&void 0!==ee?ee:0,L[q]=(null!==(oe=L[q])&&void 0!==oe?oe:0)+se.columnWidth,B.translationX=Math.floor(E),B.translationY=Math.floor(O))}})}},l.prototype.updatePageNumber=function(t){var e=this.pages,r=e[t],o=r.startIndex,s=r.endIndex;this.paginationTrackingIndex=0===o?0:t===e.length-1?s:Math.floor((o+s)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.chart.update(ChartUpdateType.SCENE_RENDER)},l.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,r=t.label.color;this.itemSelection.each(function(o,s){var d=s.marker;o.markerFill=d.fill,o.markerStroke=d.stroke,o.markerStrokeWidth=e,o.markerFillOpacity=d.fillOpacity,o.markerStrokeOpacity=d.strokeOpacity,o.opacity=s.enabled?1:.5,o.color=r})},l.prototype.getDatumForPoint=function(t,e){var r,o,s=[],d={dist:1/0,datum:void 0};try{for(var f=__values$r(this.group.children),y=f.next();!y.done;y=f.next()){var m=y.value;if(m.visible&&m instanceof MarkerLabel){var E=m.computeBBox();if(E.grow(this.item.paddingX/2,"horizontal"),E.grow(this.item.paddingY/2,"vertical"),E.containsPoint(t,e))return m.datum;var O=t-E.x-this.item.paddingX/2,D=e-E.y-this.item.paddingY/2,P=Math.pow(O,2)+Math.pow(D,2);O>=0&&D>=0&&P<d.dist&&(d.dist=P,d.datum=m.datum),s.push(E)}}}catch(L){r={error:L}}finally{try{y&&!y.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}if(BBox.merge(s).containsPoint(t,e))return d.datum},l.prototype.computeBBox=function(){return this.group.computeBBox()},l.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=__read$U(this.maxPageSize,2),r=e[0];return t.height=Math.max(e[1],t.height),t.width=Math.max(r,t.width),t},l.prototype.checkLegendClick=function(t){var e=this,r=e.listeners.legendItemClick,o=e.chart,s=e.highlightManager,d=e.item.toggleSeriesVisible,f=this.getDatumForPoint(t.offsetX,t.offsetY);if(f){var y=f.id,m=f.itemId,E=f.enabled,O=o.series.find(function(P){return P.id===y});if(O){t.consume();var D=E;d&&(D=!E,o.series.forEach(function(P){P.id===O.id?P.toggleSeriesItem(m,D):P.toggleOtherSeriesItems(O,f,D)})),D?s.updateHighlight(this.id,{series:O,itemId:m,datum:void 0}):s.updateHighlight(this.id),this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),r?.({type:"click",enabled:D,itemId:m,seriesId:O.id})}}},l.prototype.checkLegendDoubleClick=function(t){var e,r,o=this,s=o.listeners.legendItemDoubleClick,d=o.chart,f=o.item.toggleSeriesVisible;if("integrated"!==d.mode){var y=this.getDatumForPoint(t.offsetX,t.offsetY);if(y){var m=y.id,E=y.itemId,O=y.seriesId,D=d.series.find(function(re){return re.id===m});if(D){if(t.consume(),f){var P=d.series.reduce(function(re,ie){return __spread$w(re,ie.getLegendData())},[]),R=P.filter(function(re){return re.enabled}).length,x=P.find(function(re){return re.itemId===E&&re.seriesId===O}),L=P.reduce(function(re,ie){var q,se;return null!==(q=re[se=ie.seriesId])&&void 0!==q||(re[se]=0),re[ie.seriesId]++,re},{}),B=P.reduce(function(re,ie){var q,se;return ie.enabled&&(null!==(q=re[se=ie.seriesId])&&void 0!==q||(re[se]=0),re[ie.seriesId]++),re},{}),U=0===Object.values(L).filter(function(re){return re>1}).length,Y=0===Object.values(B).filter(function(re){return re>1}).length,ee=1===R&&null!==(e=x?.enabled)&&void 0!==e&&e,oe=Y&&null!==(r=x?.enabled)&&void 0!==r&&r;d.series.forEach(function(re){re.getLegendData().forEach(function(q){re.toggleSeriesItem(q.itemId,q.itemId===E&&q.seriesId===O||U&&ee||!U&&oe)}),re.id!==D.id&&re.toggleOtherSeriesItems(D,y,void 0,oe)})}this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),s?.({type:"dblclick",enabled:!0,itemId:E,seriesId:D.id})}}}},l.prototype.handleLegendMouseMove=function(t){var e=this,o=e.item.toggleSeriesVisible,s=e.listeners;if(e.enabled){var d=this.computeBBox(),f=t.pageX,y=t.pageY,m=t.offsetX,E=t.offsetY,O=this.group.visible&&d.containsPoint(m,E);if(!O)return this.cursorManager.updateCursor(this.id),this.highlightManager.updateHighlight(this.id),void this.tooltipManager.removeTooltip(this.id);t.consume();var D=this.getDatumForPoint(m,E);if(!O||void 0===D)return this.cursorManager.updateCursor(this.id),void this.highlightManager.updateHighlight(this.id);var R=D?this.chart.series.find(function(x){return x.id===D?.id}):void 0;D&&this.truncatedItems.has(D.itemId||D.id)?this.tooltipManager.updateTooltip(this.id,{pageX:f,pageY:y,offsetX:m,offsetY:E,event:t},toTooltipHtml$1({content:D.label.text})):this.tooltipManager.removeTooltip(this.id),(o||null!=s.legendItemClick)&&this.cursorManager.updateCursor(this.id,"pointer"),D?.enabled&&R?this.highlightManager.updateHighlight(this.id,{series:R,itemId:D?.itemId,datum:void 0}):this.highlightManager.updateHighlight(this.id)}},l.prototype.positionLegend=function(t){var e=this,r=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:r};var o=__read$U(this.calculateLegendDimensions(t),2),s=o[0],d=o[1],f=0,y=0;this.translationX=0,this.translationY=0,this.performLayout(s,d);var m=this.computePagedBBox(),E=function(){switch(e.position){case"top":case"left":return 0;case"bottom":return t.height-m.height;default:return t.width-m.width}};if(this.visible){switch(this.position){case"top":case"bottom":f=(t.width-m.width)/2,y=E(),r.shrink(m.height,this.position);break;default:f=E(),y=(t.height-m.height)/2,r.shrink(m.width,this.position)}this.translationX=Math.floor(-m.x+t.x+f),this.translationY=Math.floor(-m.y+t.y+y)}if(this.visible&&this.enabled&&this.data.length){r.shrink(this.spacing,this.position);var D=m.clone();D.x+=this.translationX,D.y+=this.translationY,this.tooltipManager.updateExclusiveRect(this.id,D)}else this.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:r}},l.prototype.calculateLegendDimensions=function(t){var e=t.width,r=t.height,o=e/r,y=0,m=0;switch(this.position){case"top":case"bottom":var E=o<1?Math.min(.5,1/o*.2):.2;y=this.maxWidth?Math.min(this.maxWidth,e):e,m=this.maxHeight?Math.min(this.maxHeight,r):Math.round(r*E);break;default:var O=o>1?Math.min(.5,.25*o):.25;y=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*O),m=this.maxHeight?Math.min(this.maxHeight,r):r}return[y,m]},l.className="Legend",__decorate$1K([Validate(BOOLEAN)],l.prototype,"_enabled",void 0),__decorate$1K([Validate(POSITION)],l.prototype,"position",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],l.prototype,"maxWidth",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],l.prototype,"maxHeight",void 0),__decorate$1K([Validate(OPT_BOOLEAN)],l.prototype,"reverseOrder",void 0),__decorate$1K([Validate(OPT_ORIENTATION)],l.prototype,"orientation",void 0),__decorate$1K([Validate(NUMBER(0))],l.prototype,"spacing",void 0),l}(),__values$q=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SizeMonitor=function(){function l(){}return l.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(o){var s,d;try{for(var f=__values$q(o),y=f.next();!y.done;y=f.next()){var m=y.value,E=m.contentRect,O=E.width,D=E.height;t.checkSize(t.elements.get(m.target),m.target,O,D)}}catch(P){s={error:P}}finally{try{y&&!y.done&&(d=f.return)&&d.call(f)}finally{if(s)throw s.error}}}):window.setInterval(function(){t.elements.forEach(function(o,s){t.checkClientSize(s,o)})},100),this.ready=!0},l.checkSize=function(t,e,r,o){t&&(!t.size||r!==t.size.width||o!==t.size.height)&&(t.size={width:r,height:o},t.cb(t.size,e))},l.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},l.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},l.checkClientSize=function(t,e){this.checkSize(e,t,t.clientWidth?t.clientWidth:0,t.clientHeight?t.clientHeight:0)},l.elements=new Map,l.ready=!1,l}();function circleRectOverlap(l,t,e,r,o){var f=l.x-(l.x<t?t:l.x>t+r?t+r:l.x),y=l.y-(l.y<e?e:l.y>e+o?e+o:l.y);return Math.sqrt(f*f+y*y)<=.5*l.size}function rectRectOverlap(l,t,e,r,o){return l.x+l.width>t&&l.x<t+r&&l.y+l.height>e&&l.y<e+o}function rectContainsRect(l,t,e,r,o){return t+r<l.x+l.width&&t>l.x&&e>l.y&&e+o<l.y+l.height}function isPointLabelDatum(l){return null!=l&&"object"==typeof l.point&&"object"==typeof l.label}function placeLabels(l,t,e){void 0===e&&(e=5);var r=[];l=l.map(function(E){return E.slice().sort(function(O,D){return D.point.size-O.point.size})});for(var o=0;o<l.length;o++){var s=r[o]=[],d=l[o];if(d&&d.length&&d[0].label)for(var f=function(E,O){var D=d[E],P=D.label,x=D.point.x-.5*P.width,L=D.point.y-.5*D.point.size-P.height-e,B=P.width,U=P.height;return!t||rectContainsRect(t,x,L,B,U)?l.some(function(re){return re.some(function(ie){return circleRectOverlap(ie.point,x,L,B,U)})})||r.some(function(re){return re.some(function(ie){return rectRectOverlap(ie,x,L,B,U)})})?"continue":void s.push({index:E,text:P.text,x,y:L,width:B,height:U,datum:D}):"continue"},y=0,m=d.length;y<m;y++)f(y)}return r}function axisLabelsOverlap(l,t){for(var e=[],r=function(d){var f=l[d],y=f.point,m=y.x,E=y.y,O=f.label.text,D=f.label,P=D.width,R=D.height;if(P+=t??0,R+=t??0,e.some(function(L){return rectRectOverlap(L,m,E,P,R)}))return{value:!0};e.push({index:d,text:O,x:m,y:E,width:P,height:R,datum:f})},o=0;o<l.length;o++){var s=r(o);if("object"==typeof s)return s.value}return!1}var __awaiter$e=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$e=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}};function debouncedAnimationFrame(l){return buildScheduler(function(t){return requestAnimationFrame(t)},l)}function debouncedCallback(l){return buildScheduler(function(t){return setTimeout(t,0)},l)}function buildScheduler(l,t){var o,s,e=0,r=!1,d=function(){return r},f=function(){r=!1,s?.(),s=void 0,o=void 0,e>0&&l(y)},y=function(){var m=e;e=0,r=!0;var E=t({count:m});E?E.then(f).catch(f):f()};return{schedule:function(){0===e&&!d()&&l(y),e++},await:function(){return __awaiter$e(this,void 0,void 0,function(){return __generator$e(this,function(m){switch(m.label){case 0:if(!d())return[2];o||(o=new Promise(function(E){s=E})),m.label=1;case 1:return d()?[4,o]:[3,3];case 2:return m.sent(),[3,1];case 3:return[2]}})})}}}var __extends$2r=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1J=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MARKER_SHAPES=["circle","cross","diamond","heart","plus","square","triangle"],MARKER_SHAPE=predicateWithMessage(function(l){return MARKER_SHAPES.includes(l)||Object.getPrototypeOf(l)===Marker},"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),SeriesMarker=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.shape=Circle,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return __extends$2r(t,l),__decorate$1J([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"enabled",void 0),__decorate$1J([Validate(MARKER_SHAPE),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"shape",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"size",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"maxSize",void 0),__decorate$1J([Validate(OPT_NUMBER_ARRAY),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"domain",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"fill",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"stroke",void 0),__decorate$1J([Validate(OPT_NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"strokeWidth",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"fillOpacity",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"strokeOpacity",void 0),t}(ChangeDetectable),__read$T=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},ContinuousScale=function(){function l(t,e){this.domain=t,this.range=e,this.nice=!1,this.tickCount=l.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return l.prototype.transform=function(t){return t},l.prototype.transformInvert=function(t){return t},l.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},l.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},l.prototype.convert=function(t,e){var o,r=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var s=null!==(o=e?.strict)&&void 0!==o?o:this.strictClampByDefault,d=this.getDomain().map(function(R){return r.transform(R)}),f=__read$T(d,2),y=f[0],m=f[1],O=__read$T(this.range,2),D=O[0],P=O[1];return(t=this.transform(t))<y?s?NaN:D:t>m?s?NaN:P:y===m?(D+P)/2:t===y?D:t===m?P:D+(this.fromDomain(t)-this.fromDomain(y))/(this.fromDomain(m)-this.fromDomain(y))*(P-D)},l.prototype.invert=function(t){var e=this;this.refresh();var R,r=this.getDomain().map(function(x){return e.transform(x)}),o=__read$T(r,2),s=o[0],d=o[1],y=__read$T(this.range,2),m=y[0],E=y[1],O=m>E;return t<(O?E:m)?O?d:s:t>(O?m:E)?O?s:d:(R=this.toDomain(m===E?(this.fromDomain(s)+this.fromDomain(d))/2:this.fromDomain(s)+(t-m)/(E-m)*(this.fromDomain(d)-this.fromDomain(s))),this.transformInvert(R))},l.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some(function(o){return t[o]!==e[o]})||(this.cache={},this.cacheProps.forEach(function(o){return t.cache[o]=t[o]}),0))},l.prototype.refresh=function(){this.didChange()&&this.update()},l.prototype.isDenseInterval=function(t){var o=t.interval,s=t.count,d=this.range,f=t.stop-t.start,y=Math.min(d[0],d[1]);return s??(s=f/("number"==typeof o?o:1)),s>=Math.max(d[0],d[1])-y&&(Logger.warn("the configured tick interval, "+JSON.stringify(o)+", results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},l.defaultTickCount=5,l.defaultMaxTickCount=6,l}(),__read$S=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s};function clamp(l,t,e){return Math.max(t,Math.min(e,l))}var BandScale$5=function(){function l(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return l.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some(function(o){return t[o]!==e[o]})||(this.cache={},this.cacheProps.forEach(function(o){return t.cache[o]=t[o]}),0))},l.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var r=this.index;t.forEach(function(o){void 0===r.get(o)&&r.set(o,e.push(o)-1)}),this._domain=e},enumerable:!1,configurable:!0}),l.prototype.ticks=function(){this.refresh();var t=this.interval,r=Math.abs(Math.round(void 0===t?1:t));return this._domain.filter(function(o,s){return s%r==0})},l.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var r=this.ordinalRange[e];return void 0===r?NaN:r},l.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex(function(r){return r===t});return this.domain[e]},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=clamp(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=clamp(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=clamp(t,0,1)},enumerable:!1,configurable:!0}),l.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,r=this._paddingInner,o=this._paddingOuter,s=__read$S(this.range,2),d=s[0],y=s[1]-d,m=y/Math.max(1,t+2*o-r),E=e?Math.floor(m):m,D=d+(y-E*(t-r))/2,P=e?Math.round(D):D,R=E*(1-r),x=e?Math.round(R):R,L=m*(1-r),B=[],U=0;U<t;U++)B.push(P+E*U);this._bandwidth=x,this._rawBandwidth=L,this.ordinalRange=B}},l}(),__extends$2q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1I=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Line=function(l){function t(){var e=l.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return __extends$2q(t,l),t.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){var r,o=e.ctx,d=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(o);var f=this.x1,y=this.y1,m=this.x2,E=this.y2;if(f===m){var O=Math.round(f)+Math.floor(this.strokeWidth)%2/2;f=O,m=O}else if(y===E){var D=Math.round(y)+Math.floor(this.strokeWidth)%2/2;y=D,E=D}o.beginPath(),o.moveTo(f,y),o.lineTo(m,E),this.fillStroke(o),null===(r=this.fillShadow)||void 0===r||r.markClean(),l.prototype.render.call(this,e)}else d&&(d.nodesSkipped+=this.nodeCount.count)},t.className="Line",t.defaultStyles=Object.assign({},Shape.defaultStyles,{fill:void 0,strokeWidth:1}),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"x1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"y1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"x2",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"y2",void 0),t}(Shape);function isEqual$2(l,t,e){return void 0===e&&(e=1e-10),Math.abs(l-t)<e}function toFixed(l,t){void 0===t&&(t=2);var e=Math.floor(Math.log(Math.abs(l))/Math.LN10);return e>=0||!isFinite(e)?l.toFixed(t):l.toFixed(Math.abs(e)-1+t)}function mod(l,t){return l>=0?Math.floor(l%t):Math.floor(l%t+t)}var __extends$2p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1H=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ArcType=(()=>((ArcType=ArcType||{})[ArcType.Open=0]="Open",ArcType[ArcType.Chord=1]="Chord",ArcType[ArcType.Round=2]="Round",ArcType))(),Arc=function(l){function t(){var e=l.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=ArcType.Open,e.restoreOwnStyles(),e}return __extends$2p(t,l),Object.defineProperty(t.prototype,"fullPie",{get:function(){return isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},enumerable:!1,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===ArcType.Chord?e.closePath():this.type===ArcType.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new BBox(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return this.type!==ArcType.Open&&s.containsPoint(o.x,o.y)&&this.path.isPointInPath(o.x,o.y)},t.className="Arc",t.defaultStyles=Object.assign({},Shape.defaultStyles,{lineWidth:1,fillStyle:null}),__decorate$1H([ScenePathChangeDetection()],t.prototype,"centerX",void 0),__decorate$1H([ScenePathChangeDetection()],t.prototype,"centerY",void 0),__decorate$1H([ScenePathChangeDetection()],t.prototype,"radius",void 0),__decorate$1H([ScenePathChangeDetection()],t.prototype,"startAngle",void 0),__decorate$1H([ScenePathChangeDetection()],t.prototype,"endAngle",void 0),__decorate$1H([ScenePathChangeDetection()],t.prototype,"counterClockwise",void 0),__decorate$1H([ScenePathChangeDetection()],t.prototype,"type",void 0),t}(Path),__decorate$1G=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Caption=function(){function l(){this.node=new Text,this.enabled=!1,this.text="",this.fontSize=10,this.fontFamily="sans-serif",this.spacing=l.PADDING,this._lineHeight=void 0;var t=this.node;t.textAlign="center",t.pointerEvents=PointerEvents.None}return Object.defineProperty(l.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,this.node.lineHeight=t},enumerable:!1,configurable:!0}),l.PADDING=10,__decorate$1G([Validate(BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],l.prototype,"text",void 0),__decorate$1G([Validate(OPT_FONT_STYLE),ProxyPropertyOnWrite("node")],l.prototype,"fontStyle",void 0),__decorate$1G([Validate(OPT_FONT_WEIGHT),ProxyPropertyOnWrite("node")],l.prototype,"fontWeight",void 0),__decorate$1G([Validate(NUMBER(0)),ProxyPropertyOnWrite("node")],l.prototype,"fontSize",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],l.prototype,"fontFamily",void 0),__decorate$1G([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("node","fill")],l.prototype,"color",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],l.prototype,"spacing",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],l.prototype,"_lineHeight",void 0),l}();function areArrayItemsStrictlyEqual(l,t){return l.length===t.length&&l.every(function(e,r){var o=t[r];return Array.isArray(e)&&Array.isArray(o)?areArrayItemsStrictlyEqual(e,o):e===o})}function areArrayNumbersEqual(l,t){return l.length===t.length&&l.every(function(e,r){return Number(e)===Number(t[r])})}var __extends$2o=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function ticks(l,t,e,r,o){if(e<2)return range(l,t,t-l);var s=tickStep(l,t,e,r,o);return isNaN(s)?new NumericTicks(0):range(l=Math.ceil(l/s)*s,t=Math.floor(t/s)*s,s)}var tickMultipliers=[1,2,5,10];function tickStep(l,t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=1/0);var d=Math.floor(Math.log10((t-l)/e)),f=Math.pow(10,d),y=tickMultipliers.map(function(m){var O=Math.ceil((t-l)/(m*f));return{multiplier:m,isWithinBounds:O>=r&&O<=o,diffCount:Math.abs(O-e)}}).sort(function(m,E){return m.isWithinBounds!==E.isWithinBounds?m.isWithinBounds?-1:1:m.diffCount-E.diffCount})[0].multiplier;return!y||isNaN(y)?NaN:y*f}function singleTickDomain(l,t){var e=Math.floor(Math.log10(t-l)),r=Math.pow(10,e);return tickMultipliers.map(function(o){var s=o*r,d=Math.floor(l/s)*s,f=Math.ceil(t/s)*s;return{error:1-(t-l)/(f-d),domain:[d,f]}}).sort(function(o,s){return o.error-s.error})[0].domain}var NumericTicks=function(l){function t(e,r){var o=l.call(this)||this;if(r)for(var s=0,d=r.length;s<d;s++)o[s]=r[s];return o.fractionDigits=e,o}return __extends$2o(t,l),t}(Array);function range(l,t,e){for(var o=(void 0,void 0,P=void 0,P=(e%1).toExponential().split("e"),Math.max((null!==(D=null===(O=P[0].split(".")[1])||void 0===O?void 0:O.length)&&void 0!==D?D:0)-Number(P[1]),0)),s=Math.pow(10,o),d=Math.ceil((t-l)/e),f=new NumericTicks(o),y=0;y<=d;y++)f.push(Math.round((l+e*y)*s)/s);var O,D,P;return f}var CONSTANTS={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function dayOfYear(l,t){void 0===t&&(t=new Date(l.getFullYear(),0,1));var e=l.getTimezoneOffset()-t.getTimezoneOffset(),r=l.getTime()-t.getTime()+6e4*e;return Math.floor(r/864e5)}function weekOfYear(l,t){var o=(t-new Date(l.getFullYear(),0,1).getDay()+7)%7,s=new Date(l.getFullYear(),0,o+1);return s<=l?Math.floor(dayOfYear(l,s)/7)+1:0}var SUNDAY=0,MONDAY=1,THURSDAY=4;function isoWeekOfYear(l,t){void 0===t&&(t=l.getFullYear());var r=new Date(t,0,1).getDay(),s=new Date(t,0,(THURSDAY-r+7)%7-(THURSDAY-MONDAY)+1);return s<=l?Math.floor(dayOfYear(l,s)/7)+1:isoWeekOfYear(l,t-1)}function timezone(l){var t=l.getTimezoneOffset(),e=Math.abs(t);return(t>0?"-":"+")+pad(Math.floor(e/60),2,"0")+pad(Math.floor(e%60),2,"0")}var FORMATTERS={a:function(l){return CONSTANTS.shortDays[l.getDay()]},A:function(l){return CONSTANTS.days[l.getDay()]},b:function(l){return CONSTANTS.shortMonths[l.getMonth()]},B:function(l){return CONSTANTS.months[l.getMonth()]},c:"%x, %X",d:function(l,t){return pad(l.getDate(),2,t??"0")},e:"%_d",f:function(l,t){return pad(1e3*l.getMilliseconds(),6,t??"0")},H:function(l,t){return pad(l.getHours(),2,t??"0")},I:function(l,t){var e=l.getHours()%12;return 0===e?"12":pad(e,2,t??"0")},j:function(l,t){return pad(dayOfYear(l)+1,3,t??"0")},m:function(l,t){return pad(l.getMonth()+1,2,t??"0")},M:function(l,t){return pad(l.getMinutes(),2,t??"0")},L:function(l,t){return pad(l.getMilliseconds(),3,t??"0")},p:function(l){return l.getHours()<12?"AM":"PM"},Q:function(l){return String(l.getTime())},s:function(l){return String(Math.floor(l.getTime()/1e3))},S:function(l,t){return pad(l.getSeconds(),2,t??"0")},u:function(l){var t=l.getDay();return t<1&&(t+=7),String(t%7)},U:function(l,t){return pad(weekOfYear(l,SUNDAY),2,t??"0")},V:function(l,t){return pad(isoWeekOfYear(l),2,t??"0")},w:function(l,t){return pad(l.getDay(),2,t??"0")},W:function(l,t){return pad(weekOfYear(l,MONDAY),2,t??"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(l,t){return pad(l.getFullYear()%100,2,t??"0")},Y:function(l,t){return pad(l.getFullYear(),4,t??"0")},Z:function(l){return timezone(l)},"%":function(){return"%"}},PADS={_:" ",0:"0","-":""};function pad(l,t,e){var r=String(Math.floor(l));return r.length>=t?r:""+e.repeat(t-r.length)+r}function buildFormatter(l){for(var t=[];l.length>0;){var e=l.indexOf("%");if(0!==e){var r=e>0?l.substring(0,e):l;t.push(r)}if(e<0)break;var s=PADS[l[e+1]];null!=s&&e++;var d=l[e+1],f=FORMATTERS[d];if("function"==typeof f)t.push([f,s]);else if("string"==typeof f){var y=buildFormatter(f);t.push([y,s])}else t.push(""+(s??"")+d);l=l.substring(e+2)}return function(m){var E="number"==typeof m?new Date(m):m;return t.map(function(O){return"string"==typeof O?O:O[0](E,O[1])}).join("")}}var __extends$2n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__values$p=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$R=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$v=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$R(arguments[t]));return l},_a$2,DefaultTimeFormats=(()=>((DefaultTimeFormats=DefaultTimeFormats||{})[DefaultTimeFormats.MILLISECOND=0]="MILLISECOND",DefaultTimeFormats[DefaultTimeFormats.SECOND=1]="SECOND",DefaultTimeFormats[DefaultTimeFormats.MINUTE=2]="MINUTE",DefaultTimeFormats[DefaultTimeFormats.HOUR=3]="HOUR",DefaultTimeFormats[DefaultTimeFormats.WEEK_DAY=4]="WEEK_DAY",DefaultTimeFormats[DefaultTimeFormats.SHORT_MONTH=5]="SHORT_MONTH",DefaultTimeFormats[DefaultTimeFormats.MONTH=6]="MONTH",DefaultTimeFormats[DefaultTimeFormats.SHORT_YEAR=7]="SHORT_YEAR",DefaultTimeFormats[DefaultTimeFormats.YEAR=8]="YEAR",DefaultTimeFormats))(),formatStrings=(_a$2={},_a$2[DefaultTimeFormats.MILLISECOND]=".%L",_a$2[DefaultTimeFormats.SECOND]=":%S",_a$2[DefaultTimeFormats.MINUTE]="%I:%M",_a$2[DefaultTimeFormats.HOUR]="%I %p",_a$2[DefaultTimeFormats.WEEK_DAY]="%a",_a$2[DefaultTimeFormats.SHORT_MONTH]="%b %d",_a$2[DefaultTimeFormats.MONTH]="%B",_a$2[DefaultTimeFormats.SHORT_YEAR]="%y",_a$2[DefaultTimeFormats.YEAR]="%Y",_a$2);function toNumber(l){return l instanceof Date?l.getTime():l}var TimeScale$1=function(l){function t(){var e=l.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=year,e.month=month,e.week=sunday,e.day=day,e.hour=hour,e.minute=minute,e.second=second,e.millisecond=millisecond,e.tickIntervals=[[e.second,1,durationSecond],[e.second,5,5*durationSecond],[e.second,15,15*durationSecond],[e.second,30,30*durationSecond],[e.minute,1,durationMinute],[e.minute,5,5*durationMinute],[e.minute,15,15*durationMinute],[e.minute,30,30*durationMinute],[e.hour,1,durationHour],[e.hour,3,3*durationHour],[e.hour,6,6*durationHour],[e.hour,12,12*durationHour],[e.day,1,durationDay],[e.day,2,2*durationDay],[e.week,1,durationWeek],[e.week,2,2*durationWeek],[e.week,3,3*durationWeek],[e.month,1,durationMonth],[e.month,2,2*durationMonth],[e.month,3,3*durationMonth],[e.month,4,4*durationMonth],[e.month,6,6*durationMonth],[e.year,1,durationYear]],e}return __extends$2n(t,l),t.prototype.toDomain=function(e){return new Date(e)},t.prototype.calculateDefaultTickFormat=function(e){var r,o;void 0===e&&(e=[]);var L,s=DefaultTimeFormats.YEAR;try{for(var f=__values$p(e),y=f.next();!y.done;y=f.next()){(L=this.getLowestGranularityFormat(y.value))<s&&(s=L)}}catch(L){r={error:L}}finally{try{y&&!y.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}var O=toNumber(e[0]),D=toNumber(e[e.length-1]),P=new Date(O).getFullYear(),R=new Date(D).getFullYear();return this.buildFormatString(s,R-P>0)},t.prototype.buildFormatString=function(e,r){var o=[formatStrings[e]],s=0,d=this.getDomain(),f=Math.min.apply(Math,__spread$v(d.map(toNumber))),m=Math.max.apply(Math,__spread$v(d.map(toNumber)))-f;switch(e){case DefaultTimeFormats.SECOND:m/durationMinute>1&&o.push(formatStrings[DefaultTimeFormats.MINUTE]);case DefaultTimeFormats.MINUTE:m/durationHour>1&&o.push(formatStrings[DefaultTimeFormats.HOUR]);case DefaultTimeFormats.HOUR:s=o.length,m/durationDay>1&&o.push(formatStrings[DefaultTimeFormats.WEEK_DAY]);case DefaultTimeFormats.WEEK_DAY:if(m/durationWeek>1||r){var E=o.indexOf(formatStrings[DefaultTimeFormats.WEEK_DAY]);E>-1&&o.splice(E,1,formatStrings[DefaultTimeFormats.SHORT_MONTH])}case DefaultTimeFormats.SHORT_MONTH:case DefaultTimeFormats.MONTH:(m/durationYear>1||r)&&o.push(formatStrings[DefaultTimeFormats.YEAR])}return s<o.length&&(o=__spread$v(o.slice(0,s),[o.slice(s).join(" ")])),s>0&&s<(o=__spread$v(o.slice(0,s).reverse(),o.slice(s))).length&&o.splice(s,0," "),o.join("")},t.prototype.getLowestGranularityFormat=function(e){return this.second.floor(e)<e?DefaultTimeFormats.MILLISECOND:this.minute.floor(e)<e?DefaultTimeFormats.SECOND:this.hour.floor(e)<e?DefaultTimeFormats.MINUTE:this.day.floor(e)<e?DefaultTimeFormats.HOUR:this.month.floor(e)<e?this.week.floor(e)<e?DefaultTimeFormats.WEEK_DAY:DefaultTimeFormats.SHORT_MONTH:this.year.floor(e)<e?DefaultTimeFormats.MONTH:DefaultTimeFormats.YEAR},t.prototype.defaultTickFormat=function(e){var r=this.calculateDefaultTickFormat(e);return function(o){return buildFormatter(r)(o)}},t.prototype.getTickInterval=function(e){for(var r,E,O,o=e.start,s=e.stop,f=e.minCount,y=e.maxCount,m=this.tickIntervals,D=e.count??ContinuousScale.defaultTickCount,P=Math.abs(s-o)/Math.max(D,1),R=0;R<m.length&&P>m[R][2];)R++;return 0===R?(O=Math.max(tickStep(o,s,D,f,y),1),E=this.millisecond):R===m.length?(O=tickStep(o/durationYear,s/durationYear,D,f,y),E=this.year):(E=(r=__read$R(m[P-m[R-1][2]<m[R][2]-P?R-1:R],2))[0],O=r[1]),E.every(O)},t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var e=__read$R(this.getDomain().map(toNumber),2),r=e[0],o=e[1];if(void 0!==this.interval)return this.getTicksForInterval({start:r,stop:o});if(this.nice){var s=this.tickCount;if(2===s)return this.niceDomain;if(1===s)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:r,stop:o})},t.prototype.getDefaultTicks=function(e){var r=e.start,o=e.stop,s=this.getTickInterval({start:r,stop:o,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return s?s.range(new Date(r),new Date(o)):[]},t.prototype.getTicksForInterval=function(e){var r=e.start,o=e.stop,d=this.interval,f=this.tickIntervals;if(!d)return[];if(d instanceof TimeInterval){var y=d.range(new Date(r),new Date(o));return this.isDenseInterval({start:r,stop:o,interval:d,count:y.length})?this.getDefaultTicks({start:r,stop:o}):y}var m=Math.abs(d);if(this.isDenseInterval({start:r,stop:o,interval:m}))return this.getDefaultTicks({start:r,stop:o});var E=__spread$v(f);E.reverse();var O=E.find(function(L){return m%L[2]==0});if(O)return O[0].every(m/(O[2]/O[1])).range(new Date(r),new Date(o));for(var P=new Date(r),R=new Date(o),x=[];P<=R;)x.push(P),(P=new Date(P)).setMilliseconds(P.getMilliseconds()+m);return x},t.prototype.tickFormat=function(e){var o=e.specifier;return null==o?this.defaultTickFormat(e.ticks):buildFormatter(o)},t.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},t.prototype.updateNiceDomain=function(){for(var r=__read$R(this.domain,2),o=r[0],s=r[1],d=0;d<4;d++){this.updateNiceDomainIteration(o,s);var f=__read$R(this.niceDomain,2),y=f[0],m=f[1];if(toNumber(o)===toNumber(y)&&toNumber(s)===toNumber(m))break;o=y,s=m}},t.prototype.updateNiceDomainIteration=function(e,r){var f,o=toNumber(e),s=toNumber(r),d=this.interval;if(d instanceof TimeInterval)f=d;else{var y="number"==typeof d?(s-o)/Math.max(d,1):this.tickCount;f=this.getTickInterval({start:o,stop:s,count:y,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(f){var m=f.range(e,r,!0);this.niceDomain=[m[0],m[m.length-1]]}},t}(ContinuousScale),__read$Q=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$u=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$Q(arguments[t]));return l},_a$1,group=function(l){return"("+l+")"},optionalGroup=function(l){return group(l)+"?"},nonCapturingGroup=function(l){return optionalGroup("?:"+l)},formatRegEx=new RegExp(["^",nonCapturingGroup(""+optionalGroup(".")+group("[<>=^]")),optionalGroup("[+\\-( ]"),optionalGroup("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),optionalGroup("0"),optionalGroup("\\d+"),optionalGroup(","),nonCapturingGroup("\\."+group("\\d+")),optionalGroup("~"),optionalGroup("[%a-z]"),"$"].join(""),"i"),surroundedRegEx=new RegExp(["^",group(".*?"),"#\\{"+group(".+?")+"\\}",group(".*?"),"$"].join(""));function parseFormatter(l){var t,e,r,o=l.match(surroundedRegEx);o&&(e=(t=__read$Q(o,4))[1],l=t[2],r=t[3]);var s=l.match(formatRegEx);if(!s)throw new Error("The number formatter is invalid: "+l);var d=__read$Q(s,11),P=d[7],R=d[8],x=d[9],L=d[10];return{fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:parseInt(d[6]),comma:P,precision:parseInt(R),trim:!!x,type:L,prefix:e,suffix:r}}function format(l){var B,t="string"==typeof l?parseFormatter(l):l,e=t.fill,r=t.align,o=t.sign,s=void 0===o?"-":o,d=t.symbol,f=t.zero,y=t.width,m=t.comma,E=t.type,O=t.prefix,D=void 0===O?"":O,P=t.suffix,R=void 0===P?"":P,x=t.precision,L=t.trim;if(E)if(E in decimalTypes&&E in integerTypes)B=isNaN(x)?integerTypes[E]:decimalTypes[E];else if(E in decimalTypes)B=decimalTypes[E];else{if(!(E in integerTypes))throw new Error("The number formatter type is invalid: "+E);B=integerTypes[E]}else B=decimalTypes.g,L=!0;return isNaN(x)&&(x=E?6:12),function(U){var Y=B(U,x);return L&&(Y=removeTrailingZeros(Y)),m&&(Y=insertSeparator(Y,m)),Y=addSign(U,Y,s),d&&"#"!==d&&(Y=""+d+Y),"#"===d&&"x"===E&&(Y="0x"+Y),"s"===E&&(Y=""+Y+getSIPrefix(U)),("%"===E||"p"===E)&&(Y+="%"),isNaN(y)||(Y=addPadding(Y,y,e||f,r)),""+D+Y+R}}var absFloor=function(l){return Math.floor(Math.abs(l))},integerTypes={b:function(l){return absFloor(l).toString(2)},c:function(l){return String.fromCharCode(l)},d:function(l){return Math.round(Math.abs(l)).toFixed(0)},o:function(l){return absFloor(l).toString(8)},x:function(l){return absFloor(l).toString(16)},X:function(l){return integerTypes.x(l).toUpperCase()},n:function(l){return integerTypes.d(l)},"%":function(l){return""+absFloor(100*l).toFixed(0)}},decimalTypes={e:function(l,t){return Math.abs(l).toExponential(t)},E:function(l,t){return decimalTypes.e(l,t).toUpperCase()},f:function(l,t){return Math.abs(l).toFixed(t)},F:function(l,t){return decimalTypes.f(l,t).toUpperCase()},g:function(l,t){if(0===l)return"0";var e=Math.abs(l),r=Math.floor(Math.log10(e));return r>=-4&&r<t?e.toFixed(t-1-r):e.toExponential(t-1)},G:function(l,t){return decimalTypes.g(l,t).toUpperCase()},n:function(l,t){return decimalTypes.g(l,t)},p:function(l,t){return decimalTypes.r(100*l,t)},r:function(l,t){if(0===l)return"0";var e=Math.abs(l),o=Math.floor(Math.log10(e))-(t-1);if(o<=0)return e.toFixed(-o);var s=Math.pow(10,o);return(Math.round(e/s)*s).toFixed()},s:function(l,t){var e=getSIPrefixPower(l);return decimalTypes.r(l/Math.pow(10,e),t)},"%":function(l,t){return decimalTypes.f(100*l,t)}};function removeTrailingZeros(l){return l.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function insertSeparator(l,t){var e=l.indexOf(".");e<0&&(e=l.length);for(var r=l.substring(0,e).split(""),o=l.substring(e),s=r.length-3;s>0;s-=3)r.splice(s,0,t);return""+r.join("")+o}function getSIPrefix(l){return siPrefixes[getSIPrefixPower(l)]}function getSIPrefixPower(l){var t=Math.log10(Math.abs(l)),e=3*Math.floor(t/3);return Math.max(minSIPrefix,Math.min(maxSIPrefix,e))}var minSIPrefix=-24,maxSIPrefix=24,siPrefixes=(_a$1={},_a$1[minSIPrefix]="y",_a$1[-21]="z",_a$1[-18]="a",_a$1[-15]="f",_a$1[-12]="p",_a$1[-9]="n",_a$1[-6]="\xb5",_a$1[-3]="m",_a$1[0]="",_a$1[3]="k",_a$1[6]="M",_a$1[9]="G",_a$1[12]="T",_a$1[15]="P",_a$1[18]="E",_a$1[21]="Z",_a$1[maxSIPrefix]="Y",_a$1),minusSign="\u2212";function addSign(l,t,e){return void 0===e&&(e=""),"("===e?l>=0?t:"("+t+")":""+(l>=0?"+"===e?"+":"":minusSign)+t}function addPadding(l,t,e,r){void 0===e&&(e=" "),void 0===r&&(r=">");var o=l;if(">"!==r&&r){if("<"===r)o=o.padEnd(t,e);else if("^"===r){var s=Math.max(0,t-o.length),d=Math.ceil(s/2),f=Math.floor(s/2);o=(o=o.padStart(d+o.length,e)).padEnd(f+o.length,e)}}else o=o.padStart(t,e);return o}function tickFormat(l,t){var e=parseFormatter(t||",f");isNaN(e.precision)&&("f"===e.type||"%"===e.type?e.precision=Math.max.apply(Math,__spread$u(l.map(function(o){if("number"!=typeof o||0===o)return 0;var s=Math.floor(Math.log10(Math.abs(o))),f=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e"),y=f.indexOf(".");if(y<0)return s>=0?0:-s;var m=f.indexOf("e")-y;return Math.max(0,m-s-1)}))):(!e.type||e.type in decimalTypes)&&(e.precision=Math.max.apply(Math,__spread$u(l.map(function(o){if("number"!=typeof o)return 0;var s=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return s.substring(0,s.indexOf("e")).replace(".","").length})))));var r=format(e);return function(o){return r(Number(o))}}var __extends$2m=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1F=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$P=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$t=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$P(arguments[t]));return l},identity=function(l){return l},LogScale=function(l){function t(){var e=l.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=identity,e.basePow=identity,e.log=function(r){return e.domain[0]>=0?e.baseLog(r):-e.baseLog(-r)},e.pow=function(r){return e.domain[0]>=0?e.basePow(r):-e.basePow(-r)},e}return __extends$2m(t,l),t.prototype.toDomain=function(e){return e},t.prototype.transform=function(e){return this.domain[0]>=0?Math.log(e):-Math.log(-e)},t.prototype.transformInvert=function(e){return this.domain[0]>=0?Math.exp(e):-Math.exp(-e)},t.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},t.prototype.updateLogFn=function(){var r,e=this.base;if(10===e)r=Math.log10;else if(e===Math.E)r=Math.log;else if(2===e)r=Math.log2;else{var o=Math.log(e);r=function(s){return Math.log(s)/o}}this.baseLog=r},t.prototype.updatePowFn=function(){var r,e=this.base;r=10===e?t.pow10:e===Math.E?Math.exp:function(o){return Math.pow(e,o)},this.basePow=r},t.prototype.updateNiceDomain=function(){var e=__read$P(this.domain,2),o=e[1],s=this.pow(Math.floor(this.log(e[0]))),d=this.pow(Math.ceil(this.log(o)));this.niceDomain=[s,d]},t.pow10=function(e){return e>=0?Math.pow(10,e):1/Math.pow(10,-e)},t.prototype.ticks=function(){var r,e=this,o=null!==(r=this.tickCount)&&void 0!==r?r:10;if(!this.domain||this.domain.length<2||o<1)return[];this.refresh();var s=this.base,d=__read$P(this.getDomain(),2),f=d[0],y=d[1],m=this.log(f),E=this.log(y);if(this.interval){var O=Math.abs(this.interval),D=Math.abs(E-m),P=range(m,E,Math.min(D,O)).map(function(Me){return e.pow(Me)}).filter(function(Me){return Me>=f&&Me<=y});if(!this.isDenseInterval({start:f,stop:y,interval:O,count:P.length}))return P}if(s%1!=0||E-m>=o)return ticks(m,E,Math.min(E-m,o)).map(function(Me){return e.pow(Me)});var L=[],B=f>0;m=Math.floor(m)-1,E=Math.round(E)+1;for(var U=Math.min.apply(Math,__spread$t(this.range)),ee=(Math.max.apply(Math,__spread$t(this.range))-U)/o,oe=1/0,re=m;re<=E;re++)for(var ie=this.convert(this.pow(re+1)),q=1;q<s;q++){var se=B?q:s-q+1,ue=this.pow(re)*se,ge=this.convert(ue),ve=Math.abs(oe-ge),Ce=Math.abs(ge-ie);ue>=f&&ue<=y&&(1===q||ve>=ee&&Ce>=ee)&&(L.push(ue),oe=ge)}return L},t.prototype.tickFormat=function(e){var r=e.count,o=e.ticks,s=e.specifier;return null==s&&(s=10===this.base?".0e":","),"function"!=typeof s&&(s=format(s)),r===1/0?s:(null==r&&(r=10),o=o??this.ticks(),function(f){return s(f)})},__decorate$1F([Validate(NUMBER(0))],t.prototype,"base",void 0),t}(ContinuousScale);function Default(l,t){return void 0===t&&(t=[void 0]),addTransformToInstanceProperty(function(e,r,o){return t.includes(o)?l:o})}function extent$4(l){var t=l.length;if(0!==t){for(var e=1/0,r=-1/0,o=0;o<t;o++){var s=l[o];s instanceof Date&&(s=s.getTime()),"number"==typeof s&&(s<e&&(e=s),s>r&&(r=s))}var d=[e,r];if(!d.some(function(f){return!isFinite(f)}))return d}}var __decorate$1E=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Label$1=function(){function l(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return l.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1E([Validate(BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1E([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1E([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1E([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1E([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1E([Validate(COLOR_STRING)],l.prototype,"color",void 0),l}();function calculateLabelRotation(l){var t=l.parallelFlipRotation,e=void 0===t?0:t,r=l.regularFlipRotation,o=void 0===r?0:r,s=l.rotation?normalizeAngle360(toRadians$1(l.rotation)):0,d=!s&&e>=0&&e<=Math.PI?-1:1,f=!s&&o>=0&&o<=Math.PI?-1:1,y=0;return l.parallel?y=d*Math.PI/2:-1===f&&(y=Math.PI),{labelRotation:s,autoRotation:y,parallelFlipFlag:d,regularFlipFlag:f}}var __decorate$1D=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$O=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$s=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$O(arguments[t]));return l},TICK_COUNT=predicateWithMessage(function(l,t){return NUMBER(0)(l,t)||l instanceof TimeInterval},"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_COUNT=predicateWithMessage(function(l,t){return OPTIONAL(l,t,TICK_COUNT)},"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_INTERVAL=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e,r){return 0!==e&&NUMBER(0)(e,r)||e instanceof TimeInterval})},"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),GRID_STYLE_KEYS=["stroke","lineDash"],GRID_STYLE=predicateWithMessage(ARRAY(void 0,function(l){for(var t in l)if(!GRID_STYLE_KEYS.includes(t))return!1;return!0}),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'"),Tags=(()=>((Tags=Tags||{})[Tags.TickLine=0]="TickLine",Tags[Tags.TickLabel=1]="TickLabel",Tags[Tags.GridLine=2]="GridLine",Tags[Tags.GridArc=3]="GridArc",Tags[Tags.AxisLine=4]="AxisLine",Tags))(),AxisLine=function(){function l(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return __decorate$1D([Validate(NUMBER(0))],l.prototype,"width",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),l}(),AxisTick=function(){function l(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN,this.maxSpacing=NaN}return __decorate$1D([Validate(NUMBER(0))],l.prototype,"width",void 0),__decorate$1D([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),__decorate$1D([Validate(OPT_TICK_COUNT),Deprecated("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")],l.prototype,"count",void 0),__decorate$1D([Validate(OPT_TICK_INTERVAL)],l.prototype,"interval",void 0),__decorate$1D([Validate(OPT_ARRAY())],l.prototype,"values",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),LESS_THAN("maxSpacing"))),Default(NaN)],l.prototype,"minSpacing",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),GREATER_THAN("minSpacing"))),Default(NaN)],l.prototype,"maxSpacing",void 0),l}(),AxisLabel=function(){function l(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return __decorate$1D([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1D([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1D([Validate(NUMBER(1))],l.prototype,"fontSize",void 0),__decorate$1D([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1D([Validate(NUMBER(0))],l.prototype,"padding",void 0),__decorate$1D([Validate(NUMBER_OR_NAN()),Default(NaN)],l.prototype,"minSpacing",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),__decorate$1D([Validate(OPT_NUMBER(-360,360))],l.prototype,"rotation",void 0),__decorate$1D([Validate(OPT_BOOLEAN)],l.prototype,"autoRotate",void 0),__decorate$1D([Validate(NUMBER(-360,360))],l.prototype,"autoRotateAngle",void 0),__decorate$1D([Validate(BOOLEAN)],l.prototype,"avoidCollisions",void 0),__decorate$1D([Validate(BOOLEAN)],l.prototype,"mirrored",void 0),__decorate$1D([Validate(BOOLEAN)],l.prototype,"parallel",void 0),__decorate$1D([Validate(OPT_STRING)],l.prototype,"format",void 0),l}(),Axis=function(){function l(t){this.id=createId$1(this),this.nice=!0,this.dataDomain=[],this.axisGroup=new Group({name:this.id+"-axis",zIndex:Layers.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new Line),this.tickLineGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-lines",zIndex:Layers.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-labels",zIndex:Layers.AXIS_ZINDEX})),this.crossLineGroup=new Group({name:this.id+"-CrossLines"}),this.gridGroup=new Group({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridLines",zIndex:Layers.AXIS_GRID_ZINDEX})),this.gridArcGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridArcs",zIndex:Layers.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=Selection.select(this.tickLineGroup,Line),this.tickLabelGroupSelection=Selection.select(this.tickLabelGroup,Text),this.gridLineGroupSelection=Selection.select(this.gridLineGroup,Line),this.gridArcGroupSelection=Selection.select(this.gridArcGroup,Arc),this._crossLines=[],this.line=new AxisLine,this.tick=new AxisTick,this.label=new AxisLabel,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{align:"center",baseline:"middle",rotation:0,fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.thickness=0,this._scale=t,this.refreshScale()}return Object.defineProperty(l.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var r,o,e=this;null===(r=this._crossLines)||void 0===r||r.forEach(function(s){return e.detachCrossLine(s)}),this._crossLines=t,null===(o=this._crossLines)||void 0===o||o.forEach(function(s){e.attachCrossLine(s),e.initCrossLine(s)})},enumerable:!1,configurable:!0}),l.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},l.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},l.prototype.destroy=function(){},l.prototype.refreshScale=function(){var e,t=this;this.requestedRange=this.scale.range.slice(),null===(e=this.crossLines)||void 0===e||e.forEach(function(r){t.initCrossLine(r)})},l.prototype.updateRange=function(){var t,e=this,r=e.requestedRange,o=e.visibleRange,d=(r[1]-r[0])/(o[1]-o[0]),y=r[0]-d*o[0];e.scale.range=[y,y+d],null===(t=this.crossLines)||void 0===t||t.forEach(function(m){m.clippedRange=[r[0],r[1]]})},l.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},l.prototype.attachAxis=function(t,e){t.insertBefore(this.gridGroup,e),t.insertBefore(this.axisGroup,e),t.insertBefore(this.crossLineGroup,e)},l.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},l.prototype.inRange=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=0),0===this.inRangeEx(t,e,r)},l.prototype.inRangeEx=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=this.range,s=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]);return t+e<s-r?-1:t>d+r?1:0},Object.defineProperty(l.prototype,"range",{get:function(){return this.requestedRange},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=__read$O(t,2),r=e[0],o=e[1];r=Math.max(0,r),o=Math.min(1,o),r=Math.min(r,o),o=Math.max(r,o),this._visibleRange=[r,o],this.updateRange()}},enumerable:!1,configurable:!0}),l.prototype.onLabelFormatChange=function(t,e){var o=this.scale,s=this.fractionDigits,f=!(o instanceof LogScale)&&s>0?function(y){return"number"==typeof y?y.toFixed(s):String(y)}:function(y){return String(y)};if(e&&o&&o.tickFormat)try{this.labelFormatter=o.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=f,Logger.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=f},Object.defineProperty(l.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.axisGroup.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.axisGroup.appendChild(t.node)),this._title=t,this.setTickCount(this.tick.count),this.setTickInterval(this.tick.interval),this.updateTitle({ticks:this.scale.ticks()}))},enumerable:!1,configurable:!0}),l.prototype.setDomain=function(){var t,e=this,r=e.scale,o=e.dataDomain,s=e.tick.values;if(s&&r instanceof ContinuousScale){var d=__read$O(null!==(t=extent$4(s))&&void 0!==t?t:[1/0,-1/0],2),f=d[0],y=d[1],m=Math.min(r.fromDomain(o[0]),f),E=Math.max(r.fromDomain(o[1]),y);r.domain=[r.toDomain(m),r.toDomain(E)]}else r.domain=o},l.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},l.prototype.setTickCount=function(t,e,r){var o=this.scale;if(t&&o instanceof ContinuousScale){if("number"==typeof t)return o.tickCount=t,o.minTickCount=e??0,void(o.maxTickCount=r??1/0);o instanceof TimeScale$1&&this.setTickInterval(t)}},Object.defineProperty(l.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var r,e=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear()),this._gridLength=t,null===(r=this.crossLines)||void 0===r||r.forEach(function(o){e.initCrossLine(o)})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear())},enumerable:!1,configurable:!0}),l.prototype.update=function(t){var e,r;this.calculateDomain();var o=this,s=o.scale,d=o.gridLength,f=o.tick,y=o.label,m=y.parallel,E=y.mirrored,O=y.avoidCollisions,D=o.requestedRange,P=Math.min.apply(Math,__spread$s(D)),R=Math.max.apply(Math,__spread$s(D)),x=toRadians$1(this.rotation),L=this.isAnySeriesActive(),B=E?1:-1,U=normalizeAngle360(x),Y=normalizeAngle360(x-Math.PI/2),ee=this.nice;this.setDomain(),this.setTickInterval(this.tick.interval),s instanceof ContinuousScale&&(s.nice=ee,this.setTickCount(this.tick.count),s.update());var oe=(s.bandwidth||0)/2;this.updatePosition(),this.updateLine();for(var re=0,ie=!0,q=[],se=this.estimateTickCount({minSpacing:this.tick.minSpacing,maxSpacing:this.tick.maxSpacing}),ue=se.maxTickCount,ge=se.minTickCount,ve=se.defaultTickCount,Ce=s instanceof ContinuousScale,Pe=void 0!==t,Me=O&&void 0===this.tick.interval&&void 0===this.tick.values,Re=!isNaN(this.tick.minSpacing)||!isNaN(this.tick.maxSpacing),Ne=this.tick.count||!Ce||isNaN(ue)?10:ue;ie;){for(var he=!0,De=function(){if(re>Ne)return"break";var bt=q,er=Math.max(ve-re,ge),Ht=Me&&!(Ce&&void 0===_e.tick.count)&&(Re||0!==re);if(_e.tick.values?q=_e.tick.values:0===ue?q=[]:(0===re||!Ht)&&(_e.setTickCount(null!==(e=_e.tick.count)&&void 0!==e?e:er,ge,ue),q=s.ticks()),Ht){var _r=Re?Math.ceil(q.length/er):2;q=q.filter(function(Xr,Xe){return Xe%_r==0})}var ir=void 0;Pe&&(ir=_e.updateSecondaryAxisTicks(t),q=ir),_e.updateSelections({halfBandwidth:oe,gridLength:d,ticks:q}),!Pe&&q.length>0&&(t=q.length),he=!!Me&&areArrayNumbersEqual(q,bt),re++},_e=this;he&&"break"!==De(););if(he)break;this.onLabelFormatChange(q,this.label.format);var Le=this.updateLabels({parallelFlipRotation:U,regularFlipRotation:Y,sideFlag:B,tickLabelGroupSelection:this.tickLabelGroupSelection,ticks:q}),Ie=Le.labelData,dt=this.getLabelSpacing(Le.rotated);ie=!!Me&&axisLabelsOverlap(Ie,dt)}this.updateGridLines({gridLength:d,halfBandwidth:oe,sideFlag:B});var ht=!1,pt=function(bt){var er=Math.floor(P),Ht=Math.ceil(R);if(er!==Ht){bt.translationY>=er-1&&bt.translationY<er&&(bt.translationY=er),bt.translationY>Ht&&bt.translationY<=Ht+1&&(bt.translationY=Ht);var _r=bt.translationY>=er&&bt.translationY<=Ht;_r&&(ht=!0),bt.visible=_r}else bt.visible=!1},vt=this.gridArcGroupSelection,Nt=this.tickLineGroupSelection,xt=this.tickLabelGroupSelection;return this.gridLineGroupSelection.each(pt),vt.each(pt),Nt.each(pt),xt.each(pt),this.tickLineGroup.visible=ht,this.tickLabelGroup.visible=ht,this.gridLineGroup.visible=ht,this.gridArcGroup.visible=ht,null===(r=this.crossLines)||void 0===r||r.forEach(function(bt){bt.sideFlag=-B,bt.direction=x===-Math.PI/2?ChartAxisDirection.X:ChartAxisDirection.Y,bt.label.parallel=void 0!==bt.label.parallel?bt.label.parallel:m,bt.parallelFlipRotation=U,bt.regularFlipRotation=Y,bt.update(L)}),this.updateTitle({ticks:q}),Nt.each(function(bt){bt.strokeWidth=f.width,bt.stroke=f.color,bt.visible=ht,bt.x1=B*f.size,bt.x2=0,bt.y1=0,bt.y2=0}),t},l.prototype.estimateTickCount=function(t){var e=t.minSpacing,r=t.maxSpacing,o=this.requestedRange,s=Math.min.apply(Math,__spread$s(o)),f=Math.max.apply(Math,__spread$s(o))-s,y=Math.max(l.defaultTickMinSpacing,f/ContinuousScale.defaultMaxTickCount);isNaN(e)&&isNaN(r)?(e=y)>(r=f)&&(r=e):isNaN(e)?(e=y)>r&&(e=r):isNaN(r)&&e>(r=f)&&(r=e);var m=Math.max(1,Math.floor(f/e)),E=Math.min(m,Math.ceil(f/r)),O=ContinuousScale.defaultTickCount;return O>m?O=m:O<E&&(O=E),{minTickCount:E,maxTickCount:m,defaultTickCount:O}},l.prototype.getLabelSpacing=function(t){var e=this.label;return isNaN(e.minSpacing)?t?0:10:e.minSpacing},l.prototype.calculateDomain=function(){},l.prototype.updatePosition=function(){var t=this,e=t.label,r=t.crossLineGroup,o=t.axisGroup,s=t.gridGroup,d=t.translation,f=t.gridLineGroupSelection,y=t.gridPadding,m=t.gridLength,E=toRadians$1(this.rotation),O=e.mirrored?1:-1,D=Math.floor(d.x),P=Math.floor(d.y);r.translationX=D,r.translationY=P,r.rotation=E,o.translationX=D,o.translationY=P,o.rotation=E,s.translationX=D,s.translationY=P,s.rotation=E,f.each(function(R){R.x1=y,R.x2=-O*m+y,R.y1=0,R.y2=0})},l.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},l.prototype.updateSelections=function(t){var r=t.halfBandwidth,o=t.gridLength,s=this.scale,d=t.ticks.map(function(D){return{tick:D,translationY:s.convert(D)+r}}),f=this.radialGrid?this.gridLineGroupSelection:this.gridLineGroupSelection.update(o?d:[],function(D){var P=new Line;P.tag=Tags.GridLine,D.append(P)}),y=this.radialGrid?this.gridArcGroupSelection.update(o?d:[],function(D){var P=new Arc;P.tag=Tags.GridArc,D.append(P)}):this.gridArcGroupSelection,m=this.tickLineGroupSelection.update(d,function(D){var P=new Line;P.tag=Tags.TickLine,D.appendChild(P)}),E=this.tickLabelGroupSelection.update(d,function(D){var P=new Text;P.tag=Tags.TickLabel,D.appendChild(P)}),O=function(D){return D.translationY=Math.round(D.datum.translationY)};f.each(O),y.each(O),m.each(O),E.each(O),this.tickLineGroupSelection=m,this.tickLabelGroupSelection=E,this.gridLineGroupSelection=f,this.gridArcGroupSelection=y},l.prototype.updateGridLines=function(t){var e=t.gridLength,r=t.halfBandwidth,o=t.sideFlag,s=this,d=s.gridStyle,f=s.scale,y=s.tick,m=s.gridPadding;if(e&&d.length){var E=d.length,O=void 0;if(this.radialGrid){var D=normalizeAngle360Inclusive(toRadians$1(e));O=this.gridArcGroupSelection.each(function(P,R){var x=Math.round(f.convert(R)+r);P.centerX=0,P.centerY=f.range[0]-x,P.endAngle=D,P.radius=x})}else O=this.gridLineGroupSelection.each(function(P){P.x1=m,P.x2=-o*e+m,P.y1=0,P.y2=0});O.each(function(P,R,x){var L=d[x%E];P.stroke=L.stroke,P.strokeWidth=y.width,P.lineDash=L.lineDash,P.fill=void 0})}},l.prototype.updateLabels=function(t){var e=this,r=t.ticks,o=t.tickLabelGroupSelection,s=t.sideFlag,y=this,m=y.label,E=y.label,O=E.parallel,P=y.tick,R=0,x=calculateLabelRotation({rotation:E.rotation,parallel:O,regularFlipRotation:t.regularFlipRotation,parallelFlipRotation:t.parallelFlipRotation}),L=x.autoRotation,B=x.labelRotation,U=x.parallelFlipFlag,Y=x.regularFlipFlag;this.fractionDigits=r.fractionDigits>=0?r.fractionDigits:0;var ee=new Map,oe=s*(P.size+m.padding+this.seriesAreaPadding),re=new Matrix;Matrix.updateTransformMatrix(re,1,1,L,0,0);var ie=[],q=o.each(function(Ne,he,De){var _e=he.tick,Oe=he.translationY;Ne.fontStyle=m.fontStyle,Ne.fontWeight=m.fontWeight,Ne.fontSize=m.fontSize,Ne.fontFamily=m.fontFamily,Ne.fill=m.color,Ne.text=e.formatTickDatum(_e,De);var Le=""===Ne.text||null==Ne.text,Ie=Ne.computeBBox(),Ye=Ie.width,dt=Ie.height,ht=new BBox(oe,Oe,0,0);re.transformBBox(ht,Ie);var pt=Ie.x,Pt=void 0===pt?0:pt,Qe=Ie.y,vt=void 0===Qe?0:Qe;Ie.width=Ye,Ie.height=dt,ee.set(De,Le?null:Ie),!Le&&ie.push({point:{x:Pt,y:vt,size:0},label:{width:Ye,height:dt,text:""}})}),se=this.getLabelSpacing(),ue=axisLabelsOverlap(ie,se);void 0===m.rotation&&!0===m.autoRotate&&ue&&(R=normalizeAngle360(toRadians$1(m.autoRotateAngle)));var ge="middle";O&&!B&&(ge=s*U==-1?"hanging":"bottom");var ve=B>0&&B<=Math.PI,Ce=R>0&&R<=Math.PI,Me="start";O?B||R?s*(ve||Ce?-1:1)==-1&&(Me="end"):Me="center":s*Y==-1&&(Me="end");var Re=L+B+R;return Re&&Matrix.updateTransformMatrix(re,1,1,Re,0,0),ie=[],q.each(function(Ne,he,De){if(""!==Ne.text&&null!=Ne.text){Ne.textBaseline=ge,Ne.textAlign=Me,Ne.x=oe,Ne.rotationCenterX=oe,Ne.rotation=Re;var _e=ee.get(De);if(_e){Ne.visible=!0;var Oe=_e.width,Le=void 0===Oe?0:Oe,Ie=_e.height,Ye=void 0===Ie?0:Ie,ht=new BBox(oe,he.translationY,0,0);re.transformBBox(ht,_e);var pt=_e.x,Qe=_e.y;ie.push({point:{x:void 0===pt?0:pt,y:void 0===Qe?0:Qe,size:0},label:{width:Le,height:Ye,text:Ne.text}})}}else Ne.visible=!1}),this.layout.label={align:Me,baseline:ge,rotation:Re,fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format},{labelData:ie,rotated:!(!B&&!R)}},l.prototype.updateLine=function(){var e=this.lineNode,r=this.requestedRange;e.x1=0,e.x2=0,e.y1=r[0],e.y2=r[1],e.strokeWidth=this.line.width,e.stroke=this.line.color,e.visible=!0},l.prototype.updateTitle=function(t){var e=t.ticks,r=this,s=r.rotation,d=r.title,y=r.requestedRange,m=r.tickLineGroup,E=r.tickLabelGroup;if(d){var O=!1;if(d.enabled&&r.lineNode.visible){O=!0;var D=r.label.mirrored?1:-1,P=normalizeAngle360(s),R=Caption.PADDING,x=d.node,L=-1===D&&P>Math.PI&&P<2*Math.PI?-1:1;x.rotation=L*D*Math.PI/2,x.x=Math.floor(L*D*(y[0]+y[1])/2);var B=0;if(e?.length>0){var U=Group.computeBBox([m,E]),Y=0===s?U.width:U.height;Math.abs(Y)<1/0&&(B+=Y)}x.y=-1===D?Math.floor(L*(-R-B)):Math.floor(-R-B),x.textBaseline=1===L?"bottom":"top"}d.node.visible=O}},l.prototype.formatTickDatum=function(t,e){var r=this,o=r.label,s=r.labelFormatter,d=r.fractionDigits;return o.formatter?o.formatter({value:d>0?t:String(t),index:e,fractionDigits:d,formatter:s}):s?s(t):String(t)},l.prototype.formatDatum=function(t){return String(t)},l.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},l.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},l.prototype.isAnySeriesActive=function(){return!1},l.prototype.clipTickLines=function(t,e,r,o){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,r,o))},l.prototype.clipGrid=function(t,e,r,o){this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,r,o))},l.prototype.calculatePadding=function(t,e){return Math.abs(.01*t)},l.defaultTickMinSpacing=50,__decorate$1D([Validate(BOOLEAN)],l.prototype,"nice",void 0),__decorate$1D([Validate(GRID_STYLE)],l.prototype,"gridStyle",void 0),__decorate$1D([Validate(NUMBER(0))],l.prototype,"thickness",void 0),l}(),__extends$2l=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__read$N=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},LinearScale$1=function(l){function t(){var e=l.call(this,[0,1],[0,1])||this;return e.type="linear",e}return __extends$2l(t,l),t.prototype.toDomain=function(e){return e},t.prototype.ticks=function(){var e,r=null!==(e=this.tickCount)&&void 0!==e?e:ContinuousScale.defaultTickCount;if(!this.domain||this.domain.length<2||r<1||this.domain.some(function(m){return!isFinite(m)}))return[];this.refresh();var o=__read$N(this.getDomain(),2),s=o[0],d=o[1],f=this.interval;if(f){var y=Math.abs(f);if(!this.isDenseInterval({start:s,stop:d,interval:y}))return range(s,d,y)}return ticks(s,d,r,this.minTickCount,this.maxTickCount)},t.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},t.prototype.updateNiceDomain=function(){var e,r,o=null!==(e=this.tickCount)&&void 0!==e?e:ContinuousScale.defaultTickCount,s=__read$N(this.domain,2),d=s[0],f=s[1];if(o<1)this.niceDomain=[d,f];else if(1!==o){for(var m=d,E=f,O=0;O<4;O++){var D=null!==(r=this.interval)&&void 0!==r?r:tickStep(d,f,o,this.minTickCount,this.maxTickCount),P=__read$N(this.domain,2),R=P[0],x=P[1];if(D>=1)d=Math.floor(R/D)*D,f=Math.ceil(x/D)*D;else{var L=1/D;d=Math.floor(R*L)/L,f=Math.ceil(x*L)/L}if(d===m&&f===E)break;m=d,E=f}this.niceDomain=[d,f]}else this.niceDomain=singleTickDomain(d,f)},t.prototype.tickFormat=function(e){var o=e.specifier;return tickFormat(e.ticks||this.ticks(),o)},t}(ContinuousScale),__extends$2k=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$E=function(){return __assign$E=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$E.apply(this,arguments)},__decorate$1C=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$M=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$r=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$M(arguments[t]));return l},__values$o=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function flipChartAxisDirection(l){return l===ChartAxisDirection.X?ChartAxisDirection.Y:ChartAxisDirection.X}var ChartAxis=function(l){function t(e,r){var o=l.call(this,r)||this;return o.moduleCtx=e,o.keys=[],o.direction=ChartAxisDirection.Y,o.boundSeries=[],o.includeInvisibleDomains=!1,o.modules={},o._position="left",o}return __extends$2k(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),t.prototype.useCalculatedTickCount=function(){return this.scale instanceof LinearScale$1},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e){switch(this._position=e,e){case"top":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=e,this.axisContext.direction=this.direction)}},enumerable:!1,configurable:!0}),t.prototype.calculateDomain=function(){var e,r=this,o=r.direction,s=r.boundSeries,d=r.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var f=[];s.filter(function(m){return d||m.isEnabled()}).forEach(function(m){f.push(m.getDomain(o))});var y=(e=new Array).concat.apply(e,__spread$r(f));this.dataDomain=this.normaliseDataDomain(y)}},t.prototype.normaliseDataDomain=function(e){return e},t.prototype.isAnySeriesActive=function(){var e=this;return this.boundSeries.some(function(r){return e.includeInvisibleDomains||r.isEnabled()})},t.prototype.getLayoutState=function(){return __assign$E({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)},t.prototype.addModule=function(e){var r=this;if(null!=this.modules[e.optionsKey])throw new Error("AG Charts - module already initialised: "+e.optionsKey);null==this.axisContext&&(this.axisContext={axisId:this.id,position:this.position,direction:this.direction,continuous:this.scale instanceof ContinuousScale,keys:function(){return r.boundSeries.map(function(d){return d.getKeys(r.direction)}).reduce(function(d,f){return d.push.apply(d,__spread$r(f)),d},[])},scaleValueFormatter:function(d){var f,y,m;return null!==(m=null===(y=(f=r.scale).tickFormat)||void 0===y?void 0:y.call(f,{specifier:d}))&&void 0!==m?m:void 0},scaleBandwidth:function(){var d;return null!==(d=r.scale.bandwidth)&&void 0!==d?d:0},scaleConvert:function(d){return r.scale.convert(d)},scaleInvert:function(d){var f,y,m;return null!==(m=null===(y=(f=r.scale).invert)||void 0===y?void 0:y.call(f,d))&&void 0!==m?m:void 0}});var s=e.initialiseModule(__assign$E(__assign$E({},this.moduleCtx),{parent:this.axisContext}));this.modules[e.optionsKey]=s,this[e.optionsKey]=s.instance},t.prototype.removeModule=function(e){var r,o;null===(o=null===(r=this.modules[e.optionsKey])||void 0===r?void 0:r.instance)||void 0===o||o.destroy(),delete this.modules[e.optionsKey],delete this[e.optionsKey]},t.prototype.isModuleEnabled=function(e){return null!=this.modules[e.optionsKey]},t.prototype.destroy=function(){var e,r;l.prototype.destroy.call(this);try{for(var o=__values$o(Object.entries(this.modules)),s=o.next();!s.done;s=o.next()){var d=__read$M(s.value,2),f=d[0];d[1].instance.destroy(),delete this.modules[f],delete this[f]}}catch(m){e={error:m}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},__decorate$1C([Validate(STRING_ARRAY)],t.prototype,"keys",void 0),__decorate$1C([Validate(POSITION)],t.prototype,"_position",void 0),t}(Axis),__extends$2j=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1B=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$L=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$q=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$L(arguments[t]));return l},CategoryAxis=function(l){function t(e){var r=l.call(this,e,new BandScale$5)||this;return r._paddingOverrideEnabled=!1,r.groupPaddingInner=.1,r.includeInvisibleDomains=!0,r}return __extends$2j(t,l),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!1,configurable:!0}),t.prototype.normaliseDataDomain=function(e){var r=new Set(e);return new(Array.bind.apply(Array,__spread$q([void 0],r.values())))},t.prototype.calculateDomain=function(){if(!this._paddingOverrideEnabled){var r=this.boundSeries.map(function(o){var s;return null===(s=o.getBandScalePadding)||void 0===s?void 0:s.call(o)}).filter(function(o){return null!=o});r.length>0&&(this.scale.paddingInner=Math.min.apply(Math,__spread$q(r.map(function(o){return o.inner}))),this.scale.paddingOuter=Math.max.apply(Math,__spread$q(r.map(function(o){return o.outer}))))}return l.prototype.calculateDomain.call(this)},t.className="CategoryAxis",t.type="category",__decorate$1B([Validate(NUMBER(0,1))],t.prototype,"groupPaddingInner",void 0),t}(ChartAxis),__assign$D=function(){return __assign$D=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$D.apply(this,arguments)},__read$K=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$p=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$K(arguments[t]));return l},__values$n=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function jsonDiff(l,t){var e,r,o=classify(l),s=classify(t);if("array"===s){var d=t;return"array"!==o||l.length!==d.length||d.some(function(L,B){var U;return null!=jsonDiff(null===(U=l)||void 0===U?void 0:U[B],L)})?__spread$p(d):null}if("primitive"===s)return"primitive"!==o?__assign$D({},t):l!==t?t:null;var f=l||{},y=t||{},m=new Set(__spread$p(Object.keys(f),Object.keys(y))),E=0,O={},D=function(L){if(f[L]===y[L])return"continue";var B=function(oe){O[L]=oe,E++},U=classify(f[L]),Y=classify(y[L]);if(U!==Y||"primitive"===Y||null===Y||"array"===Y&&f[L].length!==y[L].length||"class-instance"===Y||"function"===Y&&f[L]!==y[L])return B(y[L]),"continue";var ee=jsonDiff(f[L],y[L]);null!==ee&&B(ee)};try{for(var P=__values$n(m),R=P.next();!R.done;R=P.next())D(R.value)}catch(L){e={error:L}}finally{try{R&&!R.done&&(r=P.return)&&r.call(P)}finally{if(e)throw e.error}}return 0===E?null:O}var DELETE=Symbol("<delete-property>"),NOT_SPECIFIED=Symbol("<unspecified-property>");function jsonMerge(l,t){var e,r,o=t?.avoidDeepClone||[];if(l.map(function(P){return classify(P)}).some(function(P){return"array"===P})){var d=l[l.length-1];return d instanceof Array?d.map(function(P){var R=classify(P);return"array"===R?jsonMerge([[],P],t):"object"===R?jsonMerge([{},P],t):P}):d}var f={},y=new Set(l.map(function(P){return null!=P?Object.keys(P):[]}).reduce(function(P,R){return P.concat(R)},[])),m=function(P){var R=l.map(function(U){return null!=U&&P in U?U[P]:NOT_SPECIFIED}).filter(function(U){return U!==NOT_SPECIFIED});if(0===R.length)return"continue";var x=R[R.length-1];if(x===DELETE)return"continue";var L=R.map(function(U){return classify(U)}),B=L[0];if(L.some(function(U){return U!==B}))return f[P]=x,"continue";f[P]="array"!==B&&"object"!==B||o.includes(P)?"array"===B?__spread$p(x):x:jsonMerge(R,t)};try{for(var E=__values$n(y),O=E.next();!O.done;O=E.next())m(O.value)}catch(P){e={error:P}}finally{try{O&&!O.done&&(r=E.return)&&r.call(E)}finally{if(e)throw e.error}}return f}function jsonApply(l,t,e){var r;void 0===e&&(e={});var o=e.path,s=void 0===o?void 0:o,d=e.matcherPath,f=void 0===d?s?s.replace(/(\[[0-9+]+\])/i,"[]"):void 0:d,y=e.skip,m=void 0===y?[]:y,E=e.constructors,O=void 0===E?{}:E,D=e.allowedTypes,P=void 0===D?{}:D,R=e.idx;if(null==l)throw new Error("AG Charts - target is uninitialised: "+(s||"<root>"));if(null==t)return l;var x=l;null!=R&&"_declarationOrder"in x&&(x._declarationOrder=R);var L=classify(l),B=function(Y){var ee=(f?f+".":"")+Y;if(m.indexOf(ee)>=0)return"continue";var oe=t[Y],re=(s?s+".":"")+Y,ie=x.constructor,q=x[Y],se=null!==(r=O[Y])&&void 0!==r?r:O[ee];try{var ue=classify(q),ge=classify(oe);if("class-instance"===L&&!(Y in l)&&!Object.prototype.hasOwnProperty.call(x,Y))return Logger.warn("unable to set ["+re+"] in "+ie?.name+" - property is unknown"),"continue";var ve=P[ee]||[ue];if(("class-instance"!==ue||"object"!==ge)&&null!=ue&&null!=ge&&!ve.includes(ge))return Logger.warn("unable to set ["+re+"] in "+ie?.name+" - can't apply type of ["+ge+"], allowed types are: ["+ve+"]"),"continue";"array"===ge?x[Y]=null!=(se=se??O[ee+"[]"])?oe.map(function(Me,Re){return jsonApply(new se,Me,__assign$D(__assign$D({},e),{path:re,matcherPath:ee+"[]",idx:Re}))}):oe:"class-instance"===ge?x[Y]=oe:"object"===ge?null!=q?jsonApply(q,oe,__assign$D(__assign$D({},e),{path:re,matcherPath:ee,idx:void 0})):x[Y]=null!=se?jsonApply(new se,oe,__assign$D(__assign$D({},e),{path:re,matcherPath:ee,idx:void 0})):oe:x[Y]=oe}catch(Me){var Pe=Me;return Logger.warn("unable to set ["+re+"] in ["+ie?.name+"]; nested error is: "+Pe.message),"continue"}};for(var U in t)B(U);return l}function jsonWalk(l,t,e){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=classify(l),d=e.skip||[];if("array"!==s){if("object"===s){t.apply(void 0,__spread$p([s,l],r));var f=function(m){if(d.indexOf(m)>=0)return"continue";var E=l[m],O=r?.map(function(P){return P?.[m]}),D=classify(E);("object"===D||"array"===D)&&jsonWalk.apply(void 0,__spread$p([E,t,e],O))};for(var y in l)f(y)}}else l.forEach(function(m,E){jsonWalk.apply(void 0,__spread$p([m,t,e],(r??[]).map(function(O){return O?.[E]})))})}function classify(l){return null==l?null:l instanceof HTMLElement?"primitive":l instanceof Array?"array":l instanceof Date?"primitive":"object"==typeof l&&l.constructor===Object?"object":"function"==typeof l?"function":"object"==typeof l&&null!=l.constructor?"class-instance":"primitive"}var __extends$2i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1A=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$d=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$d=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$J=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$o=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$J(arguments[t]));return l},__values$m=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_a,DEFAULT_DIRECTION_KEYS=(_a={},_a[ChartAxisDirection.X]=["xKey"],_a[ChartAxisDirection.Y]=["yKey"],_a),CartesianSeriesNodeBaseClickEvent=function(l){function t(e,r,o,s,d){var f=l.call(this,o,s,d)||this;return f.xKey=e,f.yKey=r,f}return __extends$2i(t,l),t}(SeriesNodeBaseClickEvent),CartesianSeriesNodeClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$2i(t,l),t}(CartesianSeriesNodeBaseClickEvent),CartesianSeriesNodeDoubleClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2i(t,l),t}(CartesianSeriesNodeBaseClickEvent),CartesianSeries=function(l){function t(e){void 0===e&&(e={});var r,o=l.call(this,{useSeriesGroupLayer:!0,pickModes:e.pickModes,directionKeys:null!==(r=e.directionKeys)&&void 0!==r?r:DEFAULT_DIRECTION_KEYS})||this;o._contextNodeData=[],o.nodeDataDependencies={},o.highlightSelection=Selection.select(o.highlightNode,function(){return o.opts.hasMarkers?o.markerFactory():o.nodeFactory()}),o.highlightLabelSelection=Selection.select(o.highlightLabel,Text),o.subGroups=[],o.subGroupId=0,o.seriesItemEnabled=new Map;var s=e.pathsPerSeries,f=e.hasMarkers,m=e.pathsZIndexSubOrderOffset,O=e.renderLayerPerSubSeries;return o.opts={pathsPerSeries:void 0===s?1:s,hasMarkers:void 0!==f&&f,pathsZIndexSubOrderOffset:void 0===m?[]:m,renderLayerPerSubSeries:void 0===O||O},o}return __extends$2i(t,l),Object.defineProperty(t.prototype,"contextNodeData",{get:function(){var e;return null===(e=this._contextNodeData)||void 0===e?void 0:e.slice()},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){l.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},t.prototype.checkDomainXY=function(e,r,o,s){return(o&&isContinuous(e)||!o&&isDiscrete(e))&&(s&&isContinuous(r)||!s&&isDiscrete(r))?[e,r]:void 0},t.prototype.checkRangeXY=function(e,r,o,s){return!isNaN(e)&&!isNaN(r)&&o.inRange(e)&&s.inRange(r)},t.prototype.update=function(e){var r,o,s=e.seriesRect;return __awaiter$d(this,void 0,void 0,function(){var d,f,y,m,E,O,D;return __generator$d(this,function(P){switch(P.label){case 0:return f=(d=this).seriesItemEnabled,y=d.visible,m=(null!==(o=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight())&&void 0!==o?o:{}).series,E=m?m===this:void 0,O=y&&0===f.size||__spread$o(f.values()).some(function(R){return!0===R}),null!=jsonDiff(this.nodeDataDependencies,D={seriesRectWidth:s?.width,seriesRectHeight:s?.height})&&(this.nodeDataDependencies=D,this.markNodeDataDirty()),[4,this.updateSelections(E,O)];case 1:return P.sent(),[4,this.updateNodes(E,O)];case 2:return P.sent(),[2]}})})},t.prototype.updateSelections=function(e,r){return __awaiter$d(this,void 0,void 0,function(){var o,s=this;return __generator$d(this,function(d){switch(d.label){case 0:return[4,this.updateHighlightSelection(e)];case 1:return d.sent(),r&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())?this.nodeDataRefresh?(this.nodeDataRefresh=!1,o=this,[4,this.createNodeData()]):[3,4]:[2];case 2:return o._contextNodeData=d.sent(),[4,this.updateSeriesGroups()];case 3:d.sent(),d.label=4;case 4:return[4,Promise.all(this.subGroups.map(function(f,y){return s.updateSeriesGroupSelections(f,y,e)}))];case 5:return d.sent(),[2]}})})},t.prototype.updateSeriesGroupSelections=function(e,r,o){return __awaiter$d(this,void 0,void 0,function(){var s,d,f,m,E,O,P,R,x;return __generator$d(this,function(L){switch(L.label){case 0:return s=e.datumSelection,d=e.labelSelection,f=e.markerSelection,E=(m=this._contextNodeData[r]).nodeData,O=m.labelData,[4,this.updatePaths({seriesHighlighted:o,itemId:m.itemId,contextData:m,paths:e.paths,seriesIdx:r})];case 1:return L.sent(),P=e,[4,this.updateDatumSelection({nodeData:E,datumSelection:s,seriesIdx:r})];case 2:return P.datumSelection=L.sent(),R=e,[4,this.updateLabelSelection({labelData:O,labelSelection:d,seriesIdx:r})];case 3:return R.labelSelection=L.sent(),f?(x=e,[4,this.updateMarkerSelection({nodeData:E,markerSelection:f,seriesIdx:r})]):[3,5];case 4:x.markerSelection=L.sent(),L.label=5;case 5:return[2]}})})},t.prototype.nodeFactory=function(){return new Group},t.prototype.markerFactory=function(){return new(getMarker$1())},t.prototype.updateSeriesGroups=function(){var e;return __awaiter$d(this,void 0,void 0,function(){var r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re=this;return __generator$d(this,function(ie){if(s=(r=this).contentGroup,y=(f=r.opts).pathsPerSeries,m=f.hasMarkers,E=f.pathsZIndexSubOrderOffset,O=f.renderLayerPerSubSeries,(o=r._contextNodeData).length===(d=r.subGroups).length)return[2];for(o.length<d.length&&d.splice(o.length).forEach(function(q){var se,ue,ve=q.markerGroup,Ce=q.labelGroup,Pe=q.paths;s.removeChild(q.dataNodeGroup),ve&&s.removeChild(ve),Ce&&s.removeChild(Ce);try{for(var Me=__values$m(Pe),Re=Me.next();!Re.done;Re=Me.next())s.removeChild(Re.value)}catch(he){se={error:he}}finally{try{Re&&!Re.done&&(ue=Me.return)&&ue.call(Me)}finally{if(se)throw se.error}}}),D=o.length;D>d.length;){for(P=O,R=this.subGroupId++,L=new Group({name:this.id+"-series-sub"+R+"-dataNodes",layer:P,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return re._declarationOrder},x=R]}),B=m?new Group({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:P,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return re._declarationOrder},1e4+R]}):void 0,U=new Group({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:P,zIndex:Layers.SERIES_LABEL_ZINDEX,zIndexSubOrder:[function(){return re._declarationOrder},R]}),s.appendChild(L),s.appendChild(U),B&&s.appendChild(B),Y=O?L:s,ee=[],oe=0;oe<y;oe++)ee[oe]=new Path,ee[oe].zIndex=Layers.SERIES_LAYER_ZINDEX,ee[oe].zIndexSubOrder=[function(){return re._declarationOrder},(null!==(e=E[oe])&&void 0!==e?e:0)+x],Y.appendChild(ee[oe]);d.push({paths:ee,dataNodeGroup:L,markerGroup:B,labelGroup:U,labelSelection:Selection.select(U,Text),datumSelection:Selection.select(L,function(){return re.nodeFactory()}),markerSelection:B?Selection.select(B,function(){return re.markerFactory()}):void 0})}return[2]})})},t.prototype.updateNodes=function(e,r){var o;return __awaiter$d(this,void 0,void 0,function(){var s,d,f,y,m,E,O,D,P,R,x,L,B=this;return __generator$d(this,function(U){switch(U.label){case 0:return d=(s=this).highlightSelection,f=s.highlightLabelSelection,y=s._contextNodeData,m=s.seriesItemEnabled,O=(E=s.opts).hasMarkers,D=E.renderLayerPerSubSeries,P=this.visible&&(null===(o=this._contextNodeData)||void 0===o?void 0:o.length)>0&&r,this.rootGroup.visible=P,this.contentGroup.visible=P,this.highlightGroup.visible=P&&!!e,R=this.getOpacity(),x=this.subGroups.map(function(Y,ee){return B.getOpacity({itemId:y[ee].itemId})}),L=x.some(function(Y){return Y!==R}),this.contentGroup.opacity=L?1:R,O?[4,this.updateMarkerNodes({markerSelection:d,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return U.sent(),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:d,isHighlight:!0,seriesIdx:-1})];case 3:U.sent(),U.label=4;case 4:return[4,this.updateLabelNodes({labelSelection:f,seriesIdx:-1})];case 5:return U.sent(),[4,Promise.all(this.subGroups.map(function(Y,ee){return __awaiter$d(B,void 0,void 0,function(){var oe,re,ie,q,se,ue,ge,ve,Ce,Pe,Me,Re,Ne,he,De,_e;return __generator$d(this,function(Oe){switch(Oe.label){case 0:oe=Y.dataNodeGroup,re=Y.markerGroup,ie=Y.datumSelection,q=Y.labelSelection,se=Y.markerSelection,ue=Y.paths,ge=Y.labelGroup,ve=y[ee].itemId,Ce=P&&(null===(_e=m.get(ve))||void 0===_e||_e),oe.opacity=Pe=L?x[ee]:1,oe.visible=Ce,ge.visible=Ce,re&&(re.opacity=Pe,re.zIndex=oe.zIndex>=Layers.SERIES_LAYER_ZINDEX?oe.zIndex:oe.zIndex+1,re.visible=Ce),ge&&(ge.opacity=Pe);try{for(Me=__values$m(ue),Re=Me.next();!Re.done;Re=Me.next())Ne=Re.value,D||(Ne.opacity=Pe,Ne.visible=Ce)}catch(Le){he={error:Le}}finally{try{Re&&!Re.done&&(De=Me.return)&&De.call(Me)}finally{if(he)throw he.error}}return oe.visible?[4,this.updatePathNodes({seriesHighlighted:e,itemId:ve,paths:ue,seriesIdx:ee})]:[2];case 1:return Oe.sent(),[4,this.updateDatumNodes({datumSelection:ie,isHighlight:!1,seriesIdx:ee})];case 2:return Oe.sent(),[4,this.updateLabelNodes({labelSelection:q,seriesIdx:ee})];case 3:return Oe.sent(),O&&se?[4,this.updateMarkerNodes({markerSelection:se,isHighlight:!1,seriesIdx:ee})]:[3,5];case 4:Oe.sent(),Oe.label=5;case 5:return[2]}})})}))];case 6:return U.sent(),[2]}})})},t.prototype.updateHighlightSelection=function(e){var r;return __awaiter$d(this,void 0,void 0,function(){var o,s,d,f,y,m,E,O,D,P,R,x,B,U,Y;return __generator$d(this,function(ee){switch(ee.label){case 0:return s=(o=this).highlightSelection,d=o.highlightLabelSelection,f=o._contextNodeData,y=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight(),E=this,[4,this.updateHighlightSelectionItem({item:m=e&&y?.datum?y:void 0,highlightSelection:s})];case 1:if(E.highlightSelection=ee.sent(),this.isLabelEnabled()&&null!=m){P=void 0===(D=m.itemId)?void 0:D;try{for(R=__values$m(f),x=R.next();!x.done&&null==(O=x.value.labelData.find(function(oe){return oe.datum===m.datum&&oe.itemId===P}));x=R.next());}catch(oe){U={error:oe}}finally{try{x&&!x.done&&(Y=R.return)&&Y.call(R)}finally{if(U)throw U.error}}}return B=this,[4,this.updateHighlightSelectionLabel({item:O,highlightLabelSelection:d})];case 2:return B.highlightLabelSelection=ee.sent(),[2]}})})},t.prototype.pickNodeExactShape=function(e){var r,o,s=l.prototype.pickNodeExactShape.call(this,e);if(s)return s;var d=e.x,f=e.y,y=this.opts.hasMarkers;try{for(var m=__values$m(this.subGroups),E=m.next();!E.done;E=m.next()){var O=E.value,P=O.markerGroup,R=O.dataNodeGroup.pickNode(d,f);if(!R&&y&&(R=P?.pickNode(d,f)),R)return{datum:R.datum,distance:0}}}catch(x){r={error:x}}finally{try{E&&!E.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}},t.prototype.pickNodeClosestDatum=function(e){var r,o,s,d,f,y,U,O=this,D=O.xAxis,P=O.yAxis,x=O._contextNodeData,L=O.rootGroup.transformPoint(e.x,e.y),B=1/0;try{for(var Y=__values$m(x),ee=Y.next();!ee.done;ee=Y.next()){var oe=ee.value;try{for(var re=(s=void 0,__values$m(oe.nodeData)),ie=re.next();!ie.done;ie=re.next()){var Re,q=ie.value,se=q.point,ue=void 0===se?{}:se,ge=ue.x,ve=void 0===ge?NaN:ge,Ce=ue.y,Pe=void 0===Ce?NaN:Ce;isNaN(ve)||isNaN(Pe)||D?.inRange(ve)&&P?.inRange(Pe)&&(Re=Math.max(Math.pow(L.x-ve,2)+Math.pow(L.y-Pe,2),0))<B&&(B=Re,U=q)}}catch(Ne){s={error:Ne}}finally{try{ie&&!ie.done&&(d=re.return)&&d.call(re)}finally{if(s)throw s.error}}}}catch(Ne){r={error:Ne}}finally{try{ee&&!ee.done&&(o=Y.return)&&o.call(Y)}finally{if(r)throw r.error}}if(U)return{datum:U,distance:Re=Math.max(Math.sqrt(B)-(null!==(y=null===(f=U.point)||void 0===f?void 0:f.size)&&void 0!==y?y:0),0)}},t.prototype.pickNodeMainAxisFirst=function(e,r){var o,s,d,f,y,m,E=e.x,O=e.y,D=this,P=D.xAxis,R=D.yAxis,x=D.rootGroup,L=D._contextNodeData,B=[P,R].filter(function(pt){return pt instanceof CategoryAxis}).map(function(pt){return pt.direction});if(!r||0!==B.length){var Y=__read$J(B,1)[0],ee=void 0===Y?ChartAxisDirection.X:Y,oe=x.transformPoint(E,O),re=ee===ChartAxisDirection.X?[oe.x,oe.y]:[oe.y,oe.x],ie=[1/0,1/0],q=void 0;try{for(var se=__values$m(L),ue=se.next();!ue.done;ue=se.next()){var ge=ue.value;try{for(var ve=(d=void 0,__values$m(ge.nodeData)),Ce=ve.next();!Ce.done;Ce=ve.next()){var Pe=Ce.value,Me=Pe.point,Re=void 0===Me?{}:Me,Ne=Re.x,he=void 0===Ne?NaN:Ne,De=Re.y,_e=void 0===De?NaN:De;if(!isNaN(he)&&!isNaN(_e)&&P?.inRange(he)&&R?.inRange(_e)){for(var Le=ee===ChartAxisDirection.X?[he,_e]:[_e,he],Ie=!0,Ye=0;Ye<Le.length;Ye++){var dt=Math.abs(Le[Ye]-re[Ye]);if(dt>ie[Ye]){Ie=!1;break}dt<ie[Ye]&&(ie[Ye]=dt,ie.fill(1/0,Ye+1,ie.length))}Ie&&(q=Pe)}}}catch(pt){d={error:pt}}finally{try{Ce&&!Ce.done&&(f=ve.return)&&f.call(ve)}finally{if(d)throw d.error}}}}catch(pt){o={error:pt}}finally{try{ue&&!ue.done&&(s=se.return)&&s.call(se)}finally{if(o)throw o.error}}if(q)return{datum:q,distance:Math.max(Math.sqrt(Math.pow(ie[0],2)+Math.pow(ie[1],2))-(null!==(m=null===(y=q.point)||void 0===y?void 0:y.size)&&void 0!==m?m:0),0)}}},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,r),this.nodeDataRefresh=!0):l.prototype.toggleSeriesItem.call(this,e,r)},t.prototype.isEnabled=function(){var e,r;if(this.seriesItemEnabled.size>0){try{for(var o=__values$m(this.seriesItemEnabled),s=o.next();!s.done;s=o.next())if(__read$J(s.value,2)[1])return!0}catch(y){e={error:y}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return!1}return l.prototype.isEnabled.call(this)},t.prototype.isPathOrSelectionDirty=function(){return!1},t.prototype.getLabelData=function(){return[]},t.prototype.isAnySeriesVisible=function(){var e,r;try{for(var o=__values$m(this.seriesItemEnabled.values()),s=o.next();!s.done;s=o.next())if(s.value)return!0}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return!1},t.prototype.validateXYData=function(e,r,o,s,d,f,y,m){var E;if(void 0===m&&(m=1),"integrated"===(null===(E=this.chart)||void 0===E?void 0:E.mode)||!s||!d||0===o.length||this.seriesItemEnabled.size>0&&!this.isAnySeriesVisible())return!0;var O=function(x,L,B){return void 0===L&&(L=0),void 0===B&&(B=0),x.some(L===B?function(U){return isContinuous(U)}:function(U){return O(U,L+1,B)})},P=d.scale instanceof ContinuousScale,R=!0;return s.scale instanceof ContinuousScale&&!O(f)&&(Logger.warnOnce("the number axis has no numeric data supplied for xKey: ["+e+"]."),R=!1),P&&!O(y,0,m-1)&&(Logger.warnOnce("the number axis has no numeric data supplied for yKey: ["+r+"]."),R=!1),R},t.prototype.updatePaths=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(r){return e.paths.forEach(function(o){return o.visible=!1}),[2]})})},t.prototype.updatePathNodes=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(r){return[2]})})},t.prototype.updateHighlightSelectionItem=function(e){return __awaiter$d(this,void 0,void 0,function(){var o,s,d;return __generator$d(this,function(y){return s=e.highlightSelection,d=(o=e.item)?[o]:[],this.opts.hasMarkers?[2,this.updateMarkerSelection({nodeData:d,markerSelection:s,seriesIdx:-1})]:[2,this.updateDatumSelection({nodeData:d,datumSelection:s,seriesIdx:-1})]})})},t.prototype.updateHighlightSelectionLabel=function(e){return __awaiter$d(this,void 0,void 0,function(){var r;return __generator$d(this,function(d){return[2,this.updateLabelSelection({labelData:(r=e.item)?[r]:[],labelSelection:e.highlightLabelSelection,seriesIdx:-1})]})})},t.prototype.updateDatumSelection=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(r){return[2,e.datumSelection]})})},t.prototype.updateDatumNodes=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(r){return[2]})})},t.prototype.updateMarkerSelection=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(r){return[2,e.markerSelection]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(r){return[2]})})},t}(Series),CartesianSeriesMarker=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$2i(t,l),__decorate$1A([Validate(OPT_FUNCTION),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"formatter",void 0),t}(SeriesMarker);function sleep(l){return new Promise(function(t){setTimeout(function(){return t(void 0)},l)})}var __decorate$1z=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Overlay=function(){function l(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return l.prototype.show=function(t){var e,r,o=this.element;if(this.element||((o=document.createElement("div")).className=this.className,this.element=o),o.style.position="absolute",o.style.left=t.x+"px",o.style.top=t.y+"px",o.style.width=t.width+"px",o.style.height=t.height+"px",this.renderer)this.element.innerHTML=this.renderer();else{var s=document.createElement("div");s.style.alignItems="center",s.style.boxSizing="border-box",s.style.display="flex",s.style.justifyContent="center",s.style.margin="8px",s.style.height="100%",s.style.font="12px Verdana, sans-serif",s.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",o.append(s)}null===(r=this.parentElement)||void 0===r||r.append(o)},l.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},__decorate$1z([Validate(OPT_FUNCTION)],l.prototype,"renderer",void 0),__decorate$1z([Validate(OPT_STRING)],l.prototype,"text",void 0),l}(),ChartOverlays=function l(t){this.noData=new Overlay("ag-chart-no-data-overlay",t)},__read$I=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$n=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$I(arguments[t]));return l},__values$l=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Listeners=function(){function l(){this.registeredListeners={}}return l.prototype.addListener=function(t,e){var r,o=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(r=this.registeredListeners[t])||void 0===r||r.push({symbol:o,handler:e}),o},l.prototype.dispatch=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return(null!==(e=this.registeredListeners[t])&&void 0!==e?e:[]).map(function(d){return d.handler.apply(d,__spread$n(r))})},l.prototype.cancellableDispatch=function(t,e){for(var r,o,s,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];var y=null!==(s=this.registeredListeners[t])&&void 0!==s?s:[],m=[];try{for(var E=__values$l(y),O=E.next();!O.done;O=E.next()){var D=O.value;if(e())break;m.push(D.handler.apply(D,__spread$n(d)))}}catch(P){r={error:P}}finally{try{O&&!O.done&&(o=E.return)&&o.call(E)}finally{if(r)throw r.error}}return m},l.prototype.reduceDispatch=function(t,e){for(var r,o,s,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];var y=null!==(s=this.registeredListeners[t])&&void 0!==s?s:[],m=void 0;try{for(var E=__values$l(y),O=E.next();!O.done;O=E.next()){var D=O.value;m=D.handler.apply(D,__spread$n(d)),d=e.apply(void 0,__spread$n([m],d))}}catch(P){r={error:P}}finally{try{O&&!O.done&&(o=E.return)&&o.call(E)}finally{if(r)throw r.error}}return m},l.prototype.removeListener=function(t){for(var e in this.registeredListeners){var r=this.registeredListeners[e],o=r?.findIndex(function(s){return s.symbol===t});null!=o&&o>=0&&r?.splice(o,1),null!=o&&0===r?.length&&delete this.registeredListeners[e]}},l}(),BaseManager=function(){function l(){this.listeners=new Listeners}return l.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},l.prototype.removeListener=function(t){this.listeners.removeListener(t)},l}(),__extends$2h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$C=function(){return __assign$C=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$C.apply(this,arguments)},__awaiter$c=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$c=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__values$k=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WINDOW_EVENT_HANDLERS=["pagehide","mousemove","mouseup","wheel"],EVENT_HANDLERS=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],CSS="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",InteractionManager=function(l){function t(e,r){var o,s,d,f;void 0===r&&(r=document);var y=l.call(this)||this;y.eventHandler=function(x){return y.processEvent(x)},y.mouseDown=!1,y.touchDown=!1,y.rootElement=r.body,y.element=e;try{for(var m=__values$k(EVENT_HANDLERS),E=m.next();!E.done;E=m.next())(O=E.value).startsWith("touch")?e.addEventListener(O,y.eventHandler,{passive:!0}):e.addEventListener(O,y.eventHandler)}catch(x){o={error:x}}finally{try{E&&!E.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}try{for(var D=__values$k(WINDOW_EVENT_HANDLERS),P=D.next();!P.done;P=D.next()){var O=P.value;window.addEventListener(O,y.eventHandler)}}catch(x){d={error:x}}finally{try{P&&!P.done&&(f=D.return)&&f.call(D)}finally{if(d)throw d.error}}if(t.interactionDocuments.indexOf(r)<0){var R=document.createElement("style");R.innerHTML=CSS,document.head.insertBefore(R,document.head.querySelector("style")),t.interactionDocuments.push(r)}return y}return __extends$2h(t,l),t.prototype.destroy=function(){var e,r,o,s;try{for(var d=__values$k(WINDOW_EVENT_HANDLERS),f=d.next();!f.done;f=d.next()){var y=f.value;window.removeEventListener(y,this.eventHandler)}}catch(O){e={error:O}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}try{for(var m=__values$k(EVENT_HANDLERS),E=m.next();!E.done;E=m.next())this.element.removeEventListener(y=E.value,this.eventHandler)}catch(O){o={error:O}}finally{try{E&&!E.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}},t.prototype.processEvent=function(e){var r=this.decideInteractionEventTypes(e);r.length>0&&this.dispatchEvent(e,r)},t.prototype.dispatchEvent=function(e,r){return __awaiter$c(this,void 0,void 0,function(){var o,s,d,f,y,E,O;return __generator$c(this,function(D){if(null==(o=this.calculateCoordinates(e)))return[2];s=function(P){var R=d.buildEvent(__assign$C(__assign$C({event:e},o),{type:P}));d.listeners.cancellableDispatch(P,function(){return R.consumed},R)},d=this;try{for(f=__values$k(r),y=f.next();!y.done;y=f.next())s(y.value)}catch(P){E={error:P}}finally{try{y&&!y.done&&(O=f.return)&&O.call(f)}finally{if(E)throw E.error}}return[2]})})},t.prototype.decideInteractionEventTypes=function(e){switch(e.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=e.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=e.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(e)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(e)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(e)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var r=e instanceof MouseEvent&&1==(1&e.buttons);return this.mouseDown!==r?(this.mouseDown=r,[r?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},t.prototype.isEventOverElement=function(e){var r;return e.target===this.element||(null===(r=e.target)||void 0===r?void 0:r.parentElement)===this.element},t.prototype.calculateCoordinates=function(e){var r;if(e instanceof MouseEvent)return this.fixOffsets(e,{clientX:o=e.clientX,clientY:s=e.clientY,pageX:d=e.pageX,pageY:f=e.pageY,offsetX:e.offsetX,offsetY:e.offsetY});if(typeof TouchEvent<"u"&&e instanceof TouchEvent){var E=null!==(r=e.touches[0])&&void 0!==r?r:e.changedTouches[0],o=E.clientX,s=E.clientY,d=E.pageX,f=E.pageY;return __assign$C(__assign$C({},t.NULL_COORDS),{clientX:o,clientY:s,pageX:d,pageY:f})}return e instanceof PageTransitionEvent?e.persisted?void 0:t.NULL_COORDS:void 0},t.prototype.fixOffsets=function(e,r){var o=function(f){for(var y=0,m=0;f;)y+=f.offsetLeft,m+=f.offsetTop,f=f.offsetParent;return{x:y,y:m}};if(null!=this.dragStartElement&&e.target!==this.dragStartElement){var s=o(this.dragStartElement),d=o(e.target);r.offsetX-=s.x-d.x,r.offsetY-=s.y-d.y}return r},t.prototype.buildEvent=function(e){var r=e.type,o=e.event,s=e.clientX,d=e.clientY,f=e.offsetX,y=e.offsetY,m=e.pageX,E=e.pageY;if(!isNumber$4(f)||!isNumber$4(y)){var O=this.element.getBoundingClientRect();f=s-O.left,y=d-O.top}if(!isNumber$4(m)||!isNumber$4(E)){var D=this.rootElement.getBoundingClientRect();m=s-D.left,E=d-D.top}var P={type:r,offsetX:f,offsetY:y,pageX:m,pageY:E,sourceEvent:o,consumed:!1,consume:function(){return P.consumed=!0}};return P},t.interactionDocuments=[],t.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},t}(BaseManager),__read$H=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},CursorManager=function(){function l(t){this.states={},this.element=t}return l.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},l.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach(function(e){var r=__read$H(e,2);return t=r[1].style}),this.element.style.cursor=t},l}(),__extends$2g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__read$G=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s};function isEqual$1(l,t){return l===t||!(l?.series!==t?.series||l?.itemId!==t?.itemId||l?.datum!==t?.datum)}var HighlightManager=function(l){function t(){var e=l.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return __extends$2g(t,l),t.prototype.updateHighlight=function(e,r){delete this.states[e],null!=r&&(this.states[e]={highlightedDatum:r}),this.applyStates()},t.prototype.getActiveHighlight=function(){return this.activeHighlight},t.prototype.applyStates=function(){var e=this.activeHighlight,r=void 0;Object.entries(this.states).reverse().slice(0,1).forEach(function(d){var f=__read$G(d,2);return r=f[1].highlightedDatum}),this.activeHighlight=r,isEqual$1(e,this.activeHighlight)||this.listeners.dispatch("highlight-change",{type:"highlight-change",previousHighlight:e,currentHighlight:this.activeHighlight})},t}(BaseManager),__values$j=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$F=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},TooltipManager=function(){function l(t,e){var r=this;this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;var o=e.addListener("hover",function(s){return r.checkExclusiveRects(s)});this.destroyFns.push(function(){return e.removeListener(o)})}return l.prototype.updateTooltip=function(t,e,r){var o;null==r&&(r=null===(o=this.states[t])||void 0===o?void 0:o.content),this.states[t]={content:r,meta:e},this.applyStates()},l.prototype.updateExclusiveRect=function(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]},l.prototype.removeTooltip=function(t){delete this.states[t],this.applyStates()},l.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},l.prototype.destroy=function(){var t,e;try{for(var r=__values$j(this.destroyFns),o=r.next();!o.done;o=r.next())(0,o.value)()}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},l.prototype.checkExclusiveRects=function(t){var e,r,o;try{for(var s=__values$j(Object.entries(this.exclusiveAreas)),d=s.next();!d.done;d=s.next()){var f=__read$F(d.value,2),y=f[0];if(f[1].containsPoint(t.offsetX,t.offsetY)){o=y;break}}}catch(E){e={error:E}}finally{try{d&&!d.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}o!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=o,this.applyStates())},l.prototype.applyStates=function(){var e,t=this,r=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),o=void 0,s=void 0;if(r.reverse().slice(0,1).forEach(function(f){var y,m=null!==(y=t.states[f])&&void 0!==y?y:{};o=m.content,s=m.meta}),void 0===s||void 0===o)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(e=this.appliedState)||void 0===e?void 0:e.content)===o){var d=this.tooltip.isVisible();this.tooltip.show(s,void 0,d)}else this.tooltip.show(s,o);this.appliedState={content:o,meta:s}},l}(),__extends$2f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$B=function(){return __assign$B=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$B.apply(this,arguments)},__values$i=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$E=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s};function isEqual(l,t){var e,r,o,s,d,f,y,m;return l===t||!((null===(e=l?.x)||void 0===e?void 0:e.min)!==(null===(r=t?.x)||void 0===r?void 0:r.min)||(null===(o=l?.x)||void 0===o?void 0:o.max)!==(null===(s=t?.x)||void 0===s?void 0:s.max)||(null===(d=l?.y)||void 0===d?void 0:d.max)!==(null===(f=t?.y)||void 0===f?void 0:f.max)||(null===(y=l?.y)||void 0===y?void 0:y.min)!==(null===(m=t?.y)||void 0===m?void 0:m.min))}var ZoomManager=function(l){function t(){var e=l.call(this)||this;return e.states={},e.currentZoom=void 0,e}return __extends$2f(t,l),t.prototype.updateZoom=function(e,r){delete this.states[e],null!=r&&(this.states[e]=__assign$B({},r)),this.applyStates()},t.prototype.getZoom=function(){return this.currentZoom},t.prototype.applyStates=function(){var e,r,o=this.currentZoom,s={};try{for(var d=__values$i(Object.entries(this.states)),f=d.next();!f.done;f=d.next()){var E=__read$E(f.value,2)[1],D=E.y;s.x=E.x??s.x,s.y=D??s.y}}catch(x){e={error:x}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}if(this.currentZoom=null!=s.x||null!=s.y?s:void 0,!isEqual(o,this.currentZoom)){var R=__assign$B({type:"zoom-change"},o??{});this.listeners.dispatch("zoom-change",R)}},t}(BaseManager),__assign$A=function(){return __assign$A=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$A.apply(this,arguments)};function isLayoutStage(l){return"layout-complete"!==l}function isLayoutComplete(l){return"layout-complete"===l}var LayoutService=function(){function l(){this.layoutProcessors=new Listeners,this.listeners=new Listeners}return l.prototype.addListener=function(t,e){if(isLayoutStage(t))return this.layoutProcessors.addListener(t,e);if(isLayoutComplete(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},l.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},l.prototype.dispatchPerformLayout=function(t,e){return this.layoutProcessors.reduceDispatch(t,function(o,s){var d=o.shrinkRect;return[__assign$A(__assign$A({},s),{shrinkRect:d})]},e)??e},l.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},l}(),UpdateService=function(){function l(t){this.updateCallback=t}return l.prototype.update=function(t){void 0===t&&(t=ChartUpdateType.FULL),this.updateCallback(t)},l}(),__decorate$1y=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartHighlight=function(){function l(){this.range="tooltip"}return __decorate$1y([Validate(STRING_UNION("tooltip","node"))],l.prototype,"range",void 0),l}(),__extends$2e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$z=function(){return __assign$z=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$z.apply(this,arguments)},__decorate$1x=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$b=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$b=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__values$h=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$D=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$m=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$D(arguments[t]));return l},Chart=function(l){function t(e,r,o){void 0===e&&(e=window.document);var s,d=l.call(this)||this;d.id=createId$1(d),d.processedOptions={},d.userOptions={},d.queuedUserOptions=[],d.seriesRoot=new Group({name:d.id+"-Series-root"}),d.extraDebugStats={},d._container=void 0,d.data=[],d.padding=new Padding$1(20),d.seriesAreaPadding=new Padding$1(0),d.title=void 0,d.subtitle=void 0,d.footnote=void 0,d.mode="standalone",d._destroyed=!1,d.modules={},d._pendingFactoryUpdates=[],d._performUpdateNoRenderCount=0,d._performUpdateType=ChartUpdateType.NONE,d.seriesToUpdate=new Set,d.performUpdateTrigger=debouncedCallback(function(O){var D=O.count;return __awaiter$b(d,void 0,void 0,function(){var P;return __generator$b(this,function(R){switch(R.label){case 0:if(this._destroyed)return[2];R.label=1;case 1:return R.trys.push([1,3,,4]),[4,this.performUpdate(D)];case 2:return R.sent(),[3,4];case 3:return P=R.sent(),this._lastPerformUpdateError=P,Logger.error("update error",P),[3,4];case 4:return[2]}})})}),d._axes=[],d._series=[],d.lastInteractionEvent=void 0,d.pointerScheduler=debouncedAnimationFrame(function(){d.lastInteractionEvent&&d.handlePointer(d.lastInteractionEvent),d.lastInteractionEvent=void 0}),d.onSeriesNodeClick=function(O){var D=__assign$z(__assign$z({},O),{type:"seriesNodeClick"});Object.defineProperty(D,"series",{enumerable:!1,get:function(){return O.series}}),d.fireEvent(D)},d.onSeriesNodeDoubleClick=function(O){var D=__assign$z(__assign$z({},O),{type:"seriesNodeDoubleClick"});d.fireEvent(D)};var f=o?.scene,y=null!==(s=o?.element)&&void 0!==s?s:e.createElement("div"),m=o?.container,E=new Group({name:"root"});return E.visible=!1,E.append(d.seriesRoot),d.axisGroup=new Group({name:"Axes",layer:!0,zIndex:Layers.AXIS_ZINDEX}),E.appendChild(d.axisGroup),d.element=y,y.classList.add("ag-chart-wrapper"),y.style.position="relative",d.scene=f??new Scene({document:e,overrideDevicePixelRatio:r}),d.debug=!1,d.scene.debug.consoleLog=!1,d.scene.root=E,d.scene.container=y,d.autoSize=!0,d.interactionManager=new InteractionManager(y),d.cursorManager=new CursorManager(y),d.highlightManager=new HighlightManager,d.zoomManager=new ZoomManager,d.layoutService=new LayoutService,d.updateService=new UpdateService(function(O){return void 0===O&&(O=ChartUpdateType.FULL),d.update(O)}),SizeMonitor.observe(d.element,function(O){var D=O.width,P=O.height;d.autoSize&&(0===D&&0===P||D===d.width&&P===d.height||(d._lastAutoSize=[D,P],d.resize(D,P)))}),d.layoutService.addListener("start-layout",function(O){return d.positionPadding(O.shrinkRect)}),d.layoutService.addListener("start-layout",function(O){return d.positionCaptions(O.shrinkRect)}),d.tooltip=new Tooltip(d.scene.canvas.element,e,e.body),d.tooltipManager=new TooltipManager(d.tooltip,d.interactionManager),d.legend=new Legend(d,d.interactionManager,d.cursorManager,d.highlightManager,d.tooltipManager,d.layoutService),d.overlays=new ChartOverlays(d.element),d.highlight=new ChartHighlight,d.container=m,d.interactionManager.addListener("click",function(O){return d.onClick(O)}),d.interactionManager.addListener("dblclick",function(O){return d.onDoubleClick(O)}),d.interactionManager.addListener("hover",function(O){return d.onMouseMove(O)}),d.interactionManager.addListener("leave",function(O){return d.onLeave(O)}),d.interactionManager.addListener("page-left",function(){return d.destroy()}),d.interactionManager.addListener("wheel",function(){return d.disablePointer()}),d.zoomManager.addListener("zoom-change",function(O){return d.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0})}),d.highlightManager.addListener("highlight-change",function(O){return d.changeHighlightDatum(O)}),d}return __extends$2e(t,l),t.prototype.getOptions=function(){var e,r=this.queuedUserOptions;return jsonMerge([null!==(e=r[r.length-1])&&void 0!==e?e:this.userOptions])},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var r=this.element.parentNode;r?.removeChild(this.element),e&&!this.destroyed&&e.appendChild(this.element),this._container=e}},enumerable:!1,configurable:!0}),t.prototype.autoSizeChanged=function(e){var r=this.element.style;if(e){if(r.display="block",r.width="100%",r.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else r.display="inline-block",r.width="auto",r.height="auto"},t.prototype.download=function(e,r){this.scene.download(e,r)},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype.addModule=function(e){if(null!=this.modules[e.optionsKey])throw new Error("AG Charts - module already initialised: "+e.optionsKey);var r=e.initialiseModule(this.getModuleContext());this.modules[e.optionsKey]=r,this[e.optionsKey]=r.instance},t.prototype.removeModule=function(e){var r,o;null===(o=null===(r=this.modules[e.optionsKey])||void 0===r?void 0:r.instance)||void 0===o||o.destroy(),delete this.modules[e.optionsKey],delete this[e.optionsKey]},t.prototype.isModuleEnabled=function(e){return null!=this.modules[e.optionsKey]},t.prototype.getModuleContext=function(){var e=this;return{scene:e.scene,interactionManager:e.interactionManager,zoomManager:e.zoomManager,cursorManager:e.cursorManager,highlightManager:e.highlightManager,tooltipManager:e.tooltipManager,layoutService:e.layoutService,updateService:e.updateService}},t.prototype.destroy=function(e){var r,o;if(!this._destroyed){var s=e?.keepTransferableResources,d=void 0;this._performUpdateType=ChartUpdateType.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legend.destroy(),SizeMonitor.unobserve(this.element);try{for(var f=__values$h(Object.entries(this.modules)),y=f.next();!y.done;y=f.next()){var m=__read$D(y.value,2),E=m[0];m[1].instance.destroy(),delete this.modules[E],delete this[E]}}catch(D){r={error:D}}finally{try{y&&!y.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return this.interactionManager.destroy(),s?(this.scene.strip(),d={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.series.forEach(function(D){return D.destroy()}),this.series=[],this.axes.forEach(function(D){return D.destroy()}),this.axes=[],this._destroyed=!0,d}},t.prototype.log=function(e){this.debug&&Logger.debug(e)},t.prototype.disablePointer=function(e){void 0===e&&(e=!1),e||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},t.prototype.requestFactoryUpdate=function(e){var r=this._pendingFactoryUpdates,o=r.length;0===o?(r.push(e),this._processCallbacks()):r.splice(1,o-1,e)},t.prototype._processCallbacks=function(){return __awaiter$b(this,void 0,void 0,function(){var e,r;return __generator$b(this,function(o){switch(o.label){case 0:e=this._pendingFactoryUpdates,o.label=1;case 1:return e.length>0?this.updatePending?[4,sleep(1)]:[3,3]:[3,7];case 2:return o.sent(),[3,1];case 3:return o.trys.push([3,5,,6]),[4,e[0]()];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),Logger.error("update error",r),[3,6];case 6:return e.shift(),[3,1];case 7:return[2]}})})},Object.defineProperty(t.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._performUpdateType!==ChartUpdateType.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),t.prototype.awaitUpdateCompletion=function(){return __awaiter$b(this,void 0,void 0,function(){return __generator$b(this,function(e){switch(e.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return e.sent(),[2]}})})},t.prototype.update=function(e,r){var o,s;void 0===e&&(e=ChartUpdateType.FULL);var d=r||{},f=d.forceNodeDataRefresh,m=d.seriesToUpdate,E=void 0===m?this.series:m;void 0!==f&&f&&this.series.forEach(function(R){return R.markNodeDataDirty()});try{for(var O=__values$h(E),D=O.next();!D.done;D=O.next())this.seriesToUpdate.add(D.value)}catch(R){o={error:R}}finally{try{D&&!D.done&&(s=O.return)&&s.call(O)}finally{if(o)throw o.error}}e<this._performUpdateType&&(this._performUpdateType=e,this.performUpdateTrigger.schedule())},t.prototype.performUpdate=function(e){var r;return __awaiter$b(this,void 0,void 0,function(){var o,s,d,f,E,O,D,P;return __generator$b(this,function(R){switch(R.label){case 0:switch(s=(o=this)._performUpdateType,d=o.extraDebugStats,f=[performance.now()],s){case ChartUpdateType.FULL:case ChartUpdateType.PROCESS_DATA:return[3,1];case ChartUpdateType.PERFORM_LAYOUT:return[3,3];case ChartUpdateType.SERIES_UPDATE:return[3,5];case ChartUpdateType.TOOLTIP_RECALCULATION:return[3,7];case ChartUpdateType.SCENE_RENDER:return[3,8];case ChartUpdateType.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:R.sent(),this.disablePointer(!0),f.push(performance.now()),R.label=3;case 3:return this.autoSize&&!this._lastAutoSize&&this._performUpdateNoRenderCount++<5?(this._performUpdateType=ChartUpdateType.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(),[3,11]):(this._performUpdateNoRenderCount=0,[4,this.performLayout()]);case 4:R.sent(),this.handleOverlays(),f.push(performance.now()),R.label=5;case 5:return E=this.seriesRect,O=__spread$m(this.seriesToUpdate).map(function(x){return x.update({seriesRect:E})}),this.seriesToUpdate.clear(),[4,Promise.all(O)];case 6:R.sent(),f.push(performance.now()),R.label=7;case 7:D=this.tooltipManager.getTooltipMeta(this.id),s<ChartUpdateType.SERIES_UPDATE&&"hover"===(null===(r=D?.event)||void 0===r?void 0:r.type)&&this.handlePointer(D.event),R.label=8;case 8:return[4,this.scene.render({debugSplitTimes:f,extraDebugStats:d})];case 9:R.sent(),this.extraDebugStats={},R.label=10;case 10:this._performUpdateType=ChartUpdateType.NONE,R.label=11;case 11:return P=performance.now(),this.log({chart:this,durationMs:Math.round(100*(P-f[0]))/100,count:e,performUpdateType:ChartUpdateType[s]}),[2]}})})},Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var r=this,o=new Set;this._axes.forEach(function(s){s.detachAxis(r.axisGroup),o.add(s)}),this._axes=e.filter(function(s){return!s.linkedTo}).concat(e.filter(function(s){return s.linkedTo})),this._axes.forEach(function(s){s.attachAxis(r.axisGroup),o.delete(s)}),o.forEach(function(s){return s.destroy()})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var r=this;this.removeAllSeries(),e.forEach(function(o){return r.addSeries(o)})},enumerable:!1,configurable:!0}),t.prototype.addSeries=function(e,r){var s=this.series,d=this.seriesRoot;if(s.indexOf(e)<0){var y=r?s.indexOf(r):-1;return y>=0?(s.splice(y,0,e),d.insertBefore(e.rootGroup,r.rootGroup)):(s.push(e),d.append(e.rootGroup)),this.initSeries(e),!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.highlightManager=this.highlightManager,e.data||(e.data=this.data),this.addSeriesListeners(e)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(r){e.freeSeries(r),e.seriesRoot.removeChild(r.rootGroup)}),this._series=[]},t.prototype.addSeriesListeners=function(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},t.prototype.updateAllSeriesListeners=function(){var e=this;this.series.forEach(function(r){r.removeEventListener("nodeClick",e.onSeriesNodeClick),r.removeEventListener("nodeDoubleClick",e.onSeriesNodeDoubleClick),e.addSeriesListeners(r)})},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(r){r.boundSeries=e.series.filter(function(o){return(r.direction===ChartAxisDirection.X?o.xAxis:o.yAxis)===r})})},t.prototype.assignAxesToSeries=function(e){var r=this;void 0===e&&(e=!1);var o={};this.axes.forEach(function(s){var d=s.direction;(o[d]||(o[d]=[])).push(s)}),this.series.forEach(function(s){s.directions.forEach(function(d){if(!(d===ChartAxisDirection.X?s.xAxis:s.yAxis)||e){var y=o[d];if(!y)return void Logger.warn("no available axis for direction ["+d+"]; check series and axes configuration.");var m=s.getKeys(d),E=r.findMatchingAxis(y,s.getKeys(d));if(!E)return void Logger.warn("no matching axis for direction ["+d+"] and keys ["+m+"]; check series and axes configuration.");d===ChartAxisDirection.X?s.xAxis=E:s.yAxis=E}})})},t.prototype.findMatchingAxis=function(e,r){var o,s,d,f;try{for(var y=__values$h(e),m=y.next();!m.done;m=y.next()){var E=m.value,O=E.keys;if(!O.length)return E;if(r)try{for(var D=(d=void 0,__values$h(r)),P=D.next();!P.done;P=D.next())if(O.indexOf(P.value)>=0)return E}catch(x){d={error:x}}finally{try{P&&!P.done&&(f=D.return)&&f.call(D)}finally{if(d)throw d.error}}}}catch(x){o={error:x}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}},t.prototype.resize=function(e,r){!e||!r||!Number.isFinite(e)||!Number.isFinite(r)||this.scene.resize(e,r)&&(this.disablePointer(),this.update(ChartUpdateType.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},t.prototype.processData=function(){return __awaiter$b(this,void 0,void 0,function(){return __generator$b(this,function(e){switch(e.label){case 0:return(this.axes.length>0||this.series.some(function(r){return r instanceof CartesianSeries}))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),[4,Promise.all(this.series.map(function(r){return r.processData()}))];case 1:return e.sent(),[4,this.updateLegend()];case 2:return e.sent(),[2]}})})},t.prototype.placeLabels=function(){var e,r,o=[],s=[];try{for(var d=__values$h(this.series),f=d.next();!f.done;f=d.next()){var y=f.value;if(y.visible){var m=y.getLabelData();m&&isPointLabelDatum(m[0])&&(s.push(m),o.push(y))}}}catch(D){e={error:D}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}var E=this.seriesRect,O=E&&s.length>0?placeLabels(s,{x:0,y:0,width:E.width,height:E.height}):[];return new Map(O.map(function(D,P){return[o[P],D]}))},t.prototype.updateLegend=function(){return __awaiter$b(this,void 0,void 0,function(){var e,r;return __generator$b(this,function(o){return e=[],this.series.filter(function(s){return s.showInLegend}).forEach(function(s){e.push.apply(e,__spread$m(s.getLegendData()))}),(r=this.legend.item.label.formatter)&&e.forEach(function(s){return s.label.text=r({get id(){return Logger.warnOnce("LegendLabelFormatterParams.id is deprecated, use seriesId instead"),s.seriesId},itemId:s.itemId,value:s.label.text,seriesId:s.seriesId})}),this.legend.data=e,[2]})})},t.prototype.performLayout=function(){return __awaiter$b(this,void 0,void 0,function(){var e,s;return __generator$b(this,function(d){return this.scene.root.visible=!0,s=new BBox(0,0,(e=this.scene).width,e.height),s=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:s}).shrinkRect,[2,s=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:s}).shrinkRect]})})},t.prototype.positionPadding=function(e){var r=this.padding;return e.shrink(r.left,"left"),e.shrink(r.top,"top"),e.shrink(r.right,"right"),e.shrink(r.bottom,"bottom"),{shrinkRect:e}},t.prototype.positionCaptions=function(e){var r=this,o=r.title,s=r.subtitle,d=r.footnote,f=e.clone(),y=function(E){var O,D=f.y;E.node.x=f.x+f.width/2,E.node.y=D,E.node.textBaseline="top";var P=E.node.computeBBox(),R=Math.ceil(P.y-D+P.height+(null!==(O=E.spacing)&&void 0!==O?O:0));f.shrink(R,"top")};return o&&(o.node.visible=o.enabled,o.node.visible&&y(o)),s&&(s.node.visible=void 0!==o&&o.enabled&&s.enabled,s.node.visible&&y(s)),d&&(d.node.visible=d.enabled,d.node.visible&&function(E){var O,D=f.y+f.height;E.node.x=f.x+f.width/2,E.node.y=D,E.node.textBaseline="bottom";var P=E.node.computeBBox(),R=Math.ceil(D-P.y+(null!==(O=E.spacing)&&void 0!==O?O:0));f.shrink(R,"bottom")}(d)),{shrinkRect:f}},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,r,o){var s,d,f,y,m=performance.now(),E=r?[SeriesNodePickMode.EXACT_SHAPE_MATCH]:void 0,O=__spread$m(this.series).reverse(),D=void 0;try{for(var P=__values$h(O),R=P.next();!R.done;R=P.next()){var x=R.value;if(x.visible&&x.rootGroup.visible){var L=null!==(f=x.pickNode(e,E))&&void 0!==f?f:{},B=L.match,U=L.distance;if(B&&null!=U&&((!D||D.distance>U)&&U<=(o??1/0)&&(D={series:x,distance:U,datum:B}),0===U))break}}}catch(Y){s={error:Y}}finally{try{R&&!R.done&&(d=P.return)&&d.call(P)}finally{if(s)throw s.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(y=this.extraDebugStats.pickSeriesNode)&&void 0!==y?y:0)+(performance.now()-m)),D},t.prototype.onMouseMove=function(e){this.lastInteractionEvent=e,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=e.offsetX,this.extraDebugStats.mouseY=e.offsetY,this.update(ChartUpdateType.SCENE_RENDER)},t.prototype.onLeave=function(e){this.tooltip.pointerLeftOntoTooltip(e)||this.disablePointer()},t.prototype.handlePointer=function(e){var r=this,s=this.lastPick,d=this.hoverRect,f=e.offsetX,y=e.offsetY,m=function(E){void 0===E&&(E=!1),s&&r.disablePointer(E)};d?.containsPoint(f,y)?(this.handlePointerTooltip(e,m),this.handlePointerNode(e)):m()},t.prototype.handlePointerTooltip=function(e,r){var o,s,R,f=this.lastPick,m=this.tooltip.range,E=e.pageX,O=e.pageY,D=e.offsetX,P=e.offsetY;"number"==typeof m&&Number.isFinite(m)&&(R=m);var x=this.pickSeriesNode({x:D,y:P},"exact"===m,R);if(!x)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&r(!0));var B,L="node"===this.highlight.range||!f||f.datum!==x.datum;L?(B=x.series.getTooltipHtml(x.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,x.datum)):f&&(f.event=e.sourceEvent);var re=this.tooltip.enabled&&x.series.tooltip.enabled&&("nearest"===m||null!=R||"exact"===m&&0===x.distance)&&(!L||void 0!==B),q=this.mergePointerDatum({pageX:E,pageY:O,offsetX:D,offsetY:P,event:e,position:{xOffset:x.datum.series.tooltip.position.xOffset,yOffset:x.datum.series.tooltip.position.yOffset}},x.datum);q.enableInteraction=null!==(s=null===(o=x.series.tooltip.interaction)||void 0===o?void 0:o.enabled)&&void 0!==s&&s,re&&this.tooltipManager.updateTooltip(this.id,q,B)},t.prototype.handlePointerNode=function(e){var r=this;this.checkSeriesNodeRange(e,function(s,d){(s.hasEventListener("nodeClick")||s.hasEventListener("nodeDoubleClick"))&&r.cursorManager.updateCursor("chart","pointer"),"node"===r.highlight.range&&r.highlightManager.updateHighlight(r.id,d)})||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},t.prototype.onClick=function(e){this.checkSeriesNodeClick(e)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"click",event:e.sourceEvent})},t.prototype.onDoubleClick=function(e){this.checkSeriesNodeDoubleClick(e)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:e.sourceEvent})},t.prototype.checkSeriesNodeClick=function(e){return this.checkSeriesNodeRange(e,function(r,o){return r.fireNodeClickEvent(e.sourceEvent,o)})},t.prototype.checkSeriesNodeDoubleClick=function(e){return this.checkSeriesNodeRange(e,function(r,o){return r.fireNodeDoubleClickEvent(e.sourceEvent,o)})},t.prototype.checkSeriesNodeRange=function(e,r){var f,o=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1),s=o?.datum,d=s?.series.nodeClickRange;if(s&&"nearest"===d)return r(s.series,s),!0;"number"==typeof d&&Number.isFinite(d)&&(f=d);var y=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},"exact"===d,f);return!(!y||null==f&&("exact"!==d||0!==y.distance)||(r(y.series,y.datum),0))},t.prototype.mergePointerDatum=function(e,r){if("node"===r.series.tooltip.position.type&&r.nodeMidPoint){var s=r.nodeMidPoint,y=this.scene.canvas,m=r.series.rootGroup.inverseTransformPoint(s.x,s.y),E=y.element.getBoundingClientRect();return __assign$z(__assign$z({},e),{pageX:Math.round(E.left+window.scrollX+m.x),pageY:Math.round(E.top+window.scrollY+m.y),offsetX:Math.round(m.x),offsetY:Math.round(m.y)})}return e},t.prototype.changeHighlightDatum=function(e){var r=new Set,o=e.currentHighlight||{},s=o.series,d=void 0===s?void 0:s,f=o.datum,y=e.previousHighlight||{},m=y.series,E=void 0===m?void 0:m,O=y.datum;E&&r.add(E),d&&r.add(d),E?.cursor&&O&&this.cursorManager.updateCursor(E.id),d?.cursor&&f&&this.cursorManager.updateCursor(d.id,d.cursor),this.lastPick=e.currentHighlight?{datum:e.currentHighlight}:void 0,null==d||null==E?this.update(ChartUpdateType.SERIES_UPDATE):this.update(ChartUpdateType.SERIES_UPDATE,{seriesToUpdate:r})},t.prototype.waitForUpdate=function(e){return void 0===e&&(e=5e3),__awaiter$b(this,void 0,void 0,function(){var r;return __generator$b(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-r>e)throw new Error("waitForUpdate() timeout reached.");return[4,sleep(5)];case 2:return o.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return o.sent(),[2]}})})},t.prototype.handleOverlays=function(){this.handleNoDataOverlay()},t.prototype.handleNoDataOverlay=function(){var e=!this.series.some(function(o){return o.hasData()}),r=this.getSeriesRect();e&&r?this.overlays.noData.show(r):this.overlays.noData.hide()},__decorate$1x([ActionOnSet({newValue:function(e){this.scene.debug.consoleLog=e}})],t.prototype,"debug",void 0),__decorate$1x([ActionOnSet({newValue:function(e){var r;null===(r=this.series)||void 0===r||r.forEach(function(o){return o.data=e})}})],t.prototype,"data",void 0),__decorate$1x([ActionOnSet({newValue:function(e){this.autoSize=!1,this.resize(e,this.height)}})],t.prototype,"width",void 0),__decorate$1x([ActionOnSet({newValue:function(e){this.autoSize=!1,this.resize(this.width,e)}})],t.prototype,"height",void 0),__decorate$1x([ActionOnSet({changeValue:function(e){this.autoSizeChanged(e)}}),Validate(BOOLEAN)],t.prototype,"autoSize",void 0),__decorate$1x([ActionOnSet({newValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.appendChild(e.node)},oldValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.removeChild(e.node)}})],t.prototype,"title",void 0),__decorate$1x([ActionOnSet({newValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.appendChild(e.node)},oldValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.removeChild(e.node)}})],t.prototype,"subtitle",void 0),__decorate$1x([ActionOnSet({newValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.appendChild(e.node)},oldValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.removeChild(e.node)}})],t.prototype,"footnote",void 0),__decorate$1x([Validate(STRING_UNION("standalone","integrated"))],t.prototype,"mode",void 0),t}(Observable),TreeNode=function(){function l(t,e,r){void 0===t&&(t=""),void 0===r&&(r=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=r}return l.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},l.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},l.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},l.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},l.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,r){return r!==t.number}):[]},l}();function ticksToTree(l,t){void 0===t&&(t=!0);var e=new TreeNode,r=0;return t&&l.forEach(function(o){return r=Math.max(r,o.labels.length)}),l.forEach(function(o){if(t)for(;o.labels.length<r;)o.labels.unshift("");insertTick(e,o)}),e}function insertTick(l,t){var e=t.labels.slice().reverse(),r=e.length-1;e.forEach(function(o,s){var d=l.children,f=d.find(function(E){return E.label===o}),y=s!==r;if(f&&y)l=f;else{var m=new TreeNode(o,l);m.number=d.length,d.push(m),y&&(l=m)}})}function moveSubtree(l,t,e){var o=e/(t.number-l.number);t.change-=o,t.shift+=e,l.change+=o,t.prelim+=e,t.mod+=e}function ancestor(l,t,e){return t.getSiblings().indexOf(l.ancestor)>=0?l.ancestor:e}function executeShifts(l){var t=l.children;if(t)for(var e=0,r=0,o=t.length-1;o>=0;o--){var s=t[o];s.prelim+=e,s.mod+=e,e+=s.shift+(r+=s.change)}}function apportion(l,t,e){var r=l.getLeftSibling();if(r){for(var o=l,s=l,d=r,f=s.getLeftmostSibling(),y=s.mod,m=o.mod,E=d.mod,O=f.mod;d.nextRight()&&s.nextLeft();){d=d.nextRight(),s=s.nextLeft(),f=f.nextLeft(),(o=o.nextRight()).ancestor=l;var D=d.prelim+E-(s.prelim+y)+e;D>0&&(moveSubtree(ancestor(d,l,t),l,D),y+=D,m+=D),E+=d.mod,y+=s.mod,O+=f.mod,m+=o.mod}d.nextRight()&&!o.nextRight()?(o.thread=d.nextRight(),o.mod+=E-m):(s.nextLeft()&&!f.nextLeft()&&(f.thread=s.nextLeft(),f.mod+=y-O),t=l)}return t}function firstWalk(l,t){var e=l.children;if(e.length){var r=e[0];e.forEach(function(d){firstWalk(d,t),r=apportion(d,r,t)}),executeShifts(l);var o=(e[0].prelim+e[e.length-1].prelim)/2;(s=l.getLeftSibling())?(l.prelim=s.prelim+t,l.mod=l.prelim-o):l.prelim=o}else{var s=l.getLeftSibling();l.prelim=s?s.prelim+t:0}}var Dimensions=function(){function l(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return l.prototype.update=function(t,e){var r=e(t),o=r.x,s=r.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),s>this.bottom&&(this.bottom=s),s<this.top&&(this.top=s)},l}();function secondWalk(l,t,e){l.x=l.prelim+t,l.y=l.depth,e.update(l),l.children.forEach(function(r){return secondWalk(r,t+l.mod,e)})}function thirdWalk(l){var t=l.children,e=0;t.forEach(function(r){thirdWalk(r),r.children.length?e+=r.leafCount:e++}),l.leafCount=e,t.length?(l.subtreeLeft=t[0].subtreeLeft,l.subtreeRight=t[l.children.length-1].subtreeRight,l.x=(l.subtreeLeft+l.subtreeRight)/2):(l.subtreeLeft=l.x,l.subtreeRight=l.x)}function treeLayout(l){var t=new TreeLayout;return firstWalk(l,1),secondWalk(l,-l.prelim,t),thirdWalk(l),t}var TreeLayout=function(){function l(){this.dimensions=new Dimensions,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return l.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},l.prototype.resize=function(t,e,r,o,s){void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=!1);var d=this.leafCount-1,f=this.depth,y=this.dimensions,m=1,E=1;t>0&&d&&(m=t/d/((y.right-y.left)/d),s&&(m=-m)),e>0&&f&&(E=e/f/((y.bottom-y.top)/f));var x=new Dimensions;this.nodes.forEach(function(U){U.screenX=U.x*m,U.screenY=U.y*E,x.update(U,function(Y){return{x:Y.screenX,y:Y.screenY}})});var L=-x.left,B=-x.top;this.nodes.forEach(function(U){U.screenX+=L+r,U.screenY+=B+o})},l}(),__extends$2d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1w=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$C=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$l=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$C(arguments[t]));return l},GroupedCategoryAxisLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.grid=!1,e}return __extends$2d(t,l),__decorate$1w([Validate(BOOLEAN)],t.prototype,"grid",void 0),t}(AxisLabel),GroupedCategoryAxis=function(l){function t(e){var r=l.call(this,e,new BandScale$5)||this;r.tickScale=new BandScale$5,r.translation={x:0,y:0},r.line=new AxisLine,r.label=new GroupedCategoryAxisLabel,r.labelColor="rgba(87, 87, 87, 1)",r.includeInvisibleDomains=!0;var s=r.tickLineGroup,d=r.tickLabelGroup,f=r.gridLineGroup,y=r.tickScale,m=r.scale;return m.paddingOuter=.1,m.paddingInner=2*m.paddingOuter,r.requestedRange=m.range.slice(),r.refreshScale(),y.paddingInner=1,y.paddingOuter=0,r.gridLineSelection=Selection.select(f,Line),r.axisLineSelection=Selection.select(s,Line),r.separatorSelection=Selection.select(s,Line),r.labelSelection=Selection.select(d,Text),r}return __extends$2d(t,l),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!1,configurable:!0}),t.prototype.updateRange=function(){var e=this,r=e.requestedRange,o=e.visibleRange,d=(r[1]-r[0])/(o[1]-o[0]),y=r[0]-d*o[0];this.tickScale.range=e.scale.range=[y,y+d],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,r=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,o=this.tickTreeLayout,s=this.lineHeight;o&&o.resize(Math.abs(r[1]-r[0]),o.depth*s,(Math.min(r[0],r[1])||0)+(e.bandwidth||0)/2,-o.depth*s,r[1]-r[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=e},enumerable:!1,configurable:!0}),t.prototype.calculateDomain=function(){var e,o=this.direction,d=[],f=void 0;this.boundSeries.filter(function(E){return E.visible}).forEach(function(E){if(o===ChartAxisDirection.X)if(void 0===f){var O=E.getDomain(o);d.push(O),f="number"==typeof O[0]}else f&&d.push(E.getDomain(o));else d.push(E.getDomain(o))});var y=(e=new Array).concat.apply(e,__spread$l(d)),m=extent$4(y)||y;this.dataDomain=this.normaliseDataDomain(m)},t.prototype.normaliseDataDomain=function(e){var r=e.filter(function(d,f,y){return y.indexOf(d)===f}),o=ticksToTree(r);this.tickTreeLayout=treeLayout(o);var s=r.slice();return s.push(""),this.tickScale.domain=s,this.resizeTickTree(),r},t.prototype.update=function(e){var r=this;this.calculateDomain();var o=this,s=o.scale,d=o.label,f=o.label.parallel,y=o.tickScale,m=o.requestedRange;s.domain=this.dataDomain;var E=s.range[0],O=s.range[1],P=Math.abs(O-E)/s.domain.length||0,R=toRadians$1(this.rotation),x=Math.abs(Math.cos(R))<1e-8;this.updatePosition();var L=this.title;L&&(L.node.visible=!1);var B=this.lineHeight,U=this.tickTreeLayout,Y=s.ticks(),ee=U?U.nodes:[],oe=!!U&&U.depth>1,re=y.ticks(),ie=d.mirrored?1:-1,q=calculateLabelRotation({rotation:d.rotation,parallel:f,regularFlipRotation:normalizeAngle360(R-Math.PI/2),parallelFlipRotation:normalizeAngle360(R)}),se=q.autoRotation,ue=q.labelRotation,ge=q.parallelFlipFlag,ve=this.gridLineSelection.update(this.gridLength?re:[]),Ce=this.labelSelection.update(ee),Pe=d.formatter,Me=new Map,Re=0;Ce.each(function(Qe,vt,Nt){Qe.fontStyle=d.fontStyle,Qe.fontWeight=d.fontWeight,Qe.fontSize=d.fontSize,Qe.fontFamily=d.fontFamily,Qe.fill=d.color,Qe.textBaseline=-1===ge?"bottom":"hanging",Qe.textAlign="center",Qe.translationX=vt.screenY-.25*d.fontSize,Qe.translationY=vt.screenX,0===Nt?L&&L.enabled&&Y.length>0?(Qe.visible=!0,Qe.text=L.text,Qe.fontSize=L.fontSize,Qe.fontStyle=L.fontStyle,Qe.fontWeight=L.fontWeight,Qe.fontFamily=L.fontFamily,Qe.textBaseline="hanging"):Qe.visible=!1:(Qe.text=Pe?Pe({value:String(vt.label),index:Nt}):String(vt.label),Qe.visible=vt.screenX>=m[0]&&vt.screenX<=m[1]);var xt=Qe.computeBBox();Me.set(Qe.id,xt),xt.width>Re&&(Re=xt.width)});var Ne=ie*d.padding,he=this.label.grid,De=[];Ce.each(function(Qe,vt,Nt){if(Qe.x=Ne,Qe.rotationCenterX=Ne,vt.children.length){Qe.translationX-=Re-B+r.label.padding;var bt=vt.leafCount*P;(xt=Me.get(Qe.id))&&xt.width>bt?Qe.visible=!1:Qe.rotation=x?se:-Math.PI/2}else{var xt;Qe.rotation=ue,Qe.textAlign="end",Qe.textBaseline="middle",(xt=Me.get(Qe.id))&&xt.height>P&&(Qe.visible=!1)}if(vt.parent&&oe){var er=vt.children.length?vt.screenX-vt.leafCount*P/2:vt.screenX-P/2;if(vt.children.length){var Ht=-Re-2*r.label.padding+vt.screenY;De.push({y:er,x1:Ht+B,x2:Ht,toString:function(){return String(Nt)}})}else(vt.number!==vt.children.length-1||he)&&De.push({y:er,x1:0,x2:-Re-2*r.label.padding,toString:function(){return String(Nt)}})}});var _e=0;De.forEach(function(Qe){return _e=Math.min(_e,Qe.x2)}),De.push({y:Math.max(E,O),x1:0,x2:_e,toString:function(){return String(De.length)}}),this.separatorSelection.update(De).each(function(Qe,vt){Qe.x1=vt.x1,Qe.x2=vt.x2,Qe.y1=vt.y,Qe.y2=vt.y,Qe.visible=vt.y>=m[0]-1e-7&&vt.y<=m[1]+1e-7,Qe.stroke=r.tick.color,Qe.fill=void 0,Qe.strokeWidth=1}),this.gridLineSelection=ve,this.labelSelection=Ce;for(var Ie=U?U.depth+1:1,Ye=[],dt=0;dt<Ie;dt++)Ye.push(dt);if(this.axisLineSelection.update(Ye).each(function(Qe,vt,Nt){var xt=Nt>0?-Re-2*r.label.padding-(Nt-1)*B:0;Qe.x1=xt,Qe.x2=xt,Qe.y1=m[0],Qe.y2=m[1],Qe.strokeWidth=r.line.width,Qe.stroke=r.line.color,Qe.visible=Y.length>0&&(0===Nt||he&&oe)}),this.gridLength){var pt=this.gridStyle,Pt=pt.length;ve.each(function(Qe,vt,Nt){var xt=Math.round(y.convert(vt));Qe.x1=0,Qe.x2=-ie*r.gridLength,Qe.y1=xt,Qe.y2=xt,Qe.visible=xt>=m[0]&&xt<=m[1];var bt=pt[Nt%Pt];Qe.stroke=bt.stroke,Qe.strokeWidth=r.tick.width,Qe.lineDash=bt.lineDash,Qe.fill=void 0})}return e},t.className="GroupedCategoryAxis",t.type="groupedCategory",__decorate$1w([Validate(OPT_COLOR_STRING)],t.prototype,"labelColor",void 0),t}(ChartAxis),__extends$2c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$y=function(){return __assign$y=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$y.apply(this,arguments)},__awaiter$a=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$a=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__values$g=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$B=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},directions=["top","right","bottom","left"],CartesianChart=function(l){function t(e,r,o){void 0===e&&(e=window.document);var s=l.call(this,e,r,o)||this;return s.paired=!0,s._lastAxisWidths={top:0,bottom:0,left:0,right:0},s._lastVisibility={crossLines:!0,series:!0},s.legend.attachLegend(s.scene.root),s}return __extends$2c(t,l),t.prototype.performLayout=function(){return __awaiter$a(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,D;return __generator$a(this,function(P){switch(P.label){case 0:return[4,l.prototype.performLayout.call(this)];case 1:return e=P.sent(),r=this.updateAxes(e),o=r.seriesRect,d=r.clipSeries,this.seriesRoot.visible=(s=r.visibility).series,this.seriesRect=o,this.series.forEach(function(R){R.rootGroup.translationX=Math.floor(o.x),R.rootGroup.translationY=Math.floor(o.y)}),y=(f=this).seriesRoot,m=f.seriesAreaPadding,E=o.clone().grow(m),D=E.clone().grow(20),this.hoverRect=D,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:o,paddedRect:E,hoverRect:D,visible:s.series},axes:this.axes.map(function(R){return __assign$y({id:R.id},R.getLayoutState())})}),d?y.setClipRectInGroupCoordinateSpace(E):y.setClipRectInGroupCoordinateSpace(),[2,e]}})})},t.prototype.updateAxes=function(e){var r,o,s,d=__assign$y({},this._lastAxisWidths),f=__assign$y({},this._lastVisibility),y=new Set(this._axes.map(function(oe){return oe.position}));try{for(var m=__values$g(Object.keys(d)),E=m.next();!E.done;E=m.next()){var O=E.value;y.has(O)||delete d[O]}}catch(oe){r={error:oe}}finally{try{E&&!E.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}var oe,D=function(oe,re){return!Object.keys(oe).some(function(ie){return null==d[ie]})&&f.crossLines===re.crossLines&&f.series===re.series&&Object.entries(d).every(function(ie){var q=__read$B(ie,2),ue=q[1],ge=oe[q[0]];return null==ue&&null==ge||ue===ge})},R={},x={},L=!1,B=null===(s=this.seriesRect)||void 0===s?void 0:s.clone(),U=0;do{Object.assign(d,R),Object.assign(f,x);var Y=this.updateAxesPass(d,e.clone(),B);if(R=Object.entries(oe=Y.axisWidths).reduce(function(re,ie){var q=__read$B(ie,2),se=q[0],ue=q[1];return ue&&Math.abs(ue)===1/0&&(ue=0),re[se]=null!=ue?Math.ceil(ue):ue,re},{}),x=Y.visibility,L=Y.clipSeries,B=Y.seriesRect,U++>10){Logger.warn("unable to find stable axis layout.");break}}while(!D(R,x));return this.axes.forEach(function(oe){if(oe.setCrossLinesVisible(f.crossLines),B)switch(oe.clipGrid(B.x,B.y,B.width+5,B.height+5),oe.position){case"left":case"right":oe.clipTickLines(e.x,B.y,e.width+5,B.height+5);break;case"top":case"bottom":oe.clipTickLines(B.x,e.y,B.width+5,e.height+5)}}),this._lastAxisWidths=d,this._lastVisibility=f,{seriesRect:B,visibility:f,clipSeries:L}},t.prototype.updateAxesPass=function(e,r,o){var s=this,d=this.axes,f={},y={},m={series:!0,crossLines:!0},E=!1,O={},D=this.applySeriesPadding(r),P=o?this.buildCrossLinePadding(o,e):{},R=this.buildAxisBound(D,e,P,m),x=this.buildSeriesRect(R,e);return d.forEach(function(L){var B,U,Y=L.position,ee=s.calculateAxisDimensions({axis:L,seriesRect:x,axisWidths:e,newAxisWidths:y,primaryTickCounts:O,clipSeries:E,addInterAxisPadding:(null!==(B=f[Y])&&void 0!==B?B:0)>0}),oe=ee.clipSeries,re=ee.axisThickness,ie=ee.axisOffset;f[Y]=(null!==(U=f[Y])&&void 0!==U?U:0)+1,E=E||oe,s.positionAxis({axis:L,axisBound:R,axisOffset:ie,axisThickness:re,axisWidths:e,primaryTickCounts:O,seriesRect:x})}),{clipSeries:E,seriesRect:x,axisWidths:y,visibility:m}},t.prototype.buildCrossLinePadding=function(e,r){var o,s,d,f={};this.axes.forEach(function(R){R.crossLines&&R.crossLines.forEach(function(x){x.calculatePadding(f,e)})});try{for(var y=__values$g(Object.entries(f)),m=y.next();!m.done;m=y.next()){var E=__read$B(m.value,2),O=E[0],D=E[1];f[O]=Math.max((void 0===D?0:D)-(null!==(d=r[O])&&void 0!==d?d:0),0)}}catch(R){o={error:R}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}return f},t.prototype.applySeriesPadding=function(e){var r=this,o=e.clone(),s=this.axes.slice().reverse();return directions.forEach(function(d){var f=r.seriesAreaPadding[d],y=s.find(function(m){return m.position===d});y?y.seriesAreaPadding=f:o.shrink(f,d)}),o},t.prototype.buildAxisBound=function(e,r,o,s){var d,f,y,m,E=e.clone(),O=o.top,D=void 0===O?0:O,P=o.right,x=o.bottom,B=o.left,U=void 0===B?0:B,Y=U+(void 0===P?0:P),ee=D+(void 0===x?0:x),oe=(null!==(d=r.left)&&void 0!==d?d:0)+(null!==(f=r.right)&&void 0!==f?f:0)+Y,re=(null!==(y=r.top)&&void 0!==y?y:0)+(null!==(m=r.bottom)&&void 0!==m?m:0)+ee;return E.width<=oe||E.height<=re?(s.crossLines=!1,s.series=!1,E):(E.x+=U,E.y+=D,E.width-=Y,E.height-=ee,E)},t.prototype.buildSeriesRect=function(e,r){var o=e.clone(),s=r.top,d=r.bottom,f=r.left,y=r.right;return o.x+=f??0,o.y+=s??0,o.width-=(f??0)+(y??0),o.height-=(s??0)+(d??0),o.width=Math.max(0,o.width),o.height=Math.max(0,o.height),o},t.prototype.clampToOutsideSeriesRect=function(e,r,o,s){var d=e.x,f=e.y;return(1===s?Math.min:Math.max)(r,[d,f,d+e.width,f+e.height][("x"===o?0:1)+(1===s?0:2)])},t.prototype.calculateAxisDimensions=function(e){var r,o,s,d,f,y,m=e.axis,E=e.seriesRect,O=e.axisWidths,D=e.newAxisWidths,P=e.primaryTickCounts,R=e.addInterAxisPadding,x=e.clipSeries,L=m.position,B=m.direction;m.label.mirrored=["top","right"].includes(L);var Pe,Y=null!==(r=D[L])&&void 0!==r?r:0;switch(L){case"top":case"bottom":m.range=[0,E.width],m.gridLength=E.height;break;case"right":case"left":m.range=(Pe=m)instanceof CategoryAxis||Pe instanceof GroupedCategoryAxis?[0,E.height]:[E.height,0],m.gridLength=E.width}var oe=(null===(o=this.zoomManager.getZoom())||void 0===o?void 0:o[m.direction])??{},re=oe.min,q=oe.max;m.visibleRange=[void 0===re?0:re,void 0===q?1:q],!x&&(m.visibleRange[0]>0||m.visibleRange[1]<1)&&(x=!0);var ue=m.nice?P[B]:void 0;ue=m.update(ue),P[B]=null!==(s=P[B])&&void 0!==s?s:ue;var ge=0;if(m.thickness)ge=m.thickness;else{var ve=m.computeBBox();ge=B===ChartAxisDirection.X?ve.height:ve.width}return R&&(ge+=15),ge=Math.ceil(ge),D[L]=(null!==(d=D[L])&&void 0!==d?d:0)+ge,m.gridPadding=(null!==(f=O[L])&&void 0!==f?f:0)-(null!==(y=D[L])&&void 0!==y?y:0),{clipSeries:x,axisThickness:ge,axisOffset:Y}},t.prototype.positionAxis=function(e){var r,o,s,d,f=e.axis,y=e.axisBound,m=e.axisWidths,E=e.seriesRect,O=e.axisOffset,D=e.axisThickness;switch(f.position){case"top":f.translation.x=y.x+(null!==(r=m.left)&&void 0!==r?r:0),f.translation.y=this.clampToOutsideSeriesRect(E,y.y+1+O+D,"y",1);break;case"bottom":f.translation.x=y.x+(null!==(o=m.left)&&void 0!==o?o:0),f.translation.y=this.clampToOutsideSeriesRect(E,y.y+y.height+1-D-O,"y",-1);break;case"left":f.translation.y=y.y+(null!==(s=m.top)&&void 0!==s?s:0),f.translation.x=this.clampToOutsideSeriesRect(E,y.x+O+D,"x",1);break;case"right":f.translation.y=y.y+(null!==(d=m.top)&&void 0!==d?d:0),f.translation.x=this.clampToOutsideSeriesRect(E,y.x+y.width-D-O,"x",-1)}f.updatePosition()},t.className="CartesianChart",t.type="cartesian",t}(Chart),__extends$2b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),PolarSeries=function(l){function t(e){var r,o=e.useLabelLayer,d=l.call(this,{useLabelLayer:void 0!==o&&o,pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:(r={},r[ChartAxisDirection.X]=["angleKey"],r[ChartAxisDirection.Y]=["radiusKey"],r)})||this;return d.centerX=0,d.centerY=0,d.radius=0,d}return __extends$2b(t,l),t.prototype.getLabelData=function(){return[]},t.prototype.computeLabelsBBox=function(e){return null},t}(Series),__extends$2a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__awaiter$9=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$9=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},PolarChart=function(l){function t(e,r,o){void 0===e&&(e=window.document);var s=l.call(this,e,r,o)||this;return s.padding=new Padding$1(40),s.legend.attachLegend(s.scene.root),s}return __extends$2a(t,l),t.prototype.performLayout=function(){return __awaiter$9(this,void 0,void 0,function(){var e,r,s;return __generator$9(this,function(d){switch(d.label){case 0:return[4,l.prototype.performLayout.call(this)];case 1:return e=d.sent(),r=e.clone(),this.computeSeriesRect(e),this.computeCircle(),s=e.clone().grow(20),this.hoverRect=s,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:r,paddedRect:e,hoverRect:s,visible:!0},axes:[]}),[2,e]}})})},t.prototype.computeSeriesRect=function(e){var r=this.seriesAreaPadding;e.shrink(r.left,"left"),e.shrink(r.top,"top"),e.shrink(r.right,"right"),e.shrink(r.bottom,"bottom"),this.seriesRect=e},t.prototype.computeCircle=function(){var e=this,r=this.seriesRect,o=this.series.filter(function(O){return O instanceof PolarSeries}),s=function(O,D,P){o.forEach(function(R){R.centerX=O,R.centerY=D,R.radius=P})},d=r.x+r.width/2,f=r.y+r.height/2,y=Math.max(0,Math.min(r.width,r.height)/2),m=y;s(d,f,m);var E=function(O){var D=(void 0===O?{}:O).hideWhenNecessary,P=void 0!==D&&D,R=o.map(function(B){return B.computeLabelsBBox({hideWhenNecessary:P})}).filter(function(B){return null!=B});if(0!==R.length){var x=BBox.merge(R),L=e.refineCircle(x,m);s(L.centerX,L.centerY,L.radius),L.radius!==m&&(m=L.radius)}else s(d,f,y)};E(),E(),E(),E({hideWhenNecessary:!0}),E({hideWhenNecessary:!0})},t.prototype.refineCircle=function(e,r){var s=this.seriesRect,f=-r,y=r,m=r,E=Math.max(0,-r-e.x),O=Math.max(0,f-e.y),D=Math.max(0,e.x+e.width-y),P=Math.max(0,e.y+e.height-m),L=Math.min(s.width-E-D,s.height-O-P)/2,Y=Math.min(.5*s.width/2,.5*s.height/2);if(L<Y){var ee=E+D;if(2*(L=Y)+(O+P)>s.height){var re=s.height-2*L;2*Math.min(O,P)>re?(O=re/2,P=re/2):O>P?O=re-P:P=re-O}if(2*L+ee>s.width){var ie=s.width-2*L;2*Math.min(E,D)>ie?(E=ie/2,D=ie/2):E>D?E=ie-D:D=ie-E}}return{centerX:s.x+(s.width-(E+2*L+D))/2+E+L,centerY:s.y+(s.height-(O+2*L+P))/2+O+L,radius:L}},t.className="PolarChart",t.type="polar",t}(Chart),__extends$29=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__awaiter$8=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$8=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},HierarchyChart=function(l){function t(e,r,o){void 0===e&&(e=window.document);var s=l.call(this,e,r,o)||this;return s._data={},s.legend.attachLegend(s.scene.root),s}return __extends$29(t,l),t.prototype.performLayout=function(){return __awaiter$8(this,void 0,void 0,function(){var e,r,o,d;return __generator$8(this,function(y){switch(y.label){case 0:return[4,l.prototype.performLayout.call(this)];case 1:return e=y.sent(),r=this.seriesAreaPadding,o=e.clone(),e.shrink(r.left,"left"),e.shrink(r.top,"top"),e.shrink(r.right,"right"),e.shrink(r.bottom,"bottom"),this.seriesRect=e,d=e.clone().grow(20),this.hoverRect=d,this.series.forEach(function(m){m.rootGroup.translationX=Math.floor(e.x),m.rootGroup.translationY=Math.floor(e.y),m.update({seriesRect:e})}),this.seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:o,paddedRect:e,hoverRect:d,visible:!0},axes:[]}),[2,e]}})})},t.className="HierarchyChart",t.type="hierarchy",t}(Chart),__read$A=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},interpolatePattern=/(#\{(.*?)\})/g;function interpolate(l,t,e){return l.replace(interpolatePattern,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var E,d=__read$A(r[2].split(":"),2),y=d[1],m=t[d[0]];return"number"==typeof m?(E=y&&e&&e[y])?m.toLocaleString(E.locales,E.options):String(m):m instanceof Date?"string"==typeof(E=y&&e&&e[y])?buildFormatter(E)(m):m.toDateString():"string"==typeof m||m&&m.toString?String(m):""})}var element=null;function sanitizeHtml(l){return element=element||document.createElement("div"),l?(element.textContent=l,element.innerHTML):""}function calculateNiceSecondaryAxis(l,t){var e=Math.floor(l[0]),r=l[1],o=getTickStep(e=calculateNiceStart(e,r,t),r,t);return[[e,r=e+(t-1)*o],getTicks(e,o,t)]}function calculateNiceStart(l,t,e){var r=Math.abs(t-l)/(e-1),o=Math.floor(Math.log10(r)),s=Math.pow(10,o);return Math.floor(l/s)*s}function getTicks(l,t,e){for(var r=Math.floor(Math.log10(t)),o=t>0&&t<1?Math.abs(r):0,s=Math.pow(10,o),d=new NumericTicks(o),f=0;f<e;f++)d[f]=Math.round((l+t*f)*s)/s;return d}function getTickStep(l,t,e){return calculateNextNiceStep((t-l)/(e-1))}function calculateNextNiceStep(l){var t=Math.floor(Math.log10(l)),e=Math.pow(10,t),r=l/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}var __extends$28=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1v=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$z=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},NumberAxis=function(l){function t(e,r){void 0===r&&(r=new LinearScale$1);var o=l.call(this,e,r)||this;return o.min=NaN,o.max=NaN,r.strictClampByDefault=!0,o}return __extends$28(t,l),t.prototype.normaliseDataDomain=function(e){var o=this.min,s=this.max;return e.length>2&&(e=extent$4(e)||[NaN,NaN]),isNaN(o)||(e=[o,e[1]]),isNaN(s)||(e=[e[0],s]),e[0]>e[1]&&(e=[]),e},t.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(Logger.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(e))},t.prototype.updateSecondaryAxisTicks=function(e){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var r=__read$z(calculateNiceSecondaryAxis(this.dataDomain,e??0),2),o=r[0],s=r[1];return this.scale.nice=!1,this.scale.domain=o,this.scale.update(),s},t.className="NumberAxis",t.type="number",__decorate$1v([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"))),Default(NaN)],t.prototype,"min",void 0),__decorate$1v([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"))),Default(NaN)],t.prototype,"max",void 0),t}(ChartAxis),__extends$27=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1u=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function NON_ZERO_NUMBER(){return predicateWithMessage(function(t){return"number"==typeof t&&0!==t},"expecting a non-zero Number")}var LogAxis=function(l){function t(e){var r=l.call(this,e,new LogScale)||this;return r.min=NaN,r.max=NaN,r.scale.strictClampByDefault=!0,r}return __extends$27(t,l),t.prototype.normaliseDataDomain=function(e){var o=this.min,s=this.max;e.length>2&&(e=extent$4(e)||[NaN,NaN]),isNaN(o)||(e=[o,e[1]]),isNaN(s)||(e=[e[0],s]);var f=e[0]<0&&e[1]>0,y=0===e[0]&&0===e[1];return(e[0]>e[1]||f||y)&&(e=[],f?Logger.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):y&&Logger.warn("the data domain has 0 extent, no data is rendered.")),0===e[0]&&(e[0]=1),0===e[1]&&(e[1]=-1),e},Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!1,configurable:!0}),t.className="LogAxis",t.type="log",__decorate$1u([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"),NON_ZERO_NUMBER())),Default(NaN)],t.prototype,"min",void 0),__decorate$1u([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"),NON_ZERO_NUMBER())),Default(NaN)],t.prototype,"max",void 0),t}(NumberAxis),__assign$x=function(){return __assign$x=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$x.apply(this,arguments)},__values$f=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$y=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$k=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$y(arguments[t]));return l};function extendDomain(l,t){var e,r;void 0===t&&(t=[1/0,-1/0]);try{for(var o=__values$f(l),s=o.next();!s.done;s=o.next()){var d=s.value;"number"==typeof d&&(d<t[0]&&(t[0]=d),d>t[1]&&(t[1]=d))}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return t}function sumValues(l,t){var e,r;void 0===t&&(t=[0,0]);try{for(var o=__values$f(l),s=o.next();!s.done;s=o.next()){var d=s.value;"number"==typeof d&&(d<0&&(t[0]+=d),d>0&&(t[1]+=d))}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return t}function toKeyString(l){return l.map(function(t){return null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t}).join("-")}var SMALLEST_KEY_INTERVAL={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:function(){var l=NaN;return function(t,e){var r=e.keys[0],o=Math.abs(r-l);return l=r,!isNaN(o)&&o>0&&o<t?o:t}}},SUM_VALUE_EXTENT={type:"processor",property:"sumValueExtent",calculate:function(l){var t,e,r,o,s,d,f=__spread$k(null!==(o=null===(r=l.domain.sumValues)||void 0===r?void 0:r[0])&&void 0!==o?o:[0,0]);try{for(var y=__values$f(null!==(d=null===(s=l.domain.sumValues)||void 0===s?void 0:s.slice(1))&&void 0!==d?d:[]),m=y.next();!m.done;m=y.next()){var E=__read$y(m.value,2),O=E[0],D=E[1];O<f[0]&&(f[0]=O),D>f[1]&&(f[1]=D)}}catch(P){t={error:P}}finally{try{m&&!m.done&&(e=y.return)&&e.call(y)}finally{if(t)throw t.error}}return f}},INVALID_VALUE=Symbol("invalid"),DataModel=function(){function l(t){var e,r,o,s,f,d=this,y=t.props,m=!0;try{for(var E=__values$f(y),O=E.next();!O.done;O=E.next()){var D=O.value;if("key"===D.type&&!m)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===D.type&&m&&(m=!1)}}catch(L){e={error:L}}finally{try{O&&!O.done&&(r=E.return)&&r.call(E)}finally{if(e)throw e.error}}this.opts=__assign$x({dataVisible:!0},t),this.keys=y.filter(function(L){return"key"===L.type}).map(function(L,B){return __assign$x(__assign$x({},L),{index:B,missing:!1})}),this.values=y.filter(function(L){return"value"===L.type}).map(function(L,B){return __assign$x(__assign$x({},L),{index:B,missing:!1})}),this.sums=y.filter(function(L){return"sum"===L.type}),this.reducers=y.filter(function(L){return"reducer"===L.type}),this.processors=y.filter(function(L){return"processor"===L.type});try{for(var P=__values$f(null!==(f=this.sums)&&void 0!==f?f:[]),R=P.next();!R.done;R=P.next()){var x=R.value.properties;if(0!==x.length&&!x.some(function(L){return d.values.some(function(B){return B.property===L})}))throw new Error("AG Charts - internal config error: sum properties must match defined properties ("+x+").")}}catch(L){o={error:L}}finally{try{R&&!R.done&&(s=P.return)&&s.call(P)}finally{if(o)throw o.error}}}return l.prototype.resolveProcessedDataIndex=function(t){var e=this.resolveProcessedDataDef(t);if("key"===e?.type||"value"===e?.type)return{type:e.type,index:e.index}},l.prototype.resolveProcessedDataDef=function(t){var s=__spread$k(this.keys,this.values).find(function(d){return d.property===t});if(s)return s},l.prototype.getDomain=function(t,e){var r=this.resolveProcessedDataIndex(t);return r?e.domain["key"===r.type?"keys":"values"][r.index]:[]},l.prototype.processData=function(t){var e,r,o,s,d=this,f=d.opts,y=f.groupByKeys,m=f.normaliseTo,E=d.sums,O=d.reducers,D=d.processors,P=performance.now();try{for(var R=__values$f(__spread$k(this.keys,this.values)),x=R.next();!x.done;x=R.next())(L=x.value).missing=!1}catch(oe){e={error:oe}}finally{try{x&&!x.done&&(r=R.return)&&r.call(R)}finally{if(e)throw e.error}}if(!y||0!==this.keys.length){var B=this.extractData(t);y&&(B=this.groupData(B)),E.length>0&&this.sumData(B),"number"==typeof m&&this.normaliseData(B),O.length>0&&this.reduceData(B),D.length>0&&this.postProcessData(B);try{for(var U=__values$f(__spread$k(this.keys,this.values)),Y=U.next();!Y.done;Y=U.next()){var L;(L=Y.value).missing&&Logger.warnOnce("the key '"+L.property+"' was not found in at least one data element.")}}catch(oe){o={error:oe}}finally{try{Y&&!Y.done&&(s=U.return)&&s.call(U)}finally{if(o)throw o.error}}var ee=performance.now();return B.time=ee-P,B}},l.prototype.extractData=function(t){var e,r,o,s,d,f,y=this,m=y.keys,E=y.values,O=y.opts.dataVisible,D=this.initDataDomainProcessor(),P=D.dataDomain,R=D.processValue,x=new Array(O?t.length:0),L=0;try{e:for(var B=__values$f(t),U=B.next();!U.done;U=B.next()){var Y=U.value,ee=O?new Array(m.length):void 0,oe=0;try{for(var re=(o=void 0,__values$f(m)),ie=re.next();!ie.done;ie=re.next()){var se=R(ie.value,Y);if(se===INVALID_VALUE)continue e;ee&&(ee[oe++]=se)}}catch(Re){o={error:Re}}finally{try{ie&&!ie.done&&(s=re.return)&&s.call(re)}finally{if(o)throw o.error}}var ue=O?new Array(E.length):void 0,ge=0;try{for(var ve=(d=void 0,__values$f(E)),Ce=ve.next();!Ce.done;Ce=ve.next()){var Pe=R(Ce.value,Y);if(Pe===INVALID_VALUE)continue e;ue&&(ue[ge++]=Pe)}}catch(Re){d={error:Re}}finally{try{Ce&&!Ce.done&&(f=ve.return)&&f.call(ve)}finally{if(d)throw d.error}}O&&(x[L++]={datum:Y,keys:ee,values:ue})}}catch(Re){e={error:Re}}finally{try{U&&!U.done&&(r=B.return)&&r.call(B)}finally{if(e)throw e.error}}x.length=L;var Me=function(Re){var Ne=P.get(Re.property).domain;return Array.isArray(Ne)&&Ne[0]>Ne[1]?[]:__spread$k(Ne)};return{type:"ungrouped",data:x,domain:{keys:m.map(function(Re){return Me(Re)}),values:E.map(function(Re){return Me(Re)})},indices:{keys:m.reduce(function(Re,Ne){return Re[Ne.property]=Ne.index,Re},{}),values:E.reduce(function(Re,Ne){return Re[Ne.property]=Ne.index,Re},{})},defs:{keys:m,values:E},time:0}},l.prototype.groupData=function(t){var e,r,o,s,d=new Map;try{for(var f=__values$f(t.data),y=f.next();!y.done;y=f.next()){var m=y.value,O=m.values,D=m.datum,P=toKeyString(E=m.keys);if(d.has(P)){var R=d.get(P);R.values.push(O),R.datum.push(D)}else d.set(P,{keys:E,values:[O],datum:[D]})}}catch(oe){e={error:oe}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}var x=new Array(d.size),L=0;try{for(var B=__values$f(d.entries()),U=B.next();!U.done;U=B.next()){var E,ee=__read$y(U.value,2)[1];x[L++]={keys:E=ee.keys,values:O=ee.values,datum:D=ee.datum}}}catch(oe){o={error:oe}}finally{try{U&&!U.done&&(s=B.return)&&s.call(B)}finally{if(o)throw o.error}}return __assign$x(__assign$x({},t),{type:"grouped",data:x})},l.prototype.sumData=function(t){var e,r,o,s,d,f,y,E=this.values,O=this.sums;if(O){var D=O.map(function(){return[1/0,-1/0]}),P=O.map(function(ge){return ge.properties.map(function(ve){return E.findIndex(function(Ce){return Ce.property===ve})})});try{for(var R=__values$f(t.data),x=R.next();!x.done;x=R.next()){var L=x.value,B=L.values;null!==(y=L.sumValues)&&void 0!==y||(L.sumValues=new Array(P.length)),"ungrouped"===t.type&&(B=[B]);var U=0;try{for(var Y=(o=void 0,__values$f(P)),ee=Y.next();!ee.done;ee=Y.next()){var oe=ee.value,re=extendDomain([]),ie=function(ge){var Ce=sumValues(oe.map(function(Pe){return ge[Pe]}));Ce&&extendDomain(Ce,re)};try{for(var q=(d=void 0,__values$f(B)),se=q.next();!se.done;se=q.next())ie(se.value)}catch(ge){d={error:ge}}finally{try{se&&!se.done&&(f=q.return)&&f.call(q)}finally{if(d)throw d.error}}extendDomain(re,D[U]),L.sumValues[U++]=re}}catch(ge){o={error:ge}}finally{try{ee&&!ee.done&&(s=Y.return)&&s.call(Y)}finally{if(o)throw o.error}}}}catch(ge){e={error:ge}}finally{try{x&&!x.done&&(r=R.return)&&r.call(R)}finally{if(e)throw e.error}}t.domain.sumValues=D}},l.prototype.normaliseData=function(t){var e,r,o,s,d,f,y,m,E,O,D,P,R,x,L,B=this,U=B.sums,Y=B.values,ee=B.opts.normaliseTo;if(null!=ee)for(var oe=t.domain.sumValues,re=U.map(function(Ht){return Ht.properties.map(function(_r){return Y.findIndex(function(ir){return ir.property===_r})})}),ie=function(Ht,_r){var ir=Ht*ee/_r;return ir>=0?Math.min(ee,ir):Math.max(-ee,ir)},q=0;q<U.length;q++){var se=oe?.[q];if(null!=se){var ue=-1/0;try{for(var ge=(e=void 0,__values$f(se)),ve=ge.next();!ve.done;ve=ge.next()){var Ce=ve.value;ue<(Pe=Math.abs(Ce))&&(ue=Pe)}}catch(Ht){e={error:Ht}}finally{try{ve&&!ve.done&&(r=ge.return)&&r.call(ge)}finally{if(e)throw e.error}}var Me=0;try{for(var Re=(o=void 0,__values$f(se)),Ne=Re.next();!Ne.done;Ne=Re.next())se[Me]=ie(se[Me],ue),Me++}catch(Ht){o={error:Ht}}finally{try{Ne&&!Ne.done&&(s=Re.return)&&s.call(Re)}finally{if(o)throw o.error}}try{for(var De=(d=void 0,__values$f(t.data)),_e=De.next();!_e.done;_e=De.next()){var Oe=_e.value,Le=Oe.sumValues,Ie=Oe.values;"ungrouped"===t.type&&(Ie=[Ie]);var Ye=0;try{for(var dt=(y=void 0,__values$f(null!==(L=Le?.[q])&&void 0!==L?L:[])),ht=dt.next();!ht.done;ht=dt.next()){var Pe;Ce=ht.value,Ye<(Pe=Math.abs(Ce))&&(Ye=Pe)}}catch(Ht){y={error:Ht}}finally{try{ht&&!ht.done&&(m=dt.return)&&m.call(dt)}finally{if(y)throw y.error}}try{for(var pt=(E=void 0,__values$f(Ie)),Pt=pt.next();!Pt.done;Pt=pt.next()){var Qe=Pt.value;try{for(var vt=(D=void 0,__values$f(re[q])),Nt=vt.next();!Nt.done;Nt=vt.next()){var xt=Nt.value;Qe[xt]=ie(Qe[xt],Ye)}}catch(Ht){D={error:Ht}}finally{try{Nt&&!Nt.done&&(P=vt.return)&&P.call(vt)}finally{if(D)throw D.error}}}}catch(Ht){E={error:Ht}}finally{try{Pt&&!Pt.done&&(O=pt.return)&&O.call(pt)}finally{if(E)throw E.error}}if(null!=Le){Me=0;try{for(var bt=(R=void 0,__values$f(Le[q])),er=bt.next();!er.done;er=bt.next())Le[q][Me]=ie(Le[q][Me],Ye),Me++}catch(Ht){R={error:Ht}}finally{try{er&&!er.done&&(x=bt.return)&&x.call(bt)}finally{if(R)throw R.error}}}}}catch(Ht){d={error:Ht}}finally{try{_e&&!_e.done&&(f=De.return)&&f.call(De)}finally{if(d)throw d.error}}}}},l.prototype.reduceData=function(t){var e,r,o,s,d,f=this.reducers,y=f.map(function(U){return U.reducer()}),m=f.map(function(U){return U.initialValue});try{for(var E=__values$f(t.data),O=E.next();!O.done;O=E.next()){var D=O.value,P=0;try{for(var R=(o=void 0,__values$f(y)),x=R.next();!x.done;x=R.next())m[P]=(0,x.value)(m[P],D),P++}catch(U){o={error:U}}finally{try{x&&!x.done&&(s=R.return)&&s.call(R)}finally{if(o)throw o.error}}}}catch(U){e={error:U}}finally{try{O&&!O.done&&(r=E.return)&&r.call(E)}finally{if(e)throw e.error}}for(var B=0;B<m.length;B++)null!==(d=t.reduced)&&void 0!==d||(t.reduced={}),t.reduced[f[B].property]=m[B]},l.prototype.postProcessData=function(t){var e,r,o,s=this.processors;try{for(var d=__values$f(s),f=d.next();!f.done;f=d.next()){var y=f.value;null!==(o=t.reduced)&&void 0!==o||(t.reduced={}),t.reduced[y.property]=y.calculate(t)}}catch(m){e={error:m}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}},l.prototype.initDataDomainProcessor=function(){var e=this.keys,r=this.values,o=new Map,s=function(y,m,E){E.set(y,"category"===m?{type:m,domain:new Set}:{type:m,domain:[1/0,-1/0]})},d=function(y){return void 0===y&&(y=o),e.forEach(function(m){return s(m.property,m.valueType,y)}),r.forEach(function(m){return s(m.property,m.valueType,y)}),y};return d(),{dataDomain:o,processValue:function(y,m,E){var O,D;void 0===E&&(E=o);var P=y.property in m;!y.missing&&!P&&!("missingValue"in y)&&(y.missing=!0),E.has(y.property)||d(E);var x=P?m[y.property]:y.missingValue;if(P&&null!==(D=null===(O=y.validation)||void 0===O?void 0:O.call(y,x))&&void 0!==D&&!D){if(!("invalidValue"in y))return INVALID_VALUE;x=y.invalidValue}var B=E.get(y.property);return"category"===B?.type?B.domain.add(x):"range"===B?.type&&(B.domain[0]>x&&(B.domain[0]=x),B.domain[1]<x&&(B.domain[1]=x)),x},initDataDomain:d}},l}(),__extends$26=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1t=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TimeAxis=function(l){function t(e){var r=l.call(this,e,new TimeScale$1)||this;r.datumFormat="%m/%d/%y, %H:%M:%S",r.min=void 0,r.max=void 0;var o=r.scale;return o.strictClampByDefault=!0,r.refreshScale(),r.datumFormatter=o.tickFormat({specifier:r.datumFormat}),r}return __extends$26(t,l),t.prototype.normaliseDataDomain=function(e){var o=this.min,s=this.max;return"number"==typeof o&&(o=new Date(o)),"number"==typeof s&&(s=new Date(s)),e.length>2&&(e=(extent$4(e)||[0,1e3]).map(function(d){return new Date(d)})),o instanceof Date&&(e=[o,e[1]]),s instanceof Date&&(e=[e[0],s]),e[0]>e[1]&&(e=[]),e},t.prototype.onLabelFormatChange=function(e,r){r?l.prototype.onLabelFormatChange.call(this,e,r):this.labelFormatter=this.scale.tickFormat({ticks:e})},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.prototype.calculatePadding=function(e,r){return 1},t.className="TimeAxis",t.type="time",__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,LESS_THAN("max")))],t.prototype,"min",void 0),__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,GREATER_THAN("min")))],t.prototype,"max",void 0),t}(ChartAxis),__extends$25=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1s=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$7=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$7=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$x=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$j=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$x(arguments[t]));return l},__values$e=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},AreaSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$25(t,l),__decorate$1s([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),AreaSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$25(t,l),__decorate$1s([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),__decorate$1s([Validate(OPT_STRING)],t.prototype,"format",void 0),t}(SeriesTooltip),AreaSeriesTag=(()=>((AreaSeriesTag=AreaSeriesTag||{})[AreaSeriesTag.Fill=0]="Fill",AreaSeriesTag[AreaSeriesTag.Stroke=1]="Stroke",AreaSeriesTag[AreaSeriesTag.Marker=2]="Marker",AreaSeriesTag[AreaSeriesTag.Label=3]="Label",AreaSeriesTag))(),AreaSeries=function(l){function t(){var e=l.call(this,{pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,renderLayerPerSubSeries:!1,directionKeys:{x:["xKey"],y:["yKeys"]}})||this;e.tooltip=new AreaSeriesTooltip,e.marker=new CartesianSeriesMarker,e.label=new AreaSeriesLabel,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e._visibles=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var s=e.label;return e.marker.enabled=!1,s.enabled=!1,e}return __extends$25(t,l),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){areArrayItemsStrictlyEqual(this._yKeys,e)||(this._yKeys=e,this.processedData=void 0,this.processSeriesItemEnabled())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibles",{get:function(){return this._visibles},set:function(e){this._visibles=e,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),t.prototype.processSeriesItemEnabled=function(){var r=this.seriesItemEnabled,o=this._visibles,s=void 0===o?[]:o;r.clear(),this._yKeys.forEach(function(d,f){var y;return r.set(d,null===(y=s[f])||void 0===y||y)})},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r)},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return __awaiter$7(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D,P;return __generator$7(this,function(R){return o=(e=this).yKeys,s=e.seriesItemEnabled,d=e.xAxis,f=e.yAxis,y=e.normalizedTo,m=(r=e.xKey)&&o.length&&this.data?this.data:[],E=d?.scale instanceof ContinuousScale,O=f?.scale instanceof ContinuousScale,D=__spread$j(s.entries()).filter(function(x){return __read$x(x,2)[1]}).map(function(x){return __read$x(x,1)[0]}),P=y&&isFinite(y)?y:void 0,this.dataModel=new DataModel({props:__spread$j([keyProperty(r,E)],D.map(function(x){return valueProperty(x,O,{missingValue:NaN,invalidValue:void 0})}),[sumProperties(D),SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&D.length>0,normaliseTo:P}),this.processedData=this.dataModel.processData(m),[2]})})},t.prototype.getDomain=function(e){var r=this,o=r.processedData,s=r.xAxis,d=r.yAxis;if(!o)return[];var f=o,m=__read$x(f.defs.keys,1)[0],E=f.domain,D=__read$x(E.keys,1)[0],R=__read$x(E.values,1)[0],x=f.reduced,B=(void 0===x?{}:x)[SUM_VALUE_EXTENT.property];return e===ChartAxisDirection.X?"category"===m.valueType?D:this.fixNumericExtent(extent$4(D),s):this.fixNumericExtent(d instanceof LogAxis||d instanceof TimeAxis?R:B,d)},t.prototype.createNodeData=function(){return __awaiter$7(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q,se,ue=this;return __generator$7(this,function(ge){return o=(e=this).yAxis,s=e.data,f=(void 0===(d=e.processedData)?{}:d).data,(r=e.xAxis)&&o&&s?(y=[],E=(m=this).yKeys,O=m.xKey,D=m.marker,P=m.label,R=m.fills,x=m.strokes,L=m.id,Y=(U=o.scale)instanceof ContinuousScale,ee=((B=r.scale).bandwidth||0)/2,oe=s.length,re=new Array(oe).fill(null).map(function(){return{left:0,right:0}}),ie=new Array(oe).fill(0),q=function(ve,Ce,Pe,Me){var Re=B.convert(ve)+ee,he=re[Pe][Me]+Ce,De=U.convert(re[Pe][Me],{strict:!1}),_e=U.convert(he,{strict:!1});return re[Pe][Me]=he,[{x:Re,y:_e,size:D.size},{x:Re,y:De,size:D.size}]},se=function(ve,Ce,Pe,Me){var Re,Ne=ue.normalizedTo&&isFinite(ue.normalizedTo),he=Ne&&Y&&isContinuous(Me);return(!Ne&&!isNaN(Me)||he)&&(Re=ie[Pe]+=Ce),{x:B.convert(ve)+ee,y:U.convert(Re,{strict:!1}),size:D.size}},E.forEach(function(ve,Ce){var Pe,Me=null===(Pe=ue.dataModel)||void 0===Pe?void 0:Pe.resolveProcessedDataIndex(ve),Re=[],Ne=[],he={itemId:ve,points:[],yValues:[]},De={itemId:ve,points:[]};if(y[Ce]={itemId:ve,fillSelectionData:De,labelData:Re,nodeData:Ne,strokeSelectionData:he},Me){var _e=De.points,Oe=[],Le=he.points,Ie=he.yValues,Ye=-1;f?.forEach(function(ht,pt){var Qe=__read$x(ht.keys,1)[0],vt=ht.datum,Nt=ht.values;Nt.forEach(function(xt,bt){Ye++;var rr,er=vt[bt],Ht=xt[Me.index],_r=isNaN(Ht)?void 0:Ht,ir=bt<Nt.length-1,Xr=ir?ht:f[pt+1],Xe=Xr?.keys[0],ct=ir?bt+1:0,lt=Xr?.values[ct][Me.index],ae=isNaN(lt)?void 0:lt,Tt=se(Qe,+_r,Ye,er[ve]);D&&Ne.push({index:Ye,series:ue,itemId:ve,datum:er,nodeMidPoint:{x:Tt.x,y:Tt.y},cumulativeValue:ie[Ye],yValue:_r,yKey:ve,xKey:O,point:Tt,fill:R[Ce%R.length],stroke:x[Ce%x.length]}),rr=P.formatter?P.formatter({value:_r,seriesId:L}):isNumber$4(_r)?Number(_r).toFixed(2):String(_r),P&&Re.push({index:Ye,itemId:ve,point:Tt,label:rr?{text:rr,fontStyle:P.fontStyle,fontWeight:P.fontWeight,fontSize:P.fontSize,fontFamily:P.fontFamily,textAlign:"center",textBaseline:"bottom",fill:P.color}:void 0});var Zt=[Qe,Xe],_t=[_r,ae];if(!Zt.some(function(Or){return null==Or})){_t.some(function(Or){return null==Or})&&(_t[0]=0,_t[1]=0);var Mt=q(Zt[0],+_t[0],Ye,"right");_e.push(Mt[0]),Oe.push(Mt[1]);var sn=q(Zt[1],+_t[1],Ye,"left");_e.push(sn[0]),Oe.push(sn[1]),Le.push({x:NaN,y:NaN}),Ie.push(void 0),Le.push(Mt[0]),Ie.push(_r),void 0!==ae&&(Le.push(sn[0]),Ie.push(_r))}})});for(var dt=Oe.length-1;dt>=0;dt--)_e.push(Oe[dt])}}),[2,y]):[2,[]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.updatePaths=function(e){return __awaiter$7(this,void 0,void 0,function(){var r,o,s,d,f,y;return __generator$7(this,function(m){return o=(r=e.contextData).fillSelectionData,s=r.strokeSelectionData,d=__read$x(e.paths,2),y=d[1],(f=d[0]).datum=o,f.tag=AreaSeriesTag.Fill,f.lineJoin="round",f.stroke=void 0,f.pointerEvents=PointerEvents.None,y.datum=s,y.tag=AreaSeriesTag.Stroke,y.fill=void 0,y.lineJoin=y.lineCap="round",y.pointerEvents=PointerEvents.None,[2]})})},t.prototype.updatePathNodes=function(e){return __awaiter$7(this,void 0,void 0,function(){var r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q,se,ue,ge,ve,Ce;return __generator$7(this,function(Pe){r=__read$x(e.paths,2),s=r[1],f=e.itemId,m=(y=this).strokes,O=y.fillOpacity,D=y.strokeOpacity,P=y.strokeWidth,R=y.shadow,U=(o=r[0]).datum.points,o.fill=(E=y.fills)[(d=e.seriesIdx)%E.length],o.fillOpacity=O,o.strokeOpacity=D,o.strokeWidth=P,o.lineDash=this.lineDash,o.lineDashOffset=this.lineDashOffset,o.fillShadow=R,(oe=o.path).clear({trackChanges:!0}),re=0;try{for(x=__values$e(U),L=x.next();!L.done;L=x.next())se=L.value,re++>0?oe.lineTo(se.x,se.y):oe.moveTo(se.x,se.y)}catch(Me){ue={error:Me}}finally{try{L&&!L.done&&(ge=x.return)&&ge.call(x)}finally{if(ue)throw ue.error}}oe.closePath(),o.checkPathDirty(),U=(B=s.datum).points,Y=B.yValues,ee=!0,s.stroke=m[d%m.length],s.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:f}),s.strokeOpacity=D,s.lineDash=this.lineDash,s.lineDashOffset=this.lineDashOffset,(oe=s.path).clear({trackChanges:!0}),re=0;try{for(ie=__values$e(U),q=ie.next();!q.done;q=ie.next())se=q.value,void 0===Y[re++]?ee=!0:ee?(oe.moveTo(se.x,se.y),ee=!1):oe.lineTo(se.x,se.y)}catch(Me){ve={error:Me}}finally{try{q&&!q.done&&(Ce=ie.return)&&Ce.call(ie)}finally{if(ve)throw ve.error}}return s.checkPathDirty(),[2]})})},t.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},t.prototype.updateMarkerSelection=function(e){return __awaiter$7(this,void 0,void 0,function(){var r,o,d;return __generator$7(this,function(f){return r=e.nodeData,o=e.markerSelection,d=this.marker.enabled&&r?r:[],this.marker.isDirty()&&o.clear(),[2,o.update(d,function(y){y.tag=AreaSeriesTag.Marker})]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$7(this,void 0,void 0,function(){var o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q,se,ue;return __generator$7(this,function(ge){return o=e.isHighlight,d=(s=this).id,f=s.xKey,m=s.seriesItemEnabled,E=s.yKeys,O=s.fills,D=s.strokes,P=s.fillOpacity,x=void 0===(R=s.marker.fillOpacity)?P:R,L=s.strokeOpacity,U=(B=s.highlightStyle.item).fill,ee=void 0===(Y=B.fillOpacity)?x:Y,oe=B.stroke,re=B.strokeWidth,ie=(y=s.marker).size,q=y.formatter,se=void 0!==y.strokeWidth?y.strokeWidth:this.strokeWidth,ue="function"==typeof y.shape,e.markerSelection.each(function(ve,Ce){var Pe,Me,Re=E.indexOf(Ce.yKey),Ne=o&&void 0!==U?U:y.fill||O[Re%O.length],he=o?ee:x,De=o&&void 0!==oe?oe:y.stroke||D[Re%O.length],_e=o&&void 0!==re?re:se,Oe=void 0;q&&(Oe=q({datum:Ce.datum,xKey:f,yKey:Ce.yKey,fill:Ne,stroke:De,strokeWidth:_e,size:ie,highlighted:o,seriesId:d})),ve.fill=Oe&&Oe.fill||Ne,ve.stroke=Oe&&Oe.stroke||De,ve.strokeWidth=Oe&&void 0!==Oe.strokeWidth?Oe.strokeWidth:_e,ve.fillOpacity=he??1,ve.strokeOpacity=null!==(Me=null!==(Pe=y.strokeOpacity)&&void 0!==Pe?Pe:L)&&void 0!==Me?Me:1,ve.size=Oe&&void 0!==Oe.size?Oe.size:ie,ve.translationX=Ce.point.x,ve.translationY=Ce.point.y,ve.visible=ve.size>0&&!!m.get(Ce.yKey)&&!isNaN(Ce.point.x)&&!isNaN(Ce.point.y),ue&&!ve.dirtyPath&&(ve.path.clear({trackChanges:!0}),ve.updatePath(),ve.checkPathDirty())}),o||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$7(this,void 0,void 0,function(){return __generator$7(this,function(s){return[2,e.labelSelection.update(e.labelData,function(d){d.tag=AreaSeriesTag.Label})]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$7(this,void 0,void 0,function(){var o,s,d,f,y,m,E;return __generator$7(this,function(O){return s=(o=this.label).enabled,d=o.fontStyle,f=o.fontWeight,y=o.fontSize,m=o.fontFamily,E=o.color,e.labelSelection.each(function(D,P){var R=P.point,x=P.label;x&&s?(D.fontStyle=d,D.fontWeight=f,D.fontSize=y,D.fontFamily=m,D.textAlign=x.textAlign,D.textBaseline=x.textBaseline,D.text=x.text,D.x=R.x,D.y=R.y-10,D.fill=E,D.visible=!0):D.visible=!1}),[2]})})},t.prototype.getNodeClickEvent=function(e,r){return new CartesianSeriesNodeClickEvent(this.xKey,r.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,r.yKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var r,o,s,f=this.xKey,y=this.id,m=e.yKey,E=null===(r=this.dataModel)||void 0===r?void 0:r.resolveProcessedDataIndex(m);if(!f||!m||!E)return"";var O=e.datum,D=O[f],P=O[m],R=this,x=R.xAxis,L=R.yAxis,B=R.yKeys;if(!(x&&L&&isNumber$4(P)&&E))return"";var U=this,Y=U.xName,ee=U.yNames,oe=U.fills,re=U.strokes,ie=U.tooltip,q=U.marker,se=q.size,ue=q.formatter,ge=q.strokeWidth,ve=q.fill,Ce=q.stroke,Pe=x.formatDatum(D),Me=L.formatDatum(P),Re=B.indexOf(m),Ne=null===(s=null===(o=this.processedData)||void 0===o?void 0:o.data[e.index])||void 0===s?void 0:s.values[0][E?.index],he=ee[Re],De=sanitizeHtml(he),_e=sanitizeHtml(Pe+": "+Me),Le=ve||oe[Re%oe.length],Ye=void 0;ue&&(Ye=ue({datum:O,xKey:f,yKey:m,fill:Le,stroke:Ce||re[Re%oe.length],strokeWidth:void 0!==ge?ge:this.strokeWidth,size:se,highlighted:!1,seriesId:y}));var dt=Ye&&Ye.fill||Le,ht={title:De,backgroundColor:dt,content:_e},pt=ie.renderer,Pt=ie.format;if(Pt||pt){var Qe={datum:O,xKey:f,xName:Y,xValue:D,yKey:m,yValue:P,processedYValue:Ne,yName:he,color:dt,title:De,seriesId:y};if(Pt)return toTooltipHtml$1({content:interpolate(Pt,Qe)},ht);if(pt)return toTooltipHtml$1(pt(Qe),ht)}return toTooltipHtml$1(ht)},t.prototype.getLegendData=function(){var e,r,o=this,s=o.data,d=o.id,y=o.yKeys,m=o.yNames,E=o.seriesItemEnabled,O=o.marker,D=o.fills,P=o.strokes,R=o.fillOpacity,x=o.strokeOpacity;if(!(s&&s.length&&o.xKey&&y.length))return[];for(var L=[],B=y.length-1;B>=0;B--){var U=y[B];L.push({id:d,itemId:U,seriesId:d,enabled:E.get(U)||!1,label:{text:m[B]||y[B]},marker:{shape:O.shape,fill:O.fill||D[B%D.length],stroke:O.stroke||P[B%P.length],fillOpacity:null!==(e=O.fillOpacity)&&void 0!==e?e:R,strokeOpacity:null!==(r=O.strokeOpacity)&&void 0!==r?r:x}})}return L},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="AreaSeries",t.type="area",__decorate$1s([Validate(COLOR_STRING_ARRAY)],t.prototype,"fills",void 0),__decorate$1s([Validate(COLOR_STRING_ARRAY)],t.prototype,"strokes",void 0),__decorate$1s([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1s([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1s([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1s([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1s([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1s([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1s([Validate(STRING_ARRAY)],t.prototype,"_yKeys",void 0),__decorate$1s([Validate(BOOLEAN_ARRAY)],t.prototype,"_visibles",void 0),__decorate$1s([Validate(STRING_ARRAY)],t.prototype,"yNames",void 0),__decorate$1s([Validate(OPT_NUMBER())],t.prototype,"_normalizedTo",void 0),__decorate$1s([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(CartesianSeries),__extends$24=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1r=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Rect=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.borderPath=new Path2D,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.lastUpdatePathStrokeWidth=Shape.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Shape.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return __extends$24(t,l),t.prototype.isDirtyPath=function(){var e;return!!(this.lastUpdatePathStrokeWidth!==this.strokeWidth||this.path.isDirty()||this.borderPath.isDirty()||null!==(e=this.clipPath)&&void 0!==e&&e.isDirty())},t.prototype.updatePath=function(){var e,r,o,s=this,d=s.path,f=s.borderPath,y=s.crisp,m=this,E=m.x,O=m.y,D=m.width,P=m.height,R=m.strokeWidth,L=1/(null!==(r=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==r?r:1),B=1;if(d.clear({trackChanges:!0}),f.clear({trackChanges:!0}),y&&(D<=L&&(B*=D/L),P<=L&&(B*=P/L),D=this.align(E,D),P=this.align(O,P),E=this.align(E),O=this.align(O)),R)if(D<L){var U=E+L/2;f.moveTo(U,O),f.lineTo(U,O+P),R=L,this.borderClipPath=void 0}else if(P<L){var Y=O+L/2;f.moveTo(E,Y),f.lineTo(E+D,Y),R=L,this.borderClipPath=void 0}else if(R<D&&R<P){var ee=R/2;E+=ee,O+=ee,D-=R,P-=R,this.borderClipPath=void 0,d.rect(E,O,D,P),f.rect(E,O,D,P)}else this.borderClipPath=null!==(o=this.borderClipPath)&&void 0!==o?o:new Path2D,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(E,O,D,P),f.rect(E,O,D,P);else this.borderClipPath=void 0,d.rect(E,O,D,P);this.effectiveStrokeWidth=R,this.lastUpdatePathStrokeWidth=R,this.microPixelEffectOpacity=B},t.prototype.computeBBox=function(){var e=this;return new BBox(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.applyFillAlpha=function(e){var r=this;e.globalAlpha=r.opacity*r.fillOpacity*r.microPixelEffectOpacity},t.prototype.renderStroke=function(e){var r=this,o=r.stroke,s=r.effectiveStrokeWidth,d=r.borderPath,f=r.borderClipPath,y=r.opacity,m=r.microPixelEffectOpacity;if(o&&s){var O=this,D=O.strokeOpacity,P=O.lineDash,R=O.lineDashOffset,x=O.lineCap,L=O.lineJoin;f&&(f.draw(e),e.clip()),d.draw(e);var B=e.globalAlpha;e.strokeStyle=o,e.globalAlpha=B*y*D*m,e.lineWidth=s,P&&e.setLineDash(P),R&&(e.lineDashOffset=R),x&&(e.lineCap=x),L&&(e.lineJoin=L),e.stroke(),e.globalAlpha=B}},t.className="Rect",__decorate$1r([ScenePathChangeDetection()],t.prototype,"x",void 0),__decorate$1r([ScenePathChangeDetection()],t.prototype,"y",void 0),__decorate$1r([ScenePathChangeDetection()],t.prototype,"width",void 0),__decorate$1r([ScenePathChangeDetection()],t.prototype,"height",void 0),__decorate$1r([ScenePathChangeDetection()],t.prototype,"radius",void 0),__decorate$1r([ScenePathChangeDetection()],t.prototype,"crisp",void 0),t}(Path),__extends$23=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1q=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$6=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$6=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$w=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$i=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$w(arguments[t]));return l},BAR_LABEL_PLACEMENTS=["inside","outside"],OPT_BAR_LABEL_PLACEMENT=function(l,t){return OPTIONAL(l,t,function(e){return BAR_LABEL_PLACEMENTS.includes(e)})},BarSeriesNodeTag=(()=>((BarSeriesNodeTag=BarSeriesNodeTag||{})[BarSeriesNodeTag.Bar=0]="Bar",BarSeriesNodeTag[BarSeriesNodeTag.Label=1]="Label",BarSeriesNodeTag))(),BarSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return __extends$23(t,l),__decorate$1q([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1q([Validate(OPT_BAR_LABEL_PLACEMENT)],t.prototype,"placement",void 0),t}(Label$1),BarSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$23(t,l),__decorate$1q([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip);function is2dArray$1(l){return l.length>0&&Array.isArray(l[0])}var BarSeries=function(l){function t(){var e,r=l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,directionKeys:(e={},e[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKeys"],e)})||this;return r.label=new BarSeriesLabel,r.tooltip=new BarSeriesTooltip,r.flipXY=!1,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.formatter=void 0,r.groupScale=new BandScale$5,r._xKey="",r.xName="",r.cumYKeyCount=[],r.flatYKeys=void 0,r.hideInLegend=[],r.yKeys=[],r.yKeysCache=[],r.visibles=[],r._grouped=!1,r.stackGroups={},r.yNames={},r.strokeWidth=1,r.shadow=void 0,r.smallestDataInterval=void 0,r.label.enabled=!1,r}return __extends$23(t,l),t.prototype.resolveKeyDirection=function(e){return this.flipXY?flipChartAxisDirection(e):e},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.processedData=void 0},enumerable:!1,configurable:!0}),t.prototype.processYKeys=function(){var e=this,r=this.yKeys,o=void 0;is2dArray$1(r)||(o=r,r=this.grouped?o.map(function(B){return[B]}):[o]);var s=Object.values(this.stackGroups);if(s.length>0){var d=function(B){return B.reduce(function(U,Y){return U.concat(Y)},[])},f=d(r),y=new Set(d(s)),m=f.filter(function(B){return!y.has(B)});r=s.map(function(B){return B}),m.length>0&&r.push(m);var D=d(r).reduce(function(U,Y,ee){return U.set(Y,ee)},new Map),P=function(B){var U=Array.from({length:B.length});return B.forEach(function(Y,ee){var re=D.get(f[ee]);U[re]=Y}),U};this.fills=P(this.fills),this.strokes=P(this.strokes),this.visibles=P(this.visibles)}if(!areArrayItemsStrictlyEqual(this.yKeysCache,r)){this.flatYKeys=o||void 0,this.yKeys=r;var R=0;this.cumYKeyCount=[];var x=[];r.forEach(function(B,U){B.length>0&&x.push(String(U)),e.cumYKeyCount.push(R),R+=B.length}),this.processSeriesItemEnabled(),this.groupScale.domain=x}this.yKeysCache=r},t.prototype.processSeriesItemEnabled=function(){var e=this.seriesItemEnabled,o=this.visibles.reduce(function(d,f){return d.concat.apply(d,__spread$i(Array.isArray(f)?f:[f]))},[]);e.clear();var s=0;this.yKeys.forEach(function(d){d.forEach(function(f){var y;return e.set(f,null===(y=o[s++])||void 0===y||y)})})},Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped=e},enumerable:!1,configurable:!0}),t.prototype.getStackGroup=function(e){var r;return null===(r=Object.entries(this.stackGroups).find(function(s){return __read$w(s,2)[1].includes(e)}))||void 0===r?void 0:r[0]},t.prototype.processYNames=function(){var e=this.yNames;if(Array.isArray(e)&&this.flatYKeys){var r={};this.flatYKeys.forEach(function(o,s){r[o]=e[s]}),this.yNames=r}},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo=r},enumerable:!1,configurable:!0}),t.prototype.processData=function(){var e,r,o,s,d;return __awaiter$6(this,void 0,void 0,function(){var f,y,m,E,O,D,P,R,x,L,B;return __generator$6(this,function(U){return this.processYKeys(),this.processYNames(),y=(f=this).xKey,m=f.seriesItemEnabled,E=f.normalizedTo,D=void 0===(O=f.data)?[]:O,P=(null===(e=this.getCategoryAxis())||void 0===e?void 0:e.scale)instanceof ContinuousScale,R=(null===(r=this.getValueAxis())||void 0===r?void 0:r.scale)instanceof ContinuousScale,x=__spread$i(m.entries()).filter(function(Y){return __read$w(Y,2)[1]}).map(function(Y){return __read$w(Y,1)[0]}),L=this.yKeys.map(function(Y){return Y.filter(function(ee){return m.get(ee)})}).filter(function(Y){return Y.length>0}),B=E&&isFinite(E)?E:void 0,this.dataModel=new DataModel({props:__spread$i([keyProperty(y,P)],x.map(function(Y){return valueProperty(Y,R,{invalidValue:null})}),L.map(function(Y){return sumProperties(Y)}),P?[SMALLEST_KEY_INTERVAL]:[],[SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&x.length>0,normaliseTo:B}),this.processedData=this.dataModel.processData(D),this.smallestDataInterval={x:null!==(d=null===(s=null===(o=this.processedData)||void 0===o?void 0:o.reduced)||void 0===s?void 0:s[SMALLEST_KEY_INTERVAL.property])&&void 0!==d?d:1/0,y:1/0},[2]})})},t.prototype.getDomain=function(e){var o=this.flipXY,s=this.processedData;if(!s)return[];o&&(e=flipChartAxisDirection(e));var d=s,y=__read$w(d.defs.keys,1)[0],m=d.domain,O=__read$w(m.keys,1)[0],P=__read$w(m.values,1)[0],R=d.reduced,x=void 0===R?{}:R,B=x[SMALLEST_KEY_INTERVAL.property],Y=x[SUM_VALUE_EXTENT.property];if(e===ChartAxisDirection.X){if("category"===y.valueType)return O;var ee=extent$4(O)||[NaN,NaN];return o?[ee[0]+-B,ee[1]]:[ee[0],ee[1]+B]}return this.getValueAxis()instanceof LogAxis?this.fixNumericExtent(P):this.fixNumericExtent(Y)},t.prototype.getNodeClickEvent=function(e,r){return new CartesianSeriesNodeClickEvent(this.xKey,r.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,r.yKey,e,r,this)},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.calculateStep=function(e){var r,o=this.smallestDataInterval,s=this.getCategoryAxis();if(s){var f=(s.dataDomain[1]-s.dataDomain[0])/(null!==(r=o?.x)&&void 0!==r?r:1)+1,y=Math.floor(e),m=Math.min(f,y);return e/Math.max(1,m)}},t.prototype.createNodeData=function(){return __awaiter$6(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q,se,ue,ge,ve,Ce,Pe,Me,Re,Ne,he=this;return __generator$6(this,function(De){return r=(e=this).data,o=e.visible,s=this.getCategoryAxis(),d=this.getValueAxis(),r&&o&&s&&d?(y=d.scale,E=(m=this).groupScale,O=m.yKeys,D=m.xKey,P=m.cumYKeyCount,R=m.fills,x=m.strokes,L=m.strokeWidth,B=m.seriesItemEnabled,Y=m.flipXY,ee=m.id,oe=m.processedData,re=(U=m.label).fontStyle,ie=U.fontWeight,q=U.fontSize,se=U.fontFamily,ue=U.color,ge=U.formatter,ve=U.placement,Ce=(f=s.scale).bandwidth,f instanceof ContinuousScale&&(Pe=Math.max(s.range[0],s.range[1]),Me=this.calculateStep(Pe),Ce=Me),E.range=[0,Ce],E.padding=s instanceof CategoryAxis?s.groupPaddingInner:s instanceof GroupedCategoryAxis?.1:0,E.round=0!==E.padding,Re=E.bandwidth>=1?E.bandwidth:E.rawBandwidth,Ne=[],oe?.data.forEach(function(_e,Oe){for(var Le,Ie,Ye,dt,ht,pt,Qe=_e.datum,vt=_e.values,Nt=f.convert(_e.keys[0]),xt=0;xt<(null!==(Le=O?.length)&&void 0!==Le?Le:0);xt++){var bt=null!==(Ie=O?.[xt])&&void 0!==Ie?Ie:[];null!==(Ye=Ne[xt])&&void 0!==Ye||(Ne[xt]=[]);for(var er=0,Ht=0,_r=0;_r<bt.length;_r++){var ir=bt[_r],Xr=null!==(dt=oe?.indices.values[ir])&&void 0!==dt?dt:-1;if(null!==(ht=(pt=Ne[xt])[_r])&&void 0!==ht||(pt[_r]={itemId:ir,nodeData:[],labelData:[]}),void 0!==Xr){var Xe=vt[0][Xr],ct=+Xe,lt=Nt+E.convert(String(xt));if(s.inRange(lt,Re)&&!isNaN(ct)){var Zt,ae=ct<0?er:Ht,Tt=y.convert(ae+ct,{strict:!1}),rr=y.convert(ae,{strict:!1});Zt=ge?ge({value:isNumber$4(Xe)?Xe:void 0,seriesId:ee}):isNumber$4(Xe)?Xe.toFixed(2):"";var _t=void 0,Mt=void 0;Y?(Mt=lt+Re/2,_t="inside"===ve?Tt+(Xe>=0?-1:1)*Math.abs(rr-Tt)/2:Tt+4*(Xe>=0?1:-1)):(_t=lt+Re/2,Mt="inside"===ve?Tt+(Xe>=0?1:-1)*Math.abs(rr-Tt)/2:Tt+(Xe>=0?-3:4));var sn=void 0,Or=void 0;"inside"===ve?(sn="center",Or="middle"):(sn=Y?Xe>=0?"start":"end":"center",Or=Y?"middle":Xe>=0?"bottom":"top");var rt=P[xt]+_r,tn={x:Y?Math.min(Tt,rr):lt,y:Y?lt:Math.min(Tt,rr),width:Y?Math.abs(rr-Tt):Re,height:Y?Re:Math.abs(rr-Tt)},fi={index:Oe,series:he,itemId:ir,datum:Qe[0],cumulativeValue:ae+ct,yValue:Xe,yKey:ir,xKey:D,x:tn.x,y:tn.y,width:tn.width,height:tn.height,nodeMidPoint:{x:tn.x+tn.width/2,y:tn.y+tn.height/2},colorIndex:rt,fill:R[rt%R.length],stroke:x[rt%x.length],strokeWidth:L,label:B.get(ir)&&Zt?{text:Zt,fontStyle:re,fontWeight:ie,fontSize:q,fontFamily:se,textAlign:sn,textBaseline:Or,fill:ue,x:_t,y:Mt}:void 0};Ne[xt][_r].nodeData.push(fi),Ne[xt][_r].labelData.push(fi),ct<0?er+=ct:Ht+=ct}}}}}),[2,Ne.reduce(function(_e,Oe){return _e.concat.apply(_e,__spread$i(Oe))},[])]):[2,[]]})})},t.prototype.nodeFactory=function(){return new Rect},t.prototype.updateDatumSelection=function(e){return __awaiter$6(this,void 0,void 0,function(){return __generator$6(this,function(s){return[2,e.datumSelection.update(e.nodeData,function(d){return d.tag=BarSeriesNodeTag.Bar})]})})},t.prototype.updateDatumNodes=function(e){var r,o;return __awaiter$6(this,void 0,void 0,function(){var s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,se,ge,ve=this;return __generator$6(this,function(Ce){return s=e.datumSelection,d=e.isHighlight,y=(f=this).fills,m=f.strokes,E=f.fillOpacity,O=f.strokeOpacity,D=f.shadow,P=f.formatter,R=f.xKey,x=f.flipXY,B=(L=f.highlightStyle.item).fill,Y=void 0===(U=L.fillOpacity)?E:U,ee=L.stroke,oe=L.strokeWidth,re=f.id,ie=__read$w(null!==(o=null===(r=this.xAxis)||void 0===r?void 0:r.visibleRange)&&void 0!==o?o:[],2),se=ie[1],ge=!(0!==ie[0]||1!==se),s.each(function(Pe,Me){var Re=Me.colorIndex,Ne=d&&void 0!==B?B:y[Re%y.length],he=d&&void 0!==ee?ee:m[Re%y.length],De=d&&void 0!==oe?oe:ve.getStrokeWidth(ve.strokeWidth,Me),_e=d?Y:E,Oe=ve.getStackGroup(Me.yKey),Le=void 0;P&&(Le=P({datum:Me.datum,fill:Ne,stroke:he,strokeWidth:De,highlighted:d,xKey:R,yKey:Me.yKey,seriesId:re,stackGroup:Oe})),Pe.crisp=ge,Pe.x=Me.x,Pe.y=Me.y,Pe.width=Me.width,Pe.height=Me.height,Pe.fill=Le&&Le.fill||Ne,Pe.stroke=Le&&Le.stroke||he,Pe.strokeWidth=Le&&void 0!==Le.strokeWidth?Le.strokeWidth:De,Pe.fillOpacity=_e,Pe.strokeOpacity=O,Pe.lineDash=ve.lineDash,Pe.lineDashOffset=ve.lineDashOffset,Pe.fillShadow=D,Pe.visible=x?Me.width>0:Me.height>0}),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$6(this,void 0,void 0,function(){var r;return __generator$6(this,function(f){return r=e.labelData,[2,e.labelSelection.update(this.label.enabled?r:[],function(y){y.tag=BarSeriesNodeTag.Label,y.pointerEvents=PointerEvents.None})]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$6(this,void 0,void 0,function(){var o,s,d,f,y,m,E;return __generator$6(this,function(O){return s=(o=this.label).enabled,d=o.fontStyle,f=o.fontWeight,y=o.fontSize,m=o.fontFamily,E=o.color,e.labelSelection.each(function(D,P){var R=P.label;R&&s?(D.fontStyle=d,D.fontWeight=f,D.fontSize=y,D.fontFamily=m,D.textAlign=R.textAlign,D.textBaseline=R.textBaseline,D.text=R.text,D.x=R.x,D.y=R.y,D.fill=E,D.visible=!0):D.visible=!1}),[2]})})},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKeys,d=r.processedData,f=this.getCategoryAxis(),y=this.getValueAxis(),m=e.yKey;if(!(d&&o&&m&&f&&y))return"";for(var E=0,O=0,D=0;D<s.length;D++){var P=s[D];if((O=P.indexOf(m))>=0){E+=O;break}E+=P.length}var R=this,x=R.xName,B=R.fills,U=R.strokes,ee=R.formatter,oe=R.id,re=R.tooltip.renderer,ie=e.datum,q=R.yNames[m],se=this.getStackGroup(m),ue=B[E%B.length],ge=U[E%B.length],ve=this.getStrokeWidth(this.strokeWidth),Ce=ie[o],Pe=ie[m],Me=sanitizeHtml(f.formatDatum(Ce)),Re=sanitizeHtml(y.formatDatum(Pe)),Ne=sanitizeHtml(q),he=Me+": "+Re,De=void 0;ee&&(De=ee({datum:ie,fill:ue,stroke:ge,strokeWidth:ve,highlighted:!1,xKey:o,yKey:m,seriesId:oe,stackGroup:se}));var _e=De&&De.fill||ue,Oe={title:Ne,backgroundColor:_e,content:he};return re?toTooltipHtml$1(re({datum:ie,xKey:o,xValue:Ce,xName:x,yKey:m,yValue:Pe,yName:q,color:_e,title:Ne,seriesId:oe,stackGroup:se}),Oe):toTooltipHtml$1(Oe)},t.prototype.getLegendData=function(){var e=this,r=e.id,o=e.data,f=e.yNames,y=e.cumYKeyCount,m=e.seriesItemEnabled,E=e.hideInLegend,O=e.fills,D=e.strokes,P=e.fillOpacity,R=e.strokeOpacity,x=e.flipXY;if(!(o&&o.length&&e.xKey&&e.yKeys.length))return[];var L=[];return this.yKeys.forEach(function(B,U){for(var ee=x?1:-1,oe=x?0:B.length-1,re=0;re<B.length;oe+=ee,re++){var ie=B[oe];if(E.indexOf(ie)>=0)return;var q=y[U]+oe;L.push({id:r,itemId:ie,seriesId:r,enabled:m.get(ie)||!1,label:{text:f[ie]||ie},marker:{fill:O[q%O.length],stroke:D[q%D.length],fillOpacity:P,strokeOpacity:R}})}}),L},t.prototype.toggleSeriesItem=function(e,r){l.prototype.toggleSeriesItem.call(this,e,r);var o=this.yKeys.map(function(d){return d.slice()});this.seriesItemEnabled.forEach(function(d,f){d||o.forEach(function(y){var m=y.indexOf(f);m>=0&&y.splice(m,1)})});var s=[];o.forEach(function(d,f){d.length>0&&s.push(String(f))}),this.groupScale.domain=s,this.nodeDataRefresh=!0},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.prototype.getBandScalePadding=function(){return{inner:.2,outer:.3}},t.className="BarSeries",t.type="bar",__decorate$1q([Validate(BOOLEAN)],t.prototype,"flipXY",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],t.prototype,"fills",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],t.prototype,"strokes",void 0),__decorate$1q([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1q([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1q([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1q([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1q([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1q([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1q([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1q([Validate(STRING_ARRAY)],t.prototype,"hideInLegend",void 0),__decorate$1q([Validate(BOOLEAN_ARRAY)],t.prototype,"visibles",void 0),__decorate$1q([Validate(BOOLEAN)],t.prototype,"_grouped",void 0),__decorate$1q([Validate(OPT_NUMBER())],t.prototype,"_normalizedTo",void 0),__decorate$1q([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(CartesianSeries),__extends$22=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1p=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$5=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$5=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$v=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$h=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$v(arguments[t]));return l},HISTOGRAM_AGGREGATIONS=["count","sum","mean"],HISTOGRAM_AGGREGATION=predicateWithMessage(function(l){return HISTOGRAM_AGGREGATIONS.includes(l)},"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean"),HistogramSeriesNodeTag=(()=>((HistogramSeriesNodeTag=HistogramSeriesNodeTag||{})[HistogramSeriesNodeTag.Bin=0]="Bin",HistogramSeriesNodeTag[HistogramSeriesNodeTag.Label=1]="Label",HistogramSeriesNodeTag))(),HistogramSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$22(t,l),__decorate$1p([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),defaultBinCount=10,aggregationFunctions={count:function(l){return l.data.length},sum:function(l,t){return l.data.reduce(function(e,r){return e+r[t]},0)},mean:function(l,t){return aggregationFunctions.sum(l,t)/aggregationFunctions.count(l,t)}},HistogramBin=function(){function l(t){var e=__read$v(t,2),r=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[r,o]}return l.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(l.prototype,"domainWidth",{get:function(){var t=__read$v(this.domain,2);return t[1]-t[0]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!1,configurable:!0}),l.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,aggregationFunctions[t])(this,e)},l.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},l}(),HistogramSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$22(t,l),__decorate$1p([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),HistogramSeries=function(l){function t(){var e=l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return e.binnedData=[],e.xDomain=[],e.yDomain=[],e.label=new HistogramSeriesLabel,e.tooltip=new HistogramSeriesTooltip,e.fill=void 0,e.stroke=void 0,e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.xKey="",e.areaPlot=!1,e.bins=void 0,e.aggregation="count",e.binCount=void 0,e.xName="",e.yKey="",e.yName="",e.strokeWidth=1,e.shadow=void 0,e.label.enabled=!1,e}return __extends$22(t,l),t.prototype.deriveBins=function(){var e=this,r=this.bins;if(!this.data)return[];var o=this.data.map(function(E){return E[e.xKey]}),s=this.fixNumericExtent(extent$4(o));if(void 0===this.binCount){if(r)return r;var d=ticks(s[0],s[1],defaultBinCount),f=tickStep(s[0],s[1],defaultBinCount),y=d[0];return __spread$h([[y-f,y]],d.map(function(E){return[E,E+f]}))}return this.calculateNiceBins(s,this.binCount)},t.prototype.calculateNiceBins=function(e,r){var o=Math.floor(e[0]),s=e[1],d=r||1,f=this.calculateNiceStart(o,s,d);return this.getBins(f.start,s,f.binSize,d)},t.prototype.getBins=function(e,r,o,s){for(var d=[],f=0;f<s;f++){var y=Math.round(10*(e+f*o))/10,m=Math.round(10*(e+(f+1)*o))/10;f===s-1&&(m=Math.max(m,r)),d[f]=[y,m]}return d},t.prototype.calculateNiceStart=function(e,r,o){var s=Math.abs(r-e)/o,d=Math.floor(Math.log10(s)),f=Math.pow(10,d);return{start:Math.floor(e/f)*f,binSize:s}},t.prototype.placeDataInBins=function(e){var r=this,o=this.xKey,s=this.deriveBins();this.bins=s;for(var d=e.slice().sort(function(O,D){return O[o]<D[o]?-1:O[o]>D[o]?1:0}),f=[new HistogramBin(s[0])],y=0,m=0;m<d.length&&y<s.length;m++){for(var E=d[m];E[o]>s[y][1]&&y<s.length;)y++,f.push(new HistogramBin(s[y]));y<s.length&&f[y].addDatum(E)}return f.forEach(function(O){return O.calculateAggregatedValue(r.aggregation,r.yKey)}),f},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(r,o){return Math.max(r,o[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return __awaiter$5(this,void 0,void 0,function(){var e,o,s,d,O=this;return __generator$5(this,function(D){return o=(e=this).data,this.binnedData=this.placeDataInBins(e.xKey&&o?o:[]),s=this.binnedData.map(function(P){return P.getY(O.areaPlot)}),d=extent$4(s),this.yDomain=this.fixNumericExtent([0,d?d[1]:1]),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],[2]})})},t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},t.prototype.getNodeClickEvent=function(e,r){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,e,r,this)},t.prototype.createNodeData=function(){return __awaiter$5(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q=this;return __generator$5(this,function(se){return r=(e=this).xAxis,o=e.yAxis,this.seriesItemEnabled&&r&&o?(s=r.scale,d=o.scale,y=(f=this).fill,m=f.stroke,E=f.strokeWidth,O=f.id,D=f.yKey,P=f.xKey,R=[],x=function(ue){return String(ue.value)},U=void 0===(B=(L=this.label).formatter)?x:B,Y=L.fontStyle,ee=L.fontWeight,oe=L.fontSize,re=L.fontFamily,ie=L.color,this.binnedData.forEach(function(ue){var ge=ue.aggregatedValue,ve=ue.frequency,Ce=__read$v(ue.domain,2),Me=Ce[1],Re=ue.relativeHeight,Ne=s.convert(Ce[0]),he=s.convert(Me),De=q.areaPlot?Re:D?ge:ve,_e=d.convert(0),Oe=d.convert(De),Le=he-Ne,Ie=Math.abs(Oe-_e),Ye=0!==De?{text:U({value:ue.aggregatedValue,seriesId:O}),fontStyle:Y,fontWeight:ee,fontSize:oe,fontFamily:re,fill:ie,x:Ne+Le/2,y:Oe+Ie/2}:void 0;R.push({series:q,datum:ue,aggregatedValue:ue.aggregatedValue,domain:ue.domain,yKey:D,xKey:P,x:Ne,y:Oe,width:Le,height:Ie,nodeMidPoint:{x:Ne+Le/2,y:Oe+Ie/2},fill:y,stroke:m,strokeWidth:E,label:Ye})}),[2,[{itemId:this.yKey,nodeData:R,labelData:R}]]):[2,[]]})})},t.prototype.nodeFactory=function(){return new Rect},t.prototype.updateDatumSelection=function(e){return __awaiter$5(this,void 0,void 0,function(){return __generator$5(this,function(s){return[2,e.datumSelection.update(e.nodeData,function(d){d.tag=HistogramSeriesNodeTag.Bin,d.crisp=!0})]})})},t.prototype.updateDatumNodes=function(e){return __awaiter$5(this,void 0,void 0,function(){var o,s,d,f,y,m,E,O,D,P,R,x=this;return __generator$5(this,function(L){return o=e.isHighlight,d=(s=this).fillOpacity,f=s.strokeOpacity,y=s.shadow,E=(m=s.highlightStyle.item).fill,D=void 0===(O=m.fillOpacity)?d:O,P=m.stroke,R=m.strokeWidth,e.datumSelection.each(function(B,U,Y){var ee=o&&void 0!==R?R:U.strokeWidth,oe=o?D:d;B.x=U.x,B.y=U.y,B.width=U.width,B.height=U.height,B.fill=o&&void 0!==E?E:U.fill,B.stroke=o&&void 0!==P?P:U.stroke,B.fillOpacity=oe,B.strokeOpacity=f,B.strokeWidth=ee,B.lineDash=x.lineDash,B.lineDashOffset=x.lineDashOffset,B.fillShadow=y,B.zIndex=o?Series.highlightedZIndex:Y,B.visible=U.height>0}),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$5(this,void 0,void 0,function(){return __generator$5(this,function(s){return[2,e.labelSelection.update(e.labelData,function(d){d.tag=HistogramSeriesNodeTag.Label,d.pointerEvents=PointerEvents.None,d.textAlign="center",d.textBaseline="middle"})]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$5(this,void 0,void 0,function(){var o;return __generator$5(this,function(s){return o=this.label.enabled,e.labelSelection.each(function(d,f){var y=f.label;y&&o?(d.text=y.text,d.x=y.x,d.y=y.y,d.fontStyle=y.fontStyle,d.fontWeight=y.fontWeight,d.fontSize=y.fontSize,d.fontFamily=y.fontFamily,d.fill=y.fill,d.visible=!0):d.visible=!1}),[2]})})},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,d=r.xAxis,f=r.yAxis;if(!o||!d||!f)return"";var y=this,m=y.xName,E=y.yName,O=y.fill,P=y.aggregation,R=y.id,x=y.tooltip.renderer,L=e.datum,B=L.aggregatedValue,U=L.frequency,Y=__read$v(L.domain,2),ee=Y[0],oe=Y[1],re=sanitizeHtml(m||o)+": "+d.formatDatum(ee)+" - "+d.formatDatum(oe),ie=s?"<b>"+sanitizeHtml(E||s)+" ("+P+")</b>: "+f.formatDatum(B)+"<br>":"",q={title:re,backgroundColor:O,content:ie+="<b>Frequency</b>: "+U};return x?toTooltipHtml$1(x({datum:L,xKey:o,xValue:L.domain,xName:m,yKey:s,yValue:L.aggregatedValue,yName:E,color:O,title:re,seriesId:R}),q):toTooltipHtml$1(q)},t.prototype.getLegendData=function(){var e=this,r=e.id,o=e.data,s=e.xKey;return o&&0!==o.length?[{id:r,itemId:s,seriesId:r,enabled:e.visible,label:{text:e.yName||s||"Frequency"},marker:{fill:e.fill||"rgba(0, 0, 0, 0)",stroke:e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="HistogramSeries",t.type="histogram",__decorate$1p([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1p([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1p([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1p([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1p([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1p([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1p([Validate(STRING)],t.prototype,"xKey",void 0),__decorate$1p([Validate(BOOLEAN)],t.prototype,"areaPlot",void 0),__decorate$1p([Validate(OPT_ARRAY())],t.prototype,"bins",void 0),__decorate$1p([Validate(HISTOGRAM_AGGREGATION)],t.prototype,"aggregation",void 0),__decorate$1p([Validate(OPT_NUMBER(0))],t.prototype,"binCount",void 0),__decorate$1p([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1p([Validate(STRING)],t.prototype,"yKey",void 0),__decorate$1p([Validate(STRING)],t.prototype,"yName",void 0),__decorate$1p([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(CartesianSeries),__extends$21=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1o=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$4=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$4=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__values$d=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$u=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},LineSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$21(t,l),__decorate$1o([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),LineSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$21(t,l),__decorate$1o([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),__decorate$1o([Validate(OPT_STRING)],t.prototype,"format",void 0),t}(SeriesTooltip),LineSeries=function(l){function t(){var e=l.call(this,{hasMarkers:!0,pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;e.xDomain=[],e.yDomain=[],e.pointsData=[],e.marker=new CartesianSeriesMarker,e.label=new LineSeriesLabel,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new LineSeriesTooltip,e._xKey="",e.xName="",e._yKey="",e.yName="";var o=e.marker,s=e.label;return o.fill="#c16068",o.stroke="#874349",s.enabled=!1,e}return __extends$21(t,l),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},t.prototype.processData=function(){return __awaiter$4(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D,P,R,x,B,U,Y,ee,oe;return __generator$4(this,function(re){if(o=(e=this).yAxis,d=e.yKey,f=e.pointsData,y=(s=e.xKey)&&d&&this.data?this.data:[],!(r=e.xAxis)||!o)return[2];m=r.scale instanceof ContinuousScale,E=o.scale instanceof ContinuousScale,O=[],D=[],f.splice(0);try{for(P=__values$d(y),R=P.next();!R.done;R=P.next())B=(x=R.value)[d],U=checkDatum(x[s],m),(!m||void 0!==U)&&(Y=checkDatum(B,E),O.push(U),D.push(Y),f.push({xDatum:U,yDatum:Y,datum:x}))}catch(ie){ee={error:ie}}finally{try{R&&!R.done&&(oe=P.return)&&oe.call(P)}finally{if(ee)throw ee.error}}return this.validateXYData(this.xKey,this.yKey,y,r,o,O,D,1),this.xDomain=m?this.fixNumericExtent(extent$4(O),r):O,this.yDomain=E?this.fixNumericExtent(extent$4(D),o):D,[2]})})},t.prototype.createNodeData=function(){var e;return __awaiter$4(this,void 0,void 0,function(){var r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q,se,ue,ge,ve,Pe,Me,Re,Ne,he,De,_e,Oe;return __generator$4(this,function(Le){if(s=(r=this).xAxis,d=r.yAxis,y=(f=r.marker).enabled,m=f.size,E=f.strokeWidth,!(o=r.data)||!s||!d)return[2,[]];for(D=(O=this).pointsData,P=O.label,R=O.yKey,x=O.xKey,L=O.id,Y=((B=s.scale).bandwidth||0)/2,ee=((U=d.scale).bandwidth||0)/2,oe=new Array(o.length),re=y?m:0,ie=!0,q=void 0,se=void 0,ue=0,ge=0;ge<D.length;ge++)if(void 0===(ve=se||D[ge]).yDatum)q=void 0,ie=!0;else{if(Pe=ve.yDatum,Me=ve.datum,Re=B.convert(ve.xDatum)+Y,isNaN(Re)){q=void 0,ie=!0;continue}if(se=void 0===(null===(e=D[ge+1])||void 0===e?void 0:e.yDatum)?void 0:D[ge+1],he=s.inRangeEx(Re,0,Ne=(B.bandwidth||.5*m+(E||0))+1),De=se&&s.inRangeEx(B.convert(se.xDatum)+Y,0,Ne),-1===he&&-1===De){ie=!0;continue}if(1===he&&1===q){ie=!0;continue}q=he,_e=U.convert(Pe)+ee,void 0,Oe=P.formatter?P.formatter({value:Pe,seriesId:L}):"number"==typeof Pe&&isFinite(Pe)?Pe.toFixed(2):Pe?String(Pe):"",oe[ue++]={series:this,datum:Me,yKey:R,xKey:x,point:{x:Re,y:_e,moveTo:ie,size:re},nodeMidPoint:{x:Re,y:_e},label:Oe?{text:Oe,fontStyle:P.fontStyle,fontWeight:P.fontWeight,fontSize:P.fontSize,fontFamily:P.fontFamily,textAlign:"center",textBaseline:"bottom",fill:P.color}:void 0},ie=!1}return oe.length=ue,[2,[{itemId:R,nodeData:oe,labelData:oe}]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.updatePaths=function(e){return __awaiter$4(this,void 0,void 0,function(){var r,o,s,d,f,y,m,E,O;return __generator$4(this,function(D){r=e.contextData.nodeData,o=__read$u(e.paths,1),d=(s=o[0]).path,s.fill=void 0,s.lineJoin="round",s.pointerEvents=PointerEvents.None,d.clear({trackChanges:!0});try{for(f=__values$d(r),y=f.next();!y.done;y=f.next())(m=y.value).point.moveTo?d.moveTo(m.point.x,m.point.y):d.lineTo(m.point.x,m.point.y)}catch(P){E={error:P}}finally{try{y&&!y.done&&(O=f.return)&&O.call(f)}finally{if(E)throw E.error}}return s.checkPathDirty(),[2]})})},t.prototype.updatePathNodes=function(e){return __awaiter$4(this,void 0,void 0,function(){var r,o;return __generator$4(this,function(s){return r=__read$u(e.paths,1),(o=r[0]).stroke=this.stroke,o.strokeWidth=this.getStrokeWidth(this.strokeWidth),o.strokeOpacity=this.strokeOpacity,o.lineDash=this.lineDash,o.lineDashOffset=this.lineDashOffset,[2]})})},t.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},t.prototype.updateMarkerSelection=function(e){return __awaiter$4(this,void 0,void 0,function(){var r,o,s,f;return __generator$4(this,function(y){return r=e.nodeData,o=e.markerSelection,f=(s=this.marker).enabled,r=s.shape&&f?r:[],this.marker.isDirty()&&o.clear(),[2,o.update(r)]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$4(this,void 0,void 0,function(){var o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re;return __generator$4(this,function(ie){return o=e.isHighlight,f=(s=this).marker.fillOpacity,y=s.xKey,m=s.yKey,E=s.stroke,O=s.strokeOpacity,P=(D=s.highlightStyle.item).fill,x=void 0===(R=D.fillOpacity)?f:R,L=D.stroke,B=D.strokeWidth,U=s.id,Y=(d=s.marker).size,ee=d.formatter,oe=void 0!==d.strokeWidth?d.strokeWidth:this.strokeWidth,re="function"==typeof d.shape,e.markerSelection.each(function(q,se){var ue,ge,ve=o&&void 0!==P?P:d.fill,Ce=o?x:f,Pe=o&&void 0!==L?L:d.stroke||E,Me=o&&void 0!==B?B:oe,Re=void 0;ee&&(Re=ee({datum:se.datum,xKey:y,yKey:m,fill:ve,stroke:Pe,strokeWidth:Me,size:Y,highlighted:o,seriesId:U})),q.fill=Re&&Re.fill||ve,q.stroke=Re&&Re.stroke||Pe,q.strokeWidth=Re&&void 0!==Re.strokeWidth?Re.strokeWidth:Me,q.fillOpacity=Ce??1,q.strokeOpacity=null!==(ge=null!==(ue=d.strokeOpacity)&&void 0!==ue?ue:O)&&void 0!==ge?ge:1,q.size=Re&&void 0!==Re.size?Re.size:Y,q.translationX=se.point.x,q.translationY=se.point.y,q.visible=q.size>0&&!isNaN(se.point.x)&&!isNaN(se.point.y),re&&!q.dirtyPath&&(q.path.clear({trackChanges:!0}),q.updatePath(),q.checkPathDirty())}),o||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$4(this,void 0,void 0,function(){var r,s,f;return __generator$4(this,function(y){return r=e.labelData,f=(s=this.marker).enabled,[2,e.labelSelection.update(r=s.shape&&f?r:[])]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$4(this,void 0,void 0,function(){var o,s,d,f,y,m,E;return __generator$4(this,function(O){return s=(o=this.label).enabled,d=o.fontStyle,f=o.fontWeight,y=o.fontSize,m=o.fontFamily,E=o.color,e.labelSelection.each(function(D,P){var R=P.point,x=P.label;P&&x&&s?(D.fontStyle=d,D.fontWeight=f,D.fontSize=y,D.fontFamily=m,D.textAlign=x.textAlign,D.textBaseline=x.textBaseline,D.text=x.text,D.x=R.x,D.y=R.y-10,D.fill=E,D.visible=!0):D.visible=!1}),[2]})})},t.prototype.getNodeClickEvent=function(e,r){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,d=r.xAxis,f=r.yAxis;if(!(o&&s&&d&&f))return"";var y=this,m=y.xName,E=y.yName,O=y.tooltip,D=y.marker,P=y.id,R=O.renderer,x=O.format,L=e.datum,B=L[o],U=L[s],Y=d.formatDatum(B),ee=f.formatDatum(U),oe=sanitizeHtml(this.title||E),re=sanitizeHtml(Y+": "+ee),ie=D.formatter,q=D.fill,ue=D.strokeWidth,Ce=void 0;ie&&(Ce=ie({datum:L,xKey:o,yKey:s,fill:q,stroke:D.stroke,strokeWidth:void 0!==ue?ue:this.strokeWidth,size:D.size,highlighted:!1,seriesId:P}));var Pe=Ce&&Ce.fill||q,Me={title:oe,backgroundColor:Pe,content:re};if(x||R){var Re={datum:L,xKey:o,xValue:B,xName:m,yKey:s,yValue:U,yName:E,title:oe,color:Pe,seriesId:P};if(x)return toTooltipHtml$1({content:interpolate(x,Re)},Me);if(R)return toTooltipHtml$1(R(Re),Me)}return toTooltipHtml$1(Me)},t.prototype.getLegendData=function(){var e,r,o,s=this,d=s.id,f=s.data,m=s.yKey,P=s.marker;return f&&f.length&&s.xKey&&m?[{id:d,itemId:m,seriesId:d,enabled:s.visible,label:{text:s.title||s.yName||m},marker:{shape:P.shape,fill:P.fill||"rgba(0, 0, 0, 0)",stroke:P.stroke||s.stroke||"rgba(0, 0, 0, 0)",fillOpacity:null!==(e=P.fillOpacity)&&void 0!==e?e:1,strokeOpacity:null!==(o=null!==(r=P.strokeOpacity)&&void 0!==r?r:s.strokeOpacity)&&void 0!==o?o:1}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="LineSeries",t.type="line",__decorate$1o([Validate(OPT_STRING)],t.prototype,"title",void 0),__decorate$1o([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1o([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1o([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1o([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1o([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1o([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1o([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1o([Validate(STRING)],t.prototype,"_yKey",void 0),__decorate$1o([Validate(STRING)],t.prototype,"yName",void 0),t}(CartesianSeries),__extends$20=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$w=function(){return __assign$w=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$w.apply(this,arguments)},__decorate$1n=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$3=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$3=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$g=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$t(arguments[t]));return l},__values$c=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ScatterSeriesNodeBaseClickEvent=function(l){function t(e,r,o,s,d,f){var y=l.call(this,r,o,s,d,f)||this;return y.sizeKey=e,y}return __extends$20(t,l),t}(CartesianSeriesNodeBaseClickEvent),ScatterSeriesNodeClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$20(t,l),t}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesNodeDoubleClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$20(t,l),t}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$20(t,l),__decorate$1n([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),ScatterSeries=function(l){function t(){var e=l.call(this,{pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return e.sizeScale=new LinearScale$1,e.marker=new CartesianSeriesMarker,e.label=new Label$1,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new ScatterSeriesTooltip,e.label.enabled=!1,e}return __extends$20(t,l),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(e){this._sizeKey=e,this.processedData=void 0},enumerable:!1,configurable:!0}),t.prototype.processData=function(){var e,r,o,s;return __awaiter$3(this,void 0,void 0,function(){var d,f,y,m,E,O,D,P,R,x,L,B;return __generator$3(this,function(U){return f=(d=this).xKey,y=d.yKey,m=d.sizeKey,E=d.xAxis,O=d.yAxis,D=d.marker,P=d.data,R=E?.scale instanceof ContinuousScale,x=O?.scale instanceof ContinuousScale,this.dataModel=new DataModel({props:__spread$g([valueProperty(f,R),valueProperty(y,x)],m?[valueProperty(m,!0)]:[]),dataVisible:this.visible}),this.processedData=this.dataModel.processData(P??[]),m&&(L=null!==(r=null===(e=this.dataModel.resolveProcessedDataIndex(m))||void 0===e?void 0:e.index)&&void 0!==r?r:-1,B=null!==(s=null===(o=this.processedData)||void 0===o?void 0:o.domain.values[L])&&void 0!==s?s:[],this.sizeScale.domain=D.domain?D.domain:B),[2]})})},t.prototype.getDomain=function(e){var r,o,s,d,f,y,m=null===(r=this.dataModel)||void 0===r?void 0:r.resolveProcessedDataIndex(this.xKey),E=null===(o=this.dataModel)||void 0===o?void 0:o.resolveProcessedDataIndex(this.yKey);return m&&E?e===ChartAxisDirection.X?null!==(d=null===(s=this.processedData)||void 0===s?void 0:s.domain.values[0])&&void 0!==d?d:[]:null!==(y=null===(f=this.processedData)||void 0===f?void 0:f.domain.values[1])&&void 0!==y?y:[]:[]},t.prototype.getNodeClickEvent=function(e,r){return new ScatterSeriesNodeClickEvent(this.sizeKey,this.xKey,this.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new ScatterSeriesNodeDoubleClickEvent(this.sizeKey,this.xKey,this.yKey,e,r,this)},t.prototype.createNodeData=function(){var e,r,o,s,d,f;return __awaiter$3(this,void 0,void 0,function(){var y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q,se,ue,ge,ve,Ce,Pe,Me,Re,Ne,he,De,_e,Oe,Le,Ie;return __generator$3(this,function(Ye){if(m=(y=this).visible,E=y.xAxis,O=y.yAxis,D=y.yKey,P=y.xKey,R=y.label,x=y.labelKey,L=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(P),B=null===(r=this.dataModel)||void 0===r?void 0:r.resolveProcessedDataIndex(D),!(L&&B&&m&&E&&O))return[2,[]];ee=((U=E.scale).bandwidth||0)/2,oe=((Y=O.scale).bandwidth||0)/2,ie=(re=this).sizeScale,q=re.marker,se=new Array(null!==(s=null===(o=this.processedData)||void 0===o?void 0:o.data.length)&&void 0!==s?s:0),ie.range=[q.size,q.maxSize],ue=R.getFont(),ge=0;try{for(ve=__values$c(null!==(f=null===(d=this.processedData)||void 0===d?void 0:d.data)&&void 0!==f?f:[]),Ce=ve.next();!Ce.done;Ce=ve.next())Re=(Pe=Ce.value).datum,Ne=U.convert((Me=Pe.values)[L.index])+ee,he=Y.convert(Me[B.index])+oe,this.checkRangeXY(Ne,he,E,O)&&(De=x?String(Re[x]):"",_e=HdpiCanvas.getTextSize(De,ue),Oe=Me.length>2?ie.convert(Me[2]):q.size,se[ge++]={series:this,itemId:D,yKey:D,xKey:P,datum:Re,point:{x:Ne,y:he,size:Oe},nodeMidPoint:{x:Ne,y:he},label:__assign$w({text:De},_e)})}catch(dt){Le={error:dt}}finally{try{Ce&&!Ce.done&&(Ie=ve.return)&&Ie.call(ve)}finally{if(Le)throw Le.error}}return se.length=ge,[2,[{itemId:this.yKey,nodeData:se,labelData:se}]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.getLabelData=function(){var e;return null===(e=this.contextNodeData)||void 0===e?void 0:e.reduce(function(r,o){return r.concat(o.labelData)},[])},t.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},t.prototype.updateMarkerSelection=function(e){return __awaiter$3(this,void 0,void 0,function(){var r,o,s;return __generator$3(this,function(f){return r=e.nodeData,o=e.markerSelection,s=this.marker.enabled,this.marker.isDirty()&&o.clear(),[2,o.update(s?r:[])]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$3(this,void 0,void 0,function(){var r,o,s,d,f,y,E,O,D,P,R,x,L,B,U,Y,ee,oe,re;return __generator$3(this,function(ie){return r=e.markerSelection,o=e.isHighlight,f=(s=this).xKey,y=s.yKey,O=(E=s.marker).fillOpacity,D=E.strokeOpacity,P=E.strokeWidth,x=(R=s.highlightStyle.item).fill,B=void 0===(L=R.fillOpacity)?O:L,U=R.stroke,Y=R.strokeWidth,ee=s.id,oe=(d=s.marker).formatter,s.sizeScale.range=[d.size,d.maxSize],re="function"==typeof d.shape,r.each(function(q,se){var ue,ge,ve,Ce,Pe,Me,Re,Ne=o&&void 0!==x?x:d.fill,he=o?B:O,De=o&&void 0!==U?U:d.stroke,_e=D,Oe=o&&void 0!==Y?Y:P??1,Le=null!==(ge=null===(ue=se.point)||void 0===ue?void 0:ue.size)&&void 0!==ge?ge:0,Ie=void 0;oe&&(Ie=oe({datum:se.datum,xKey:f,yKey:y,fill:Ne,stroke:De,strokeWidth:Oe,size:Le,highlighted:o,seriesId:ee})),q.fill=Ie&&Ie.fill||Ne,q.stroke=Ie&&Ie.stroke||De,q.strokeWidth=null!==(ve=Ie?.strokeWidth)&&void 0!==ve?ve:Oe,q.size=Ie&&void 0!==Ie.size?Ie.size:Le,q.fillOpacity=he??1,q.strokeOpacity=_e??1,q.translationX=null!==(Pe=null===(Ce=se.point)||void 0===Ce?void 0:Ce.x)&&void 0!==Pe?Pe:0,q.translationY=null!==(Re=null===(Me=se.point)||void 0===Me?void 0:Me.y)&&void 0!==Re?Re:0,q.visible=q.size>0,re&&!q.dirtyPath&&(q.path.clear({trackChanges:!0}),q.updatePath(),q.checkPathDirty())}),o||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){var r,o;return __awaiter$3(this,void 0,void 0,function(){var s,f,y;return __generator$3(this,function(m){return s=e.labelSelection,f=this.label.enabled&&null!==(o=null===(r=this.chart)||void 0===r?void 0:r.placeLabels().get(this))&&void 0!==o?o:[],y=f.map(function(E){return __assign$w(__assign$w({},E.datum),{point:{x:E.x,y:E.y,size:E.datum.point.size}})}),[2,s.update(y)]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$3(this,void 0,void 0,function(){var o;return __generator$3(this,function(s){return o=this.label,e.labelSelection.each(function(d,f){var y,m,E,O;d.text=f.label.text,d.fill=o.color,d.x=null!==(m=null===(y=f.point)||void 0===y?void 0:y.x)&&void 0!==m?m:0,d.y=null!==(O=null===(E=f.point)||void 0===E?void 0:E.y)&&void 0!==O?O:0,d.fontStyle=o.fontStyle,d.fontWeight=o.fontWeight,d.fontSize=o.fontSize,d.fontFamily=o.fontFamily,d.textAlign="left",d.textBaseline="top"}),[2]})})},t.prototype.getTooltipHtml=function(e){var r,o,s,d=this,f=d.xKey,y=d.yKey,m=d.xAxis,E=d.yAxis;if(!(f&&y&&m&&E))return"";var O=this,D=O.marker,P=O.tooltip,R=O.xName,x=O.yName,L=O.sizeKey,B=O.sizeName,U=O.labelKey,Y=O.labelName,ee=O.id,oe=D.fill,re=D.stroke,ie=this.getStrokeWidth(null!==(r=D.strokeWidth)&&void 0!==r?r:1),q=this.marker.formatter,se=void 0;q&&(se=q({datum:e,xKey:f,yKey:y,fill:oe,stroke:re,strokeWidth:ie,size:null!==(s=null===(o=e.point)||void 0===o?void 0:o.size)&&void 0!==s?s:0,highlighted:!1,seriesId:ee}));var ue=se&&se.fill||oe||"gray",ge=this.title||x,ve=e.datum,Ce=ve[f],Pe=ve[y],Me=sanitizeHtml(m.formatDatum(Ce)),Re=sanitizeHtml(E.formatDatum(Pe)),Ne="<b>"+sanitizeHtml(R||f)+"</b>: "+Me+"<br><b>"+sanitizeHtml(x||y)+"</b>: "+Re;L&&(Ne+="<br><b>"+sanitizeHtml(B||L)+"</b>: "+sanitizeHtml(ve[L])),U&&(Ne="<b>"+sanitizeHtml(Y||U)+"</b>: "+sanitizeHtml(ve[U])+"<br>"+Ne);var he={title:ge,backgroundColor:ue,content:Ne},De=P.renderer;return De?toTooltipHtml$1(De({datum:ve,xKey:f,xValue:Ce,xName:R,yKey:y,yValue:Pe,yName:x,sizeKey:L,sizeName:B,labelKey:U,labelName:Y,title:ge,color:ue,seriesId:ee}),he):toTooltipHtml$1(he)},t.prototype.getLegendData=function(){var e=this,r=e.id,o=e.data,d=e.yKey,E=e.marker;return o&&o.length&&e.xKey&&d?[{id:r,itemId:d,seriesId:r,enabled:e.visible,label:{text:e.title||e.yName||d},marker:{shape:E.shape,fill:E.fill||E.fill||"rgba(0, 0, 0, 0)",stroke:E.stroke||E.stroke||"rgba(0, 0, 0, 0)",fillOpacity:E.fillOpacity??1,strokeOpacity:E.strokeOpacity??1}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="ScatterSeries",t.type="scatter",__decorate$1n([Validate(OPT_STRING)],t.prototype,"title",void 0),__decorate$1n([Validate(OPT_STRING)],t.prototype,"labelKey",void 0),__decorate$1n([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1n([Validate(STRING)],t.prototype,"yName",void 0),__decorate$1n([Validate(OPT_STRING)],t.prototype,"sizeName",void 0),__decorate$1n([Validate(OPT_STRING)],t.prototype,"labelName",void 0),__decorate$1n([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1n([Validate(STRING)],t.prototype,"_yKey",void 0),__decorate$1n([Validate(OPT_STRING)],t.prototype,"_sizeKey",void 0),t}(CartesianSeries);function isPointInSector(l,t,e){var r=Math.sqrt(Math.pow(l,2)+Math.pow(t,2)),o=e.innerRadius,s=e.outerRadius;if(r<Math.min(o,s)||r>Math.max(o,s))return!1;var d=Math.atan2(t,l);d<-Math.PI/2&&(d+=2*Math.PI);var f=e.startAngle,y=e.endAngle;return y===-Math.PI/2?d<f:f===3*Math.PI/2?d>y:d>=y&&d<=f}function lineCollidesSector(l,t){var e=t.startAngle,r=t.endAngle,o=t.innerRadius,s=t.outerRadius,d={x:s*Math.cos(e),y:s*Math.sin(e)},f={x:s*Math.cos(r),y:s*Math.sin(r)},y=0===o?{x:0,y:0}:{x:o*Math.cos(e),y:o*Math.sin(e)},m=0===o?{x:0,y:0}:{x:o*Math.cos(r),y:o*Math.sin(r)};return null!=segmentIntersection(l.start.x,l.start.y,l.end.x,l.end.y,d.x,d.y,y.x,y.y)||null!=segmentIntersection(l.start.x,l.start.y,l.end.x,l.end.y,f.x,f.y,m.x,m.y)||arcIntersections(0,0,s,e,r,!0,l.start.x,l.start.y,l.end.x,l.end.y).length>0}function boxCollidesSector(l,t){var o={x:l.x,y:l.y+l.height},s={x:l.x+l.width,y:l.y+l.height};return lineCollidesSector({start:{x:l.x,y:l.y},end:{x:l.x+l.width,y:l.y}},t)||lineCollidesSector({start:o,end:s},t)}var __extends$1$=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1m=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Sector=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return __extends$1$(t,l),t.prototype.computeBBox=function(){var e=this.outerRadius;return new BBox(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.updatePath=function(){var e=this.path,r=this.angleOffset,o=Math.min(this.startAngle,this.endAngle)+r,s=Math.max(this.startAngle,this.endAngle)+r,d=Math.min(this.innerRadius,this.outerRadius),f=Math.max(this.innerRadius,this.outerRadius),y=isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle)),m=this.centerX,E=this.centerY;e.clear(),y?(e.arc(m,E,f,o,s),d>0&&(e.moveTo(m+d*Math.cos(s),E+d*Math.sin(s)),e.arc(m,E,d,s,o,!0))):(e.moveTo(m+d*Math.cos(o),E+d*Math.sin(o)),e.arc(m,E,f,o,s),d>0?e.arc(m,E,d,s,o,!0):e.lineTo(m,E)),e.closePath(),this.dirtyPath=!1},t.prototype.isPointInPath=function(e,r){var o=this.angleOffset,s=this.startAngle+o,d=this.endAngle+o,f=Math.min(this.innerRadius,this.outerRadius),y=Math.max(this.innerRadius,this.outerRadius),m=this.transformPoint(e,r);return isPointInSector(m.x,m.y,{startAngle:s,endAngle:d,innerRadius:f,outerRadius:y})},t.className="Sector",__decorate$1m([ScenePathChangeDetection()],t.prototype,"centerX",void 0),__decorate$1m([ScenePathChangeDetection()],t.prototype,"centerY",void 0),__decorate$1m([ScenePathChangeDetection()],t.prototype,"innerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],t.prototype,"outerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],t.prototype,"startAngle",void 0),__decorate$1m([ScenePathChangeDetection()],t.prototype,"endAngle",void 0),__decorate$1m([ScenePathChangeDetection()],t.prototype,"angleOffset",void 0),t}(Path),__extends$1_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$v=function(){return __assign$v=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$v.apply(this,arguments)},__decorate$1l=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$2=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$2=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$s=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$f=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$s(arguments[t]));return l},PieSeriesNodeBaseClickEvent=function(l){function t(e,r,o,s,d,f,y){var m=l.call(this,d,f,y)||this;return m.angleKey=e,m.calloutLabelKey=r,m.sectorLabelKey=o,m.radiusKey=s,m}return __extends$1_(t,l),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],t.prototype,"labelKey",void 0),t}(SeriesNodeBaseClickEvent),PieSeriesNodeClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1_(t,l),t}(PieSeriesNodeBaseClickEvent),PieSeriesNodeDoubleClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1_(t,l),t}(PieSeriesNodeBaseClickEvent),PieNodeTag=(()=>((PieNodeTag=PieNodeTag||{})[PieNodeTag.Sector=0]="Sector",PieNodeTag[PieNodeTag.Callout=1]="Callout",PieNodeTag[PieNodeTag.Label=2]="Label",PieNodeTag))(),PieSeriesCalloutLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.offset=3,e.minAngle=0,e.formatter=void 0,e.minSpacing=4,e.maxCollisionOffset=50,e}return __extends$1_(t,l),__decorate$1l([Validate(NUMBER(0))],t.prototype,"offset",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"minAngle",void 0),__decorate$1l([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"minSpacing",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"maxCollisionOffset",void 0),t}(Label$1),PieSeriesSectorLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return __extends$1_(t,l),__decorate$1l([Validate(NUMBER())],t.prototype,"positionOffset",void 0),__decorate$1l([Validate(NUMBER(0,1))],t.prototype,"positionRatio",void 0),__decorate$1l([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),PieSeriesCalloutLine=function(){function l(){this.colors=void 0,this.length=10,this.strokeWidth=1}return __decorate$1l([Validate(OPT_COLOR_STRING_ARRAY)],l.prototype,"colors",void 0),__decorate$1l([Validate(NUMBER(0))],l.prototype,"length",void 0),__decorate$1l([Validate(NUMBER(0))],l.prototype,"strokeWidth",void 0),l}(),PieSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1_(t,l),__decorate$1l([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),PieTitle=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.showInLegend=!1,e}return __extends$1_(t,l),__decorate$1l([Validate(BOOLEAN)],t.prototype,"showInLegend",void 0),t}(Caption),DoughnutInnerLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.text="",e.margin=2,e}return __extends$1_(t,l),__decorate$1l([Validate(STRING)],t.prototype,"text",void 0),__decorate$1l([Validate(NUMBER())],t.prototype,"margin",void 0),t}(Label$1),DoughnutInnerCircle=function(){function l(){this.fill="transparent",this.fillOpacity=1}return __decorate$1l([Validate(COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1l([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),l}(),PieSeries=function(l){function t(){var d,e=l.call(this,{useLabelLayer:!0})||this;e.radiusScale=new LinearScale$1,e.groupSelection=Selection.select(e.contentGroup,Group),e.highlightSelection=Selection.select(e.highlightGroup,Group),e.groupSelectionData=[],e.sectorFormatData=[],e.angleScale=((d=new LinearScale$1).domain=[0,1],d.range=[-Math.PI,Math.PI].map(function(f){return f+Math.PI/2}),d),e.seriesItemEnabled=[],e.calloutLabel=new PieSeriesCalloutLabel,e.label=e.calloutLabel,e.sectorLabel=new PieSeriesSectorLabel,e.calloutLine=new PieSeriesCalloutLine,e.callout=e.calloutLine,e.tooltip=new PieSeriesTooltip,e.angleKey="",e.angleName="",e.innerLabels=[],e.radiusKey=void 0,e.radiusName=void 0,e.radiusMin=void 0,e.radiusMax=void 0,e.calloutLabelKey=void 0,e.calloutLabelName=void 0,e.labelKey=void 0,e.labelName=void 0,e.sectorLabelKey=void 0,e.sectorLabelName=void 0,e.legendItemKey=void 0,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.formatter=void 0,e.rotation=0,e.outerRadiusOffset=0,e.outerRadiusRatio=1,e.innerRadiusOffset=0,e.innerRadiusRatio=1,e.strokeWidth=1,e.shadow=void 0,e.highlightStyle=new HighlightStyle,e.datumSectorRefs=new WeakMap,e.backgroundGroup=e.rootGroup.appendChild(new Group({name:e.id+"-background",layer:!0,zIndex:Layers.SERIES_BACKGROUND_ZINDEX}));var r=new Group({name:"pieCalloutLabels"}),o=new Group({name:"pieSectorLabels"}),s=new Group({name:"innerLabels"});return e.labelGroup.append(r),e.labelGroup.append(o),e.labelGroup.append(s),e.calloutLabelSelection=Selection.select(r,Group),e.sectorLabelSelection=Selection.select(o,Text),e.innerLabelsSelection=Selection.select(s,Text),e}return __extends$1_(t,l),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var r,o,s=this._title;s!==e&&(s&&(null===(r=this.labelGroup)||void 0===r||r.removeChild(s.node)),e&&(e.node.textBaseline="bottom",null===(o=this.labelGroup)||void 0===o||o.appendChild(e.node)),this._title=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerCircle",{get:function(){return this._innerCircleConfig},set:function(e){var r;if(this._innerCircleConfig!==e){var s=this._innerCircleNode,d=void 0;s&&this.backgroundGroup.removeChild(s),e&&((d=new Circle).fill=e.fill,d.fillOpacity=null!==(r=e.fillOpacity)&&void 0!==r?r:1,this.backgroundGroup.appendChild(d)),this._innerCircleConfig=e,this._innerCircleNode=d}},enumerable:!1,configurable:!0}),t.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},t.prototype.processSeriesItemEnabled=function(){var r=this.data,o=this.visible;this.seriesItemEnabled=r?.map(function(){return o})||[]},t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){return __awaiter$2(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re,ie,q,se,ue,ge,ve,Ce,Pe,Me,Re,Ne,he,De,_e,Oe=this;return __generator$2(this,function(Le){return o=(e=this).radiusKey,s=e.seriesItemEnabled,d=e.angleScale,f=e.groupSelectionData,y=e.sectorFormatData,m=e.calloutLabel,E=e.sectorLabel,O=e.id,P=(D=(r=e.angleKey)&&this.data?this.data:[]).map(function(Ie,Ye){return s[Ye]&&Math.abs(+Ie[r])||0}),R=P.reduce(function(Ie,Ye){return Ie+Ye},0),Ie=0,x=P.map(function(Ye){return Ie+=Ye/R}),L=m.formatter,U=E.enabled?this.sectorLabelKey:void 0,Y=[],ee=[],oe=[],re=function(Ie){return{datum:Ie,angleKey:r,angleValue:Ie[r],angleName:Oe.angleName,radiusKey:o,radiusValue:o?Ie[o]:void 0,radiusName:Oe.radiusName,labelKey:B,labelValue:B?Ie[B]:void 0,labelName:Oe.calloutLabelName,calloutLabelKey:B,calloutLabelValue:B?Ie[B]:void 0,calloutLabelName:Oe.calloutLabelName,sectorLabelKey:U,sectorLabelValue:U?Ie[U]:void 0,sectorLabelName:Oe.sectorLabelName,seriesId:O}},(B=m.enabled?this.calloutLabelKey:void 0)&&(L?(ie=function(){return Logger.warnOnce("the use of { value } in the pie chart label formatter function is deprecated. Please use { datum, labelKey, ... } instead.")},Y=D.map(function(Ie){var Ye=Ie[B],dt=__assign$v(__assign$v({},re(Ie)),{get value(){return ie(),Ye},set value(ht){ie(),Ye=ht}});return L(dt)})):Y=D.map(function(Ie){return String(Ie[B])})),q=E.formatter,U&&(ee=D.map(q?function(Ie){var Ye=re(Ie);return q(Ye)}:function(Ie){return String(Ie[U])})),o&&(ue=(se=this).radiusMin,ge=se.radiusMax,ve=D.map(function(Ie){return Math.abs(Ie[o])}),Ce=ue??0,Pe=ge||Math.max.apply(Math,__spread$f(ve)),Me=Pe-Ce,oe=ve.map(function(Ie){return Me?(Ie-Ce)/Me:1})),f.length=0,y.length=0,y.push.apply(y,__spread$f(D.map(function(Ie,Ye){return Oe.getSectorFormat(Ie,Ye,Ye,!1)}))),Re=toRadians$1(this.rotation),Ne=Math.PI/2,he=0,De=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],_e=0,x.forEach(function(Ie){if(!isNaN(Ie)){var Ye=o?oe[he]:1,dt=d.convert(Ie)+Re,ht=d.convert(_e)+Re,pt=(dt+ht)/2,Pt=Math.abs(ht-dt),Qe=Math.cos(pt),vt=Math.sin(pt),Nt=toRadians$1(m.minAngle),xt=B&&Pt>Nt,bt=normalizeAngle180(pt),er=-3*Math.PI/4,ir=mod(Math.floor((bt-er)/Ne),De.length),Xr=De[ir];f.push({series:Oe,datum:D[he],itemId:he,index:he,radius:Ye,startAngle:dt,endAngle:ht,midAngle:pt,midCos:Qe,midSin:vt,calloutLabel:xt?{text:Y[he],textAlign:Xr.textAlign,textBaseline:Xr.textBaseline,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}:void 0,sectorLabel:U?{text:ee[he]}:void 0,sectorFormat:y[he]}),he++,_e=Ie}}),[2];var Ie})})},t.prototype.getSectorFormat=function(e,r,o,s){var d,f,y,m,E,ue,O=this,D=O.angleKey,P=O.radiusKey,R=O.fills,x=O.strokes,L=O.fillOpacity,B=O.formatter,U=O.id,Y=null===(d=this.highlightManager)||void 0===d?void 0:d.getActiveHighlight(),ee=s&&Y?.series===this&&r===Y.itemId,oe=ee?this.highlightStyle.item:null,re=oe?.fill||R[o%R.length],ie=null!==(f=oe?.fillOpacity)&&void 0!==f?f:L,q=oe?.stroke||x[o%x.length],se=null!==(y=oe?.strokeWidth)&&void 0!==y?y:this.getStrokeWidth(this.strokeWidth);return B&&(ue=B({datum:e,angleKey:D,radiusKey:P,fill:re,stroke:q,strokeWidth:se,highlighted:ee,seriesId:U})),{fill:ue?.fill||re,fillOpacity:null!==(m=ue?.fillOpacity)&&void 0!==m?m:ie,stroke:ue?.stroke||q,strokeWidth:null!==(E=ue?.strokeWidth)&&void 0!==E?E:se}},t.prototype.createNodeData=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(e){return[2,[]]})})},t.prototype.getInnerRadius=function(){var e=this,r=e.radius,d=r*(e.innerRadiusRatio??1)+(e.innerRadiusOffset||0);return d===r||d<0?0:d},t.prototype.getOuterRadius=function(){var e=this,d=e.radius*(e.outerRadiusRatio??1)+(e.outerRadiusOffset||0);return d<0?0:d},t.prototype.updateRadiusScale=function(){var e=this.getInnerRadius(),r=this.getOuterRadius();this.radiusScale.range=[e,r]},t.prototype.getTitleTranslationY=function(){var e,r,o=Math.max(0,this.radiusScale.range[1]);if(0===o)return NaN;var d=2+(null!==(r=null===(e=this.title)||void 0===e?void 0:e.spacing)&&void 0!==r?r:0),f=Math.min.apply(Math,__spread$f([0],this.groupSelectionData.map(function(m){var E,O;return(null===(O=null===(E=m.calloutLabel)||void 0===E?void 0:E.box)||void 0===O?void 0:O.y)||0})));return-o-d-Math.max(0,-o-f)},t.prototype.update=function(){return __awaiter$2(this,void 0,void 0,function(){var e,r;return __generator$2(this,function(o){switch(o.label){case 0:return e=this.title,this.updateRadiusScale(),this.rootGroup.translationX=this.centerX,this.rootGroup.translationY=this.centerY,e&&(r=this.getTitleTranslationY(),isFinite(r)?(e.node.visible=e.enabled,e.node.translationY=r):e.node.visible=!1),this.updateNodeMidPoint(),[4,this.updateSelections()];case 1:return o.sent(),[4,this.updateNodes()];case 2:return o.sent(),[2]}})})},t.prototype.updateNodeMidPoint=function(){var e=this;this.groupSelectionData.forEach(function(r){var o=e.radiusScale.convert(r.radius);r.nodeMidPoint={x:r.midCos*Math.max(0,o/2),y:r.midSin*Math.max(0,o/2)}})},t.prototype.updateSelections=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(e){switch(e.label){case 0:return[4,this.updateGroupSelection()];case 1:return e.sent(),[2]}})})},t.prototype.updateGroupSelection=function(){return __awaiter$2(this,void 0,void 0,function(){var e,o,s,d,f,y,m=this;return __generator$2(this,function(E){return o=(e=this).highlightSelection,s=e.calloutLabelSelection,d=e.sectorLabelSelection,f=e.innerLabelsSelection,this.groupSelection=(y=function(O){return O.update(m.groupSelectionData,function(D){var P=new Sector;P.tag=PieNodeTag.Sector,D.appendChild(P)})})(e.groupSelection),this.highlightSelection=y(o),s.update(this.groupSelectionData,function(O){var D=new Line;D.tag=PieNodeTag.Callout,D.pointerEvents=PointerEvents.None,O.appendChild(D);var P=new Text;P.tag=PieNodeTag.Label,P.pointerEvents=PointerEvents.None,O.appendChild(P)}),d.update(this.groupSelectionData,function(O){O.pointerEvents=PointerEvents.None}),f.update(this.innerLabels,function(O){O.pointerEvents=PointerEvents.None}),[2]})})},t.prototype.updateNodes=function(){var e;return __awaiter$2(this,void 0,void 0,function(){var r,o,s,d,f,y=this;return __generator$2(this,function(m){return r=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),o=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=o,this.backgroundGroup.visible=o,this.contentGroup.visible=o,this.highlightGroup.visible=o&&r?.series===this,this.labelGroup.visible=o,this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),d=(s=this.radiusScale).convert(0),f=function(E,O,D,P){var R=s.convert(O.radius),x=E.parent,L=x?.parent;P&&x&&L&&(L.removeChild(x),L.appendChild(x)),E.innerRadius=Math.max(0,d),E.outerRadius=Math.max(0,R),E.startAngle=O.startAngle,E.endAngle=O.endAngle;var B=y.getSectorFormat(O.datum,O.itemId,D,P);E.fill=B.fill,E.stroke=B.stroke,E.strokeWidth=B.strokeWidth,E.fillOpacity=B.fillOpacity,E.strokeOpacity=y.strokeOpacity,E.lineDash=y.lineDash,E.lineDashOffset=y.lineDashOffset,E.fillShadow=y.shadow,E.lineJoin="round",E.visible=y.seriesItemEnabled[D],y.datumSectorRefs.set(O,E)},this.groupSelection.selectByTag(PieNodeTag.Sector).forEach(function(E,O){return f(E,E.datum,O,!1)}),this.highlightSelection.selectByTag(PieNodeTag.Sector).forEach(function(E,O){var D=r?.series===y&&E.datum.itemId===r.itemId;E.visible=D,E.visible&&f(E,E.datum,O,D)}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]})})},t.prototype.updateCalloutLineNodes=function(){var r=this.radiusScale,o=this.calloutLine,s=o.length,d=o.strokeWidth,f=o.colors||this.strokes,y=this.calloutLabel.offset;this.calloutLabelSelection.selectByTag(PieNodeTag.Callout).forEach(function(m,E){var O=m.datum,D=r.convert(O.radius),P=Math.max(0,D),R=O.calloutLabel;if(R&&R.text&&!R.hidden&&0!==P){m.visible=!0,m.strokeWidth=d,m.stroke=f[E%f.length],m.fill=void 0;var x=O.midCos*P,L=O.midSin*P,B=O.midCos*(P+s),U=O.midSin*(P+s);if(R.collisionTextAlign||0!==R.collisionOffsetY){var Y=R.box,re=(B<Y.x?Y.x:B>Y.x+Y.width?Y.x+Y.width:B)-B,ie=(U<Y.y?Y.y:U>Y.y+Y.height?Y.y+Y.height:U)-U,q=Math.sqrt(Math.pow(re,2)+Math.pow(ie,2)),se=q-y;se>0&&(B+=re*se/q,U+=ie*se/q)}m.x1=x,m.y1=L,m.x2=B,m.y2=U}else m.visible=!1})},t.prototype.getLabelOverflow=function(e,r){var o=this.chart.getSeriesRect(),s=o.x-this.centerX,d=o.x+o.width-this.centerX,E=1;r.x+1<s?E=(r.x+r.width-s)/r.width:r.x+r.width-1>d&&(E=(d-r.x)/r.width);var O=r.y+1<o.y-this.centerY||r.y+r.height-1>o.y+o.height-this.centerY;return{visibleTextPart:E,textLength:Math.floor(e.length*E)-1,hasVerticalOverflow:O}},t.prototype.computeCalloutLabelCollisionOffsets=function(){var e=this,r=this,o=r.radiusScale,s=r.calloutLabel,d=r.calloutLine,f=s.offset,y=s.minSpacing,m=o.convert(0),O=this.groupSelectionData,D=this.groupSelectionData.filter(function(re){return!function(re){var ie=re.calloutLabel,q=o.convert(re.radius),se=Math.max(0,q);return!ie||0===se}(re)});if(D.forEach(function(re){var ie=re.calloutLabel;ie.hidden=!1,ie.collisionTextAlign=void 0,ie.collisionOffsetY=0}),!(D.length<=1)){var P=D.filter(function(re){return re.midCos<0}).sort(function(re,ie){return re.midSin-ie.midSin}),R=D.filter(function(re){return re.midCos>=0}).sort(function(re,ie){return re.midSin-ie.midSin}),x=D.filter(function(re){return re.midSin<0&&"center"===re.calloutLabel.textAlign}).sort(function(re,ie){return re.midCos-ie.midCos}),L=D.filter(function(re){return re.midSin>=0&&"center"===re.calloutLabel.textAlign}).sort(function(re,ie){return re.midCos-ie.midCos}),B=new Text,U=function(re){var ie=re.calloutLabel,q=o.convert(re.radius),ue=Math.max(0,q)+d.length+f;return e.setTextDimensionalProps(B,re.midCos*ue,re.midSin*ue+ie.collisionOffsetY,e.calloutLabel,ie),B.computeBBox()},Y=function(re,ie,q){var se=U(re).grow(y/2),ue=U(ie).grow(y/2);se.x<ue.x+ue.width&&se.x+se.width>ue.x&&("to-top"===q?se.y<ue.y+ue.height:se.y+se.height>ue.y)&&(ie.calloutLabel.collisionOffsetY="to-top"===q?se.y-ue.y-ue.height:se.y+se.height-ue.y)},ee=function(re){for(var ie=re.slice().sort(function(ve,Ce){return Math.abs(ve.midSin)-Math.abs(Ce.midSin)})[0],q=re.indexOf(ie),se=q-1;se>=0;se--)Y(re[se+1],re[se],"to-top");for(se=q+1;se<re.length;se++)Y(re[se-1],re[se],"to-bottom")},oe=function(re){var ie=D.some(function(Ne){return 0!==Ne.calloutLabel.collisionOffsetY}),q=re.map(function(Ne){return U(Ne)}),se=q.map(function(Ne){return Ne.clone().grow(y/2)}),ue=!1;e:for(var ge=0;ge<se.length;ge++)for(var ve=se[ge],Ce=ge+1;Ce<re.length;Ce++)if(ve.collidesBBox(se[Ce])){ue=!0;break e}var Me=O.map(function(Ne){var he=Ne.startAngle,De=Ne.endAngle,_e=o.convert(Ne.radius),Oe=Math.max(0,_e);return{startAngle:he,endAngle:De,innerRadius:m,outerRadius:Oe}}),Re=q.some(function(Ne){return Me.some(function(he){return boxCollidesSector(Ne,he)})});!ue&&!ie&&!Re||re.filter(function(Ne){return"center"===Ne.calloutLabel.textAlign}).forEach(function(Ne){Ne.calloutLabel.collisionTextAlign=Ne.midCos<0?"right":Ne.midCos>0?"left":"center"})};ee(P),ee(R),oe(x),oe(L)}},t.prototype.updateCalloutLabelNodes=function(){var e=this,r=this,o=r.radiusScale,s=r.calloutLabel,f=r.calloutLine.length,y=s.offset,m=s.color,E=new Text;this.calloutLabelSelection.selectByTag(PieNodeTag.Label).forEach(function(O){var D=O.datum,P=D.calloutLabel,R=o.convert(D.radius),x=Math.max(0,R);if(P&&P.text&&0!==x&&!P.hidden){var L=x+f+y,B=D.midCos*L,U=D.midSin*L+P.collisionOffsetY;e.setTextDimensionalProps(E,B,U,e.calloutLabel,P);var Y=E.computeBBox(),ee=e.getLabelOverflow(P.text,Y),ie=ee.hasVerticalOverflow,q=1===ee.visibleTextPart?P.text:P.text.substring(0,ee.textLength)+"\u2026";e.setTextDimensionalProps(O,B,U,e.calloutLabel,__assign$v(__assign$v({},P),{text:q})),O.fill=m,O.visible=!ie}else O.visible=!1})},t.prototype.computeLabelsBBox=function(e){var r=this,o=this,s=o.radiusScale,d=o.calloutLabel,y=o.calloutLine.length,m=d.offset,E=d.maxCollisionOffset;this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();var O=new Text,D=this.groupSelectionData.map(function(x){var L=x.calloutLabel,B=s.convert(x.radius),U=Math.max(0,B);if(!L||0===U)return null;var Y=U+y+m;r.setTextDimensionalProps(O,x.midCos*Y,x.midSin*Y+L.collisionOffsetY,r.calloutLabel,L);var re=O.computeBBox();if(L.box=re,Math.abs(L.collisionOffsetY)>E)return L.hidden=!0,null;if(e.hideWhenNecessary){var ie=r.getLabelOverflow(L.text,re);if(ie.hasVerticalOverflow||L.text.length>2&&ie.textLength<2)return L.hidden=!0,null}return L.hidden=!1,re}).filter(function(x){return null!=x});if(this.title&&this.title.text){var P=this.getTitleTranslationY();if(isFinite(P)){this.setTextDimensionalProps(O,0,P,this.title,{text:this.title.text,textBaseline:"bottom",textAlign:"center",hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0});var R=O.computeBBox();D.push(R)}}return 0===D.length?null:BBox.merge(D)},t.prototype.setTextDimensionalProps=function(e,r,o,s,d){var y=s.fontWeight,m=s.fontSize,E=s.fontFamily;e.fontStyle=s.fontStyle,e.fontWeight=y,e.fontSize=m,e.fontFamily=E,e.text=d.text,e.x=r,e.y=o,e.textAlign=d.collisionTextAlign||d.textAlign,e.textBaseline=d.textBaseline},t.prototype.updateSectorLabelNodes=function(){var e=this,r=this.radiusScale,o=r.convert(0),s=this.sectorLabel,d=s.fontSize,f=s.fontStyle,y=s.fontWeight,m=s.fontFamily,E=s.positionOffset,O=s.positionRatio,D=s.color,P=o>0,R=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each(function(x,L){var B=L.sectorLabel,U=r.convert(L.radius),Y=Math.max(0,U),ee=!1;if(B&&0!==Y){var oe=o*(1-O)+U*O+E;if(x.fill=D,x.fontStyle=f,x.fontWeight=y,x.fontSize=d,x.fontFamily=m,x.text=B.text,!P&&R?(x.x=0,x.y=0):(x.x=L.midCos*oe,x.y=L.midSin*oe),x.textAlign="center",x.textBaseline="middle",e.datumSectorRefs.get(L)){var q=x.computeBBox(),ve={startAngle:L.startAngle,endAngle:L.endAngle,innerRadius:o,outerRadius:Y};[[q.x,q.y],[q.x+q.width,q.y],[q.x+q.width,q.y+q.height],[q.x,q.y+q.height]].every(function(Ce){var Pe=__read$s(Ce,2);return isPointInSector(Pe[0],Pe[1],ve)})&&(ee=!0)}}x.visible=ee})},t.prototype.updateInnerCircle=function(){var e=this._innerCircleNode;if(e){var r=this.getInnerRadius();if(0===r)e.size=0;else{var o=Math.min(r,this.getOuterRadius());e.size=Math.ceil(2*o+1)}}},t.prototype.updateInnerLabelNodes=function(){var e=[],r=[];this.innerLabelsSelection.each(function(L,B){var Y=B.fontWeight,ee=B.fontSize,oe=B.fontFamily,re=B.color;L.fontStyle=B.fontStyle,L.fontWeight=Y,L.fontSize=ee,L.fontFamily=oe,L.text=B.text,L.x=0,L.y=0,L.fill=re,L.textAlign="center",L.textBaseline="alphabetic",e.push(L.computeBBox()),r.push(B.margin)});for(var o=function(L){return 0===L?0:r[L]},s=function(L){return L===r.length-1?0:r[L]},d=e.reduce(function(L,B,U){return L+B.height+o(U)+s(U)},0),f=Math.max.apply(Math,__spread$f(e.map(function(L){return L.width}))),y=this.getInnerRadius(),E=Math.sqrt(Math.pow(f/2,2)+Math.pow(d/2,2))<=(y>0?y:this.getOuterRadius()),O=[],D=0,P=-d/2;D<e.length;D++){var x=e[D].height+P+o(D);O.push(x),P=x+s(D)}this.innerLabelsSelection.each(function(L,B,U){L.y=O[U],L.visible=E})},t.prototype.getNodeClickEvent=function(e,r){return new PieSeriesNodeClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new PieSeriesNodeDoubleClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var r=this.angleKey;if(!r)return"";var o=this,d=o.angleName,f=o.radiusKey,y=o.radiusName,m=o.calloutLabelKey,E=o.sectorLabelKey,O=o.calloutLabelName,D=o.sectorLabelName,P=o.id,R=o.tooltip.renderer,x=e.sectorFormat.fill,L=e.datum,B=m?L[m]+": ":"",U=L[r],Y="number"==typeof U?toFixed(U):U.toString(),ee=this.title?this.title.text:void 0,re={title:ee,backgroundColor:x,content:B+Y};return R?toTooltipHtml$1(R({datum:L,angleKey:r,angleValue:U,angleName:d,radiusKey:f,radiusValue:f?L[f]:void 0,radiusName:y,labelKey:m,labelName:O,calloutLabelKey:m,calloutLabelName:O,sectorLabelKey:E,sectorLabelName:D,title:ee,color:x,seriesId:P}),re):toTooltipHtml$1(re)},t.prototype.getLegendData=function(){var e=this,r=this,o=r.calloutLabelKey,s=r.legendItemKey,d=r.data,f=r.id,y=r.sectorFormatData;if(!d||0===d.length||!s&&!o)return[];var m=this.title&&this.title.showInLegend&&this.title.text;return d.map(function(O,D){var P=[];return m&&P.push(m),s?P.push(String(O[s])):o&&P.push(String(O[o])),{id:f,itemId:D,seriesId:f,enabled:e.seriesItemEnabled[D],label:{text:P.join(" - ")},marker:{fill:y[D].fill,stroke:y[D].stroke,fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}}})},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled[e]=r,this.nodeDataRefresh=!0},t.prototype.toggleOtherSeriesItems=function(e,r,o,s){var f,y,d=this,m=this.legendItemKey;if("pie"===e.type&&void 0!==m){var E=e,O=r&&E.legendItemKey&&(null===(f=E.data)||void 0===f?void 0:f.find(function(D,P){return P===r.itemId})[E.legendItemKey]);O&&(null===(y=this.data)||void 0===y||y.forEach(function(D,P){void 0!==o&&D[m]===O?d.toggleSeriesItem(P,o):void 0!==s&&d.toggleSeriesItem(P,s||D[m]===O)}))}},t.className="PieSeries",t.type="pie",__decorate$1l([DeprecatedAndRenamedTo("calloutLabel")],t.prototype,"label",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLine")],t.prototype,"callout",void 0),__decorate$1l([Validate(STRING)],t.prototype,"angleKey",void 0),__decorate$1l([Validate(STRING)],t.prototype,"angleName",void 0),__decorate$1l([Validate(OPT_STRING)],t.prototype,"radiusKey",void 0),__decorate$1l([Validate(OPT_STRING)],t.prototype,"radiusName",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],t.prototype,"radiusMin",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],t.prototype,"radiusMax",void 0),__decorate$1l([Validate(OPT_STRING)],t.prototype,"calloutLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],t.prototype,"calloutLabelName",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],t.prototype,"labelKey",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelName")],t.prototype,"labelName",void 0),__decorate$1l([Validate(OPT_STRING)],t.prototype,"sectorLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],t.prototype,"sectorLabelName",void 0),__decorate$1l([Validate(OPT_STRING)],t.prototype,"legendItemKey",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],t.prototype,"fills",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],t.prototype,"strokes",void 0),__decorate$1l([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1l([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1l([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1l([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1l([Validate(NUMBER())],t.prototype,"outerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"outerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER())],t.prototype,"innerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"innerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(PolarSeries),__extends$1Z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),HierarchySeries=function(l){function t(){return l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this}return __extends$1Z(t,l),t.prototype.getLabelData=function(){return[]},t}(Series),__extends$1Y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1k=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DropShadow=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return __extends$1Y(t,l),__decorate$1k([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"enabled",void 0),__decorate$1k([Validate(COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"color",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"xOffset",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"yOffset",void 0),__decorate$1k([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"blur",void 0),t}(ChangeDetectable);function number(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}function interpolateColor(l,t){if("string"==typeof l)try{l=Color.fromString(l)}catch{l=Color.fromArray([0,0,0])}if("string"==typeof t)try{t=Color.fromString(t)}catch{t=Color.fromArray([0,0,0])}var e=number(l.r,t.r),r=number(l.g,t.g),o=number(l.b,t.b),s=number(l.a,t.a);return function(d){return Color.fromArray([e(d),r(d),o(d),s(d)]).toRgbaString()}}var ColorScale=function(){function l(){this.domain=[0,1],this._range=["red","green"],this.parsedRange=this._range.map(function(t){return Color.fromString(t)})}return Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.parsedRange=t.map(function(e){return Color.fromString(e)})},enumerable:!1,configurable:!0}),l.prototype.convert=function(t){var E,O,e=this,r=e.domain,o=e.range,s=e.parsedRange,d=r[0],f=r[r.length-1];if(t<=d)return o[0];if(t>=f)return o[o.length-1];if(2===r.length){var D=(t-d)/(f-d),P=1/(o.length-1);O=(D-(E=o.length<=2?0:Math.min(Math.floor(D*(o.length-1)),o.length-2))*P)/P}else{for(E=0;E<r.length-2&&!(t<r[E+1]);E++);var R=r[E];O=(t-R)/(r[E+1]-R)}return interpolateColor(s[E],s[E+1])(O)},l}(),__extends$1X=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$u=function(){return __assign$u=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$u.apply(this,arguments)},__decorate$1j=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$1=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator$1=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},TreemapSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1X(t,l),__decorate$1j([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),TreemapSeriesNodeBaseClickEvent=function(l){function t(e,r,o,s,d,f){var y=l.call(this,s,d,f)||this;return y.labelKey=e,y.sizeKey=r,y.colorKey=o,y}return __extends$1X(t,l),t}(SeriesNodeBaseClickEvent),TreemapSeriesNodeClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1X(t,l),t}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesNodeDoubleClickEvent=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1X(t,l),t}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.padding=10,e}return __extends$1X(t,l),__decorate$1j([Validate(NUMBER(0))],t.prototype,"padding",void 0),t}(Label$1),TreemapValueLabel=function(){function l(){var t;this.style=((t=new Label$1).color="white",t)}return __decorate$1j([Validate(OPT_STRING)],l.prototype,"key",void 0),__decorate$1j([Validate(OPT_STRING)],l.prototype,"name",void 0),__decorate$1j([Validate(OPT_FUNCTION)],l.prototype,"formatter",void 0),l}(),TextNodeTag=(()=>((TextNodeTag=TextNodeTag||{})[TextNodeTag.Name=0]="Name",TextNodeTag[TextNodeTag.Value=1]="Value",TextNodeTag))();function getTextSize(l,t){return HdpiCanvas.getTextSize(l,[t.fontWeight,t.fontSize+"px",t.fontFamily].join(" "))}function validateColor(l){return"string"!=typeof l||Color.validColorString(l)?l:(Logger.warnOnce('invalid Treemap tile colour string "'+l+'". Affected treemap tiles will be coloured black.'),"black")}var TreemapTextHighlightStyle=function(){function l(){this.color="black"}return __decorate$1j([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),l}(),TreemapHighlightStyle=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.text=new TreemapTextHighlightStyle,e}return __extends$1X(t,l),t}(HighlightStyle),TreemapSeries=function(l){function t(){var r,e=null!==l&&l.apply(this,arguments)||this;return e.groupSelection=Selection.select(e.contentGroup,Group),e.highlightSelection=Selection.select(e.highlightGroup,Group),e.title=((r=new TreemapSeriesLabel).color="white",r.fontWeight="bold",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.padding=15,r),e.subtitle=function(){var r=new TreemapSeriesLabel;return r.color="white",r.fontSize=9,r.fontFamily="Verdana, sans-serif",r.padding=13,r}(),e.labels={large:function(){var r=new Label$1;return r.color="white",r.fontWeight="bold",r.fontSize=18,r}(),medium:function(){var r=new Label$1;return r.color="white",r.fontWeight="bold",r.fontSize=14,r}(),small:function(){var r=new Label$1;return r.color="white",r.fontWeight="bold",r.fontSize=10,r}(),value:new TreemapValueLabel},e.nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.groupFill="#272931",e.groupStroke="black",e.groupStrokeWidth=1,e.tileStroke="black",e.tileStrokeWidth=1,e.gradient=!0,e.formatter=void 0,e.colorName="Change",e.rootName="Root",e.highlightGroups=!0,e.tileShadow=new DropShadow,e.labelShadow=new DropShadow,e.tooltip=new TreemapSeriesTooltip,e.highlightStyle=new TreemapHighlightStyle,e}return __extends$1X(t,l),t.prototype.getNodePaddingTop=function(e,r){var o=this,f=o.nodePadding,y=e.label;if(e.isLeaf||!y||0===e.depth)return f;var m=e.depth>1?o.subtitle:o.title,E=getTextSize(y,m);return m.fontSize>r.width/3||m.fontSize>r.height/3||E.height>=r.height?f:E.height+2*f},t.prototype.getNodePadding=function(e,r){var o=this.nodePadding;return{top:this.getNodePaddingTop(e,r),right:o,bottom:o,left:o}},t.prototype.squarify=function(e,r,o){void 0===o&&(o=new Map);var d=this.getNodePadding(e,r);o.set(e,r);var f=r.width-d.left-d.right,y=r.height-d.top-d.bottom;if(f<=0||y<=0||e.value<=0)return o;for(var m=0,E=0,O=1/0,D=e.value,P=e.children,R=new BBox(r.x+d.left,r.y+d.top,f,y),x=0;x<P.length;x++){var L=P[x].value,U=R.width<R.height,Y=U?R.height:R.width,ee=U?R.width:R.height,oe=ee*P[E].value/(m+=L),re=Y*m/D,ie=Math.max(oe,re)/Math.min(oe,re),q=Math.abs(1-ie);if(q<O)O=q;else{re=Y*(m-=L)/D;for(var se=U?R.x:R.y,ue=E;ue<x;ue++){var ge=P[ue],Pe=ee*ge.value/m,Ne=new BBox(U?se:R.x,U?R.y:se,U?Pe:re,U?re:Pe);this.squarify(ge,Ne,o),D-=ge.value,se+=Pe}U?(R.y+=re,R.height-=re):(R.x+=re,R.width-=re),E=x,m=0,O=1/0,x--}}var he=R.width<R.height,De=he?R.x:R.y;for(x=E;x<P.length;x++){var _e=P[x].value/D,Oe=R.width*(he?_e:1),Le=R.height*(he?1:_e);Ne=new BBox(he?De:R.x,he?R.y:De,Oe,Le),this.squarify(P[x],Ne,o),De+=he?Oe:Le}return o},t.prototype.processData=function(){return __awaiter$1(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D=this;return __generator$1(this,function(P){return this.data?(r=(e=this).data,o=e.sizeKey,s=e.labelKey,d=e.colorKey,f=e.colorDomain,y=e.colorRange,m=e.groupFill,(E=new ColorScale).domain=f,E.range=y,this.dataRoot=(O=function(R,x,L){var B,U;void 0===x&&(x=0);var Y=s&&R[s]||"",ee=d&&null!==(B=R[d])&&void 0!==B?B:x;ee=validateColor(ee);var oe=!R.children,re="string"==typeof ee?ee:oe||!m?E.convert(ee):m,ie={datum:R,depth:x,parent:L,value:0,label:Y,fill:re,series:D,isLeaf:oe,children:[]};return oe?ie.value=o&&null!==(U=R[o])&&void 0!==U?U:1:(R.children.forEach(function(q){var se=O(q,x+1,ie),ue=se.value;isNaN(ue)||!isFinite(ue)||0===ue||(ie.value+=ue,ie.children.push(se))}),ie.children.sort(function(q,se){return se.value-q.value})),ie})(r),[2]):[2]})})},t.prototype.createNodeData=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(e){return[2,[]]})})},t.prototype.update=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(e){switch(e.label){case 0:return[4,this.updateSelections()];case 1:return e.sent(),[4,this.updateNodes()];case 2:return e.sent(),[2]}})})},t.prototype.updateSelections=function(){return __awaiter$1(this,void 0,void 0,function(){var e,r,o,d,f,y,E,O;return __generator$1(this,function(D){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,o=(e=this).dataRoot,(r=e.chart)&&o&&r.getSeriesRect()?(d=[],(f=function(P){var R;d.push(P),null===(R=P.children)||void 0===R||R.forEach(f)})(this.dataRoot),E=(y=this).highlightSelection,this.groupSelection=(O=function(P){return P.update(d,function(R){var x=new Rect,L=new Text;L.tag=TextNodeTag.Name;var B=new Text;B.tag=TextNodeTag.Value,R.append([x,L,B])})})(y.groupSelection),this.highlightSelection=O(E),[2]):[2]):[2]})})},t.prototype.isDatumHighlighted=function(e){var r;return e===(null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight())&&(e.isLeaf||this.highlightGroups)},t.prototype.getTileFormat=function(e,r){var o,s=this.formatter;if(!s)return{};var d=this;return s({seriesId:this.id,datum:e.datum,depth:e.depth,parent:null===(o=e.parent)||void 0===o?void 0:o.datum,colorKey:d.colorKey,sizeKey:d.sizeKey,labelKey:d.labelKey,fill:e.fill,stroke:e.isLeaf?d.tileStroke:d.groupStroke,strokeWidth:e.isLeaf?d.tileStrokeWidth:d.groupStrokeWidth,gradient:d.gradient,highlighted:r})},t.prototype.updateNodes=function(){return __awaiter$1(this,void 0,void 0,function(){var e,r,o,s,d,f,y,m,E,O,D,P,R,x,L,B,U,Y,ee,oe,re=this;return __generator$1(this,function(ie){return this.chart?(r=(e=this).gradient,d=(s=(o=e.highlightStyle).item).fill,f=s.fillOpacity,y=s.stroke,m=s.strokeWidth,E=o.text.color,O=e.tileStroke,D=e.tileStrokeWidth,P=e.groupStroke,R=e.groupStrokeWidth,x=e.tileShadow,L=e.labelShadow,B=this.chart.getSeriesRect(),U=this.squarify(this.dataRoot,new BBox(0,0,B.width,B.height)),Y=this.buildLabelMeta(U),this.updateNodeMidPoint(U),ee=function(q,se,ue){var ge,ve,Ce,Pe,Me,Re,Ne=U.get(se);if(Ne){var he=ue&&void 0!==d?d:se.fill,De=null!==(ge=ue?f:1)&&void 0!==ge?ge:1,_e=ue&&void 0!==y?y:se.isLeaf?O:P,Oe=ue&&void 0!==m?m:se.isLeaf?D:R,Le=re.getTileFormat(se,ue),Ie=validateColor(null!==(ve=Le?.fill)&&void 0!==ve?ve:he);if(null!==(Ce=Le?.gradient)&&void 0!==Ce?Ce:r){var Ye=Color.tryParseFromString(he).brighter().toString(),dt=Color.tryParseFromString(he).darker().toString();q.fill="linear-gradient(180deg, "+Ye+", "+dt+")"}else q.fill=Ie;if(q.fillOpacity=null!==(Pe=Le?.fillOpacity)&&void 0!==Pe?Pe:De,q.stroke=validateColor(null!==(Me=Le?.stroke)&&void 0!==Me?Me:_e),q.strokeWidth=null!==(Re=Le?.strokeWidth)&&void 0!==Re?Re:Oe,q.fillShadow=x,q.crisp=!0,q.x=Ne.x,q.y=Ne.y,q.width=Ne.width,q.height=Ne.height,q.visible=!0,ue&&!se.isLeaf){var ht=re.getNodePadding(se,Ne),pt=Ne.x+ht.left,Pt=Ne.x+Ne.width-ht.right,Qe=Ne.y+ht.top,vt=Ne.y+Ne.height-ht.bottom;q.clipPath?q.clipPath.clear():q.clipPath=new Path2D,q.clipMode="punch-out",q.clipPath.moveTo(pt,Qe),q.clipPath.lineTo(Pt,Qe),q.clipPath.lineTo(Pt,vt),q.clipPath.lineTo(pt,vt),q.clipPath.lineTo(pt,Qe),q.clipPath.closePath()}}else q.visible=!1},this.groupSelection.selectByClass(Rect).forEach(function(q){return ee(q,q.datum,!1)}),this.highlightSelection.selectByClass(Rect).forEach(function(q){var se=re.isDatumHighlighted(q.datum);q.visible=se,q.visible&&ee(q,q.datum,se)}),oe=function(q,se,ue,ge){var ve=Y.get(se),Ce=ve?.[ge];Ce?(q.text=Ce.text,q.fontFamily=Ce.style.fontFamily,q.fontSize=Ce.style.fontSize,q.fontWeight=Ce.style.fontWeight,q.fill=ue?E??Ce.style.color:Ce.style.color,q.fillShadow=ue?void 0:L,q.textAlign=Ce.hAlign,q.textBaseline=Ce.vAlign,q.x=Ce.x,q.y=Ce.y,q.visible=!0):q.visible=!1},this.groupSelection.selectByTag(TextNodeTag.Name).forEach(function(q){return oe(q,q.datum,!1,"label")}),this.highlightSelection.selectByTag(TextNodeTag.Name).forEach(function(q){var se=re.isDatumHighlighted(q.datum);q.visible=se,q.visible&&oe(q,q.datum,se,"label")}),this.groupSelection.selectByTag(TextNodeTag.Value).forEach(function(q){return oe(q,q.datum,!1,"value")}),this.highlightSelection.selectByTag(TextNodeTag.Value).forEach(function(q){var se=re.isDatumHighlighted(q.datum);q.visible=se,q.visible&&oe(q,q.datum,se,"value")}),[2]):[2]})})},t.prototype.updateNodeMidPoint=function(e){e.forEach(function(r,o){o.nodeMidPoint={x:r.x+r.width/2,y:r.y}})},t.prototype.buildLabelMeta=function(e){var r=this,o=r.labels,s=r.title,d=r.subtitle,f=r.nodePadding,y=r.labelKey,m=new Map;return e.forEach(function(E,O){if(y&&0!==O.depth){var P,D=O.isLeaf?O.label:O.label.toUpperCase();P=O.isLeaf?[o.large,o.medium,o.small].find(function(se){var ue=getTextSize(D,se);return ue.width<E.width&&ue.height<E.height})||o.small:1===O.depth?s:d;var R=getTextSize(D,P),x=E.width-2*f,L=E.height-2*f;if(!(P.fontSize>E.width/3||P.fontSize>E.height/3)){if(R.width>x){var U=Math.floor(D.length*x/R.width)-1;D=D.substring(0,U)+"\u2026"}var Y=o.value,ee=Y.style,oe=(P.fontSize+ee.fontSize)/8,re=String(O.isLeaf?Y.formatter?Y.formatter({datum:O.datum}):Y.key?O.datum[Y.key]:"":""),ie=getTextSize(re,ee),q=re&&ie.width<x&&ie.height+R.height+oe<L;m.set(O,{label:__assign$u({text:D,style:P},O.isLeaf?{hAlign:"center",vAlign:"middle",x:E.x+E.width/2,y:E.y+E.height/2-(q?ie.height/2+oe/2:0)}:{hAlign:"left",vAlign:"top",x:E.x+f,y:E.y+f}),value:q?{text:re,style:ee,hAlign:"center",vAlign:"middle",x:E.x+E.width/2,y:E.y+E.height/2+R.height/2+oe/2}:void 0})}}}),m},t.prototype.getDomain=function(e){return[0,1]},t.prototype.getNodeClickEvent=function(e,r){return new TreemapSeriesNodeClickEvent(this.labelKey,this.sizeKey,this.colorKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new TreemapSeriesNodeDoubleClickEvent(this.labelKey,this.sizeKey,this.colorKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var r;if(!this.highlightGroups&&!e.isLeaf)return"";var o=this,d=o.sizeKey,f=o.labelKey,y=o.colorKey,E=o.id,O=o.labels,D=e.datum,P=o.tooltip.renderer,R=e.depth?D[f]:o.rootName||D[f],x="",L=this.getTileFormat(e,!1),B=L?.fill||e.fill||"gray",U=O.value.key,Y=O.value.formatter;if(U||Y){var ee="";if(Y)ee=Y({datum:D});else{var oe=D[U];"number"==typeof oe&&isFinite(oe)&&(ee=toFixed(oe))}ee&&(O.value.name&&(x+="<b>"+O.value.name+":</b> "),x+=ee)}var re={title:R,backgroundColor:B,content:x};return P?toTooltipHtml$1(P({datum:e.datum,parent:null===(r=e.parent)||void 0===r?void 0:r.datum,depth:e.depth,sizeKey:d,labelKey:f,colorKey:y,title:R,color:B,seriesId:E}),re):R||x?toTooltipHtml$1(re):""},t.prototype.getLegendData=function(){return[]},t.className="TreemapSeries",t.type="treemap",__decorate$1j([Validate(NUMBER(0))],t.prototype,"nodePadding",void 0),__decorate$1j([Validate(STRING)],t.prototype,"labelKey",void 0),__decorate$1j([Validate(OPT_STRING)],t.prototype,"sizeKey",void 0),__decorate$1j([Validate(OPT_STRING)],t.prototype,"colorKey",void 0),__decorate$1j([Validate(NUMBER_ARRAY)],t.prototype,"colorDomain",void 0),__decorate$1j([Validate(COLOR_STRING_ARRAY)],t.prototype,"colorRange",void 0),__decorate$1j([Validate(OPT_STRING)],t.prototype,"groupFill",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],t.prototype,"groupStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],t.prototype,"groupStrokeWidth",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],t.prototype,"tileStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],t.prototype,"tileStrokeWidth",void 0),__decorate$1j([Validate(BOOLEAN)],t.prototype,"gradient",void 0),__decorate$1j([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1j([Validate(STRING)],t.prototype,"colorName",void 0),__decorate$1j([Validate(STRING)],t.prototype,"rootName",void 0),__decorate$1j([Validate(OPT_BOOLEAN)],t.prototype,"highlightGroups",void 0),t}(HierarchySeries),types$1={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},CHART_TYPES={add:function(l,t){types$1[l]=t},delete:function(l){delete types$1[l]},has:function(l){return Object.prototype.hasOwnProperty.call(types$1,l)},isCartesian:function(l){return"cartesian"===types$1[l]},isPolar:function(l){return"polar"===types$1[l]},isHierarchy:function(l){return"hierarchy"===types$1[l]},get seriesTypes(){return Object.keys(types$1)},get cartesianTypes(){var l=this;return this.seriesTypes.filter(function(t){return l.isCartesian(t)})},get polarTypes(){var l=this;return this.seriesTypes.filter(function(t){return l.isPolar(t)})},get hierarchyTypes(){var l=this;return this.seriesTypes.filter(function(t){return l.isHierarchy(t)})}};function deepMerge$1(l,t){if(isPlainObject(l)&&isPlainObject(t)){var e={};return Object.keys(l).forEach(function(r){e[r]=r in t?deepMerge$1(l[r],t[r]):l[r]}),Object.keys(t).forEach(function(r){r in l||(e[r]=t[r])}),e}return Array.isArray(l)&&!Array.isArray(t)||isObject(l)&&!isObject(t)?l:t}function isObject(l){return l&&"object"==typeof l}function isPlainObject(l){return isObject(l)&&l.constructor===Object}var __assign$t=function(){return __assign$t=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$t.apply(this,arguments)},__read$r=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},palette$8={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},BOLD="bold",INSIDE="inside",RIGHT="right",ChartTheme=function(){function l(t){var e=(t=deepMerge$1({},t||{})).overrides,r=void 0===e?null:e,o=t.palette,s=void 0===o?null:o,d=this.createChartConfigPerChartType(this.getDefaults());if(r){var f=r.common,y=r.cartesian,m=r.polar,E=r.hierarchy,O=function(D,P,R){R&&(d[D]=deepMerge$1(d[D],R),P.forEach(function(x){d[x]=deepMerge$1(d[x],R)}))};O("common",Object.keys(d),f),O("cartesian",CHART_TYPES.cartesianTypes,y),O("polar",CHART_TYPES.polarTypes,m),O("hierarchy",CHART_TYPES.hierarchyTypes,E),CHART_TYPES.seriesTypes.forEach(function(D){var P,R=D,x=r[R];x&&(x.series&&(x.series=((P={})[R]=x.series,P)),d[R]=deepMerge$1(d[R],x))})}this.palette=s??this.getPalette(),this.config=Object.freeze(d)}return l.prototype.getPalette=function(){return palette$8},l.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:BOLD,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},l.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},l.getBarSeriesDefaults=function(){return __assign$t(__assign$t({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:INSIDE},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},l.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{format:void 0,position:{type:"node"}})})},l.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{nodeClickRange:"nearest",tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},l.getScatterSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},l.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},l.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:BOLD,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30},legend:{enabled:!0,position:RIGHT,spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}},l.prototype.createChartConfigPerChartType=function(t){return Object.entries({cartesian:CHART_TYPES.cartesianTypes,polar:CHART_TYPES.polarTypes,hierarchy:CHART_TYPES.hierarchyTypes,groupedCategory:[]}).forEach(function(r){var o=__read$r(r,2),s=o[0];o[1].forEach(function(f){t[f]||(t[f]=deepMerge$1({},t[s]))})}),t},l.prototype.getDefaults=function(){var t=deepMerge$1({},l.defaults),e=function(o){var s={};return s.series=o.reduce(function(d,f){return Object.prototype.hasOwnProperty.call(l.seriesThemeOverrides,f)&&(d[f]=l.seriesThemeOverrides[f]({seriesDefaults:l.getSeriesDefaults(),defaultFontFamily:l.fontFamily})),d},{}),s};return deepMerge$1(t,{cartesian:e(CHART_TYPES.cartesianTypes),groupedCategory:e(CHART_TYPES.cartesianTypes),polar:e(CHART_TYPES.polarTypes),hierarchy:e(CHART_TYPES.hierarchyTypes)})},l.prototype.mergeWithParentDefaults=function(t,e){return deepMerge$1(t,e)},l.fontFamily="Verdana, sans-serif",l.seriesThemeOverrides={},l.cartesianDefaults=__assign$t(__assign$t({},l.getChartDefaults()),{axes:{number:__assign$t({},l.getAxisDefaults()),log:__assign$t(__assign$t({},l.getAxisDefaults()),{base:10}),category:__assign$t(__assign$t({},l.getAxisDefaults()),{groupPaddingInner:.1,label:__assign$t(__assign$t({},l.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:__assign$t({},l.getAxisDefaults()),time:__assign$t({},l.getAxisDefaults())},series:{column:__assign$t(__assign$t({},l.getBarSeriesDefaults()),{flipXY:!1}),bar:__assign$t(__assign$t({},l.getBarSeriesDefaults()),{flipXY:!0}),line:__assign$t(__assign$t({},l.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:__assign$t(__assign$t({},l.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:__assign$t(__assign$t({},l.getScatterSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",marker:__assign$t({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"}}),area:__assign$t(__assign$t({},l.getAreaSeriesDefaults()),{xKey:"",xName:"",normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:__assign$t(__assign$t({},l.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:__assign$t(__assign$t({},l.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),l.polarDefaults=__assign$t(__assign$t({},l.getChartDefaults()),{series:{pie:__assign$t(__assign$t({},l.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),l.hierarchyDefaults=__assign$t(__assign$t({},l.getChartDefaults()),{series:{treemap:__assign$t(__assign$t({},l.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),l.defaults={cartesian:l.cartesianDefaults,groupedCategory:l.cartesianDefaults,polar:l.polarDefaults,hierarchy:l.hierarchyDefaults},l}(),__extends$1W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$s=function(){return __assign$s=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$s.apply(this,arguments)},DarkTheme=function(l){function t(e){return l.call(this,e)||this}return __extends$1W(t,l),t.prototype.getDefaults=function(){var e=t.fontColor,r=t.mutedFontColor,o={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},s={label:{color:e}},d={axes:{number:__assign$s({},o),category:__assign$s({},o),time:__assign$s({},o)}},f={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:r},legend:{item:{label:{color:e}},pagination:{activeStyle:{fill:e},inactiveStyle:{fill:r},highlightStyle:{fill:e},label:{color:e}}}},y=function(m){return m.reduce(function(E,O){return Object.prototype.hasOwnProperty.call(t.seriesDarkThemeOverrides,O)&&(E[O]=t.seriesDarkThemeOverrides[O]({seriesLabelDefaults:t.seriesLabelDefaults})),E},{})};return this.mergeWithParentDefaults(l.prototype.getDefaults.call(this),{cartesian:__assign$s(__assign$s(__assign$s({},f),d),{series:__assign$s({bar:__assign$s({},s),column:__assign$s({},s),histogram:__assign$s({},s)},y(CHART_TYPES.cartesianTypes))}),groupedCategory:__assign$s(__assign$s(__assign$s({},f),d),{series:__assign$s({bar:__assign$s({},s),column:__assign$s({},s),histogram:__assign$s({},s)},y(CHART_TYPES.cartesianTypes))}),polar:__assign$s(__assign$s({},f),{series:__assign$s({pie:{calloutLabel:{color:e},sectorLabel:{color:e},title:{color:e},innerLabels:{color:e}}},y(CHART_TYPES.polarTypes))}),hierarchy:__assign$s(__assign$s({},f),{series:__assign$s({treemap:{tileStroke:"white",groupStroke:"white",title:{color:e},subtitle:{color:r},labels:{large:{color:e},medium:{color:e},small:{color:e},value:{style:{color:e}}}}},y(CHART_TYPES.hierarchyTypes))})})},t.fontColor="rgb(200, 200, 200)",t.mutedFontColor="rgb(150, 150, 150)",t.seriesLabelDefaults={label:{color:t.fontColor}},t.seriesDarkThemeOverrides={},t}(ChartTheme),__values$b=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BaseModuleInstance=function(){function l(){this.destroyFns=[]}return l.prototype.destroy=function(){var t,e;try{for(var r=__values$b(this.destroyFns),o=r.next();!o.done;o=r.next())(0,o.value)()}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},l}(),REGISTERED_MODULES=[];function registerModule(l){var t=REGISTERED_MODULES.find(function(r){return l.type===r.type&&l.optionsKey===r.optionsKey});if(t){if("enterprise"===l.packageType&&"community"===t.packageType){var e=REGISTERED_MODULES.indexOf(t);REGISTERED_MODULES.splice(e,1,l)}}else REGISTERED_MODULES.push(l)}var __extends$1V=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1i=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RangeHandle$1=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return __extends$1V(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.width,d=e.height;return new BBox(e.centerX-s/2,e.centerY-d/2,s,d)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.updatePath=function(){var e=this,r=e.path,o=e.centerX,s=e.centerY,d=e.width,f=e.height;r.clear();var y=o-d/2,m=s-f/2,E=this.align(y),O=this.align(m),D=E+this.align(y,d),P=O+this.align(m,f);r.moveTo(E,O),r.lineTo(D,O),r.lineTo(D,P),r.lineTo(E,P),r.lineTo(E,O);var R=this.gripLineGap/2,x=this.gripLineLength/2;r.moveTo(this.align(o-R),this.align(s-x)),r.lineTo(this.align(o-R),this.align(s+x)),r.moveTo(this.align(o+R),this.align(s-x)),r.lineTo(this.align(o+R),this.align(s+x))},t.className="RangeHandle",__decorate$1i([Validate(COLOR_STRING)],t.prototype,"_fill",void 0),__decorate$1i([Validate(COLOR_STRING)],t.prototype,"_stroke",void 0),__decorate$1i([Validate(NUMBER(0))],t.prototype,"_strokeWidth",void 0),__decorate$1i([Validate(LINE_CAP)],t.prototype,"_lineCap",void 0),__decorate$1i([Validate(NUMBER(0))],t.prototype,"_width",void 0),__decorate$1i([Validate(NUMBER(0))],t.prototype,"_gripLineGap",void 0),__decorate$1i([Validate(NUMBER(0))],t.prototype,"_gripLineLength",void 0),__decorate$1i([Validate(NUMBER(0))],t.prototype,"_height",void 0),t}(Path),__extends$1U=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1h=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RangeMask=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return __extends$1U(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){var r;e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,null===(r=this.onRangeChange)||void 0===r||r.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){var r;e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,null===(r=this.onRangeChange)||void 0===r||r.call(this))},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new BBox(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,r=e.x,s=e.width,m=r+s*e.min;return new BBox(m,e.y,r+s*e.max-m,e.height)},t.prototype.updatePath=function(){var e=this,r=e.path,o=e.x,s=e.y,d=e.width,f=e.height,y=e.min,m=e.max;r.clear();var E=this.align(o),O=this.align(s),D=E+this.align(o,d),P=O+this.align(s,f);r.moveTo(E,O),r.lineTo(D,O),r.lineTo(D,P),r.lineTo(E,P),r.lineTo(E,O);var R=this.align(o+d*y),x=this.align(o+d*m);r.moveTo(R,O),r.lineTo(R,P),r.lineTo(x,P),r.lineTo(x,O),r.lineTo(R,O)},t.className="RangeMask",__decorate$1h([Validate(COLOR_STRING)],t.prototype,"_stroke",void 0),__decorate$1h([Validate(NUMBER(0))],t.prototype,"_strokeWidth",void 0),__decorate$1h([Validate(COLOR_STRING)],t.prototype,"_fill",void 0),__decorate$1h([Validate(NUMBER(0,1))],t.prototype,"_fillOpacity",void 0),__decorate$1h([Validate(LINE_CAP)],t.prototype,"_lineCap",void 0),__decorate$1h([Validate(NUMBER(0))],t.prototype,"_width",void 0),__decorate$1h([Validate(NUMBER(0))],t.prototype,"_height",void 0),__decorate$1h([Validate(NUMBER())],t.prototype,"_min",void 0),__decorate$1h([Validate(NUMBER())],t.prototype,"_max",void 0),t}(Path),__extends$1T=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$r=function(){return __assign$r=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$r.apply(this,arguments)},RangeSelector=function(l){function t(){var e=l.call(this,{name:"rangeSelectorGroup"})||this;return e.minHandle=new RangeHandle$1,e.maxHandle=new RangeHandle$1,e.mask=function(){var r=t.defaults,o=r.x,s=r.y,d=r.width,f=r.height,y=r.min,m=r.max,E=new RangeMask;E.x=o,E.y=s,E.width=d,E.height=f,E.min=y,E.max=m;var D=e.minHandle,P=e.maxHandle;return D.centerX=o,P.centerX=o+d,D.centerY=P.centerY=s+f/2,e.append([E,D,P]),E.onRangeChange=function(){var R;e.updateHandles(),null===(R=e.onRangeChange)||void 0===R||R.call(e)},E}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e.isContainerNode=!0,e}return __extends$1T(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!1,configurable:!0}),t.prototype.updateHandles=function(){var e=this,r=e.minHandle,o=e.maxHandle,s=e.x,d=e.y,f=e.width,y=e.height,m=e.mask;r.centerX=s+f*m.min,o.centerX=s+f*m.max,r.centerY=o.centerY=d+y/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){var r=e.ctx,o=e.forceRender,s=e.stats;if(this.dirty!==RedrawType.NONE||o){this.computeTransformMatrix(),this.matrix.toContext(r);var d=this;[d.mask,d.minHandle,d.maxHandle].forEach(function(E){E.visible&&(o||E.dirty>RedrawType.NONE)&&(r.save(),E.render(__assign$r(__assign$r({},e),{ctx:r,forceRender:o})),r.restore())}),this.markClean({force:!0}),s&&s.nodesRendered++}else s&&s.nodesSkipped++},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(Group),NavigatorMask=function(){function l(t){this.rm=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),l}(),NavigatorHandle=function(){function l(t){this.rh=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),l}(),__extends$1S=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1g=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Navigator=function(l){function t(e){var r=l.call(this)||this;return r.ctx=e,r.rs=new RangeSelector,r.mask=new NavigatorMask(r.rs.mask),r.minHandle=new NavigatorHandle(r.rs.minHandle),r.maxHandle=new NavigatorHandle(r.rs.maxHandle),r.minHandleDragging=!1,r.maxHandleDragging=!1,r.panHandleOffset=NaN,r._enabled=!1,r.margin=10,r._visible=!0,r.rs.onRangeChange=function(){return r.ctx.zoomManager.updateZoom("navigator",{x:{min:r.rs.min,max:r.rs.max}})},[e.interactionManager.addListener("drag-start",function(o){return r.onDragStart(o)}),e.interactionManager.addListener("drag",function(o){return r.onDrag(o)}),e.interactionManager.addListener("hover",function(o){return r.onDrag(o)}),e.interactionManager.addListener("drag-end",function(){return r.onDragStop()})].forEach(function(o){return r.destroyFns.push(function(){return e.interactionManager.removeListener(o)})}),[e.layoutService.addListener("before-series",function(o){return r.layout(o)}),e.layoutService.addListener("layout-complete",function(o){return r.layoutComplete(o)})].forEach(function(o){return r.destroyFns.push(function(){return e.layoutService.removeListener(o)})}),e.scene.root.appendChild(r.rs),r.destroyFns.push(function(){var o;return null===(o=e.scene.root)||void 0===o?void 0:o.removeChild(r.rs)}),r.updateGroupVisibility(),r}return __extends$1S(t,l),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.rs.visible=this.enabled&&this.visible},t.prototype.layout=function(e){var r=e.shrinkRect;return this.enabled&&(r.shrink(this.rs.height+this.margin,"bottom"),this.rs.y=r.y+r.height+this.margin),{shrinkRect:r}},t.prototype.layoutComplete=function(e){var r=e.series,o=r.rect,s=r.visible;this.enabled&&s&&(this.rs.x=o.x,this.rs.width=o.width),this.visible=s},t.prototype.update=function(){},t.prototype.onDragStart=function(e){if(this.enabled){var r=e.offsetX,o=e.offsetY,s=this.rs,d=s.minHandle,f=s.maxHandle,y=s.x,m=s.width,E=s.min,O=s.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(d.containsPoint(r,o)?this.minHandleDragging=!0:f.containsPoint(r,o)?this.maxHandleDragging=!0:O.containsPoint(r,o)&&(this.panHandleOffset=(r-y)/m-E))}},t.prototype.onDrag=function(e){if(this.enabled){var o=this.rs,s=this.panHandleOffset,d=o.x,y=o.width,E=o.minHandle,O=o.maxHandle,D=e.offsetX,P=e.offsetY,R=d+y*o.min,L=new BBox(R,o.y,d+y*o.max-R,o.height),B=function(){return Math.min(Math.max((D-d)/y,0),1)};if(E.containsPoint(D,P)||O.containsPoint(D,P)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):L.containsPoint(D,P)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)o.min=B();else if(this.maxHandleDragging)o.max=B();else if(!isNaN(s)){var U=o.max-o.min,Y=Math.min(B()-s,1-U);Y<=o.min?(o.min=Y,o.max=o.min+U):(o.max=Y+U,o.min=o.max-U)}}},t.prototype.onDragStop=function(){this.stopHandleDragging()},t.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},__decorate$1g([Validate(BOOLEAN)],t.prototype,"_enabled",void 0),__decorate$1g([Validate(NUMBER(0))],t.prototype,"margin",void 0),t}(BaseModuleInstance),CHART_NAVIGATOR_MODULE={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],initialiseModule:function(l){return{instance:new Navigator(l)}}};registerModule(CHART_NAVIGATOR_MODULE);var __extends$1R=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1f=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Background=function(l){function t(e){var r,o=l.call(this)||this;o.onLayoutComplete=function(d){var f=d.chart,m=f.height;o.rectNode.width=f.width,o.rectNode.height=m},o.node=new Group({name:"background"}),o.node.zIndex=Layers.SERIES_BACKGROUND_ZINDEX,o.rectNode=new Rect,o.node.appendChild(o.rectNode),o.fill="white",o.visible=!0,null===(r=e.scene.root)||void 0===r||r.appendChild(o.node),o.destroyFns.push(function(){var d;return null===(d=e.scene.root)||void 0===d?void 0:d.removeChild(o.node)});var s=e.layoutService.addListener("layout-complete",o.onLayoutComplete);return o.destroyFns.push(function(){return e.layoutService.removeListener(s)}),o}return __extends$1R(t,l),t.prototype.update=function(){},__decorate$1f([Validate(BOOLEAN),ProxyPropertyOnWrite("node","visible")],t.prototype,"visible",void 0),__decorate$1f([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("rectNode","fill")],t.prototype,"fill",void 0),t}(BaseModuleInstance),CHART_BACKGROUND_MODULE={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],initialiseModule:function(l){return{instance:new Background(l)}}};registerModule(CHART_BACKGROUND_MODULE);var builtinSeriesTypes={area:AreaSeries,bar:BarSeries,column:BarSeries,histogram:HistogramSeries,line:LineSeries,pie:PieSeries,scatter:ScatterSeries,treemap:TreemapSeries},extraSeriesFactories={},initialisedSeriesModules=new Map;function initialiseSeriesModules(){REGISTERED_MODULES.filter(function(l){return"series"===l.type}).filter(function(l){return!initialisedSeriesModules.has(l)}).forEach(function(l){return initialiseSeriesModule(l)})}var seriesDefaults={};function initialiseSeriesModule(l){var t=l.optionsKey,e=l.initialiseModule({seriesFactory:{add:function(o){extraSeriesFactories[t]=o},delete:function(){delete extraSeriesFactories[t]}},defaults:{add:function(o){seriesDefaults[t]=o},delete:function(){delete seriesDefaults[t]}},themes:{chartTheme:{add:function(o){ChartTheme.seriesThemeOverrides[t]=o},delete:function(){delete ChartTheme.seriesThemeOverrides[t]}},darkTheme:{add:function(o){DarkTheme.seriesDarkThemeOverrides[t]=o},delete:function(){delete DarkTheme.seriesDarkThemeOverrides[t]}}}});initialisedSeriesModules.set(l,e),CHART_TYPES.add(t,l.chartTypes[0])}function getSeries(l){if(Object.prototype.hasOwnProperty.call(extraSeriesFactories,l))return(0,extraSeriesFactories[l])();if(Object.prototype.hasOwnProperty.call(builtinSeriesTypes,l))return new(0,builtinSeriesTypes[l]);throw new Error("AG Charts - unknown series type: "+l)}var DEFAULT_CARTESIAN_CHART_OVERRIDES={axes:[{type:NumberAxis.type,position:"left"},{type:CategoryAxis.type,position:"bottom"}]},DEFAULT_BAR_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},__assign$q=function(){return __assign$q=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$q.apply(this,arguments)};function transform(l,t){var e={};for(var r in l)e[r]=(t[r]||function(s){return s})(l[r],l);return e}function is2dArray(l){return null!=l&&l instanceof Array&&l[0]instanceof Array}function yNamesMapping(l,t){if(null==l)return{};if(!(l instanceof Array))return l;var e=t.yKeys;if(null==e||is2dArray(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var r={};return e.forEach(function(o,s){r[o]=l[s]}),r}function yKeysMapping(l,t){return null==l?[[]]:is2dArray(l)?l:t.grouped?l.map(function(e){return[e]}):[l]}function barSeriesTransform(l){var t=__assign$q({},l);return delete t.yKey,delete t.yName,transform(t,{yNames:yNamesMapping,yKeys:yKeysMapping})}function identityTransform(l){return l}var SERIES_TRANSFORMS={area:identityTransform,bar:barSeriesTransform,column:barSeriesTransform,histogram:identityTransform,line:identityTransform,pie:identityTransform,scatter:identityTransform,treemap:identityTransform};function applySeriesTransform(l){return(SERIES_TRANSFORMS[l.type||"line"]??identityTransform)(l)}var __extends$1Q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette$7={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1Q(t,l),t.prototype.getPalette=function(){return palette$7},t}(ChartTheme),__extends$1P=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette$6={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1P(t,l),t.prototype.getPalette=function(){return palette$6},t}(DarkTheme),__extends$1O=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette$5={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1O(t,l),t.prototype.getPalette=function(){return palette$5},t}(ChartTheme),__extends$1N=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette$4={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1N(t,l),t.prototype.getPalette=function(){return palette$4},t}(DarkTheme),__extends$1M=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette$3={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1M(t,l),t.prototype.getPalette=function(){return palette$3},t}(ChartTheme),__extends$1L=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette$2={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1L(t,l),t.prototype.getPalette=function(){return palette$2},t}(DarkTheme),__extends$1K=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette$1={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1K(t,l),t.prototype.getPalette=function(){return palette$1},t}(ChartTheme),__extends$1J=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),palette={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1J(t,l),t.prototype.getPalette=function(){return palette},t}(DarkTheme),__assign$p=function(){return __assign$p=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$p.apply(this,arguments)},lightTheme=function(){return new ChartTheme},darkTheme=function(){return new DarkTheme},lightThemes={undefined:lightTheme,null:lightTheme,"ag-default":lightTheme,"ag-material":function(){return new MaterialLight},"ag-pastel":function(){return new PastelLight},"ag-solar":function(){return new SolarLight},"ag-vivid":function(){return new VividLight}},darkThemes={undefined:darkTheme,null:darkTheme,"ag-default-dark":darkTheme,"ag-material-dark":function(){return new MaterialDark},"ag-pastel-dark":function(){return new PastelDark},"ag-solar-dark":function(){return new SolarDark},"ag-vivid-dark":function(){return new VividDark}},themes$1=__assign$p(__assign$p({},darkThemes),lightThemes);function getChartTheme(l){var t;if(l instanceof ChartTheme)return l;var e=themes$1[l];if(e)return e();for(var o,r=[];"object"==typeof l;)r.push(null!==(t=l.overrides)&&void 0!==t?t:{}),l.palette&&null==o&&(o=l.palette),l=l.baseTheme;r.reverse();var s=__assign$p({baseTheme:l,overrides:jsonMerge(r)},o?{palette:o}:{});return s.baseTheme||s.overrides?new(getChartTheme(s.baseTheme).constructor)(s):lightTheme()}var __assign$o=function(){return __assign$o=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$o.apply(this,arguments)},__values$a=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$q=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$e=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$q(arguments[t]));return l};function groupSeriesByType(l){var t,e,r={},o=[];try{for(var s=__values$a(l),d=s.next();!d.done;d=s.next()){var f=d.value;if("column"===f.type||"bar"===f.type||"area"===f.type&&!0===f.stacked){var E=(f.type||"line")+"-"+f.xKey+"-"+(f.stacked?"stacked":"grouped");null==r[E]&&(r[E]=[],o.push(r[E])),r[E].push(f)}else o.push([f])}}catch(O){t={error:O}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}var FAIL=Symbol(),SKIP=Symbol(),ARRAY_REDUCER=function(l){return function(t,e){var r;return t.concat.apply(t,__spread$e(null!==(r=e[l])&&void 0!==r?r:[]))}},BOOLEAN_OR_REDUCER=function(l,t){return function(e,r){return"boolean"==typeof r[l]?(e??!1)||r[l]:e??t}},DEFAULTING_ARRAY_REDUCER=function(l,t){return function(e,r,o,s){var d,f=t===SKIP||t===FAIL,y=null!==(d=r[l])&&void 0!==d?d:t;if(y===FAIL)throw new Error("AG Charts - missing value for property ["+l+"] on series config.");if(y===SKIP)return e;if(0===e.length&&!f)for(;e.length<s;)e=e.concat(t);return f?e.concat(y):(e[o]=y,e)}},YKEYS_REDUCER=function(l,t){return function(e,r){return r[l]===t?e.concat.apply(e,__spread$e(r.yKey?[r.yKey]:r.yKeys)):e}},STACK_GROUPS_REDUCER=function(){return function(l,t){var e;return __assign$o(__assign$o({},l),((e={})[t.stackGroup]=__spread$e(l[t.stackGroup]||[],[t.yKey]),e))}},REDUCE_CONFIG={hideInChart:{outputProp:"hideInChart",reducer:ARRAY_REDUCER("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:ARRAY_REDUCER("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:DEFAULTING_ARRAY_REDUCER("yKey",SKIP),start:[]},fill:{outputProp:"fills",reducer:DEFAULTING_ARRAY_REDUCER("fill",SKIP),start:[]},stroke:{outputProp:"strokes",reducer:DEFAULTING_ARRAY_REDUCER("stroke",SKIP),start:[]},yName:{outputProp:"yNames",reducer:DEFAULTING_ARRAY_REDUCER("yName",SKIP),start:[]},visible:{outputProp:"visibles",reducer:DEFAULTING_ARRAY_REDUCER("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:BOOLEAN_OR_REDUCER("grouped"),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:YKEYS_REDUCER("showInLegend",!1),seriesType:["bar","column"],start:[]},stackGroup:{outputProp:"stackGroups",reducer:STACK_GROUPS_REDUCER(),seriesType:["bar","column"],start:{}}};function reduceSeries(l){var t={};return l.forEach(function(e,r){Object.keys(e).forEach(function(o){var s,d=REDUCE_CONFIG[o],f=function(){var x,L;t[o]=null!==(L=null!==(x=e[o])&&void 0!==x?x:t[o])&&void 0!==L?L:void 0};if(d){var y=d.outputProp,m=d.reducer,E=d.start,O=void 0===E?void 0:E,D=d.seriesType;if((void 0===D?[e.type]:D).includes(e.type)){var R=m(null!==(s=t[y])&&void 0!==s?s:O,e,r,l.length);void 0!==R&&(t[y]=R)}else f()}else f()})}),t}function processSeriesOptions(l){var t,e,r=[],o=l.map(function(y){return"bar"!==y.type&&"column"!==y.type||null==y.yKey||y.stacked?y:__assign$o(__assign$o({},y),{grouped:null==y.grouped||y.grouped})});try{for(var s=__values$a(groupSeriesByType(o)),d=s.next();!d.done;d=s.next()){var f=d.value;switch(f[0].type){case"column":case"bar":case"area":r.push(reduceSeries(f));break;default:f.length>1&&Logger.warn("unexpected grouping of series type: "+f[0].type),r.push(f[0])}}}catch(y){t={error:y}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r}var types={number:"number",time:"time",log:"log",category:"category",groupedCategory:"groupedCategory"},CHART_AXES_TYPES={has:function(l){return Object.prototype.hasOwnProperty.call(types,l)},get axesTypes(){return Object.keys(types)}},__assign$n=function(){return __assign$n=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$n.apply(this,arguments)},__values$9=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$p=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$d=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$p(arguments[t]));return l};function optionsType(l){var t,e,r,o;return null!==(o=null!==(t=l.type)&&void 0!==t?t:null===(r=null===(e=l.series)||void 0===e?void 0:e[0])||void 0===r?void 0:r.type)&&void 0!==o?o:"line"}function isAgCartesianChartOptions(l){var t=optionsType(l);return null==t||("cartesian"===t?(Logger.warnOnce("type '"+t+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isCartesian(t))}function isAgHierarchyChartOptions(l){var t=optionsType(l);return null!=t&&("hierarchy"===t?(Logger.warnOnce("type '"+t+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isHierarchy(t))}function isAgPolarChartOptions(l){var t=optionsType(l);return null!=t&&("polar"===t?(Logger.warnOnce("type '"+t+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isPolar(t))}function isSeriesOptionType(l){return null!=l&&CHART_TYPES.has(l)}function isAxisOptionType(l){return null!=l&&CHART_AXES_TYPES.has(l)}function countArrayElements(l){var t,e,r=0;try{for(var o=__values$9(l),s=o.next();!s.done;s=o.next()){var d=s.value;d instanceof Array&&(r+=countArrayElements(d)),null!=d&&r++}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r}function takeColours(l,t,e){for(var r=[],o=0;o<e;o++)r.push(t[(o+l.colourIndex)%t.length]);return r}var noDataCloneMergeOptions={avoidDeepClone:["data"]};function prepareOptions(l,t,e){var r,o,s,d,f,y,m,E,O=jsonMerge([t,l],noDataCloneMergeOptions);sanityCheckOptions(O);var D=O.type,P=optionsType(O),R=(null===(f=O.tooltip)||void 0===f?void 0:f.position)||{},x=function(Me){if(null!=Me&&!isSeriesOptionType(Me)&&!e?.[Me])throw new Error("AG Charts - unknown series type: "+Me+"; expected one of: "+CHART_TYPES.seriesTypes)};x(P);try{for(var L=__values$9(null!==(y=O.series)&&void 0!==y?y:[]),B=L.next();!B.done;B=L.next()){var U=B.value.type;null!=U&&x(U)}}catch(Me){r={error:Me}}finally{try{B&&!B.done&&(o=L.return)&&o.call(L)}finally{if(r)throw r.error}}O=__assign$n(__assign$n({},O),{type:P});var Y="line";isAgCartesianChartOptions(O)?Y="line":isAgHierarchyChartOptions(O)?Y="treemap":isAgPolarChartOptions(O)&&(Y="pie");var ee={};e&&Object.prototype.hasOwnProperty.call(e,P)?ee=e[P]:"bar"===P?ee=DEFAULT_BAR_CHART_OVERRIDES:"scatter"===P||"histogram"===P?ee=DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES:isAgCartesianChartOptions(O)&&(ee=DEFAULT_CARTESIAN_CHART_OVERRIDES);var Me,Re,oe=prepareMainOptions(ee,O),re=oe.context,ie=oe.mergedOptions,q=oe.axesThemes,se=oe.seriesThemes;if(ie.series=processSeriesOptions((ie.series||[]).map(function(Me){var Re=Y;Me.type?Re=Me.type:isSeriesOptionType(D)&&(Re=D);var Ne=mergeSeriesOptions(Me,Re,se,R);return"pie"===Re&&preparePieOptions(se.pie,Me,Ne),Ne})).map(function(Me){return prepareSeries(re,Me)}),isAgCartesianChartOptions(ie)){var ge=!0;try{for(var ve=__values$9(null!==(m=ie.axes)&&void 0!==m?m:[]),Ce=ve.next();!Ce.done;Ce=ve.next())void 0,(Re=isAxisOptionType(Me=Ce.value.type))||Logger.warnOnce("AG Charts - unknown axis type: "+Me+"; expected one of: "+CHART_AXES_TYPES.axesTypes+", ignoring."),Re||(ge=!1)}catch(Me){s={error:Me}}finally{try{Ce&&!Ce.done&&(d=ve.return)&&d.call(ve)}finally{if(s)throw s.error}}ie.axes=ge?null===(E=ie.axes)||void 0===E?void 0:E.map(function(Me){var Re=Me.type;return prepareAxis(Me,jsonMerge([q[Re],q[Re][Me.position||"unknown"]||{}]))}):ee.axes}return prepareEnabledOptions(O,ie),ie}function sanityCheckOptions(l){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(function(e){var r,o=__read$p(e,2),s=o[0],d=o[1];null!==(r=l.series)&&void 0!==r&&r.some(function(f){return null!=f[s]})&&Logger.warnOnce("property [series."+s+"] is deprecated, please use [series."+d+"] and multiple series instead.")})}function mergeSeriesOptions(l,t,e,r){var o,s=jsonMerge([__assign$n({},r),null===(o=l.tooltip)||void 0===o?void 0:o.position],noDataCloneMergeOptions);return jsonMerge([e[t]||{},__assign$n(__assign$n({},l),{type:t,tooltip:__assign$n(__assign$n({},l.tooltip),{position:s})})],noDataCloneMergeOptions)}function prepareMainOptions(l,t){var e=prepareTheme(t),s=e.axesThemes,d=e.seriesThemes;return{context:{colourIndex:0,palette:e.theme.palette},mergedOptions:jsonMerge([l,e.cleanedTheme,t],noDataCloneMergeOptions),axesThemes:s,seriesThemes:d}}function prepareTheme(l){var t=getChartTheme(l.theme),e=t.config[optionsType(l)||"cartesian"],r=Object.entries(t.config).reduce(function(o,s){var d=__read$p(s,2),f=d[0],y=d[1].series;return o[f]=y?.[f],o},{});return{theme:t,axesThemes:e.axes||{},seriesThemes:r,cleanedTheme:jsonMerge([e,{axes:DELETE,series:DELETE}])}}function prepareSeries(l,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var o=calculateSeriesPalette(l,t);return applySeriesTransform(jsonMerge(__spread$d(e,[o,t,{stacked:DELETE}]),noDataCloneMergeOptions))}function calculateSeriesPalette(l,t){var e={},r=l.palette,o=r.fills,s=r.strokes,f=countArrayElements(t.yKeys||[])||1;switch(t.type){case"pie":f=Math.max(o.length,s.length);case"area":case"bar":case"column":e.fills=takeColours(l,o,f),e.strokes=takeColours(l,s,f);break;case"histogram":e.fill=takeColours(l,o,1)[0],e.stroke=takeColours(l,s,1)[0];break;case"scatter":e.marker={stroke:takeColours(l,s,1)[0],fill:takeColours(l,o,1)[0]};break;case"line":e.stroke=takeColours(l,o,1)[0],e.marker={stroke:takeColours(l,s,1)[0],fill:takeColours(l,o,1)[0]}}return l.colourIndex+=f,e}function prepareAxis(l,t){var e={top:DELETE,bottom:DELETE,left:DELETE,right:DELETE};if(l.crossLines){Array.isArray(l.crossLines)||(Logger.warn("axis[].crossLines should be an array."),l.crossLines=[]);var r=t.crossLines;l.crossLines=l.crossLines.map(function(s){return jsonMerge([r,s])})}return jsonMerge([t,{crossLines:DELETE},l,e],noDataCloneMergeOptions)}function prepareEnabledOptions(l,t){jsonWalk(l,function(e,r,o){if(o){var s=o._enabledFromTheme;null!=s&&delete o._enabledFromTheme,"enabled"in o&&(s||null==r.enabled&&(o.enabled=!0))}},{skip:["data","theme"]},t),jsonWalk(t,function(e,r){null!=r._enabledFromTheme&&delete r._enabledFromTheme},{skip:["data","theme"]})}function preparePieOptions(l,t,e){e.innerLabels=Array.isArray(t.innerLabels)?t.innerLabels.map(function(r){return jsonMerge([l.innerLabels,r])}):DELETE}var horizontalCrosslineTranslationDirections={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},verticalCrossLineTranslationDirections={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},calculateLabelTranslation=function(l){var t,e=l.yDirection,r=l.padding,o=void 0===r?0:r,d=l.bbox,f=e?horizontalCrosslineTranslationDirections:verticalCrossLineTranslationDirections,y=null!==(t=f[l.position])&&void 0!==t?t:f.top;return{xTranslation:y.xTranslationDirection*(o+(e?d.width:d.height)/2),yTranslation:y.yTranslationDirection*(o+(e?d.height:d.width)/2)}},POSITION_TOP_COORDINATES=function(l){var e=l.xEnd,r=l.yStart,o=l.yEnd;return l.yDirection?{x:e/2,y:r}:{x:e,y:isNaN(o)?r:(r+o)/2}},POSITION_LEFT_COORDINATES=function(l){var r=l.xEnd,o=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xStart,y:isNaN(s)?o:(o+s)/2}:{x:r/2,y:o}},POSITION_RIGHT_COORDINATES=function(l){var e=l.xEnd,r=l.yStart,o=l.yEnd;return l.yDirection?{x:e,y:isNaN(o)?r:(r+o)/2}:{x:e/2,y:isNaN(o)?r:o}},POSITION_BOTTOM_COORDINATES=function(l){var e=l.xStart,o=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xEnd/2,y:isNaN(s)?o:s}:{x:e,y:isNaN(s)?o:(o+s)/2}},POSITION_INSIDE_COORDINATES=function(l){var e=l.yStart,r=l.yEnd;return{x:l.xEnd/2,y:isNaN(r)?e:(e+r)/2}},POSITION_TOP_LEFT_COORDINATES=function(l){var o=l.yStart;return l.yDirection?{x:l.xStart/2,y:o}:{x:l.xEnd,y:o}},POSITION_BOTTOM_LEFT_COORDINATES=function(l){var e=l.xStart,r=l.yStart,o=l.yEnd;return l.yDirection?{x:e,y:isNaN(o)?r:o}:{x:e,y:r}},POSITION_TOP_RIGHT_COORDINATES=function(l){var e=l.xEnd,r=l.yStart,o=l.yEnd;return l.yDirection?{x:e,y:r}:{x:e,y:isNaN(o)?r:o}},POSITION_BOTTOM_RIGHT_COORDINATES=function(l){var e=l.xStart,o=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xEnd,y:isNaN(s)?o:s}:{x:e,y:isNaN(s)?o:s}},labeldDirectionHandling={top:{c:POSITION_TOP_COORDINATES},bottom:{c:POSITION_BOTTOM_COORDINATES},left:{c:POSITION_LEFT_COORDINATES},right:{c:POSITION_RIGHT_COORDINATES},topLeft:{c:POSITION_TOP_LEFT_COORDINATES},topRight:{c:POSITION_TOP_RIGHT_COORDINATES},bottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},bottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES},inside:{c:POSITION_INSIDE_COORDINATES},insideLeft:{c:POSITION_LEFT_COORDINATES},insideRight:{c:POSITION_RIGHT_COORDINATES},insideTop:{c:POSITION_TOP_COORDINATES},insideBottom:{c:POSITION_BOTTOM_COORDINATES},insideTopLeft:{c:POSITION_TOP_LEFT_COORDINATES},insideBottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},insideTopRight:{c:POSITION_TOP_RIGHT_COORDINATES},insideBottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES}},__extends$1I=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$m=function(){return __assign$m=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$m.apply(this,arguments)},__decorate$1e=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Range=function(l){function t(){var e=l.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return __extends$1I(t,l),t.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){var r,o=e.ctx,d=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(o);var f=this,y=f.x1,m=f.y1,E=f.x2,O=f.y2;y=this.align(y),m=this.align(m),E=this.align(E),O=this.align(O);var D=this,P=D.fill,R=D.opacity;if(D.isRange&&P){var B=this.fillOpacity;o.fillStyle=P,o.globalAlpha=R*B,o.beginPath(),o.moveTo(y,m),o.lineTo(E,m),o.lineTo(E,O),o.lineTo(y,O),o.closePath(),o.fill()}var U=this,Y=U.stroke,ee=U.strokeWidth,oe=U.startLine,re=U.endLine;if((oe||re)&&Y&&ee){var q=this,se=q.strokeOpacity,ue=q.lineDash,ge=q.lineDashOffset,ve=q.lineCap,Ce=q.lineJoin;o.strokeStyle=Y,o.globalAlpha=R*se,o.lineWidth=ee,ue&&o.setLineDash(ue),ge&&(o.lineDashOffset=ge),ve&&(o.lineCap=ve),Ce&&(o.lineJoin=Ce),o.beginPath(),oe&&(o.moveTo(y,m),o.lineTo(E,m)),re&&(o.moveTo(E,O),o.lineTo(y,O)),o.stroke()}null===(r=this.fillShadow)||void 0===r||r.markClean(),l.prototype.render.call(this,e)}else d&&(d.nodesSkipped+=this.nodeCount.count)},t.className="Range",t.defaultStyles=__assign$m(__assign$m({},Shape.defaultStyles),{strokeWidth:1}),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"x1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"y1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"x2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"y2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"startLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"endLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"isRange",void 0),t}(Shape),__decorate$1d=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$o=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$c=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$o(arguments[t]));return l},CROSSLINE_LABEL_POSITIONS=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],OPT_CROSSLINE_LABEL_POSITION=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e){return CROSSLINE_LABEL_POSITIONS.includes(e)})},"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),OPT_CROSSLINE_TYPE=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e){return"range"===e||"line"===e})},"expecting a crossLine type keyword such as 'range' or 'line'"),CrossLineLabel=function(){function l(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return __decorate$1d([Validate(OPT_BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_STRING)],l.prototype,"text",void 0),__decorate$1d([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1d([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1d([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1d([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1d([Validate(NUMBER(0))],l.prototype,"padding",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),__decorate$1d([Validate(OPT_CROSSLINE_LABEL_POSITION)],l.prototype,"position",void 0),__decorate$1d([Validate(OPT_NUMBER(-360,360))],l.prototype,"rotation",void 0),__decorate$1d([Validate(OPT_BOOLEAN)],l.prototype,"parallel",void 0),l}(),CrossLine=function(){function l(){this.id=createId$1(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new CrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.group=new Group({name:""+this.id,layer:!0,zIndex:l.LINE_LAYER_ZINDEX}),this.crossLineRange=new Range,this.crossLineLabel=new Text,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var t=this,r=t.crossLineRange;t.group.append([r,t.crossLineLabel]),r.pointerEvents=PointerEvents.None}return l.prototype.update=function(t){if(this.enabled&&(this.group.visible=t,t)){if(!this.createNodeData())return void(this.group.visible=!1);this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)}},l.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},l.prototype.createNodeData=function(){var t,e,r,o,s,d=this,f=d.scale,E=d.direction,O=d.label.position,D=void 0===O?"top":O,P=d.clippedRange,R=d.strokeWidth,x=void 0===R?0:R;if(!f)return!1;var L=null!==(o=f.bandwidth)&&void 0!==o?o:0,B=function(De){return Math.max(Math.min.apply(Math,__spread$c(P)),Math.min(Math.max.apply(Math,__spread$c(P)),De))},U=__read$o([0,d.sideFlag*d.gridLength],2),Y=U[0],ee=U[1],oe=__read$o(this.getRange(),2),re=oe[0],ie=oe[1],q=__read$o([Number(f.convert(re,{strict:!1})),f.convert(ie,{strict:!1})+L],2),se=q[0],ue=q[1];se=B(se),ue=B(ue),re=(t=__read$o([Number(f.convert(re)),f.convert(ie)+L],2))[0],ie=t[1];var ge=!isNaN(se)&&!isNaN(ue)&&(re===se||ie===ue||se!==ue)&&Math.abs(ue-se)>0;if(ge&&se!==Math.min(se,ue)&&(se=(e=__read$o([Math.min(se,ue),Math.max(se,ue)],2))[0],ue=e[1],re=(r=__read$o([ie,re],2))[0],ie=r[1]),this.isRange=ge,this.startLine=!isNaN(re)&&x>0&&re===se,this.endLine=!isNaN(ie)&&x>0&&ie===ue,!ge&&!this.startLine&&!this.endLine)return!1;if(this.data=[se,ue],this.label.enabled){var Pe=(null!==(s=labeldDirectionHandling[D])&&void 0!==s?s:{}).c,Re=(void 0===Pe?POSITION_TOP_COORDINATES:Pe)({yDirection:E===ChartAxisDirection.Y,xStart:Y,xEnd:ee,yStart:se,yEnd:ue});this.labelPoint={x:Re.x,y:Re.y}}return!0},l.prototype.updateRangeNode=function(){var t,e=this,r=e.crossLineRange,o=e.sideFlag,s=e.gridLength,d=e.data,f=e.startLine,y=e.endLine,m=e.isRange,E=e.fill,O=e.fillOpacity,D=e.stroke,P=e.strokeWidth,R=e.lineDash;r.x1=0,r.x2=o*s,r.y1=d[0],r.y2=d[1],r.startLine=f,r.endLine=y,r.isRange=m,r.fill=E,r.fillOpacity=O??1,r.stroke=D,r.strokeWidth=P??1,r.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,r.lineDash=R},l.prototype.updateLabel=function(){var e=this.crossLineLabel,r=this.label;r.text&&(e.fontStyle=r.fontStyle,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.fontFamily=r.fontFamily,e.fill=r.color,e.text=r.text)},l.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,r=t.labelPoint,o=void 0===r?{}:r,s=o.x,d=void 0===s?void 0:s,f=o.y,y=void 0===f?void 0:f,m=t.label,D=m.position,P=void 0===D?"top":D,R=m.padding,x=void 0===R?0:R,L=t.direction;if(void 0!==d&&void 0!==y){var Y=calculateLabelRotation({rotation:m.rotation,parallel:m.parallel,regularFlipRotation:t.regularFlipRotation,parallelFlipRotation:t.parallelFlipRotation});e.rotation=Y.autoRotation+Y.labelRotation,e.textBaseline="middle",e.textAlign="center";var re=this.computeLabelBBox();if(re){var q=calculateLabelTranslation({yDirection:L===ChartAxisDirection.Y,padding:x,position:P,bbox:re}),ue=q.yTranslation;e.translationX=d+q.xTranslation,e.translationY=y+ue}}},l.prototype.getZIndex=function(t){return void 0===t&&(t=!1),t?l.RANGE_LAYER_ZINDEX:l.LINE_LAYER_ZINDEX},l.prototype.getRange=function(){var t,e=this,d=e.scale instanceof ContinuousScale,f=__read$o(e.range??[e.value,void 0],2),y=f[0],m=f[1];return!d&&void 0===m&&(m=y),y=(t=__read$o([checkDatum(y,d),checkDatum(m,d)],2))[0],m=t[1],d&&y===m&&(m=void 0),void 0===y&&void 0!==m&&(y=m,m=void 0),[y,m]},l.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},l.prototype.calculatePadding=function(t,e){var r,o,s,d,f,y,m=this;if(m.isRange||m.startLine||m.endLine){var P=this.computeLabelBBox(),R=P?.x,x=P?.y;if(null!=R&&null!=x){var L=null!==(r=P?.width)&&void 0!==r?r:0,B=null!==(o=P?.height)&&void 0!==o?o:0;if(!(L>e.width||B>e.height)){if(R+L>=e.x+e.width){var U=R+L-(e.x+e.width);t.right=(null!==(s=t.right)&&void 0!==s?s:0)>=U?t.right:U}else if(R<=e.x){var Y=e.x-R;t.left=(null!==(d=t.left)&&void 0!==d?d:0)>=Y?t.left:Y}if(x+B>=e.y+e.height){var ee=x+B-(e.y+e.height);t.bottom=(null!==(f=t.bottom)&&void 0!==f?f:0)>=ee?t.bottom:ee}else if(x<=e.y){var oe=e.y-x;t.top=(null!==(y=t.top)&&void 0!==y?y:0)>=oe?t.top:oe}}}}},l.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,l.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,l.className="CrossLine",__decorate$1d([Validate(OPT_BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_CROSSLINE_TYPE)],l.prototype,"type",void 0),__decorate$1d([Validate(OPT_ARRAY(2))],l.prototype,"range",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],l.prototype,"stroke",void 0),__decorate$1d([Validate(OPT_NUMBER())],l.prototype,"strokeWidth",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],l.prototype,"strokeOpacity",void 0),__decorate$1d([Validate(OPT_LINE_DASH)],l.prototype,"lineDash",void 0),l}(),__extends$1H=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1c=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Image=function(l){function t(e){var r=l.call(this)||this;return r.x=0,r.y=0,r.width=0,r.height=0,r.opacity=1,r.sourceImage=e,r}return __extends$1H(t,l),t.prototype.render=function(e){var r=e.ctx,s=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(r);var d=this.sourceImage;r.globalAlpha=this.opacity,r.drawImage(d,0,0,d.width,d.height,this.x,this.y,this.width,this.height),l.prototype.render.call(this,e)}else s&&s.nodesSkipped++},__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"x",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"y",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"width",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"height",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"opacity",void 0),t}(Node),BackgroundImage=function(){function l(){var t=this;this._image=document.createElement("img"),this.loadedSynchronously=!0,this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,this.opacity=1,this.containerWidth=0,this.containerHeight=0,this.onload=void 0,this.onImageLoad=function(){t.loadedSynchronously||(t.node.visible=!1,t.performLayout(t.containerWidth,t.containerHeight),t.onload&&t.onload())},this.node=new Image(this._image),this._image.onload=this.onImageLoad}return Object.defineProperty(l.prototype,"url",{get:function(){return this._image.src},set:function(t){this._image.src=t,this.loadedSynchronously=this.complete},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"complete",{get:function(){return this._image.width>0&&this._image.height>0},enumerable:!1,configurable:!0}),l.prototype.performLayout=function(t,e){if(this.containerWidth=t,this.containerHeight=e,this.complete){var r=this.calculatePosition(this._image.width,this._image.height);Object.assign(this.node,r),this.node.visible=!0,this.node.opacity=this.opacity}else this.node.visible=!1},l.prototype.calculatePosition=function(t,e){var r=this.left,o=this.right,s=this.width,d=this.top,f=this.bottom,y=this.height;return null!=r?null!=o?s=this.containerWidth-r-o:null!=s&&(o=this.containerWidth-r+s):null!=o&&null!=s&&(r=this.containerWidth-o-s),null!=d?null!=f?y=this.containerHeight-f-d:null!=y&&(f=this.containerHeight-d-y):null!=f&&null!=y&&(d=this.containerHeight-f-y),null==s?null==y?(s=t,y=e):s=Math.ceil(t*y/e):null==y&&(y=Math.ceil(e*s/t)),null==r&&(r=null==o?Math.floor((this.containerWidth-s)/2):this.containerWidth-o-s),null==d&&(d=null==f?Math.floor((this.containerHeight-y)/2):this.containerHeight-y-f),{x:r,y:d,width:s,height:y}},l}(),__assign$l=function(){return __assign$l=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$l.apply(this,arguments)},__awaiter=function(l,t,e,r){return new(e||(e=Promise))(function(s,d){function f(E){try{m(r.next(E))}catch(O){d(O)}}function y(E){try{m(r.throw(E))}catch(O){d(O)}}function m(E){E.done?s(E.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(E.value).then(f,y)}m((r=r.apply(l,t||[])).next())})},__generator=function(l,t){var r,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(E){return function y(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(E){m=[6,E],o=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,E])}}},__read$n=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$b=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$n(arguments[t]));return l},__values$8=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function chartType(l){if(isAgCartesianChartOptions(l))return"cartesian";if(isAgPolarChartOptions(l))return"polar";if(isAgHierarchyChartOptions(l))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+l.type)}var AgChart=function(){function l(){}return l.create=function(t){return AgChartInternal.createOrUpdate(t)},l.update=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");AgChartInternal.createOrUpdate(e,t)},l.updateDelta=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.updateUserDelta(t,e)},l.download=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.download(t,e)},l.getImageDataURL=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.getImageDataURL(t,e)},l}(),AgChartInstanceProxy=function(){function l(t){this.chart=t}return l.isInstance=function(t){var e,r;if(t instanceof l||"AgChartInstanceProxy"===(null===(e=t.constructor)||void 0===e?void 0:e.name)&&null!=t.chart)return!0;var o=Object.keys(null===(r=t.constructor)||void 0===r?void 0:r.prototype);return!(!Object.keys(l.prototype).every(function(d){return o.includes(d)})||null==t.chart)},l.prototype.getOptions=function(){return this.chart.getOptions()},l.prototype.destroy=function(){this.chart.destroy()},l}(),AgChartInternal=function(){function l(){}return l.createOrUpdate=function(t,e){var r=this;debug(">>> createOrUpdate() user options",t);var o={};!0===l.DEBUG()&&(o.debug=!0);var s=t.overrideDevicePixelRatio;delete t.overrideDevicePixelRatio,initialiseSeriesModules();var d=prepareOptions(t,o,seriesDefaults),f=e?.chart;(null==f||chartType(t)!==chartType(f.processedOptions))&&(f=l.createChartInstance(d,s,f)),null==e?e=new AgChartInstanceProxy(f):e.chart=f;var y=f;y.queuedUserOptions.push(t);var m=function(){var E=y.queuedUserOptions.indexOf(t);y.queuedUserOptions.splice(0,E)};return y.requestFactoryUpdate(function(){return __awaiter(r,void 0,void 0,function(){var E;return __generator(this,function(O){switch(O.label){case 0:return y.destroyed?[2]:null==(E=jsonDiff(y.processedOptions,d))?(m(),[2]):[4,l.updateDelta(y,E,t)];case 1:return O.sent(),m(),[2]}})})}),e},l.updateUserDelta=function(t,e){var r,s=t.chart.queuedUserOptions,d=null!==(r=s[s.length-1])&&void 0!==r?r:t.chart.userOptions,f=jsonMerge([d,e]);debug(">>> updateUserDelta() user delta",e),debug("base options",d),l.createOrUpdate(f,t)},l.download=function(t,e){__awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(f){switch(f.label){case 0:return[4,l.prepareResizedChart(t,e)];case 1:return(s=f.sent()).chart.scene.download(e?.fileName,e?.fileFormat),s!==t&&s.destroy(),[2]}})})},l.getImageDataURL=function(t,e){return __awaiter(this,void 0,void 0,function(){var r,s;return __generator(this,function(d){switch(d.label){case 0:return[4,l.prepareResizedChart(t,e)];case 1:return r=d.sent(),s=r.chart.scene.canvas.getDataURL(e?.fileFormat),r!==t&&r.destroy(),[2,s]}})})},l.prepareResizedChart=function(t,e){return __awaiter(this,void 0,void 0,function(){var r,o,s,d,f,y,E,O;return __generator(this,function(D){switch(D.label){case 0:return d=(o=e||{}).height,f=(r=t.chart).width,y=r.height,void 0===(s=o.width)&&void 0===d||1===r.scene.canvas.pixelRatio&&f===s&&y===d?[2,t]:(s=s??f,d=d??y,E=__assign$l(__assign$l({},r.userOptions),{container:document.createElement("div"),width:s,height:d,autoSize:!1,overrideDevicePixelRatio:1}),[4,(O=l.createOrUpdate(E)).chart.waitForUpdate()]);case 1:return D.sent(),[2,O]}})})},l.createChartInstance=function(t,e,r){var o=r?.destroy({keepTransferableResources:!0});if(isAgCartesianChartOptions(t))return new CartesianChart(document,e,o);if(isAgHierarchyChartOptions(t))return new HierarchyChart(document,e,o);if(isAgPolarChartOptions(t))return new PolarChart(document,e,o);throw new Error("AG Charts - couldn't apply configuration, check type of options: "+t.type)},l.updateDelta=function(t,e,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return null==e.type&&(e=__assign$l(__assign$l({},e),{type:t.processedOptions.type||optionsType(e)})),[4,t.awaitUpdateCompletion()];case 1:return o.sent(),t.destroyed||(debug("applying delta",e),applyChartOptions(t,e,r)),[2]}})})},l.DEBUG=function(){var t;return null!==(t=windowValue("agChartsDebug"))&&void 0!==t&&t},l}();function debug(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];[!0,"opts"].includes(AgChartInternal.DEBUG())&&Logger.debug.apply(Logger,__spread$b([l],t))}function applyChartOptions(l,t,e){var r,o,s,d,f=jsonMerge([null!==(r=l.processedOptions)&&void 0!==r?r:{},t],noDataCloneMergeOptions),y=applyModules(l,f),m=["type","data","series","autoSize","listeners","theme","legend.listeners"];if(isAgCartesianChartOptions(t))m.push("axes");else if(!isAgPolarChartOptions(t)&&!isAgHierarchyChartOptions(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);t.listeners&&registerListeners(l,t.listeners),applyOptionValues(l,t,{skip:m});var E=!1;t.series&&t.series.length>0&&(applySeries(l,t),E=!0),isAgCartesianChartOptions(t)&&t.axes&&applyAxes(l,t)&&(E=!0);var D=t.series,P=!!t.data||D?.some(function(B){return null!=B.data});E=E||P||!!(t.legend||t.title||t.subtitle),t.data&&(l.data=t.data),null!=t.autoSize&&(l.autoSize=t.autoSize),!(null===(o=t.legend)||void 0===o)&&o.listeners&&Object.assign(l.legend.listeners,null!==(s=t.legend.listeners)&&void 0!==s?s:{}),t.listeners&&l.updateAllSeriesListeners(),l.processedOptions=f,l.userOptions=jsonMerge([null!==(d=l.userOptions)&&void 0!==d?d:{},e],noDataCloneMergeOptions);var L=E||y?ChartUpdateType.PROCESS_DATA:ChartUpdateType.PERFORM_LAYOUT;debug("chart update type",{updateType:ChartUpdateType[L]}),l.update(L,{forceNodeDataRefresh:E})}function applyModules(l,t){var e,r,D,s=!1,d=REGISTERED_MODULES.filter(function(D){return"root"===D.type});try{for(var f=__values$8(d),y=f.next();!y.done;y=f.next()){var m=y.value,E=(D=m,(l instanceof CartesianChart&&D.chartTypes.includes("cartesian")||l instanceof PolarChart&&D.chartTypes.includes("polar")||l instanceof HierarchyChart&&D.chartTypes.includes("hierarchy"))&&null!=t[m.optionsKey]);E!==l.isModuleEnabled(m)&&(s=!0,E?l.addModule(m):l.removeModule(m))}}catch(D){e={error:D}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return s}function applySeries(l,t){var e=t.series;if(e){if(l.series.length===e.length&&l.series.every(function(o,s){var d;return o.type===(null===(d=e[s])||void 0===d?void 0:d.type)}))return void l.series.forEach(function(o,s){var d,f,m=jsonDiff((null===(f=null===(d=l.processedOptions)||void 0===d?void 0:d.series)||void 0===f?void 0:f[s])||{},e[s]||{});m&&(debug("applying series diff idx "+s,m),applySeriesValues(o,m,{path:"series["+s+"]",index:s}),o.markNodeDataDirty())});l.series=createSeries(e)}}function applyAxes(l,t){var e=t.axes;if(!e)return!1;if(l.axes.length===e.length&&l.axes.every(function(s,d){return s.type===e[d].type})){var o=l.processedOptions;if(isAgCartesianChartOptions(o))return l.axes.forEach(function(s,d){var f,m=jsonDiff((null===(f=o.axes)||void 0===f?void 0:f[d])||{},e[d]);debug("applying axis diff idx "+d,m),applyOptionValues(s,m,{path:"axes["+d+"]",skip:["axes[].type"]})}),!0}return l.axes=createAxis(l,e),!0}function createSeries(l){var t,e,r=[],o=0;try{for(var s=__values$8(l||[]),d=s.next();!d.done;d=s.next()){var f=d.value,y="series["+o+++"]",m=getSeries(f.type);applySeriesValues(m,f,{path:y,index:o}),r.push(m)}}catch(E){t={error:E}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r}function createAxis(l,t){var e,r,o=[],s=["axes[].type"],d=l.getModuleContext(),f=0;try{for(var y=__values$8(t||[]),m=y.next();!m.done;m=y.next()){var E=m.value,O=void 0;switch(E.type){case"number":O=new NumberAxis(d);break;case LogAxis.type:O=new LogAxis(d);break;case CategoryAxis.type:O=new CategoryAxis(d);break;case GroupedCategoryAxis.type:O=new GroupedCategoryAxis(d);break;case TimeAxis.type:O=new TimeAxis(d);break;default:throw new Error("AG Charts - unknown axis type: "+E.type)}var D="axes["+f+++"]";applyAxisModules(O,E),applyOptionValues(O,E,{path:D,skip:s}),o.push(O)}}catch(P){e={error:P}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}return o}function applyAxisModules(l,t){var e,r,o=!1,s=REGISTERED_MODULES.filter(function(O){return"axis"===O.type});try{for(var d=__values$8(s),f=d.next();!f.done;f=d.next()){var y=f.value,m=null!=t[y.optionsKey];m!==l.isModuleEnabled(y)&&(o=!0,m?l.addModule(y):l.removeModule(y))}}catch(O){e={error:O}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}return o}function registerListeners(l,t){for(var e in l.clearEventListeners(),t){var r=t[e];"function"==typeof r&&l.addEventListener(e,r)}}var JSON_APPLY_OPTIONS={constructors:{title:Caption,subtitle:Caption,footnote:Caption,shadow:DropShadow,innerCircle:DoughnutInnerCircle,"axes[].crossLines[]":CrossLine,"series[].innerLabels[]":DoughnutInnerLabel,"background.image":BackgroundImage},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function applyOptionValues(l,t,e){var r=void 0===e?{}:e,o=r.skip,s=r.path;return jsonApply(l,t,__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),{skip:o}),s?{path:s}:{}))}function applySeriesValues(l,t,e){var r=void 0===e?{}:e,o=r.path,s=r.index,f=JSON_APPLY_OPTIONS?.constructors||{},y={constructors:__assign$l(__assign$l({},f),{title:"pie"===l.type?PieTitle:f.title})},E=jsonApply(l,t,__assign$l(__assign$l(__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),y),{skip:__spread$b(["series[].type"],["series[].listeners"]||[])}),o?{path:o}:{}),{idx:s??-1})),O=t?.listeners;return null!=O&&registerListeners(l,O),E}var VERSION$b="7.3.0",__read$m=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},themes=Object.entries(themes$1).reduce(function(l,t){var e=__read$m(t,2);return l[e[0]]=(0,e[1])(),l},{}),__extends$1G=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1b=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartDatasource=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1G(t,l),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsService.isRowModelType("serverSide")&&e.pivoting&&this.updatePivotKeysForSSRM();var o=this.extractRowsFromGridRowModel(e);return o.chartData=this.aggregateRowsByDimension(e,o.chartData),o},t.prototype.extractRowsFromGridRowModel=function(e){var E,r=this,o=[],s={},d={},f={},y={},m=[];if(e.crossFiltering)y=this.getFilteredRowNodes(),E=(m=this.getAllRowNodes()).length;else{var O=this.gridRowModel.getRowCount()-1;E=(e.endRow>=0?Math.min(e.endRow,O):O)-e.startRow+1}for(var P=function(U){var Y={},ee=e.crossFiltering?m[U]:R.gridRowModel.getRow(U+e.startRow);e.dimensionCols.forEach(function(oe){var re=oe.colId,ie=r.columnModel.getGridColumn(re);if(ie){var q=r.valueService.getValue(ie,ee);if(e.grouping){var se=q&&q.toString?String(q.toString()):"",ue=t.getGroupLabels(ee,se);Y[re]={labels:ue,toString:function(){return this.labels.filter(function(ve){return!!ve}).reverse().join(" - ")}},ee.group&&(d[ue.toString()]=U);var ge=ue.slice(1,ue.length).toString();ge&&(f[ge]=d[ge])}else Y[re]=q}else Y[ChartDataModel.DEFAULT_CATEGORY]=U+1}),e.valueCols.forEach(function(oe){var re=[],ie=oe.getColDef().pivotKeys;ie&&(re=ie.slice());var q=oe.getColDef().headerName;q&&re.push(q),re.length>0&&(s[oe.getId()]=re);var se=oe.getColId();if(e.crossFiltering){var ue=se+"-filtered-out",ve=null!=(ge=r.valueService.getValue(oe,ee))&&"function"==typeof ge.toNumber?ge.toNumber():ge;y[ee.id]?(Y[se]=ve,Y[ue]=e.aggFunc||e.isScatter?void 0:0):(Y[se]=e.aggFunc||e.isScatter?void 0:0,Y[ue]=ve)}else{var ge;(ge=r.valueService.getValue(oe,ee))&&ge.hasOwnProperty("toString")&&(ge=parseFloat(ge.toString())),Y[se]=null!=ge&&"function"==typeof ge.toNumber?ge.toNumber():ge}}),ee.footer&&(Y.footer=!0),o.push(Y)},R=this,x=0;x<E;x++)P(x);if(e.grouping){var L=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(f);o=o.filter(function(U,Y){return!U.footer&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(L,Y)})}return{chartData:o,columnNames:s}},t.prototype.aggregateRowsByDimension=function(e,r){var o=this,s=e.dimensionCols;if(!e.aggFunc||0===s.length)return r;var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s),f=d&&d.colId,y={},m=[];return r.forEach(function(E){var O=y;s.forEach(function(D){var P=D.colId,R=E[P];if(P===f){var x=O[R];x||(x={__children:[]},s.forEach(function(L){var B=L.colId;x[B]=E[B]}),O[R]=x,m.push(x)),x.__children.push(E)}else O[R]||(O[R]={}),O=O[R]})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&m.forEach(function(E){return e.valueCols.forEach(function(O){if(e.crossFiltering)e.valueCols.forEach(function(R){var x=R.getColId(),L=E.__children.filter(function(oe){return typeof oe[x]<"u"}).map(function(oe){return oe[x]}),B=o.aggregationStage.aggregateValues(L,e.aggFunc);E[R.getId()]=B&&typeof B.value<"u"?B.value:B;var U=x+"-filtered-out",Y=E.__children.filter(function(oe){return typeof oe[U]<"u"}).map(function(oe){return oe[U]}),ee=o.aggregationStage.aggregateValues(Y,e.aggFunc);E[U]=ee&&typeof ee.value<"u"?ee.value:ee});else{var D=E.__children.map(function(R){return R[O.getId()]}),P=0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&(P=o.aggregationStage.aggregateValues(D,e.aggFunc)),E[O.getId()]=P&&typeof P.value<"u"?P.value:P}})}),m},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var r=this.extractPivotKeySeparator(e);e.forEach(function(o){if(""===r)o.getColDef().pivotKeys=[];else{var s=o.getColId().split(r);o.getColDef().pivotKeys=s.slice(0,s.length-1)}})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var r=function(s,d){var f=s.getGroupId();return s.getParent()?r(s.getParent(),f):d.split(f)[1][0]},o=e[0];return null==o.getParent()?"":r(o.getParent(),o.getColId())},t.getGroupLabels=function(e,r){for(var o=[r];e&&0!==e.level;)(e=e.parent)&&o.push(e.key);return o},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r){e[r.id]=r}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(r){e.push(r)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var r=this.sortController.getSortOptions();return r&&0!=r.length?this.rowNodeSorter.doFullSort(e,r):e},__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"gridRowModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1F=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$1a=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$l=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$a=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$l(arguments[t]));return l},ChartDataModel=function(l){function t(e){var r=l.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.grouping=!1,r.crossFiltering=!1,r.suppressComboChartWarnings=!1,r.chartId=e.chartId,r.chartType=e.chartType,r.pivotChart=e.pivotChart,r.chartThemeName=e.chartThemeName,r.aggFunc=e.aggFunc,r.referenceCellRange=e.cellRange,r.suppliedCellRange=e.cellRange,r.suppressChartRanges=e.suppressChartRanges,r.unlinked=!!e.unlinkChart,r.crossFiltering=!!e.crossFiltering,r.seriesChartTypes=e.seriesChartTypes||[],r.initComboCharts(e),r}return __extends$1F(t,l),t.prototype.initComboCharts=function(e){("customCombo"===e.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new ChartDatasource),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var r=this.getAllChartColumns(),o=r.dimensionCols,s=r.valueCols,d=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(o,d,e),this.setValueCellRange(s,d,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){if(this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var r=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!r&&e.secondaryAxis,e}),"customCombo"===this.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(d){return t.SUPPORTED_COMBO_CHART_TYPES.includes(d.chartType)||(console.warn("AG Grid: invalid chartType '"+d.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),d.chartType="line"),d});var s=this.valueColState.map(function(d){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(y){return y.colId===d.colId})||(d.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+d.colId+"', defaulting to 'line'."),{colId:d.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=s,this.savedCustomSeriesChartTypes=s,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",r="columnLineCombo"===this.chartType?"line":"groupedColumn",o=this.valueColState.filter(function(d){return d.selected}),s=Math.ceil(o.length/2);this.seriesChartTypes=o.map(function(d,f){return{colId:d.colId,chartType:f>=s?r:e,secondaryAxis:!1}})},t.prototype.updateData=function(){var e=this.getRowIndexes(),r=e.startRow,o=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var s={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:r,endRow:o,isScatter:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.chartType)},d=this.datasource.getData(s),y=d.columnNames;this.chartData=d.chartData,this.columnNames=y},t.prototype.isGrouping=function(){var e=this.gridOptionsService.isTreeData(),r=e?null:this.columnModel.getRowGroupColumns(),o=e||r&&r.length>0,s=this.getSelectedDimension().colId,f=this.columnModel.getGroupDisplayColumns().map(function(y){return y.getColId()}).some(function(y){return y===s});return!!o&&f},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.getChartDataType=function(e){var r=this.columnModel.getPrimaryColumn(e);return r?r.getColDef().chartDataType:void 0},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:r,startColumn:e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION?r[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,__spread$a(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,__spread$a(this.valueCellRange.columns)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,r=0,o=this.rangeService,s=this.valueCellRange;if(o&&s){e=o.getRangeStartRow(s).rowIndex;var d=o.getRangeEndRow(s);r="bottom"===d.rowPinned?-1:d.rowIndex}return{startRow:e,endRow:r}},t.prototype.getAllChartColumns=function(){var e=this,r=this.columnModel.getAllDisplayedColumns(),o=new Set,s=new Set;return r.forEach(function(d){var f=d.getColDef(),y=f.chartDataType;if(y)switch(y){case"category":case"time":return void o.add(d);case"series":return void s.add(d);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+y+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==f.colId?d.isPrimary()?(e.isNumberCol(d)?s:o).add(d):s.add(d):o.add(d)}),{dimensionCols:o,valueCols:s}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var r=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!r)return!1;var o=this.valueService.getValue(e,r);return null==o&&(o=this.extractLeafData(r,e)),null!=o&&"function"==typeof o.toNumber&&(o=o.toNumber()),"number"==typeof o},t.prototype.extractLeafData=function(e,r){if(!e.allLeafChildren)return null;for(var o=0;o<e.allLeafChildren.length;o++){var d=this.valueService.getValue(r,e.allLeafChildren[o]);if(null!=d)return d}return null},t.prototype.resetColumnState=function(){var e=this,r=this.getAllChartColumns(),o=r.dimensionCols,s=r.valueCols,d=this.getAllColumnsFromRanges(),f=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var y=!1,m=1,E=this.suppliedCellRange.columns[0];o.forEach(function(P){var R="ag-Grid-AutoColumn"===P.getColId(),x=!1;e.crossFiltering&&e.aggFunc?E.getColId()===P.getColId()&&(x=!0):x=!!R||!y&&d.has(P),e.dimensionColState.push({column:P,colId:P.getColId(),displayName:e.getColDisplayName(P),selected:x,order:m++}),x&&(y=!0)});var O={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!y,order:0};this.dimensionColState.unshift(O);var D=this.referenceCellRange.columns.filter(function(P){return s.has(P)});s.forEach(function(P){f&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.referenceCellRange.columns,P)&&(P=D.shift()),e.valueColState.push({column:P,colId:P.getColId(),displayName:e.getColDisplayName(P),selected:d.has(P),order:m++})})},t.prototype.updateColumnState=function(e){var r=function(m){return m.colId===e.colId},s=this.dimensionColState,d=this.valueColState;s.filter(r).length>0?s.forEach(function(m){return m.selected=r(m)}):d.filter(r).forEach(function(m){return m.selected=e.selected});var f=__spread$a(s,d),y=[];f.forEach(function(m,E){E===e.order&&y.push(e.colId),m.colId!==e.colId&&y.push(m.colId)}),f.forEach(function(m){var E=y.indexOf(m.colId);m.order=E>=0?y.indexOf(m.colId):f.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(r,o){return r.order-o.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,o){var s=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var d=o;if(this.crossFiltering&&this.aggFunc){var f=this.suppliedCellRange.columns[0];d=this.dimensionColState.filter(function(y){return y.colId===f.getColId()})[0]}else(!d||!e.has(d.column))&&(d=this.dimensionColState.filter(function(y){return y.selected})[0]);d&&d.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,d.column))}else e.forEach(function(y){s.dimensionCellRange||!r.has(y)||(s.dimensionCellRange=s.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,y))})},t.prototype.setValueCellRange=function(e,r,o){this.valueCellRange=void 0;var s=[];if(e.forEach(function(f){o&&o.colId===f.getColId()?o.selected&&s.push(o.column):r.has(f)&&s.push(f)}),s.length>0){var d=[];this.valueColState.length>0?d=this.valueColState.map(function(f){return f.colId}):r.forEach(function(f){return d.push(f.getColId())}),s.sort(function(f,y){return d.indexOf(f.getColId())-d.indexOf(y.getColId())}),this.valueCellRange=this.createCellRange.apply(this,__spread$a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE],s))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],t.prototype,"rangeService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$1a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VALID_SERIES_TYPES=["area","bar","column","histogram","line","pie","scatter"];function getSeriesType(l){switch(l){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var ALL_AXIS_TYPES=["number","category","groupedCategory","log","time"];function getLegacyAxisType(l){switch(l){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","groupedCategory"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["groupedCategory","number"];case"scatter":case"bubble":return["number","number"];default:return}}var __assign$k=function(){return __assign$k=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$k.apply(this,arguments)};function createAgChartTheme(l,t){var e,Y,r=l.chartOptionsToRestore,o=l.chartPaletteToRestore,s=l.chartThemeToRestore,d=getSelectedTheme(l),f=isStockTheme(d),y=f?{baseTheme:d}:null!==(e=lookupCustomChartTheme(l,d))&&void 0!==e?e:{},m=l.getGridOptionsChartThemeOverrides(),E=l.apiChartThemeOverrides,O=getSeriesType(l.chartType),P=l.crossFiltering?createCrossFilterThemeOverrides(t,l,"pie"===O?"polar":"cartesian"):void 0,R=__assign$k({},r??{}),B=[f?inbuiltStockThemeOverrides(l,(Y=function(ee){return!!ee&&Object.keys(ee).some(function(oe){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(ee[oe],"title.enabled",!1)})},Y(m)||Y(E))):void 0,P,m,E,R].filter(function(Y){return!!Y}).reduce(function(Y,ee){return{baseTheme:Y,overrides:ee}},y);return o&&d===s&&(isIdenticalPalette(o,getChartTheme(y).palette)||(B.palette=o)),B}function isIdenticalPalette(l,t){var e=function(r,o){return r.length===o.length&&r.every(function(s,d){return s===o[d]})};return e(l.fills,t.fills)&&e(l.strokes,t.strokes)}function isStockTheme(l){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(Object.keys(themes),l)}function createCrossFilterThemeOverrides(l,t,e){var r,o={listeners:{legendItemClick:function(d){l.getChart().series.forEach(function(y){y.toggleSeriesItem(d.itemId,d.enabled),y.toggleSeriesItem(d.itemId+"-filtered-out",d.enabled)})}}},s={};return"polar"===e&&(s.pie={tooltip:{renderer:function(d){var y=d.datum;return{title:d.angleName,content:y[d.calloutLabelKey]+": "+d.angleValue*y[d.radiusKey]}}}}),(r={})[e]={tooltip:{delay:500},legend:o,listeners:{click:function(d){return t.crossFilterCallback(d,!0)}},series:s},r}var STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES=ALL_AXIS_TYPES.reduce(function(l,t){var e;return __assign$k(__assign$k({},l),((e={})[t]={title:{_enabledFromTheme:!0}},e))},{});function inbuiltStockThemeOverrides(l,t){var e=l.getExtraPaddingDirections();return{common:{axes:STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES,padding:{top:!t&&e.includes("top")?40:20,right:e.includes("right")?30:20,bottom:e.includes("bottom")?40:20,left:e.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function getSelectedTheme(l){var t=l.getChartThemeName(),e=l.getChartThemes();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,t)||(t=e[0]),t}function lookupCustomChartTheme(l,t){var e=l.customChartThemes,r=e&&e[t];return r||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),r}var __extends$1E=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$19=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DEFAULT_THEMES=["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"],ChartController=function(l){function t(e){var r=l.call(this)||this;return r.model=e,r}return __extends$1E(t,l),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,function(r){r.id&&r.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartUpdateParams=function(){var r=this.getSelectedValueColState().map(function(d){return{colId:d.colId,displayName:d.displayName}}),o=this.getChartData(),s=this.getSelectedDimension();return{data:o,grouping:this.isGrouping(),category:{id:s.colId,name:s.displayName,chartDataType:this.model.getChartDataType(s.colId)},fields:r,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes()}},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",r=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:r}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES},t.prototype.getPalettes=function(){var e=this;return this.getThemes().map(function(o){return getChartTheme(isStockTheme(o)?o:e.chartProxy.lookupCustomChartTheme(o)).palette})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var r=this.model.columnNames[e.colId];return e.displayName=r?r.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ChartDataModel.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,o){var s=this.model.seriesChartTypes.find(function(y){return y.colId===e});if(s){var d="customCombo"!==this.model.chartType;d&&(this.model.chartType="customCombo");var f=s.chartType;null!=r&&(s.chartType=r),null!=o&&(s.secondaryAxis=o),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),d&&this.dispatchEvent({type:t.EVENT_CHART_TYPE_CHANGED}),f!==r&&this.dispatchEvent({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(r){return r.colId});return this.getSeriesChartTypes().filter(function(r){return e.includes(r.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[getSeriesType(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),r=e[0],o=r&&r.startRow||null,s=r&&r.endRow||null;return{rowStartIndex:o&&o.rowIndex,rowStartPinned:o&&o.rowPinned,rowEndIndex:s&&s.rowIndex,rowEndPinned:s&&s.rowPinned,columns:e.reduce(function(d,f){return d.concat(f.columns.map(function(y){return y.getId()}))},[])}},t.prototype.raiseChartModelUpdateEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_MODEL_UPDATE})},t.prototype.raiseChartUpdatedEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_UPDATED})},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),s={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(s)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",__decorate$19([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],t.prototype,"rangeService",void 0),__decorate$19([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1D=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$18=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$k=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$9=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$k(arguments[t]));return l},__values$7=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DefaultDataPanelDef={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},ChartDataPanel=function(l){function t(e,r){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=r,o.columnComps=new Map,o}return __extends$1D(t,l),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),l.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var r,o,e=this,s=this.chartType,d=this.chartController.getColStateForMenu(),f=d.dimensionCols,y=d.valueCols,m=f.map(function(P){return P.colId}).concat(y.map(function(P){return P.colId}));this.chartType=this.chartController.getChartType();var E=this.getGroupExpandedState();if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.keys(this.columnComps),m)&&this.chartType===s){if(__spread$9(f,y).forEach(function(P){e.columnComps.get(P.colId).setValue(P.selected,!0)}),this.chartController.isActiveXYChart()){var O=this.generateGetSeriesLabel();y.forEach(function(P){e.columnComps.get(P.colId).setLabel(O(P))})}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var D=null===(r=this.getDataPanelDef().groups)||void 0===r?void 0:r.reduce(function(P,R,x){return"seriesChartType"===R.type?x:P},-1);-1!==D&&this.createSeriesChartTypeGroup(y,D)}else this.clearComponents(),null===(o=this.getDataPanelDef().groups)||void 0===o||o.forEach(function(P){var R=P.type;"categories"===R?e.createCategoriesGroup(f):"series"===R?e.createSeriesGroup(y):"seriesChartType"===R?e.createSeriesChartTypeGroup(y):console.warn("AG Grid: invalid charts data panel group name supplied: '"+R+"'")});this.restoreGroupExpandedState(E)},t.prototype.getGroupExpandedState=function(){var e=this;return[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}].map(function(o){var s,d,f=o.groupType,y=o.comp,m=!(null===(d=null===(s=e.getDataPanelDef().groups)||void 0===s?void 0:s.find(function(E){return E.type===f}))||void 0===d||!d.isOpen);return y?y.isExpanded():m})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(r,o){r&&r.toggleGroupExpand(e[o])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.createComponent=function(e,r){var o=document.createElement("div");return o.id=r,o.className="ag-chart-data-section",o.appendChild(e.getGui()),o},t.prototype.addComponent=function(e,r,o){var s=this.createComponent(r,o);e.appendChild(s)},t.prototype.addComponentAtIndex=function(e,r,o,s){var d=this.createComponent(r,o);e.insertBefore(d,e.children[s])},t.prototype.addChangeListener=function(e,r){var o=this;this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){r.selected=e.getValue(),o.chartController.updateForPanelChange(r)})},t.prototype.createCategoriesGroup=function(e){var r=this;this.categoriesGroupComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o="chartDimension"+this.getCompId();e.forEach(function(s){var d=r.categoriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LQq);d.setLabel(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(s.displayName)),d.setValue(s.selected),d.setInputName(o),r.addChangeListener(d,s),r.categoriesGroupComp.addItem(d),r.columnComps.set(s.colId,d)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var r=this;if(this.seriesGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var o=this.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);o.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(m){r.chartOptionsService.setPairedMode(!!m),r.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(o)}var s=this.generateGetSeriesLabel();e.forEach(function(m){var E=r.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc);E.addCssClass("ag-data-select-checkbox");var O=s(m);E.setLabel(O),E.setValue(m.selected),r.addChangeListener(E,m),r.seriesGroupComp.addItem(E),r.columnComps.set(m.colId,E),r.addDragHandle(E,m)});var d=this.getGui(),f=this.seriesGroupComp.getGui();this.addComponent(d,this.seriesGroupComp,"seriesGroup");var y={getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_MOVE},getContainer:function(){return f},onDragging:function(m){return r.onDragging(m)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(y),this.addDestroyFunc(function(){return r.dragAndDropService.removeDropTarget(y)})},t.prototype.createSeriesChartTypeGroup=function(e,r){var o=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var s=this.chartController.getSeriesChartTypes();e.forEach(function(d){if(d.selected){var f=s.filter(function(P){return P.colId===d.colId})[0];if(f){var y=o.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:d.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),m=o.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(o.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(f.chartType)).setValue(!!f.secondaryAxis).onValueChange(function(P){return o.chartController.updateSeriesChartType(d.colId,void 0,P)});y.addItem(m);var E=function(P,R){return o.chartTranslationService.translate(P,R)},O=[{value:"line",text:E("line","Line")},{value:"area",text:E("area","Area")},{value:"stackedArea",text:E("stackedArea","StackedArea")},{value:"groupedColumn",text:E("groupedColumn","Grouped Column")},{value:"stackedColumn",text:E("stackedColumn","Stacked Column")}],D=y.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);D.setLabelAlignment("left").setLabelWidth("flex").addOptions(O).setValue(f.chartType).onValueChange(function(P){return o.chartController.updateSeriesChartType(d.colId,P)}),y.addItem(D),o.seriesChartTypeGroupComp.addItem(y)}}}),void 0===r?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",r)}},t.prototype.addDragHandle=function(e,r){var o=this,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService);s.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",s);var d={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel,eElement:s,dragItemName:r.displayName,getDragItem:function(){return{columns:[r.column]}},onDragStopped:function(){return o.onDragStop()}};this.dragAndDropService.addDragSource(d,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(d)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(d){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(d.displayName)};var e="bubble"===this.chartType,r=this.isInPairedMode(),o=0,s=new Map;return s.set(0,"X"),s.set(1,"Y"),s.set(2,"size"),function(d){var y,f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(d.displayName);return d.selected?(y=r?s.get(o%(e?3:2)):0===o?"X":e&&o%2==0?"size":"Y",o++,f+" ("+y+")"):f}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.getDataPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.dataPanel)||DefaultDataPanelDef},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var r=this.checkHoveredItem(e);if(r){this.lastDraggedColumn=e.dragItem.columns[0];var o=r.comp,s=r.position,d=this.lastHoveredItem||{};o===d.comp&&s===d.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:o,position:s},o.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+s))}},t.prototype.checkHoveredItem=function(e){var r,o;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.vDirection))return null;var s=e.event;try{for(var d=__values$7(this.columnComps.values()),f=d.next();!f.done;f=d.next()){var y=f.value,m=y.getGui();if(m.querySelector(".ag-chart-data-column-drag-handle")){var E=m.getBoundingClientRect();if(s.clientY>=E.top&&s.clientY<=E.bottom)return{comp:y,position:s.clientY>E.top+m.clientHeight/2?"bottom":"top"}}}}catch(R){r={error:R}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var r=this.chartController.getColStateForMenu(),d=__spread$9(r.dimensionCols,r.valueCols).find(function(y){return y.column===e.lastDraggedColumn});if(d){var f=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&f++,d.order=f,this.chartController.updateForPanelChange(d)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$18([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1C=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$17=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FontPanel=function(l){function t(e){var r=l.call(this)||this;return r.activeComps=[],r.params=e,r}return __extends$1C(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r){e.params.setEnabled&&e.params.setEnabled(r)})},t.prototype.initFontFamilySelect=function(){var e=this,r=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],o=this.params.initialFont.family,s=r[0];if(o){var f=r.map(function(E){return E.toLowerCase()}).indexOf(o.toLowerCase());if(f>=0)s=r[f];else{var y=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(o);r.push(y),s=y}}var m=r.sort().map(function(E){return{value:E,text:E}});this.familySelect.addOptions(m).setInputWidth("flex").setValue(""+s).onValueChange(function(E){return e.params.setFont({family:E})})},t.prototype.initFontSizeSelect=function(){var e=this,r=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],o=this.params.initialFont.size;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(r,o)||r.push(o);var s=r.sort(function(d,f){return d-f}).map(function(d){return{value:""+d,text:""+d}});this.sizeSelect.addOptions(s).setInputWidth("flex").setValue(""+o).onValueChange(function(d){return e.params.setFont({size:parseInt(d,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,r=this.params.initialFont,o=r.weight,s=void 0===o?"normal":o,d=r.style,f=void 0===d?"normal":d,y=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],m=y.find(function(O){return O.weight===s&&O.style===f});m||y.unshift(m={name:"predefined",weight:s,style:f});var E=y.map(function(O){return{value:O.name,text:e.chartTranslationService.translate(O.name)}});this.weightStyleSelect.addOptions(E).setInputWidth("flex").setValue(m.name).onValueChange(function(O){var D=y.find(function(P){return P.name===O});e.params.setFont({weight:D.weight,style:D.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(r){return e.params.setFont({color:r})})},t.prototype.addItemToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActiveComps(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("fontGroup")],t.prototype,"fontGroup",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("familySelect")],t.prototype,"familySelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sizeSelect")],t.prototype,"sizeSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$17([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1B=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$16=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},LegendPanel=function(l){function t(e){var r=e.chartOptionsService,o=e.isExpandedOnInit,s=void 0!==o&&o,d=l.call(this)||this;return d.activePanels=[],d.chartOptionsService=r,d.isExpandedOnInit=s,d}return __extends$1B(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r){e.chartOptionsService.setChartOption("legend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(["top","right","bottom","left"].map(function(o){return{value:o,text:e.chartTranslationService.translate(o)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.position",o)})},t.prototype.initLegendPadding=function(){var e=this,r=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(getMaxValue(r,200)).setValue(""+r).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.spacing",o)})},t.prototype.initLegendItems=function(){var e=this,r=function(o,s,d,f){var y=e.chartOptionsService.getChartOption("legend."+o);d.setLabel(e.chartTranslationService.translate(s)).setMaxValue(getMaxValue(y,f)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(m){e.chartOptionsService.setChartOption("legend."+o,m)})};r("item.marker.size","markerSize",this.markerSizeSlider,40),r("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),r("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),r("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),r("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,o={family:r.getChartOption("legend.item.label.fontFamily"),style:r.getChartOption("legend.item.label.fontStyle"),weight:r.getChartOption("legend.item.label.fontWeight"),size:r.getChartOption("legend.item.label.fontSize"),color:r.getChartOption("legend.item.label.color")},f=this.createBean(new FontPanel({enabled:!0,suppressEnabledCheckbox:!0,initialFont:o,setFont:function(y){var m=e.chartOptionsService;y.family&&m.setChartOption("legend.item.label.fontFamily",y.family),y.weight&&m.setChartOption("legend.item.label.fontWeight",y.weight),y.style&&m.setChartOption("legend.item.label.fontStyle",y.style),y.size&&m.setChartOption("legend.item.label.fontSize",y.size),y.color&&m.setChartOption("legend.item.label.color",y.color)}}));this.legendGroup.addItem(f),this.activePanels.push(f)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendGroup")],t.prototype,"legendGroup",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$16([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1A=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$15=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AxisTicksPanel=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return __extends$1A(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("tick.color",o)});var r=function(o,s,d,f){var y=e.chartOptionsService.getAxisProperty(o);s.setLabel(d).setMaxValue(getMaxValue(y,f)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(m){return e.chartOptionsService.setAxisProperty(o,m)})};r("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),r("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$15([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$14=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AgAngleSelect=function(l){function t(e){var r=l.call(this,e,t.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return __extends$1z(t,l),t.prototype.postConstruct=function(){var e=this;l.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(r){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(r){return e.calculateAngleDrag(r)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(r){(null==r||""===r)&&(r="0"),r=e.eAngleValue.normalizeValue(r);var o=parseFloat(r);o>180&&(o-=360),e.setValue(o)}),this.updateNumberInput(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){var r=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(r.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var r=this.parentCircleRect||{width:24,height:24},o=this.eChildCircle,d=r.height/2;o.style.left=r.width/2+8*Math.cos(e)+"px",o.style.top=d+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,r=this.offsetY,o=Math.atan2(r,e);this.degrees=this.toDegrees(o),this.radius=Math.sqrt(e*e+r*r),this.positionChildCircle(o)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),r=this.getRadius();this.setOffsetX(Math.cos(e)*r).setOffsetY(Math.sin(e)*r)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var r=this.parentCircleRect,E=Math.atan2(e.clientY-r.top-r.height/2,e.clientX-r.left-r.width/2);this.setValue(E,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){e(r.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,r){var o;return o=r?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(o),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(o),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setFixedWidth(this.getGui(),e),this},t.prototype.setDisabled=function(e){return l.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eParentCircle")],t.prototype,"eParentCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChildCircle")],t.prototype,"eChildCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eAngleValue")],t.prototype,"eAngleValue",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],t.prototype,"dragService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ZST),__extends$1y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$13=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AxisPanel=function(l){function t(e){var r=e.chartController,o=e.chartOptionsService,s=e.isExpandedOnInit,d=void 0!==s&&s,f=l.call(this)||this;return f.activePanels=[],f.axisLabelUpdateFuncs=[],f.prevXRotation=0,f.prevYRotation=0,f.chartController=r,f.chartOptionsService=o,f.isExpandedOnInit=d,f}return __extends$1y(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(s){return s()})})},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("line.color",o)});var r=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(getMaxValue(r,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue(""+r).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("line.width",o)})},t.prototype.initAxisTicks=function(){var e=this.createBean(new AxisTicksPanel(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},s={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:function(f){f.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",f.family),f.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",f.weight),f.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",f.style),f.size&&e.chartOptionsService.setAxisProperty("label.fontSize",f.size),f.color&&e.chartOptionsService.setAxisProperty("label.color",f.color)}},d=this.createBean(new FontPanel(s));this.axisGroup.addItem(d),this.activePanels.push(d),this.addAdditionalLabelComps(d)},t.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var r=this.createRotationWidgets(),o=r.xRotationComp,s=r.yRotationComp,d=this.initLabelRotations(o,s);e.addCompToPanel(d),e.addCompToPanel(o),e.addCompToPanel(s)},t.prototype.initLabelRotations=function(e,r){var O,D,o=this,s=function(O){return o.chartOptionsService.getLabelRotation(O)},d=function(O,D){o.chartOptionsService.setLabelRotation(O,D)},m=(O=s("xAxis"),D=s("yAxis"),null==O&&null==D&&o.chartOptionsService.getAxisProperty("label.autoRotate")),E=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(this.translate("autoRotate")).setValue(m).onValueChange(function(O){o.chartOptionsService.setAxisProperty("label.autoRotate",O),O?(o.prevXRotation=s("xAxis"),o.prevYRotation=s("yAxis"),d("xAxis",void 0),d("yAxis",void 0)):(d("xAxis",o.prevXRotation),d("yAxis",o.prevYRotation)),e.setDisabled(O),r.setDisabled(O)});return e.setDisabled(m),r.setDisabled(m),E},t.prototype.createRotationWidgets=function(){var e=this,r=String.fromCharCode(176),o=function(s,d){var f=e.chartTranslationService.translate(s)+" "+r,y=e.chartOptionsService.getLabelRotation(d),m=(new AgAngleSelect).setLabel(f).setLabelWidth("flex").setValue(y||0).onValueChange(function(E){return e.chartOptionsService.setLabelRotation(d,E)});return e.axisLabelUpdateFuncs.push(function(){var E=e.chartOptionsService.getLabelRotation(d);m.setValue(E||0)}),e.createBean(m)};return{xRotationComp:o("xRotation","xAxis"),yRotationComp:o("yRotation","yAxis")}},t.prototype.addLabelPadding=function(e){var r=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),s=this.chartOptionsService.getAxisProperty("label.padding");o.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(getMaxValue(s,30)).setValue(""+s).setTextFieldWidth(45).onValueChange(function(d){return r.chartOptionsService.setAxisProperty("label.padding",d)}),e.addCompToPanel(o)},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisGroup")],t.prototype,"axisGroup",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisColorInput")],t.prototype,"axisColorInput",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$13([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1x=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$12=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},NavigatorPanel=function(l){function t(e){var r=e.chartOptionsService,o=e.isExpandedOnInit,s=void 0!==o&&o,d=l.call(this)||this;return d.chartOptionsService=r,d.isExpandedOnInit=s,d}return __extends$1x(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,r=this.chartTranslationService;this.navigatorGroup.setTitle(r.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(s){e.chartOptionsService.setChartOption("navigator.enabled",s),e.navigatorGroup.toggleGroupExpand(!0)}).toggleGroupExpand(this.isExpandedOnInit);var o=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(getMaxValue(o,60)).setTextFieldWidth(45).setValue(""+(o||30)).onValueChange(function(s){return e.chartOptionsService.setChartOption("navigator.height",s)})},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorGroup")],t.prototype,"navigatorGroup",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$12([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1w=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$11=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PaddingPanel=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.chartController=r,o}return __extends$1w(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,function(o){e.updateTopPadding(o.chartOptions)}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,r=function(o,s){var d=e.chartOptionsService.getChartOption("padding."+o);s.setLabel(e.chartTranslationService.translate(o)).setMaxValue(getMaxValue(d,200)).setValue(""+d).setTextFieldWidth(45).onValueChange(function(f){return e.chartOptionsService.setChartOption("padding."+o,f)})};r("top",this.paddingTopSlider),r("right",this.paddingRightSlider),r("bottom",this.paddingBottomSlider),r("left",this.paddingLeftSlider)},t.prototype.updateTopPadding=function(e){var r,o,d=null===(o=null===(r=e[this.chartController.getChartSeriesTypes()[0]])||void 0===r?void 0:r.padding)||void 0===o?void 0:o.top;null!=d&&this.paddingTopSlider.setValue(d)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$11([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$10=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},BackgroundPanel=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return __extends$1v(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setChartOption("background.visible",r)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r){return e.chartOptionsService.setChartOption("background.fill",r)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartBackgroundGroup")],t.prototype,"group",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$10([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1u=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$$=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TitlePanel=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.chartOptionsService=e,r.activePanels=[],r}return __extends$1u(t,l),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,r=this.hasTitle(),o=function(y,m){y.family&&e.setOption("title.fontFamily",y.family,m),y.weight&&e.setOption("title.fontWeight",y.weight,m),y.style&&e.setOption("title.fontStyle",y.style,m),y.size&&e.setOption("title.fontSize",y.size,m),y.color&&e.setOption("title.color",y.color,m)},s={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};r||o(s,!0);var d={name:this.chartTranslationService.translate("title"),enabled:r,suppressEnabledCheckbox:!1,initialFont:s,setFont:o,setEnabled:function(y){if(e.toolbarExists()){var m=e.getOption("padding.top");e.setOption("padding.top",y?m-20:m+20)}e.setOption("title.enabled",y);var E=e.getOption("title.text"),O="Title"===E||0===E?.trim().length;y&&O&&e.setOption("title.text",e.titlePlaceholder)}},f=this.createBean(new FontPanel(d));f.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(f.getGui()),this.activePanels.push(f),this.addManagedListener(this.eventService,"chartTitleEdit",function(){f.setEnabled(e.hasTitle())})},t.prototype.createSpacingSlicer=function(){var e=this,r=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),o=this.chartOptionsService.getChartOption("title.spacing");return r.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(o,100)).setValue(""+o).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("title.spacing",s)}),r},t.prototype.toolbarExists=function(){var e=this.gridOptionsService.getCallback("getChartToolbarItems");if(!e)return!0;var r={defaultItems:["chartUnlink","chartDownload"]};return["chartLink","chartUnlink","chartDownload"].some(function(s){var d;return null===(d=e&&e(r))||void 0===d?void 0:d.includes(s)})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,r,o){this.chartOptionsService.setChartOption(e,r,o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1t=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$_=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartPanel=function(l){function t(e){var r=e.chartController,o=e.chartOptionsService,s=e.isExpandedOnInit,d=void 0!==s&&s,f=l.call(this)||this;return f.activePanels=[],f.chartController=r,f.chartOptionsService=o,f.isExpandedOnInit=d,f}return __extends$1t(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new TitlePanel(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new PaddingPanel(this.chartOptionsService,this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new BackgroundPanel(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartGroup")],t.prototype,"chartGroup",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$Z=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ShadowPanel=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return __extends$1s(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.enabled",o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.color",o,e.getSelectedSeries())});var r=function(o,s,d,f){var y=e.chartOptionsService.getSeriesOption("shadow."+s,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(s)).setMinValue(d).setMaxValue(getMaxValue(y,f)).setValue(""+y).onValueChange(function(m){return e.chartOptionsService.setSeriesOption("shadow."+s,m,e.getSelectedSeries())})};r(this.shadowBlurSlider,"blur",0,20),r(this.shadowXOffsetSlider,"xOffset",-10,10),r(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowGroup")],t.prototype,"shadowGroup",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function initFontPanelParams(l){var t=l.labelName,e=l.chartOptionsService,r=l.getSelectedSeries,o=l.seriesOptionLabelProperty,s=function(O){return o+"."+O},d=function(O){var D=s(O);return e.getSeriesOption(D,r())},f=function(O,D){var P=s(O);e.setSeriesOption(P,D,r())},y={family:d("fontFamily"),style:d("fontStyle"),weight:d("fontWeight"),size:d("fontSize"),color:d("color")};return{name:t,enabled:d("enabled")||!1,setEnabled:function(O){return f("enabled",O)},suppressEnabledCheckbox:!1,initialFont:y,setFont:function(O){O.family&&f("fontFamily",O.family),O.weight&&f("fontWeight",O.weight),O.style&&f("fontStyle",O.style),O.size&&f("fontSize",O.size),O.color&&f("color",O.color)}}}var __extends$1r=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$Y=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MarkersPanel=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return __extends$1r(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(f){return e.setSeriesOption("marker.shape",f)});var o=this.chartOptionsService.getChartType(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],o);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(s).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(f){return e.setSeriesOption("marker.enabled",f)});var d=function(f,y,m,E){var O=e.getSeriesOption(f);y.setLabel(e.chartTranslationService.translate(m)).setMaxValue(getMaxValue(O,E)).setValue(""+O).setTextFieldWidth(45).onValueChange(function(D){return e.setSeriesOption(f,D)})};"bubble"===o?(d("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),d("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),d("marker.size",this.seriesMarkerSizeSlider,"size",60)),d("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$X=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},CalloutPanel=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return __extends$1q(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var r=function(o,s,d,f){var y=e.chartOptionsService.getSeriesOption(o,e.getSelectedSeries());s.setLabel(e.chartTranslationService.translate(d)).setMaxValue(getMaxValue(y,f)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(m){return e.chartOptionsService.setSeriesOption(o,m,e.getSelectedSeries())})};r("calloutLine.length",this.calloutLengthSlider,"length",40),r("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),r("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutGroup")],t.prototype,"calloutGroup",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$W=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SeriesPanel=function(l){function t(e){var r=e.chartController,o=e.chartOptionsService,s=e.seriesType,d=e.isExpandedOnInit,f=void 0!==d&&d,y=l.call(this)||this;return y.activePanels=[],y.widgetFuncs={lineWidth:function(){return y.initLineWidth()},strokeWidth:function(){return y.initStrokeWidth()},lineDash:function(){return y.initLineDash()},lineOpacity:function(){return y.initLineOpacity()},fillOpacity:function(){return y.initFillOpacity()},markers:function(){return y.initMarkers()},labels:function(){return y.initLabels()},shadow:function(){return y.initShadow()},tooltips:function(){return y.initTooltips()},bins:function(){return y.initBins()}},y.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},y.chartController=r,y.chartOptionsService=o,y.seriesType=s||y.getChartSeriesType(),y.isExpandedOnInit=f,y}return __extends$1p(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){e.chartController.isComboChart()&&(e.updateSeriesType(),e.initSeriesSelect()),e.seriesWidgetMappings[e.seriesType].forEach(function(o){return e.widgetFuncs[o]()})})},t.prototype.initSeriesSelect=function(){var e=this,r=this.seriesGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(o){e.seriesType=o,e.refreshWidgets()}),this.seriesGroup.addItem(r),this.activePanels.push(r)},t.prototype.initTooltips=function(){var e=this,r=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(o){return e.setSeriesOption("tooltip.enabled",o)}),this.addWidget(r)},t.prototype.initStrokeWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("strokeWidth")).setMaxValue(getMaxValue(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("lineWidth")).setMaxValue(getMaxValue(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineDash=function(){var e=this,r=this.getSeriesOption("lineDash"),o=r?r[0]:0,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);s.setLabel(this.translate("lineDash")).setMaxValue(getMaxValue(o,30)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(d){return e.setSeriesOption("lineDash",[d])}),this.addWidget(s)},t.prototype.initLineOpacity=function(){var e=this,r=this.getSeriesOption("strokeOpacity"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(getMaxValue(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeOpacity",s)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var e=this,r=this.getSeriesOption("fillOpacity"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(getMaxValue(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("fillOpacity",s)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,r="pie"===this.seriesType?"calloutLabel":"label",s=initFontPanelParams({labelName:this.chartTranslationService.translate("pie"===this.seriesType?"calloutLabels":"labels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:r}),d=this.createBean(new FontPanel(s));if("pie"===this.seriesType){var f=this.createBean(new CalloutPanel(this.chartOptionsService,function(){return e.seriesType}));d.addCompToPanel(f),this.activePanels.push(f)}if(this.addWidget(d),"pie"===this.seriesType){var y=initFontPanelParams({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:"sectorLabel"}),m=this.createBean(new FontPanel(y)),E=this.getSectorLabelPositionRatio();m.addCompToPanel(E),this.addWidget(m)}},t.prototype.getSectorLabelPositionRatio=function(){var e=this,r="sectorLabel.positionRatio",o=this.chartOptionsService.getSeriesOption(r,this.seriesType);return this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_).setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(getMaxValue(o,1)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(d){return e.chartOptionsService.setSeriesOption(r,d,e.seriesType)})},t.prototype.initShadow=function(){var e=this,r=this.createBean(new ShadowPanel(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initMarkers=function(){var e=this,r=this.createBean(new MarkersPanel(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initBins=function(){var e=this,r=this.getSeriesOption("bins").length,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(getMaxValue(r,20)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("binCount",s)}),this.addWidget(o)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.seriesType)},t.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":getSeriesType(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var r=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(o){var s=getSeriesType(o.chartType);r.add(e.seriesSelectOptions.get(s))}),Array.from(r)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(o){return getSeriesType(o.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n            </ag-group-component>\n        </div>',__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesGroup")],t.prototype,"seriesGroup",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1o=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$V=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function getMaxValue(l,t){return Math.max(l,t)}var DefaultFormatPanelDef={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},FormatPanel=function(l){function t(e,r){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=r,o.panels=[],o.isGroupPanelShownInSeries=function(s,d){return!!["chart","legend","series"].includes(s)||!(!["axis","navigator"].includes(s)||!["bar","column","line","area","scatter","histogram","cartesian"].includes(d))},o}return __extends$1o(t,l),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var r,e=this,o=this.chartController.getChartType(),s=this.chartController.isGrouping(),d=getSeriesType(o);o===this.chartType&&s===this.isGrouping||(this.destroyPanels(),null===(r=this.getFormatPanelDef().groups)||void 0===r||r.forEach(function(f){var y=f.type;if(e.isGroupPanelShownInSeries(y,d)){var m={chartController:e.chartController,chartOptionsService:e.chartOptionsService,isExpandedOnInit:f.isOpen,seriesType:d};"chart"===y?e.addComponent(new ChartPanel(m)):"legend"===y?e.addComponent(new LegendPanel(m)):"axis"===y?e.addComponent(new AxisPanel(m)):"series"===y?e.addComponent(new SeriesPanel(m)):"navigator"===y?e.addComponent(new NavigatorPanel(m)):console.warn("AG Grid: invalid charts format panel group name supplied: '"+f.type+"'")}}),this.chartType=o,this.isGrouping=s)},t.prototype.getFormatPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.formatPanel)||DefaultFormatPanelDef},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(r){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyPanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',__decorate$V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$U=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MiniChart=function(l){function t(e,r){var o=l.call(this)||this;o.size=58,o.padding=5,o.root=new Group;var s=new Scene({document:window.document,width:o.size,height:o.size});return s.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),s.root=o.root,s.container=e,o.scene=s,o.tooltipName=r,o}return __extends$1n(t,l),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render()},__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1m=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$T=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MiniChartWithAxes=function(l){function t(e,r){var o=l.call(this,e,r)||this;return o.stroke="gray",o.axisOvershoot=3,o}return __extends$1m(t,l),t.prototype.addAxes=function(){var e=this.size,r=this.padding,o=new Line;o.x1=r,o.y1=r,o.x2=r,o.y2=e-r+this.axisOvershoot,o.stroke=this.stroke;var s=new Line;s.x1=r-this.axisOvershoot+1,s.y1=e-r,s.x2=e-r+1,s.y2=e-r,s.stroke=this.stroke;var d=this.root;d.append(o),d.append(s)},__decorate$T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"addAxes",null),t}(MiniChart);function createColumnRects(l){var t=l.stacked,e=l.size,r=l.padding,o=l.xScalePadding,s=l.xScaleDomain,d=l.yScaleDomain,f=new BandScale$5;f.domain=s,f.range=[r,e-r],f.paddingInner=o,f.paddingOuter=o;var y=new LinearScale$1;y.domain=d,y.range=[e-r,r];var m=function(E,O,D){return E.map(function(P,R){var x=D.convert(P),L=new Rect;return L.x=O.convert(R),L.y=x,L.width=O.bandwidth,L.height=D.convert(0)-x,L.strokeWidth=1,L.crisp=!0,L})};return t?l.data.map(function(E){return m(E,f,y)}):m(l.data,f,y)}function createLinePaths(l,t,e,r){var o=new LinearScale$1;o.domain=[0,4],o.range=[r,e-r];var s=new LinearScale$1;s.domain=[0,10],s.range=[e-r,r];var d=t.map(function(y){var m=new Path;return m.strokeWidth=3,m.lineCap="round",m.fill=void 0,y.forEach(function(E,O){m.path[O>0?"lineTo":"moveTo"](o.convert(O),s.convert(E))}),m}),f=new Group;return f.setClipRectInGroupCoordinateSpace(new BBox(r,r,e-2*r,e-2*r)),f.append(d),l.append(f),d}var __extends$1l=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniColumn=function(l){function t(e,r,o){var s=l.call(this,e,"groupedColumnTooltip")||this;s.columnData=[2,3,4];var f=s.root;return s.columns=createColumnRects({stacked:!1,root:f,data:s.columnData,size:s.size,padding:s.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),f.append(s.columns),s.updateColors(r,o),s}return __extends$1l(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="groupedColumn",t}(MiniChartWithAxes),__extends$1k=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniStackedColumn=function(l){function t(e,r,o,s,d,f){void 0===s&&(s=t.data),void 0===d&&(d=[0,16]),void 0===f&&(f="stackedColumnTooltip");var y=l.call(this,e,f)||this,E=y.root;return y.stackedColumns=createColumnRects({stacked:!0,root:E,data:s,size:y.size,padding:y.padding,xScaleDomain:[0,1,2],yScaleDomain:d,xScalePadding:.3}),E.append([].concat.apply([],y.stackedColumns)),y.updateColors(r,o),y}return __extends$1k(t,l),t.prototype.updateColors=function(e,r){this.stackedColumns.forEach(function(o,s){return o.forEach(function(d){d.fill=e[s],d.stroke=r[s]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(MiniChartWithAxes),__extends$1j=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniNormalizedColumn=function(l){function t(e,r,o){return l.call(this,e,r,o,t.data,[0,10],"normalizedColumnTooltip")||this}return __extends$1j(t,l),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(MiniStackedColumn),__extends$1i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniBar=function(l){function t(e,r,o){var s=l.call(this,e,"groupedBarTooltip")||this,d=s.padding,f=s.size,m=new BandScale$5;m.domain=[0,1,2],m.range=[d,f-d],m.paddingInner=.3,m.paddingOuter=.3;var E=new LinearScale$1;E.domain=[0,4],E.range=[f-d,d];var O=E.convert(0),D=m.bandwidth;return s.bars=[2,3,4].map(function(P,R){var x=new Rect;return x.x=d,x.y=m.convert(R),x.width=O-E.convert(P),x.height=D,x.strokeWidth=1,x.crisp=!0,x}),s.updateColors(r,o),s.root.append(s.bars),s}return __extends$1i(t,l),t.prototype.updateColors=function(e,r){this.bars.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="groupedBar",t}(MiniChartWithAxes),__extends$1h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniStackedBar=function(l){function t(e,r,o,s,d,f){void 0===s&&(s=t.data),void 0===d&&(d=[0,16]),void 0===f&&(f="stackedBarTooltip");var y=l.call(this,e,f)||this,m=y.size,E=y.padding,O=new BandScale$5;O.domain=[0,1,2],O.range=[E,m-E],O.paddingInner=.3,O.paddingOuter=.3;var D=new LinearScale$1;D.domain=d,D.range=[m-E,E];var P=D.convert(0),R=O.bandwidth;return y.bars=s.map(function(x){return x.map(function(L,B){var U=new Rect;return U.x=E,U.y=O.convert(B),U.width=P-D.convert(L),U.height=R,U.strokeWidth=1,U.crisp=!0,U})}),y.updateColors(r,o),y.root.append([].concat.apply([],y.bars)),y}return __extends$1h(t,l),t.prototype.updateColors=function(e,r){this.bars.forEach(function(o,s){return o.forEach(function(d){d.fill=e[s],d.stroke=r[s]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(MiniChartWithAxes),__extends$1g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniNormalizedBar=function(l){function t(e,r,o){return l.call(this,e,r,o,t.data,[0,10],"normalizedBarTooltip")||this}return __extends$1g(t,l),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(MiniStackedBar),__extends$1f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__read$j=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},toRadians=toRadians$1,MiniDoughnut=function(l){function t(e,r,o,s,d){void 0===s&&(s=.6),void 0===d&&(d="doughnutTooltip");var f=l.call(this,e,d)||this,y=(f.size-2*f.padding)/2,m=y+f.padding,E=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];return f.sectors=E.map(function(O){var D=__read$j(O,2),P=D[0],R=D[1],x=new Sector;return x.centerX=m,x.centerY=m,x.innerRadius=y*s,x.outerRadius=y,x.startAngle=P,x.endAngle=R,x.stroke=void 0,x.strokeWidth=1,x}),f.updateColors(r,o),f.root.append(f.sectors),f}return __extends$1f(t,l),t.prototype.updateColors=function(e,r){this.sectors.forEach(function(o,s){o.fill=e[s%e.length],o.stroke=r[s%r.length]})},t.chartType="doughnut",t}(MiniChart),__extends$1e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniPie=function(l){function t(e,r,o){return l.call(this,e,r,o,0,"pieTooltip")||this}return __extends$1e(t,l),t.chartType="pie",t}(MiniDoughnut),__extends$1d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniLine=function(l){function t(e,r,o){var s=l.call(this,e,"lineTooltip")||this;return s.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],s.lines=createLinePaths(s.root,s.data,s.size,s.padding),s.updateColors(r,o),s}return __extends$1d(t,l),t.prototype.updateColors=function(e,r){this.lines.forEach(function(o,s){o.stroke=e[s]})},t.chartType="line",t}(MiniChartWithAxes),__extends$1c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__read$i=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},MiniScatter=function(l){function t(e,r,o){var s=l.call(this,e,"scatterTooltip")||this,d=s.size,f=s.padding,m=new LinearScale$1;m.domain=[-.5,4],m.range=[2*f,d-f];var E=new LinearScale$1;E.domain=[-.5,3.5],E.range=[d-f,f];var O=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(P){P.forEach(function(R){var x=__read$i(R,2),L=x[0],B=x[1],U=new Arc;U.strokeWidth=1,U.centerX=m.convert(L),U.centerY=E.convert(B),U.radius=2.5,O.push(U)})}),s.points=O,s.updateColors(r,o);var D=new Group;return D.setClipRectInGroupCoordinateSpace(new BBox(f,f,d-2*f,d-2*f)),D.append(s.points),s.root.append(D),s}return __extends$1c(t,l),t.prototype.updateColors=function(e,r){this.points.forEach(function(o,s){o.stroke=r[s%r.length],o.fill=e[s%e.length]})},t.chartType="scatter",t}(MiniChartWithAxes),__extends$1b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__read$h=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},MiniBubble=function(l){function t(e,r,o){var s=l.call(this,e,"bubbleTooltip")||this,d=s.size,f=s.padding,m=new LinearScale$1;m.domain=[0,1],m.range=[2*f,d-f];var E=new LinearScale$1;E.domain=[0,1],E.range=[d-f,f];var O=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(P){P.forEach(function(R){var x=__read$h(R,3),L=x[0],B=x[1],U=x[2],Y=new Arc;Y.strokeWidth=1,Y.centerX=m.convert(L),Y.centerY=E.convert(B),Y.radius=U,Y.fillOpacity=.7,O.push(Y)})}),s.points=O,s.updateColors(r,o);var D=new Group;return D.setClipRectInGroupCoordinateSpace(new BBox(f,f,d-2*f,d-2*f)),D.append(s.points),s.root.append(D),s}return __extends$1b(t,l),t.prototype.updateColors=function(e,r){this.points.forEach(function(o,s){o.stroke=r[s%r.length],o.fill=e[s%e.length]})},t.chartType="bubble",t}(MiniChartWithAxes),__extends$1a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniArea=function(l){function t(e,r,o,s){void 0===s&&(s=t.data);var d=l.call(this,e,"groupedAreaTooltip")||this,f=d.size,y=d.padding,m=new BandScale$5;m.domain=[0,1,2],m.paddingInner=1,m.paddingOuter=0,m.range=[y+.5,f-y-.5];var E=new LinearScale$1;E.domain=[0,6],E.range=[f-y+.5,y];var D=2*s.length-1,P=[],R=E.convert(0);return s.forEach(function(x,L){var B=m.convert(L);x.forEach(function(U,Y){var ee=E.convert(U),oe=P[Y]||(P[Y]=[]);oe[L]={x:B,y:ee},oe[D-L]={x:B,y:R}})}),d.areas=P.reverse().map(function(x){var L=new Path;L.strokeWidth=1,L.fillOpacity=.7;var B=L.path;return B.clear(),x.forEach(function(U,Y){return B[Y>0?"lineTo":"moveTo"](U.x,U.y)}),B.closePath(),L}),d.updateColors(r,o),d.root.append(d.areas),d}return __extends$1a(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(MiniChartWithAxes),__extends$19=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniStackedArea=function(l){function t(e,r,o,s,d){void 0===s&&(s=t.data),void 0===d&&(d="stackedAreaTooltip");var f=l.call(this,e,d)||this,y=f.size,m=f.padding,E=new BandScale$5;E.domain=[0,1,2],E.paddingInner=1,E.paddingOuter=0,E.range=[m+.5,y-m-.5];var O=new LinearScale$1;O.domain=[0,16],O.range=[y-m+.5,m+.5];var P=2*s.length-1,R=[];return s.forEach(function(x,L){var B=E.convert(L),U=0;x.forEach(function(Y,ee){var oe=O.convert(U+Y),re=R[ee]||(R[ee]=[]);re[L]={x:B,y:oe},re[P-L]={x:B,y:O.convert(U)},U+=Y})}),f.areas=R.map(function(x){var L=new Path;L.strokeWidth=1;var B=L.path;return B.clear(),x.forEach(function(U,Y){return B[Y>0?"lineTo":"moveTo"](U.x,U.y)}),B.closePath(),L}),f.updateColors(r,o),f.root.append(f.areas),f}return __extends$19(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(MiniChartWithAxes),__extends$18=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniNormalizedArea=function(l){function t(e,r,o,s){return void 0===s&&(s=t.data),l.call(this,e,r,o,s,"normalizedAreaTooltip")||this}return __extends$18(t,l),t.chartType="normalizedArea",t.data=MiniStackedArea.data.map(function(e){var r=e.reduce(function(o,s){return o+s},0);return e.map(function(o){return o/r*16})}),t}(MiniStackedArea),__extends$17=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__read$g=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},MiniHistogram=function(l){function t(e,r,o){var s=l.call(this,e,"histogramTooltip")||this,d=s.padding,f=s.size,y=[2,5,11,13,10,6,1],m=new LinearScale$1;m.domain=[0,y.length],m.range=[d,f-d];var E=new LinearScale$1;E.domain=[0,y.reduce(function(D,P){return Math.max(D,P)},0)],E.range=[f-d,d];var O=E.convert(0);return s.bars=y.map(function(D,P){var R=E.convert(D),x=m.convert(P),L=m.convert(P+1),B=new Rect;return B.x=x,B.y=R,B.width=L-x,B.height=O-R,B.strokeWidth=1,B.crisp=!0,B}),s.updateColors(r,o),s.root.append(s.bars),s}return __extends$17(t,l),t.prototype.updateColors=function(e,r){var s=__read$g(e,1)[0],f=__read$g(r,1)[0];this.bars.forEach(function(y){y.fill=s,y.stroke=f})},t.chartType="histogram",t}(MiniChartWithAxes),__extends$16=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniColumnLineCombo=function(l){function t(e,r,o){var s=l.call(this,e,"columnLineComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var f=s.root,m=s.lineData,E=s.size,O=s.padding;return s.columns=createColumnRects({stacked:!1,root:f,data:s.columnData,size:E,padding:O,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),f.append(s.columns),s.lines=createLinePaths(f,m,E,O),s.updateColors(r,o),s}return __extends$16(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.chartType="columnLineCombo",t}(MiniChartWithAxes),__extends$15=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniAreaColumnCombo=function(l){function t(e,r,o){var s=l.call(this,e,"areaColumnComboTooltip")||this;s.columnData=[3,4.5],s.areaData=[[5,4,6,5,4]];var f=s.root,m=s.areaData,E=s.size,O=s.padding;s.columns=createColumnRects({stacked:!1,root:f,data:s.columnData,size:E,padding:O,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var D=new BandScale$5;D.range=[O,E-O],D.domain=[0,1,2,3,4],D.paddingInner=1,D.paddingOuter=0;var P=new LinearScale$1;P.range=[E-O,O],P.domain=[0,6];var R=[],x=P.convert(0),L=D.convert(0);return m.forEach(function(B,U){var Y=R[U]||(R[U]=[]);B.forEach(function(oe,re){var ie=oe,se=D.convert(re),ue=P.convert(ie);Y[re]={x:se,y:ue}});var ee=D.convert(B.length-1);R[U].push({x:ee,y:x},{x:L,y:x})}),s.areas=R.map(function(B){var U=new Path;U.strokeWidth=1,U.fillOpacity=.8;var Y=U.path;return B.forEach(function(ee,oe){return Y[oe>0?"lineTo":"moveTo"](ee.x,ee.y)}),U}),f.append(s.areas),f.append([].concat.apply([],s.columns)),s.updateColors(r,o),s}return __extends$15(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.columns.forEach(function(o,s){o.fill=e[s+1],o.stroke=r[s+1]})},t.chartType="areaColumnCombo",t}(MiniChartWithAxes),__extends$14=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MiniCustomCombo=function(l){function t(e,r,o){var s=l.call(this,e,"customComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var f=s.root,m=s.lineData,E=s.size,O=s.padding;s.columns=createColumnRects({stacked:!1,root:f,data:s.columnData,size:E,padding:O,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),f.append(s.columns),s.lines=createLinePaths(f,m,E,O);var D="grey",R=new Line;R.x1=O,R.y1=O,R.x2=O,R.y2=E-O+3,R.stroke=D;var x=new Line;x.x1=O-3+1,x.y1=E-O,x.x2=E-O+1,x.y2=E-O,x.stroke=D;var L=new Path;return s.buildPenIconPath(L),L.fill="whitesmoke",L.stroke="darkslategrey",L.strokeWidth=1,f.append([x,R,L]),s.updateColors(r,o),s}return __extends$14(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.prototype.buildPenIconPath=function(e){var r=e.path;r.moveTo(25.76,43.46),r.lineTo(31.27,48.53),r.moveTo(49.86,22),r.lineTo(49.86,22),r.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),r.lineTo(46.86,21.41),r.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),r.lineTo(25.51,43.8),r.lineTo(25.43,43.89),r.lineTo(23.01,51.89),r.lineTo(22.83,52.46),r.lineTo(31.02,48.86),r.lineTo(49.02,28.52),r.lineTo(49.02,28.52),r.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),r.lineTo(50.75,24.93),r.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),r.closePath(),r.moveTo(41.76,25.5),r.lineTo(47.34,30.5),r.moveTo(40.74,26.65),r.lineTo(46.25,31.71)},t.chartType="customCombo",t}(MiniChart),__extends$13=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$j=function(){return __assign$j=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$j.apply(this,arguments)},__decorate$S=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},miniChartMapping={columnGroup:{column:MiniColumn,stackedColumn:MiniStackedColumn,normalizedColumn:MiniNormalizedColumn},barGroup:{bar:MiniBar,stackedBar:MiniStackedBar,normalizedBar:MiniNormalizedBar},pieGroup:{pie:MiniPie,doughnut:MiniDoughnut},lineGroup:{line:MiniLine},scatterGroup:{scatter:MiniScatter,bubble:MiniBubble},areaGroup:{area:MiniArea,stackedArea:MiniStackedArea,normalizedArea:MiniNormalizedArea},histogramGroup:{histogram:MiniHistogram},combinationGroup:{columnLineCombo:MiniColumnLineCombo,areaColumnCombo:MiniAreaColumnCombo,customCombo:MiniCustomCombo}},MiniChartsContainer=function(l){function t(e,r,o,s){void 0===s&&(s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.hhW);var d=l.call(this,t.TEMPLATE)||this;return d.wrappers={},d.chartController=e,d.fills=r,d.strokes=o,d.chartGroups=__assign$j({},s),d}return __extends$13(t,l),t.prototype.init=function(){var e=this;!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(o){return"customCombo"!==o}));var r=this.getGui();Object.keys(this.chartGroups).forEach(function(o){var s=e.chartGroups[o],d=e.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:e.chartTranslationService.translate(o),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));s.forEach(function(f){var y,m=null===(y=miniChartMapping[o])||void 0===y?void 0:y[f];if(m){var E=document.createElement("div");E.classList.add("ag-chart-mini-thumbnail");var O=m.chartType;e.addManagedListener(E,"click",function(){e.chartController.setChartType(O),e.updateSelectedMiniChart()}),e.wrappers[O]=E,e.createBean(new m(E,e.fills,e.strokes)),d.addItem(E)}else miniChartMapping[o]?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+o+"."+f+"'")},"invalid_chartGroupsDef"+f+"_"+o):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+o+"'")},"invalid_chartGroupsDef"+o)}),r.appendChild(d.getGui())}),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var r in this.wrappers)this.wrappers[r].classList.toggle("ag-selected",r===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$12=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$R=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartSettingsPanel=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.miniChartsContainers=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=e,r}return __extends$12(t,l),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var s=e.miniChartsContainers.find(function(f){return!f.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");if(s){var d=s.offsetParent;d&&e.eMiniChartsContainer.scrollTo(0,d.offsetTop)}},250)},t.prototype.resetPalettes=function(e){var o,s,r=this,d=this.chartController.getPalettes(),f=null===(s=null===(o=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===o?void 0:o.settingsPanel)||void 0===s?void 0:s.chartGroupsDef;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(d,this.palettes)&&!e||this.isAnimating||(this.palettes=d,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(y){return y===r.chartController.getChartThemeName()}),this.cardItems=[],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(y,m){var E=r.activePaletteIndex===m,P=r.createBean(new MiniChartsContainer(r.chartController,y.fills,y.strokes,f));r.miniChartsContainers.push(P),r.eMiniChartsContainer.appendChild(P.getGui()),r.addCardLink(m),E?P.updateSelectedMiniChart():P.setDisplayed(!1)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNavBar,this.palettes.length>1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var r=this,o=document.createElement("div");o.classList.add("ag-chart-settings-card-item"),this.addManagedListener(o,"click",function(){r.setActivePalette(e,e<r.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(o),this.cardItems.push(o)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,r){var o=this;if(!this.isAnimating&&this.activePaletteIndex!==e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var s=this.miniChartsContainers[this.activePaletteIndex],d=s.getGui(),f=this.miniChartsContainers[e],y=f.getGui();s.updateSelectedMiniChart(),f.updateSelectedMiniChart();var m="left"===r?-1:1,E=y.style.left=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(this.getGui())*m+"px";this.activePaletteIndex=e,this.isAnimating=!0;var O="ag-animating";f.setDisplayed(!0),s.addCssClass(O),f.addCssClass(O),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){d.style.left=-parseFloat(E)+"px",y.style.left="0px"},0),window.setTimeout(function(){o.isAnimating=!1,s.removeCssClass(O),f.removeCssClass(O),s.setDisplayed(!1)},300)}},t.prototype.destroyMiniCharts=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},t.prototype.destroy=function(){this.destroyMiniCharts(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNavBar")],t.prototype,"eNavBar",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCardSelector")],t.prototype,"eCardSelector",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("ePrevBtn")],t.prototype,"ePrevBtn",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNextBtn")],t.prototype,"eNextBtn",void 0),__decorate$R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$11=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$Q=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TabbedChartMenu=function(l){function t(e){var r=l.call(this)||this;r.tabs=[];var s=e.panels,d=e.chartOptionsService;return r.chartController=e.controller,r.chartOptionsService=d,r.panels=s,r}return __extends$11(t,l),t.prototype.init=function(){var e=this;this.panels.forEach(function(r){var o=r.replace("chart","").toLowerCase(),s=e.createTab(r,o,e.getPanelClass(o)),d=s.comp;e.tabs.push(s.tab),e.addDestroyFunc(function(){return e.destroyBean(d)})}),this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,r,o){var s=document.createElement("div");s.classList.add("ag-chart-tab","ag-chart-"+r);var d=new o(this.chartController,this.chartOptionsService);this.getContext().createBean(d),s.appendChild(d.getGui());var f=document.createElement("div"),y=this.chartTranslationService.translate(r);return f.innerText=y,{comp:d,tab:{title:f,titleLabel:y,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(s),getScrollableContainer:function(){return s.querySelector(".ag-scrollable-container")||s},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),l.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return ChartDataPanel;case t.TAB_FORMAT:return FormatPanel;default:return ChartSettingsPanel}},t.TAB_DATA="data",t.TAB_FORMAT="format",__decorate$Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$10=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$P=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$f=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$8=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$f(arguments[t]));return l},ChartMenu=function(l){function t(e,r,o,s){var d=l.call(this,t.TEMPLATE)||this;return d.eChartContainer=e,d.eMenuPanelContainer=r,d.chartController=o,d.chartOptionsService=s,d.buttons={chartSettings:["menu",function(){return d.showMenu(d.defaultPanel)}],chartData:["menu",function(){return d.showMenu("chartData")}],chartFormat:["menu",function(){return d.showMenu("chartFormat")}],chartLink:["linked",function(f){return d.toggleDetached(f)}],chartUnlink:["unlinked",function(f){return d.toggleDetached(f)}],chartDownload:["save",function(){return d.saveChart()}]},d.panels=[],d.menuVisible=!1,d}return __extends$10(t,l),t.prototype.postConstruct=function(){var e=this;this.createButtons(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,function(r){var o;r.chartId===e.chartController.getChartId()&&null!==(o=e.gridOptionsService.get("chartToolPanelsDef"))&&void 0!==o&&o.defaultToolPanel&&e.showMenu(e.defaultPanel,!1)}),this.refreshMenuClasses(),!this.gridOptionsService.is("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this)))},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getExtraPaddingDirections=function(){var e=this,s=[];return["chartLink","chartUnlink","chartDownload"].some(function(d){return e.chartToolbarOptions.includes(d)})&&s.push("top"),["chartSettings","chartData","chartFormat"].some(function(d){return e.chartToolbarOptions.includes(d)})&&s.push(this.gridOptionsService.is("enableRtl")?"left":"right"),s},t.prototype.getToolbarOptions=function(){var r,o,s,e=this;if(this.gridOptionsService.get("chartToolPanelsDef")){var f=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],m={defaultItems:f},E=(y=this.gridOptionsService.getCallback("getChartToolbarItems"))?y(m).filter(function(L){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2.includes(L)){var B=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(L)?"AG Grid: '"+L+"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead":"AG Grid: '"+L+"' is not a valid Chart Toolbar Option";return console.warn(B),!1}return!0}):f,O=null===(o=null===(r=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===r?void 0:r.panels)||void 0===o?void 0:o.map(function(L){var B=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[L];return B||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '"+L+"'"),B}).filter(function(L){return!!L});this.panels=O||Object.values(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z),this.chartController.isPivotChart()&&(this.panels=this.panels.filter(function(L){return"chartData"!==L}));var D=null===(s=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===s?void 0:s.defaultToolPanel;return this.defaultPanel=D&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[D]||this.panels[0],this.panels.length>0?__spread$8([this.panels[0]],E):E}var y,P=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"];if(y=this.gridOptionsService.getCallback("getChartToolbarItems")){var R=this.gridOptionsService.is("suppressChartToolPanelsButton");P=y(m={defaultItems:R?P:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2}).filter(function(U){return e.buttons[U]?!(!R&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(U)&&(console.warn("AG Grid: '"+U+"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead"),1)):(console.warn("AG Grid: '"+U+"' is not a valid Chart Toolbar Option"),!1)}),R||(P=P.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1))}this.chartController.isPivotChart()&&(P=P.filter(function(B){return"chartData"!==B}));var x=["chartUnlink","chartLink","chartDownload"];return this.panels=P.filter(function(B){return-1===x.indexOf(B)}),this.defaultPanel=this.panels[0],P.filter(function(B){return-1!==x.indexOf(B)||e.panels.length&&B===e.panels[0]})},t.prototype.toggleDetached=function(e){var r=e.target,o=r.classList.contains("ag-icon-linked");r.classList.toggle("ag-icon-linked",!o),r.classList.toggle("ag-icon-unlinked",o);var d=this.chartTranslationService.translate(o?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");d&&(r.title=d),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this;this.chartToolbarOptions=this.getToolbarOptions();var r=this.eMenu;this.chartToolbarOptions.forEach(function(o){var d=__read$f(e.buttons[o],2),y=d[1],m=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(d[0],e.gridOptionsService,void 0,!0);m.classList.add("ag-chart-menu-icon");var E=e.chartTranslationService.translate(o+"ToolbarTooltip");E&&m instanceof HTMLElement&&(m.title=E),e.addManagedListener(m,"click",y),r.appendChild(m)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var r=this,o=this.environment.chartMenuPanelWidth(),s=this.menuPanel=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wSp({minWidth:o,width:o,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return s.setParentComponent(this),this.eMenuPanelContainer.appendChild(s.getGui()),this.tabbedMenu=this.createBean(new TabbedChartMenu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DESTROYED,function(){return r.destroyBean(r.tabbedMenu)}),new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(d){window.setTimeout(function(){s.setBodyComponent(r.tabbedMenu),r.tabbedMenu.showTab(e),d(s),r.addManagedListener(r.eChartContainer,"click",function(f){r.getGui().contains(f.target)||r.menuVisible&&r.hideMenu()})},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},t.prototype.showMenu=function(e,r){var o=this;if(void 0===r&&(r=!0),r||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!e)this.showContainer();else{var d=this.panels.indexOf(e||this.defaultPanel);d<0&&(console.warn("AG Grid: '"+e+"' is not a valid Chart Tool Panel name"),d=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(d),this.showContainer()):this.createMenuPanel(d).then(this.showContainer.bind(this))}r||setTimeout(function(){o.isAlive()&&o.eMenuPanelContainer.classList.remove("ag-no-transition")},500)},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.is("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div>\n        <div class="ag-chart-menu" ref="eMenu"></div>\n        <button class="ag-chart-menu-close" ref="eHideButton">\n            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>\n        </button>\n    </div>',__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenu")],t.prototype,"eMenu",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButton")],t.prototype,"eHideButton",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButtonIcon")],t.prototype,"eHideButtonIcon",void 0),__decorate$P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$$=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$i=function(){return __assign$i=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$i.apply(this,arguments)},__decorate$O=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$6=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TitleEdit=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.chartMenu=e,r.destroyableChartListeners=[],r.editing=!1,r}return __extends$$(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(r){e.editing&&"Enter"===r.key&&!r.shiftKey&&(e.handleEndEditing(),r.preventDefault())}),this.addManagedListener(this.getGui(),"input",function(){e.editing&&e.updateHeight()}),this.addManagedListener(this.getGui(),"blur",function(){return e.endEditing()})},t.prototype.refreshTitle=function(e,r){var o,s,d=this;this.chartController=e,this.chartOptionsService=r;try{for(var f=__values$6(this.destroyableChartListeners),y=f.next();!y.done;y=f.next())(0,y.value)()}catch(L){o={error:L}}finally{try{y&&!y.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}this.destroyableChartListeners=[];var O=this.chartController.getChartProxy().getChart(),D=O.scene.canvas.element,P=this.addManagedListener(D,"dblclick",function(L){var B=O.title;if(B&&B.node.containsPoint(L.offsetX,L.offsetY)){var U=B.node.computeBBox(),Y=B.node.inverseTransformPoint(U.x,U.y);d.startEditing(__assign$i(__assign$i({},U),Y),D.width)}}),R=!1,x=this.addManagedListener(D,"mousemove",function(L){var B=O.title,U=!!(B&&B.enabled&&B.node.containsPoint(L.offsetX,L.offsetY));R!==U&&(D.style.cursor=U?"pointer":""),R=U});this.destroyableChartListeners=[P,x]},t.prototype.startEditing=function(e,r){if(!(this.chartMenu&&this.chartMenu.isVisible()||this.editing)){this.editing=!0;var s=Math.max(Math.min(e.width+20,r),300),d=this.getGui();d.classList.add("currently-editing");var f=d.style;f.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),f.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),f.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),f.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",f.color=this.chartOptionsService.getChartOption("title.color");var y=this.chartOptionsService.getChartOption("title.text"),m=y===this.chartTranslationService.translate("titlePlaceholder");d.value=m?"":y;var E=y.split(/\r?\n/g).length;f.left=Math.round(e.x+e.width/2-s/2-1)+"px",f.top=Math.round(e.y+e.height/2-E*this.getLineHeight()/2-2)+"px",f.width=Math.round(s)+"px",f.lineHeight=this.getLineHeight()+"px",this.updateHeight(),d.focus()}},t.prototype.updateHeight=function(){var e=this.getGui(),r=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,o=e.value.split(/\r?\n/g).length;e.style.height=Math.round(Math.max(r,o)*this.getLineHeight())+4+"px"},t.prototype.getLineHeight=function(){var e=this.chartOptionsService.getChartOption("title.lineHeight");return e?parseInt(e):Math.round(1.2*parseInt(this.chartOptionsService.getChartOption("title.fontSize")))},t.prototype.handleEndEditing=function(){var e=this,r=this.chartOptionsService.getChartOption("title.color");this.chartOptionsService.setChartOption("title.color","rgba(0, 0, 0, 0)"),this.chartOptionsService.awaitChartOptionUpdate(function(){return e.endEditing()}),this.chartOptionsService.awaitChartOptionUpdate(function(){e.chartOptionsService.setChartOption("title.color",r)})},t.prototype.endEditing=function(){var e=this;if(this.editing){this.editing=!1;var r=this.getGui().value;r&&""!==r.trim()?(this.chartOptionsService.setChartOption("title.text",r),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate(function(){e.eventService.dispatchEvent({type:"chartTitleEdit"})})}},t.TEMPLATE='<textarea\n             class="ag-chart-title-edit"\n             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />\n        ',__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function deproxy(l){return null!=l.chart?l.chart:l}var __assign$h=function(){return __assign$h=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$h.apply(this,arguments)},ChartProxy=function(){function l(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=getSeriesType(this.chartType),null==this.chart?this.chart=AgChart.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return l.prototype.getChart=function(){return deproxy(this.chart)},l.prototype.getChartRef=function(){return this.chart},l.prototype.downloadChart=function(t,e,r){var o=this.chart,s=deproxy(o),f=t||{};AgChart.download(o,{width:f.width,height:f.height,fileName:e||(s.title?s.title.text:"chart"),fileFormat:r})},l.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},l.prototype.getChartOptions=function(){return this.chart.getOptions()},l.prototype.getChartThemeOverrides=function(){var t;return null!==(t=this.getChartOptions().theme.overrides)&&void 0!==t?t:{}},l.prototype.getChartPalette=function(){return getChartTheme(this.getChartOptions().theme).palette},l.prototype.setPaired=function(t){var e,r=getSeriesType(this.chartProxyParams.chartType);AgChart.updateDelta(this.chart,{theme:{overrides:(e={},e[r]={paired:t},e)}})},l.prototype.isPaired=function(){var t=getSeriesType(this.chartProxyParams.chartType);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartThemeOverrides(),t+".paired",!0)},l.prototype.lookupCustomChartTheme=function(t){return lookupCustomChartTheme(this.chartProxyParams,t)},l.prototype.transformData=function(t,e,r){return r?t.map(function(o,s){var d=o[e],f=d&&d.toString?d.toString():"",y=__assign$h({},o);return y[e]={id:s,value:d,toString:function(){return f}},y}):t},l.prototype.getCommonChartOptions=function(){var t,e,r=this.clearThemeOverrides?{}:null!==(e=null===(t=this.chart)||void 0===t?void 0:t.getOptions())&&void 0!==e?e:{},o=null!=this.chart?{overrides:this.getActiveFormattingPanelOverrides()}:{};return this.clearThemeOverrides=!1,__assign$h(__assign$h({},r),{theme:__assign$h(__assign$h({},createAgChartTheme(this.chartProxyParams,this)),o),container:this.chartProxyParams.parentElement,mode:"integrated"})},l.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var r=null===(t=this.chart)||void 0===t?void 0:t.getOptions().theme;return null!==(e=r?.overrides)&&void 0!==e?e:{}},l.prototype.destroy=function(t){var e=(void 0===t?{}:t).keepChartInstance;if(void 0!==e&&e)return this.chart;this.destroyChart()},l.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},l}(),__extends$_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$g=function(){return __assign$g=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$g.apply(this,arguments)},CartesianChartProxy=function(l){function t(e){var r=l.call(this,e)||this;return r.crossFilteringAllPoints=new Set,r.crossFilteringSelectedPoints=[],r}return __extends$_(t,l),t.prototype.update=function(e){var r=this.getAxes(e),o=__assign$g(__assign$g({},this.getCommonChartOptions()),{data:this.getData(e,r),axes:r,series:this.getSeries(e)});AgChart.update(this.getChartRef(),o)},t.prototype.getData=function(e,r){var o,s=["area","line"].includes(this.standaloneChartType),d="bar"===this.standaloneChartType?"left":"bottom",f="category"===(null===(o=r.find(function(y){return y.position===d}))||void 0===o?void 0:o.type);return this.crossFiltering&&s?this.getCrossFilterData(e):this.getDataTransformedData(e,f)},t.prototype.getDataTransformedData=function(e,r){return this.transformData(e.data,e.category.id,r)},t.prototype.getXAxisType=function(e){return e.grouping?"groupedCategory":t.isTimeAxis(e)?"time":"category"},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var r=e.data[0];return(r&&r[e.category.id])instanceof Date},t.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},t.prototype.crossFilteringPointSelected=function(e){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(e)},t.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},t.prototype.extractLineAreaCrossFilterSeries=function(e,r){var o=this;return e.map(function(d){return d.yKey=function(d){return"area"===o.standaloneChartType?r.getCrossFilteringContext().lastSelectedChartId===r.chartId?d+"-total":d:d+"-total"}(d.yKey),d.listeners={nodeClick:function(f){o.crossFilteringAddSelectedPoint(f.event.metaKey||f.event.ctrlKey,f.datum[d.xKey]),o.crossFilterCallback(f)}},d.marker={formatter:function(f){return{fill:f.highlighted?"yellow":f.fill,size:f.highlighted?14:o.crossFilteringPointSelected(f.datum[r.category.id])?8:0}}},"area"===o.standaloneChartType&&(d.fillOpacity=o.crossFilteringDeselectedPoints()?.3:1),"line"===o.standaloneChartType&&(d.strokeOpacity=o.crossFilteringDeselectedPoints()?.3:1),d})},t.prototype.getCrossFilterData=function(e){var r=this;this.crossFilteringAllPoints.clear();var o=e.fields[0].colId,s=o+"-filtered-out",d=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(f){var y=f[e.category.id];r.crossFilteringAllPoints.add(y);var m=r.crossFilteringPointSelected(y);return"area"===r.standaloneChartType&&d===e.chartId&&(f[o+"-total"]=m?f[o]:f[o]+f[s]),"line"===r.standaloneChartType&&(f[o+"-total"]=m?f[o]:f[o]+f[s]),f})},t.prototype.crossFilteringAddSelectedPoint=function(e,r){e?this.crossFilteringSelectedPoints.push(r):this.crossFilteringSelectedPoints=[r]},t}(ChartProxy);function emptyTarget(l){return Array.isArray(l)?[]:{}}function cloneUnlessOtherwiseSpecified(l,t){return!1!==t.clone&&t.isMergeableObject(l)?deepMerge(emptyTarget(l),l,t):l}function defaultArrayMerge(l,t,e){return l.concat(t).map(function(r){return cloneUnlessOtherwiseSpecified(r,e)})}function getMergeFunction(l,t){if(!t.customMerge)return deepMerge;var e=t.customMerge(l);return"function"==typeof e?e:deepMerge}function getEnumerableOwnPropertySymbols(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}function getKeys(l){return Object.keys(l).concat(getEnumerableOwnPropertySymbols(l))}function propertyIsOnObject(l,t){try{return t in l}catch{return!1}}function propertyIsUnsafe(l,t){return propertyIsOnObject(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))}function mergeObject(l,t,e){void 0===l&&(l={}),void 0===t&&(t={});var r={};return e.isMergeableObject(l)&&getKeys(l).forEach(function(o){r[o]=cloneUnlessOtherwiseSpecified(l[o],e)}),getKeys(t).forEach(function(o){propertyIsUnsafe(l,o)||(r[o]=propertyIsOnObject(l,o)&&e.isMergeableObject(t[o])?getMergeFunction(o,e)(l[o],t[o],e):cloneUnlessOtherwiseSpecified(t[o],e))}),r}function defaultIsMergeableObject(l){return isNonNullObject(l)&&!isSpecial(l)}function isNonNullObject(l){return!!l&&"object"==typeof l}function isSpecial(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}function deepMerge(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||defaultArrayMerge,e.isMergeableObject=e.isMergeableObject||defaultIsMergeableObject,e.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var r=Array.isArray(t);return r===Array.isArray(l)?r?e.arrayMerge(l,t,e):mergeObject(l,t,e):cloneUnlessOtherwiseSpecified(t,e)}function hexToRGBA(l,t){var e=parseInt(l.slice(1,3),16),r=parseInt(l.slice(3,5),16),o=parseInt(l.slice(5,7),16);return t?"rgba("+e+", "+r+", "+o+", "+t+")":"rgba("+e+", "+r+", "+o+")"}function changeOpacity(l,t){return l.map(function(e){var r=Color.fromString(e);return new Color(r.r,r.g,r.b,t).toHexString()})}var __extends$Z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$f=function(){return __assign$f=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$f.apply(this,arguments)},BarChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$Z(t,l),t.prototype.getAxes=function(e){var r="bar"===this.standaloneChartType,o=[{type:this.getXAxisType(e),position:r?"left":"bottom"},{type:"number",position:r?"bottom":"left"}];if(this.isNormalised()){var s=o[1];s.label=__assign$f(__assign$f({},s.label),{formatter:function(d){return Math.round(d.value)+"%"}})}return o},t.prototype.getSeries=function(e){var r=this,s=!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["groupedColumn","groupedBar"],this.chartType),d=e.fields.map(function(f){return{type:r.standaloneChartType,grouped:s,normalizedTo:r.isNormalised()?100:void 0,xKey:e.category.id,xName:e.category.name,yKey:f.colId,yName:f.displayName}});return this.crossFiltering?this.extractCrossFilterSeries(d):d},t.prototype.extractCrossFilterSeries=function(e){for(var o=this.getChartPalette(),d=function(E){var O=E.yKey+"-filtered-out";return __assign$f(__assign$f({},deepMerge({},E)),{yKey:O,fill:hexToRGBA(E.fill,"0.3"),stroke:hexToRGBA(E.stroke,"0.3"),hideInLegend:[O]})},f=[],y=0;y<e.length;y++){var m=(O=y,__assign$f(__assign$f({},e[y]),{highlightStyle:{item:{fill:void 0}},fill:o?.fills[O],stroke:o?.strokes[O],listeners:{nodeClick:this.crossFilterCallback}}));f.push(m),f.push(d(m))}var O;return f},t.prototype.isNormalised=function(){return!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(CartesianChartProxy),__extends$Y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$e=function(){return __assign$e=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$e.apply(this,arguments)},AreaChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$Y(t,l),t.prototype.getAxes=function(e){var r=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var o=r[1];o.label=__assign$e(__assign$e({},o.label),{formatter:function(s){return Math.round(s.value)+"%"}})}return r},t.prototype.getSeries=function(e){var r=this,o=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:e.category.id,xName:e.category.name,yKey:s.colId,yName:s.displayName,normalizedTo:"normalizedArea"===r.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(r.chartType)}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(o,e):o},t.prototype.isNormalised=function(){return!this.crossFiltering&&"normalizedArea"===this.chartType},t}(CartesianChartProxy),__extends$X=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LineChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$X(t,l),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=this,o=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:e.category.id,xName:e.category.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(o,e):o},t}(CartesianChartProxy),__extends$W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$d=function(){return __assign$d=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$d.apply(this,arguments)},PieChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$W(t,l),t.prototype.update=function(e){var r=e.data,o=e.category,s=__assign$d(__assign$d({},this.getCommonChartOptions()),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(r,o.id),series:this.getSeries(e)});AgChart.update(this.getChartRef(),s)},t.prototype.getSeries=function(e){var r=this,o=e.fields.length,s={currentOffset:0,offsetAmount:o>1?20:40},d=this.getFields(e).map(function(f){var y,m={type:r.standaloneChartType,angleKey:f.colId,angleName:f.displayName,sectorLabelKey:f.colId,calloutLabelKey:e.category.id,calloutLabelName:e.category.name};if("doughnut"===r.chartType){var E=t.calculateOffsets(s),O=E.outerRadiusOffset,D=E.innerRadiusOffset,P=f.displayName?{title:{text:f.displayName,showInLegend:o>1}}:void 0;return __assign$d(__assign$d(__assign$d(__assign$d({},m),{outerRadiusOffset:O,innerRadiusOffset:D}),P),{calloutLine:{colors:null===(y=r.getChartPalette())||void 0===y?void 0:y.strokes}})}return m});return this.crossFiltering?this.extractCrossFilterSeries(d):d},t.prototype.getCrossFilterData=function(e){var r=e.fields[0].colId,o=r+"-filtered-out";return e.data.map(function(s){var d=s[r]+s[o];return s[r+"-total"]=d,s[o]=1,s[r]=s[r]/d,s})},t.prototype.extractCrossFilterSeries=function(e){var E,o=this.getChartPalette(),f=e[0],y=f.angleKey,m=__assign$d(__assign$d({},E=f),{calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:E.angleKey,angleKey:E.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:this.crossFilterCallback}});return[function(E,O){var D,P;return __assign$d(__assign$d({},deepMerge({},m)),{radiusKey:O+"-filtered-out",fills:changeOpacity(null!==(D=E.fills)&&void 0!==D?D:o.fills,.3),strokes:changeOpacity(null!==(P=E.strokes)&&void 0!==P?P:o.strokes,.3),showInLegend:!1})}(f,y),m]},t.calculateOffsets=function(e){var r=e.currentOffset;e.currentOffset-=e.offsetAmount;var o=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:r,innerRadiusOffset:o}},t.prototype.getFields=function(e){return"pie"===this.chartType?e.fields.slice(0,1):e.fields},t.prototype.crossFilteringReset=function(){},t}(ChartProxy),__extends$V=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$c=function(){return __assign$c=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$c.apply(this,arguments)},__values$5=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$7=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$e(arguments[t]));return l},ScatterChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$V(t,l),t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=this,o=this.isPaired(),s=this.getSeriesDefinitions(e.fields,o),d=e.category.id===ChartDataModel.DEFAULT_CATEGORY?void 0:e.category,f=s.map(function(y){return{type:r.standaloneChartType,xKey:y.xField.colId,xName:y.xField.displayName,yKey:y.yField.colId,yName:y.yField.displayName,title:y.yField.displayName+" vs "+y.xField.displayName,sizeKey:y.sizeField?y.sizeField.colId:void 0,sizeName:y.sizeField?y.sizeField.displayName:void 0,labelKey:d?d.id:y.yField.colId,labelName:d?d.name:void 0}});return this.crossFiltering?this.extractCrossFilterSeries(f,e):f},t.prototype.extractCrossFilterSeries=function(e,r){var o=this,s=r.data,d=this.getChartPalette(),f=function(D){return D+"-filtered-out"},O=e.map(function(D,P){var R=D.sizeKey,x=d?.fills[P],L=d?.strokes[P],B=function(D,P){var R,x,L,B=[1/0,-1/0];if(null!=P)try{for(var U=__values$5(D),Y=U.next();!Y.done;Y=U.next()){var ee=Y.value,oe=null!==(L=ee[P])&&void 0!==L?L:ee[f(P)];oe<B[0]&&(B[0]=oe),oe>B[1]&&(B[1]=oe)}}catch(re){R={error:re}}finally{try{Y&&!Y.done&&(x=U.return)&&x.call(U)}finally{if(R)throw R.error}}if(B[0]<=B[1])return B}(s,R),U=__assign$c(__assign$c({},D.marker),{fill:x,stroke:L,domain:B});return __assign$c(__assign$c({},D),{marker:U,highlightStyle:{item:{fill:"yellow"}},listeners:__assign$c(__assign$c({},D.listeners),{nodeClick:o.crossFilterCallback})})});return __spread$7(O,O.map(function(D){var P=D.sizeKey,R=D.yKey,x=D.xKey;return null!=P&&(P=f(P)),__assign$c(__assign$c({},D),{yKey:f(R),xKey:f(x),marker:__assign$c(__assign$c({},D.marker),{fillOpacity:.3,strokeOpacity:.3}),sizeKey:P,showInLegend:!1,listeners:__assign$c(__assign$c({},D.listeners),{nodeClick:function(L){var B,U=L.datum[f(x)],Y=__assign$c(__assign$c({},L),{xKey:x,datum:__assign$c(__assign$c({},L.datum),(B={},B[x]=U,B))});o.crossFilterCallback(Y)}})})}))},t.prototype.getSeriesDefinitions=function(e,r){if(e.length<2)return[];var o="bubble"===this.chartType;if(r)return o?e.map(function(d,f){return f%3==0?{xField:d,yField:e[f+1],sizeField:e[f+2]}:null}).filter(function(d){return d&&d.yField&&d.sizeField}):e.map(function(d,f){return f%2==0?{xField:d,yField:e[f+1]}:null}).filter(function(d){return d&&d.yField});var s=e[0];return o?e.map(function(d,f){return f%2==1?{xField:s,yField:d,sizeField:e[f+1]}:null}).filter(function(d){return d&&d.sizeField}):e.filter(function(d,f){return f>0}).map(function(d){return{xField:s,yField:d}})},t}(CartesianChartProxy),__extends$U=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),HistogramChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$U(t,l),t.prototype.getSeries=function(e){var r=e.fields[0];return[{type:this.standaloneChartType,xKey:r.colId,xName:r.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t}(CartesianChartProxy),__extends$T=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ChartOptionsService=function(l){function t(e){var r=l.call(this)||this;return r.chartController=e,r}return __extends$T(t,l),t.prototype.getChartOption=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,r,o){var s=this,d=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&d.push("cartesian");var f={};d.forEach(function(y){f=deepMerge(f,s.createChartOptions({seriesType:y,expression:e,value:r}))}),this.updateChart(f),o||this.raiseChartOptionsChangedEvent()},t.prototype.awaitChartOptionUpdate=function(e){this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){return e()})},t.prototype.getAxisProperty=function(e){var r;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(null===(r=this.getChart().axes)||void 0===r?void 0:r[0],e,void 0)},t.prototype.setAxisProperty=function(e,r){var s,o=this,d=this.getChart(),f={};null===(s=d.axes)||void 0===s||s.forEach(function(y){f=deepMerge(f,o.getUpdateAxisOptions(y,e,r))}),this.updateChart(f),this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var r=this.getAxis(e);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(r,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,r){var o=this.getAxis(e);if(o){var s=this.getUpdateAxisOptions(o,"label.rotation",r);this.updateChart(s),this.raiseChartOptionsChangedEvent()}},t.prototype.getSeriesOption=function(e,r){var o=this.getChart().series.find(function(s){return t.isMatchingSeries(r,s)});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(o,e,void 0)},t.prototype.setSeriesOption=function(e,r,o){var s=this.createChartOptions({seriesType:o,expression:"series."+e,value:r});this.updateChart(s),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},t.prototype.setPairedMode=function(e){this.chartController.getChartProxy().setPaired(e)},t.prototype.getAxis=function(e){var r=this.getChart();if(r.axes&&!(r.axes.length<1))return"xAxis"===e?r.axes&&"x"===r.axes[0].direction?r.axes[0]:r.axes[1]:r.axes&&"y"===r.axes[1].direction?r.axes[1]:r.axes[0]},t.prototype.getUpdateAxisOptions=function(e,r,o){var s=getSeriesType(this.getChartType());return["number","category","time","groupedCategory"].includes(e.type)?this.createChartOptions({seriesType:s,expression:"axes."+e.type+"."+r,value:o}):{}},t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.updateChart=function(e){var r=this.chartController.getChartProxy().getChartRef();AgChart.updateDelta(r,e)},t.prototype.createChartOptions=function(e){var d={},f={theme:{overrides:d}};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(d,e.seriesType+"."+e.expression,e.value),f},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions};this.eventService.dispatchEvent(r)},t.isMatchingSeries=function(e,r){var s;return VALID_SERIES_TYPES.includes(e)&&r.type===("column"===(s=e)?"bar":s)},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$S=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ComboChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$S(t,l),t.prototype.getAxes=function(e){var r=e?e.fields:[],o=new Map(r.map(function(m){return[m.colId,m]})),s=this.getYKeys(r,e.seriesChartTypes),d=s.primaryYKeys,f=s.secondaryYKeys,y=[{type:this.getXAxisType(e),position:"bottom",gridStyle:[{stroke:void 0}]}];return d.length>0&&y.push({type:"number",keys:d,position:"left",title:{text:d.map(function(m){var E=o.get(m);return E?E.displayName:m}).join(" / ")}}),f.length>0&&f.forEach(function(m,E){var O=o.get(m);if(O&&O.colId===m){var P={type:"number",keys:[m],position:"right",title:{text:O?O.displayName:m}};!d.some(function(L){return!!o.get(L)})&&E===f.length-1||(P.gridStyle=[{stroke:void 0}]),y.push(P)}}),y},t.prototype.getSeries=function(e){var o=e.category,s=e.seriesChartTypes;return e.fields.map(function(d){var f=s.find(function(m){return m.colId===d.colId});if(f){var y=f.chartType;return{type:getSeriesType(y),xKey:o.id,yKey:d.colId,yName:d.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(y),stacked:["stackedArea","stackedColumn"].includes(y)}}})},t.prototype.getYKeys=function(e,r){var o=[],s=[];return e.forEach(function(d){var f=d.colId,y=r.find(function(m){return m.colId===f});y&&(y.secondaryAxis?s.push(f):o.push(f))}),{primaryYKeys:o,secondaryYKeys:s}},t}(CartesianChartProxy),__extends$R=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$N=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GridChartComp=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.params=e,r}return __extends$R(t,l),t.prototype.init=function(){var e=this,r=this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES;if(r.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var o=this.params.chartThemeName;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(r,o)||(o=r[0]);var s={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:o,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},d=this.gridOptionsService.is("enableRtl");this.addCssClass(d?"ag-rtl":"ag-ltr");var f=this.createBean(new ChartDataModel(s));this.chartController=this.createManagedBean(new ChartController(f)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ChartMenu.EVENT_DOWNLOAD_CHART,function(){return e.downloadChart()}),this.update(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.getChartThemes(),r=this.gridOptionsService.get("customChartThemes");r&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllKeysInObjects([r]).forEach(function(o){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,o)||console.warn("AG Grid: a custom chart theme with the name '"+o+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e=this,r=void 0;this.chartProxy&&(r=this.chartProxy.destroy({keepChartInstance:!0}));var s=this.chartController.getChartType(),d={chartType:s,chartInstance:r,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return e.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var y,m;return null!==(m=null===(y=e.chartMenu)||void 0===y?void 0:y.getExtraPaddingDirections())&&void 0!==m?m:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(y,m){e.params.crossFilteringContext.lastSelectedChartId=m?"":e.chartController.getChartId(),m&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(y,m)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(y,m){return e.chartTranslationService.translate(y,m)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=s,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(d),this.chartProxy){var f=this.eChart.querySelector("canvas");f&&f.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ChartOptionsService(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",d.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new BarChartProxy(e);case"pie":case"doughnut":return new PieChartProxy(e);case"area":case"stackedArea":case"normalizedArea":return new AreaChartProxy(e);case"line":return new LineChartProxy(e);case"scatter":case"bubble":return new ScatterChartProxy(e);case"histogram":return new HistogramChartProxy(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ComboChartProxy(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,r=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),o=this.getBestDialogSize();this.chartDialog=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({resizable:!0,movable:!0,maximizable:!0,title:r,width:o.width,height:o.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),r=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(e),o=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteHeight(e),d=this.chartProxy.getChart(),f=this.params.insideDialog?850:d.width,y=this.params.insideDialog?470:d.height;return(f>r||y>o)&&(f=Math.min(f,r),(y=Math.round(.553*f))>o&&(y=o,f=Math.min(f,Math.round(y/.553)))),{width:f,height:y}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TitleEdit(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.update=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,r=this.chartProxy,s=this.chartController.getSelectedValueColState().map(function(m){return{colId:m.colId,displayName:m.displayName}}),d=this.chartController.getChartData();if(!this.handleEmptyChart(d,s)){var y=this.chartController.getChartUpdateParams();r.update(y),this.chartProxy.getChart().waitForUpdate().then(function(){e.chartController.raiseChartUpdatedEvent()}),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.handleEmptyChart=function(e,r){var o=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),s=1;this.chartController.isActiveXYChart()&&(s="bubble"===this.chartController.getChartType()?3:2);var d=r.length<s||0===e.length;if(this.eChart){var f=o||d;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eChart,!f),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eEmpty,f)}return o?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!d&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(e,r,o){this.chartProxy.downloadChart(e,r,o)},t.prototype.openChartToolPanel=function(e){this.chartMenu.showMenu(e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[e])},t.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},t.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=this,r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then(function(){e.eventService.dispatchEvent(r)})},t.prototype.raiseChartDestroyedEvent=function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChart")],t.prototype,"eChart",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChartContainer")],t.prototype,"eChartContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenuContainer")],t.prototype,"eMenuContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eEmpty")],t.prototype,"eEmpty",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$N([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$a="29.3.5",__assign$b=function(){return __assign$b=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$b.apply(this,arguments)},__rest=function(l,t){var e={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&t.indexOf(r)<0&&(e[r]=l[r]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(l);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(l,r[o])&&(e[r[o]]=l[r[o]])}return e},__read$d=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__values$4=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function upgradeChartModel(l){return null==l.version&&(l.version=heuristicVersionDetection(l)),l=migrateIfBefore("23.0.0",l,migrateV23),l=migrateIfBefore("24.0.0",l,migrateV24),l=migrateIfBefore("25.1.0",l,migrateV25_1),l=migrateIfBefore("26.0.0",l,migrateV26),l=migrateIfBefore("26.1.0",l,migrateV26_1),l=migrateIfBefore("26.2.0",l,migrateV26_2),l=migrateIfBefore("28.0.0",l,migrateV28),l=migrateIfBefore("28.2.0",l,migrateV28_2),l=cleanup(l=migrateIfBefore("29.0.0",l,migrateV29)),migrateIfBefore(VERSION$a,l,function(t){return t})}function migrateV23(l){return l=jsonRename("chartOptions.legend.item.marker.type","shape",l),l=jsonRename("chartOptions.seriesDefaults.marker.type","shape",l),jsonRename("chartOptions.legend.padding","spacing",l)}function migrateV24(l){var t,e=l=jsonDelete("chartOptions.seriesDefaults.marker.minSize",l),r=e.chartType,o=e.chartPalette,s=e.chartOptions,d=s.xAxis,f=s.yAxis,y=__rest(s,["xAxis","yAxis"]),m=__rest(e,["chartType","chartPalette","chartOptions"]),E=getLegacyAxisType(r),O=E?.map(function(D,P){return __assign$b({type:D},0===P?d:f)});return __assign$b({chartType:r,chartThemeName:null!==(t=LEGACY_PALETTES[o])&&void 0!==t?t:"ag-default",chartOptions:__assign$b(__assign$b({},y),{axes:O,xAxis:d,yAxis:f})},m)}function migrateV25_1(l){return jsonRename("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",l)}function migrateV26(l){return l=jsonDelete("chart",l=jsonMutate("chartOptions.seriesDefaults.highlightStyle",l,function(e){var r=e.dimOpacity,o=__rest(e,["dimOpacity"]);return __assign$b(__assign$b({},o),null!=r?{series:{dimOpacity:r}}:{})})),l=jsonDelete("chartOptions.seriesDefaults.tooltipClass",l),l=jsonDeleteDefault("chartOptions.axes[].label.rotation",0,l=jsonDelete("chartOptions.seriesDefaults.tooltipTracking",l)),jsonDeleteDefault("chartOptions.axes[].label.rotation",335,l)}function migrateV26_1(l){var t=function(e){var r=e.item,o=e.series,s=__rest(e,["item","series"]);return __assign$b({item:__assign$b(__assign$b({},s),r)},o?{series:o}:{})};return l=jsonMutate("chartOptions.seriesDefaults.highlightStyle",l,t),jsonMutate("chartOptions.series[].highlightStyle",l,t)}function migrateV26_2(l){l=jsonMove("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",l),l=jsonMove("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",l),l=jsonDelete("chartOptions.seriesDefaults.fill",l=jsonMove("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",l)),l=jsonDelete("chartOptions.seriesDefaults.stroke",l),l=jsonDelete("chartOptions.seriesDefaults.callout.colors",l),l=jsonDelete("chartOptions.xAxis",l);var t=l=jsonDelete("chartOptions.yAxis",l),e=t.chartType,r=t.chartOptions,o=r.axes,s=r.seriesDefaults,d=__rest(r,["axes","series","seriesDefaults"]),f=__rest(t,["chartType","chartOptions"]),y=[getSeriesType(e)],m={};if(!y.includes("pie")){var E={top:{},bottom:{},left:{},right:{}},O=o.map(function(P){var R,x=P.type,L=__rest(P,["type"]);return(R={})[x]=__assign$b(__assign$b({},E),L),R}).reduce(merge,{});ALL_AXIS_TYPES.filter(function(P){return null==O[P]}).forEach(function(P){O[P]=__assign$b({},E)}),m.axes=O}var D=y.map(function(P){var R;return(R={})[P]=__assign$b(__assign$b(__assign$b({},m),{series:s}),d),R}).reduce(merge,{});return __assign$b(__assign$b({},f),{chartType:e,chartOptions:D})}function migrateV28(l){return l=jsonDelete("chartOptions.*.title.padding",l),l=jsonDelete("chartOptions.*.subtitle.padding",l),jsonBackfill("chartOptions.*.axes.*.title.enabled",!1,l=jsonDelete("chartOptions.*.axes.*.title.padding",l))}function migrateV28_2(l){return l=jsonRename("chartOptions.pie.series.callout","calloutLine",l),jsonRename("chartOptions.pie.series.label","calloutLabel",l)}function migrateV29(l){return l=jsonMoveIfMissing("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",l),l=jsonMoveIfMissing("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",l),l=jsonMoveIfMissing("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",l),l=jsonMoveIfMissing("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",l),jsonMove("chartOptions.scatter.series.paired","chartOptions.scatter.paired",l=jsonMoveIfMissing("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",l))}function cleanup(l){return l=jsonDelete("chartOptions.*.width",l),jsonBackfill("chartOptions.*.axes.category.label.autoRotate",!0,l=jsonDelete("chartOptions.*.height",l))}function heuristicVersionDetection(l){var t,e,r=l;if(null!=l.version)return l.version;var o=function(P){for(var R=[],x=1;x<arguments.length;x++)R[x-1]=arguments[x];return Object.keys(P||{}).some(function(L){return R.includes(L)})},s=r.chartOptions,d=o(s,"seriesDefaults")?s?.seriesDefaults:s?.[Object.keys(s)[0]],f={"27.0.0":o(r,"seriesChartTypes"),"26.2.0":!o(s,"seriesDefaults"),"26.1.0":o(d?.highlightStyle,"item"),"26.0.0":o(d?.highlightStyle,"series"),"25.1.0":o(d?.label,"minAngle"),"25.0.0":o(r,"modelType","aggFunc","unlinkChart","suppressChartRanges")||o(d,"lineDash","lineDashOffset"),"24.0.0":o(r,"chartThemeName","chart")||o(s,"series"),"23.2.0":o(s,"navigator"),"23.0.0":o(null===(e=null===(t=s?.legend)||void 0===t?void 0:t.item)||void 0===e?void 0:e.marker,"shape"),"22.1.0":o(r,"chartPalette","chartType")},m=Object.entries(f).filter(function(P){return __read$d(P,2)[1]}),O=__read$d(m[0],1)[0];return void 0===O?"27.1.0":O}function migrateIfBefore(l,t,e){if(versionNumber(l)>versionNumber(t.version)){var r=e(t);return r.version=l,r}return t}function versionParts(l){var t="string"==typeof l?l.split(".").map(function(e){return Number(e)}):[];if(3!==t.length||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+l);return{major:t[0],minor:t[1],patch:t[2]}}function versionNumber(l){var t=versionParts(l);return 1e4*t.major+100*t.minor+t.patch}function jsonDeleteDefault(l,t,e){return jsonMutateProperty(l,!0,e,function(r,o){r[o]===t&&delete r[o]})}function jsonBackfill(l,t,e){return jsonMutateProperty(l,!1,e,function(r,o){null==r[o]&&(r[o]=t)})}function jsonMove(l,t,e){var r=void 0,o=!1;return e=jsonMutateProperty(l,!0,e,function(s,d){o=!0,r=s[d],delete s[d]}),o?jsonMutateProperty(t,!1,e,function(s,d){s[d]=r}):e}function jsonMoveIfMissing(l,t,e){var r=void 0,o=!1;return e=jsonMutateProperty(l,!0,e,function(s,d){o=!0,r=s[d],delete s[d]}),o?jsonMutateProperty(t,!1,e,function(s,d){void 0===s[d]&&(s[d]=r)}):e}function jsonRename(l,t,e){return jsonMutateProperty(l,!0,e,function(r,o){r[t]=r[o],delete r[o]})}function jsonDelete(l,t){return jsonMutateProperty(l,!0,t,function(e,r){return delete e[r]})}function jsonMutateProperty(l,t,e,r){var o=l instanceof Array?l:l.split("."),s=o.slice(0,o.length-1),d=o[o.length-1];return jsonMutate(s,e,function(f){var y=Object.keys(f).includes(d);if(t&&!y)return f;var m=__assign$b({},f);return r(m,d),m})}function jsonMutate(l,t,e){var r,o,s=l instanceof Array?l:l.split(".");if(t=__assign$b({},t),0===s.length)return e(t);if(s[0].startsWith("{")){var d=s[0].substring(1,s[0].lastIndexOf("}")).split(",");try{for(var f=__values$4(d),y=f.next();!y.done;y=f.next()){var m=y.value;null!=t[m]&&(t[m]=jsonMutate(s.slice(1),t[m],e))}}catch(D){r={error:D}}finally{try{y&&!y.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}else if(s[0].endsWith("[]")){var E=s[0].substring(0,l[0].indexOf("["));t[E]instanceof Array&&(t[E]=t[E].map(function(D){return jsonMutate(s.slice(1),D,e)}))}else if("*"===s[0])for(var O in t)t[O]=jsonMutate(s.slice(1),t[O],e);else null!=t[s[0]]&&(t[s[0]]=jsonMutate(s.slice(1),t[s[0]],e));return t}var merge=function(l,t){return __assign$b(__assign$b({},l),t)},LEGACY_PALETTES={borneo:"ag-default",material:"ag-material",pastel:"ag-pastel",bright:"ag-vivid",flat:"ag-solar"},__extends$Q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$a=function(){return __assign$a=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$a.apply(this,arguments)},__decorate$M=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartService=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return __extends$Q(t,l),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(o){return e.push(function(o){return __assign$a(__assign$a({},o),{version:VERSION$a})}(o.getChartModel()))}),e},t.prototype.getChartRef=function(e){var r;return this.activeCharts.forEach(function(o){o.chartId===e&&(r=o)}),r},t.prototype.getChartImageDataURL=function(e){var r;return this.activeChartComps.forEach(function(o){o.getChartId()===e.chartId&&(r=o.getChartImageDataURL(e.fileFormat))}),r},t.prototype.downloadChart=function(e){var r=Array.from(this.activeChartComps).find(function(o){return o.getChartId()===e.chartId});r?.downloadChart(e.dimensions,e.fileName,e.fileFormat)},t.prototype.openChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(o){return o.getChartId()===e.chartId});r?.openChartToolPanel(e.panel)},t.prototype.closeChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(o){return o.getChartId()===e});r?.closeChartToolPanel()},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var r=this.getSelectedRange();return this.createChart(r,e)},t.prototype.restoreChart=function(e,r){var o=this;if(e){e.version!==VERSION$a&&(e=upgradeChartModel(e));var s={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:r,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},d=function(O){return o.rangeService?o.rangeService.createCellRangeFromCellRangeParams(O):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var m=d({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(O){return O.getColId()})});return m?this.createChart(m,s.chartType,s.chartThemeName,!0,!0,s.chartContainer,void 0,void 0,s.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var E=d(s.cellRange);if(E)return this.createChart(E,s.chartType,s.chartThemeName,!1,s.suppressChartRanges,s.chartContainer,s.aggFunc,void 0,s.unlinkChart,!1,e.chartOptions,e.chartPalette,s.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var r={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(s){return s.getColId()})},o=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(r):void 0;if(o)return this.createChart(o,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,!(typeof e.suppressChartRanges<"u"&&null!==e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,r,o,s,d,f,y,m,E,O,D,P,R){var x=this;void 0===s&&(s=!1),void 0===d&&(d=!1),void 0===E&&(E=!1),void 0===O&&(O=!1);var L=this.gridOptionsService.getCallback("createChartContainer"),B={chartId:this.generateId(),pivotChart:s,cellRange:e,chartType:r,chartThemeName:o,insideDialog:!(f||L),suppressChartRanges:d,aggFunc:y,chartThemeOverrides:m,unlinkChart:E,crossFiltering:O,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:D,chartPaletteToRestore:P,seriesChartTypes:R,crossFilteringResetCallback:function(){return x.activeChartComps.forEach(function(oe){return oe.crossFilteringReset()})}},U=new GridChartComp(B);this.context.createBean(U);var Y=this.createChartRef(U);if(f){f.appendChild(U.getGui());var ee=this.environment.getTheme();ee.el&&!ee.el.contains(f)&&f.classList.add(ee.theme)}else L?L(Y):U.addEventListener(GridChartComp.EVENT_DESTROYED,function(){x.activeChartComps.delete(U),x.activeCharts.delete(Y)});return Y},t.prototype.createChartRef=function(e){var r=this,o={destroyChart:function(){r.activeCharts.has(o)&&(r.context.destroyBean(e),r.activeChartComps.delete(e),r.activeCharts.delete(o))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(o),this.activeChartComps.add(e),o},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},t.CHARTS_VERSION=VERSION$b,__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyAllActiveCharts",null),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$P=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$L=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartTranslationService=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$P(t,l),e=t,t.prototype.translate=function(r,o){return this.localeService.getLocaleTextFunc()(r,e.DEFAULT_TRANSLATIONS[r]||o)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},e=__decorate$L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartTranslationService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$O=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$K=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartCrossFilterService=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$O(t,l),e=t,t.prototype.filter=function(r,o){void 0===o&&(o=!1);var s=this.gridApi.getFilterModel();if(o)this.resetFilters(s);else{var d=e.extractFilterColId(r);this.isValidColumnFilter(d)?this.updateFilters(s,r,d):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+d+"'")}},t.prototype.resetFilters=function(r){Object.keys(r).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(r,o,s){var d,f=e.extractFilterColId(o),y=o.datum[f];if(void 0!==y){var m=y.toString();if(o.event.metaKey||o.event.ctrlKey){var E=this.getCurrentGridValuesForCategory(s),D=void 0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(E,m)?D=E.filter(function(P){return P!==m}):(D=E).push(m),r[s]=this.getUpdatedFilterModel(s,D)}else(d={})[s]=this.getUpdatedFilterModel(s,D=[m]),r=d;this.gridApi.setFilterModel(r)}},t.prototype.getUpdatedFilterModel=function(r,o){return"agMultiColumnFilter"===this.getColumnFilterType(r)?{filterType:"multi",filterModels:[null,{filterType:"set",values:o}]}:{filterType:"set",values:o}},t.prototype.getCurrentGridValuesForCategory=function(r){var o=this,s=[],d=this.getColumnById(r);return this.gridApi.forEachNodeAfterFilter(function(f){if(d&&!f.group){var y=o.valueService.getValue(d,f)+"";s.includes(y)||s.push(y)}}),s},t.extractFilterColId=function(r){return r.xKey||r.calloutLabelKey},t.prototype.isValidColumnFilter=function(r){r.indexOf("-filtered-out")&&(r=r.replace("-filtered-out",""));var o=this.getColumnFilterType(r);return"boolean"==typeof o?o:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["agSetColumnFilter","agMultiColumnFilter"],o)},t.prototype.getColumnFilterType=function(r){var o=this.getColumnById(r);if(o){var s=o.getColDef();return null!=s.filter?s.filter:s.filterFramework}},t.prototype.getColumnById=function(r){return this.columnModel.getGridColumn(r)},__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),e=__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartCrossFilterService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$N=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$9=function(){return __assign$9=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$9.apply(this,arguments)},__decorate$J=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$c=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$6=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$c(arguments[t]));return l},__values$3=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RangeService=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return __extends$N(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:r.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return r.getScrollFeature().setVerticalScrollPosition(o)},getHorizontalPosition:function(){return r.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(o){return r.getScrollFeature().setHorizontalScrollPosition(o)},shouldSkipVerticalScroll:function(){return!e.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!r.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var r=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(s){var d=s.columns;s.columns=s.columns.filter(function(y){return y.isVisible()&&-1!==r.indexOf(y)}),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(d,s.columns)&&e.dispatchChangedEvent(!1,!0,s.id)});var o=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(s){return s.columns.length>0}),o>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var r=e.columns;if(!r.length)return!1;var o=this.columnModel.getAllDisplayedColumns(),s=r.map(function(d){return o.indexOf(d)}).sort(function(d,f){return d-f});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s)-s[0]+1===r.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var r=this.pinnedRowModel.getPinnedBottomRowCount();return r>0?{rowIndex:r-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,r){if(void 0===r&&(r=!1),this.gridOptionsService.isEnableRangeSelection()){var o=this.calculateColumnsBetween(e.column,e.column);if(o){(this.gridOptionsService.is("suppressMultiRangeSelection")||!r||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var d={rowIndex:e.rowIndex,rowPinned:e.rowPinned};this.cellRanges.push({startRow:d,endRow:d,columns:o,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);this.updateRangeEnd(r,e)}},t.prototype.updateRangeEnd=function(e,r,o){void 0===o&&(o=!1);var d=this.calculateColumnsBetween(e.startColumn,r.column);!d||this.isLastCellOfRange(e,r)||(e.columns=d,e.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},o||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var r=e.startColumn,o=e.columns,s=function(O,D){var P=e.columns.filter(function(R){return R!==O});O?(e.startColumn=O,e.columns=D?__spread$6([O],P):__spread$6(P,[O])):e.columns=P},d=this.getRangeEdgeColumns(e),f=d.left,y=d.right;r===o[0]&&r!==f?s(f,!0):r===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)&&r===y&&s(y,!1)},t.prototype.getRangeEdgeColumns=function(e){var r=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(s){return r.indexOf(s)}).filter(function(s){return s>-1}).sort(function(s,d){return s-d});return{left:r[o[0]],right:r[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var r=e.key,o=e.ctrlKey||e.metaKey,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),d=this.newestRangeStartCell,f=s.columns[0],y=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s.columns),P=this.cellNavigationService.getNextCellToFocus(r,{column:d.column===f?y:f,rowIndex:s.endRow.rowIndex,rowPinned:s.endRow.rowPinned},o);if(P)return this.setCellRange({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,rowEndIndex:P.rowIndex,rowEndPinned:P.rowPinned,columnStart:d.column,columnEnd:P.column}),P}},t.prototype.setCellRange=function(e){this.gridOptionsService.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var r=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(o){o.columns&&o.startRow&&r.setNewestRangeStartCell({rowIndex:o.startRow.rowIndex,rowPinned:o.startRow.rowPinned,column:o.columns[0]}),r.cellRanges.push(o)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.clearCellRangeCellValues=function(e,r){var o=this;void 0===r&&(r="rangeService"),e||(e=this.cellRanges),e.forEach(function(s){o.forEachRowInRange(s,function(d){var f=o.rowPositionUtils.getRowNode(d);if(f)for(var y=0;y<s.columns.length;y++){var m=o.columnModel.getGridColumn(s.columns[y]);if(!m||!m.isCellEditable(f))return;f.setDataValue(m,null,r)}})})},t.prototype.createCellRangeFromCellRangeParams=function(e){var o,r=this,s=!1;if(e.columns)o=e.columns.map(function(E){return r.columnModel.getColumnWithValidation(E)}).filter(function(E){return E});else{var d=this.columnModel.getColumnWithValidation(e.columnStart),f=this.columnModel.getColumnWithValidation(e.columnEnd);if(!d||!f)return;(o=this.calculateColumnsBetween(d,f))&&o.length&&(s=o[0]!==d)}if(o)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:o,startColumn:s?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o):o[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsService.isEnableRangeSelection()){var r=this.createCellRangeFromCellRangeParams(e);r&&(r.startRow&&this.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.startColumn}),this.cellRanges.push(r),this.dispatchChangedEvent(!1,!0,r.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;var r=this.cellRanges[0],o=this.getRangeStartRow(r),s=this.getRangeEndRow(r);return o.rowPinned!==s.rowPinned||o.rowIndex!==s.rowIndex||1!==r.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,r,f,o=this,s=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(D){o.forEachRowInRange(D,function(P){var R=(P.rowPinned||"normal")+"_"+P.rowIndex,x=s.get(R),L=D.columns.map(function(U){return U.getId()});if(x){var B=L.filter(function(U){return-1===x.indexOf(U)});x.push.apply(x,__spread$6(B))}else s.set(R,L)})});try{for(var y=__values$3(s.values()),m=y.next();!m.done;m=y.next()){var O=m.value.sort().join();if(void 0!==f){if(f!==O)return!1}else f=O}}catch(D){e={error:D}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}return!0},t.prototype.forEachRowInRange=function(e,r){for(var o=this.getRangeStartRow(e),s=this.getRangeEndRow(e),d=o;d&&(r(d),!this.rowPositionUtils.sameRow(d,s));)d=this.cellNavigationService.getRowBelow(d)},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,r){var o=null!==r.columns&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(r.columns,e.column),s=this.isRowInRange(e.rowIndex,e.rowPinned,r);return o&&s},t.prototype.isLastCellOfRange=function(e,r){var o=e.startRow,s=e.endRow,d=this.rowPositionUtils.before(o,s)?s:o,f=r.rowIndex===d.rowIndex&&r.rowPinned===d.rowPinned,y=e.columns[0],m=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e.columns);return r.column===(e.startColumn===y?m:y)&&f},t.prototype.isBottomRightCell=function(e,r){var o=this.columnModel.getAllDisplayedColumns(),s=e.columns.map(function(O){return o.indexOf(O)}).sort(function(O,D){return O-D}),d=e.startRow,f=e.endRow,y=this.rowPositionUtils.before(d,f)?f:d,m=o.indexOf(r.column)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s),E=r.rowIndex===y.rowIndex&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(r.rowPinned)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(y.rowPinned);return m&&E},t.prototype.getCellRangeCount=function(e){var r=this;return this.isEmpty()?0:this.cellRanges.filter(function(o){return r.isCellInSpecificRange(e,o)}).length},t.prototype.isRowInRange=function(e,r,o){var s=this.getRangeStartRow(o),d=this.getRangeEndRow(o),f={rowIndex:e,rowPinned:r||null};if(f.rowIndex===s.rowIndex&&f.rowPinned==s.rowPinned||f.rowIndex===d.rowIndex&&f.rowPinned==d.rowPinned)return!0;var E=!this.rowPositionUtils.before(f,s),O=this.rowPositionUtils.before(f,d);return E&&O},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsService.isEnableRangeSelection()){var s=e.shiftKey,d=e.ctrlKey||e.metaKey,y=!this.gridOptionsService.is("suppressMultiRangeSelection")&&d,m=s&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.cellRanges);!y&&(!m||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0);var E=this.dragService.getStartTarget();if(E&&this.updateValuesOnMove(E),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=y&&this.getCellRangeCount(this.lastCellHovered)>1,m||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);else{var O={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:O,endRow:O,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.intersectLastRange=function(e){var r=this;if(!(e&&this.dragging||this.gridOptionsService.is("suppressMultiRangeSelection")||this.isEmpty())){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),s=this.getRangeStartRow(o),d=this.getRangeEndRow(o),f=[];this.cellRanges.slice(0,-1).forEach(function(y){var m=r.getRangeStartRow(y),E=r.getRangeEndRow(y),O=y.columns,D=O.filter(function(L){return-1===o.columns.indexOf(L)});if(D.length!==O.length)if(r.rowPositionUtils.before(d,m)||r.rowPositionUtils.before(E,s))f.push(y);else{var P=f.length;if(r.rowPositionUtils.before(m,s)){var R={columns:__spread$6(O),startColumn:o.startColumn,startRow:__assign$9({},m),endRow:r.cellNavigationService.getRowAbove(s)};f.push(R)}if(D.length>0){var x={columns:D,startColumn:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(D,o.startColumn)?o.startColumn:D[0],startRow:r.rowPositionUtils.rowMax([__assign$9({},s),__assign$9({},m)]),endRow:r.rowPositionUtils.rowMin([__assign$9({},d),__assign$9({},E)])};f.push(x)}r.rowPositionUtils.before(d,E)&&f.push({columns:__spread$6(O),startColumn:o.startColumn,startRow:r.cellNavigationService.getRowBelow(d),endRow:__assign$9({},E)}),f.length-P==1&&(f[f.length-1].id=y.id)}else f.push(y)}),this.cellRanges=f,e&&this.dispatchChangedEvent(!1,!0)}},t.prototype.updateValuesOnMove=function(e){var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getCtrlForEventTarget(this.gridOptionsService,e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ekq.DOM_DATA_KEY_CELL_CTRL),o=r?.getCellPosition();this.cellHasChanged=!1,!(!o||this.lastCellHovered&&this.cellPositionUtils.equals(o,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=o)},t.prototype.onDragging=function(e){var r=this;if(this.dragging&&e){this.updateValuesOnMove(e.target),this.lastMouseEvent=e;var o=this.lastCellHovered,s=function(y){return o&&o.rowPinned===y&&r.newestRangeStartCell.rowPinned===y},d=s("top")||s("bottom");if(this.autoScrollService.check(e,d),this.cellHasChanged){var f=this.calculateColumnsBetween(this.newestRangeStartCell.column,o.column);f&&(this.draggingRange.endRow={rowIndex:o.rowIndex,rowPinned:o.rowPinned},this.draggingRange.columns=f,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,r,o){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:r,id:o})},t.prototype.calculateColumnsBetween=function(e,r){var o=this.columnModel.getAllDisplayedColumns(),s=e===r,d=o.indexOf(e);if(d<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var f=s?d:o.indexOf(r);if(!(f<0)){if(s)return[e];for(var y=Math.min(d,f),m=y===d?f:d,E=[],O=y;O<=m;O++)E.push(o[O]);return E}console.warn("AG Grid: column "+r.getId()+" is not visible")}},__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],t.prototype,"dragService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$J([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rangeService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$M=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$I=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AbstractSelectionHandle=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return __extends$M(t,l),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(r){e.dragging=!0,e.rangeService.autoScrollService.check(r),e.changedCalculatedValues&&(e.onDrag(r),e.changedCalculatedValues=!1)},onDragStop:function(r){e.dragging=!1,e.onDragEnd(r),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var r=this.getCellCtrl(),o=this.getGui(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges()),d=s.startRow,f=s.endRow;if(d&&f&&(this.rowPositionUtils.before(f,d)?(this.setRangeStartRow(f),this.setRangeEndRow(d)):(this.setRangeStartRow(d),this.setRangeEndRow(f))),r!==e||!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(o)){this.setCellCtrl(e);var m=e.getComp().getParentOfValue();m&&m.appendChild(o)}this.setCellRange(s)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,l.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],t.prototype,"dragService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],t.prototype,"rangeService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],t.prototype,"mouseEventService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("navigationService")],t.prototype,"navigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function findLineByLeastSquares(l){var t=l.length,e=0;if(t<=1)return l;for(var r=0;r<l.length;r++){var o=l[r],s=o.toString().split("e-");s.length>1?e=Math.max(e,parseInt(s[1],10)):Math.floor(o)!==o&&(e=Math.max(e,o.toString().split(".")[1].length))}for(var d=0,f=0,y=0,m=0,E=0,O=0;O<t;O++)d+=O,f+=E=l[O],m+=O*O,y+=O*E;var D=(t*y-d*f)/(t*m-d*d),P=f/t-D*d/t,R=[];for(O=0;O<=t;O++)R.push(parseFloat((O*D+P).toFixed(e)));return R}var __extends$L=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$8=function(){return __assign$8=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$8.apply(this,arguments)},__decorate$H=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$b=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$5=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$b(arguments[t]));return l},FillHandle=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL,e}return __extends$L(t,l),t.prototype.updateValuesOnMove=function(e){l.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var D,r=this.initialXY,o=r.x,s=r.y,d=this.mouseEventService.getNormalisedPosition(e),y=d.y,m=Math.abs(o-d.x),E=Math.abs(s-y),O=this.getFillHandleDirection();(D="xy"===O?m>E?"x":"y":O)!==this.dragAxis&&(this.dragAxis=D,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var r=this.getCellCtrl();if(!r)return;this.initialPosition=r.getCellPosition()}var o=this.getLastCellHovered();o&&this.markPathFrom(this.initialPosition,o)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var y,r="x"===this.dragAxis,o=this.getCellRange(),s=o.columns.length,d=this.getRangeStartRow(),f=this.getRangeEndRow();if(this.isUp||this.isLeft){var m=r?d:this.lastCellMarked;y=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:m.rowIndex,rowStartPinned:m.rowPinned,columnStart:r?this.lastCellMarked.column:o.columns[0],rowEndIndex:f.rowIndex,rowEndPinned:f.rowPinned,columnEnd:o.columns[s-1]})}else y=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,columnStart:o.columns[0],rowEndIndex:r?f.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?f.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:o.columns[s-1]});y&&(this.raiseFillStartEvent(),this.handleValueChanged(o,y,e),this.rangeService.setCellRanges([y]),this.raiseFillEndEvent(o,y))}},t.prototype.getFillHandleDirection=function(){var e=this.gridOptionsService.get("fillHandleDirection");return e?"x"!==e&&"y"!==e&&"xy"!==e?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},t.prototype.raiseFillStartEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_START})},t.prototype.raiseFillEndEvent=function(e,r){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_END,initialRange:e,finalRange:r})},t.prototype.handleValueChanged=function(e,r,o){var s=this,d=this.rangeService.getRangeEndRow(e),f=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(r),m=this.rangeService.getRangeStartRow(r),E="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsService.is("suppressClearOnFillReduction")){var P=!0,R=[],x=[],L=0,B=function(){R.length=0,x.length=0,L=0},U=function(ee,oe){var re=s.isUp?d:f,ie=!1;E&&(P=!0,B());for(var q=function(){var ue=s.rowPositionUtils.getRowNode(re);if(!ue)return"break";E&&ee?Y(R,ee,ue,function(){return!s.rowPositionUtils.sameRow(re,s.isUp?f:d)}):oe&&(P=!0,B(),oe.forEach(function(ge){return Y(R,ge,ue,function(){return ge!==(s.isLeft?e.columns[0]:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e.columns))})})),ie=s.rowPositionUtils.sameRow(re,s.isUp?m:y),re=s.isUp?s.cellNavigationService.getRowAbove(re):s.cellNavigationService.getRowBelow(re)};!ie&&re&&"break"!==q(););},Y=function(ee,oe,re,ie){var q,se=!1;if(P)q=s.valueService.getValue(oe,re),x.push(q),P=ie();else{var ue=s.processValues(o,ee,x,oe,re,L++),ve=ue.fromUserFunction;if(q=ue.value,oe.isCellEditable(re)){var Ce=s.valueService.getValue(oe,re);ve&&Ce===q?se=!0:re.setDataValue(oe,q,"rangeService")}}se||ee.push(q)};E?e.columns.forEach(function(ee){U(ee)}):(O=this.isLeft?__spread$5(r.columns).reverse():r.columns,U(void 0,O))}else{var O=E?e.columns:e.columns.filter(function(ee){return r.columns.indexOf(ee)<0}),D=E?this.cellNavigationService.getRowBelow(y):m;D&&this.clearCellsInRange(D,d,O)}},t.prototype.clearCellsInRange=function(e,r,o){this.rangeService.clearCellRangeCellValues([{startRow:e,endRow:r,columns:o,startColumn:o[0]}])},t.prototype.processValues=function(e,r,o,s,d,f){var E,y=this.gridOptionsService.getCallback("fillOperation");if(E="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",y){var D=y({event:e,values:r,initialValues:o,currentIndex:f,currentCellValue:this.valueService.getValue(s,d),direction:E,column:s,rowNode:d});if(!1!==D)return{value:D,fromUserFunction:!0}}var P=!r.some(function(x){var L=parseFloat(x);return isNaN(L)||L.toString()!==x.toString()});if(e.altKey||!P){if(P&&1===o.length){var R=this.isUp||this.isLeft?-1:1;return{value:parseFloat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(r))+1*R,fromUserFunction:!1}}return{value:r[f%r.length],fromUserFunction:!1}}return{value:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(findLineByLeastSquares(r.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,l.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var r=e.getComp();r.addOrRemoveCssClass("ag-selection-fill-top",!1),r.addOrRemoveCssClass("ag-selection-fill-right",!1),r.addOrRemoveCssClass("ag-selection-fill-bottom",!1),r.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,r){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(r,e))return;var o=this.rowPositionUtils.before(r,e),s=this.getRangeStartRow(),d=this.getRangeEndRow();o&&(r.rowPinned==s.rowPinned&&r.rowIndex>=s.rowIndex||s.rowPinned!=d.rowPinned&&r.rowPinned==d.rowPinned&&r.rowIndex<=d.rowIndex)?(this.reduceVertical(e,r),this.isReduce=!0):(this.extendVertical(e,r,o),this.isReduce=!1)}else{var f=e.column,y=r.column;if(f===y)return;var m=this.columnModel.getAllDisplayedColumns(),E=m.indexOf(f),O=m.indexOf(y);O<=E&&O>=m.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,r),this.isReduce=!0):(this.extendHorizontal(e,r,O<E),this.isReduce=!1)}this.lastCellMarked=r},t.prototype.extendVertical=function(e,r,o){var d=this.navigationService,f=this.rangeService,y=e;do{for(var m=this.getCellRange(),E=m.columns.length,O=0;O<E;O++){var D=m.columns[O],R=__assign$8(__assign$8({},{rowIndex:y.rowIndex,rowPinned:y.rowPinned}),{column:D}),x=f.isCellInSpecificRange(R,m),L=this.rowPositionUtils.sameRow(y,e);if(o&&(this.isUp=!0),!L){var B=d.getCellByPosition(R);if(B){this.markedCells.push(B);var U=B.getComp();x||(U.addOrRemoveCssClass("ag-selection-fill-left",0===O),U.addOrRemoveCssClass("ag-selection-fill-right",O===E-1)),U.addOrRemoveCssClass(o?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(y,r))}}}if(this.rowPositionUtils.sameRow(y,r))break}while(y=o?this.cellNavigationService.getRowAbove(y):this.cellNavigationService.getRowBelow(y))},t.prototype.reduceVertical=function(e,r){var o=e;do{for(var s=this.getCellRange(),d=s.columns.length,f=this.rowPositionUtils.sameRow(o,r),y=0;y<d;y++){var E=__assign$8(__assign$8({},{rowIndex:o.rowIndex,rowPinned:o.rowPinned}),{column:s.columns[y]}),O=this.navigationService.getCellByPosition(E);O&&(this.markedCells.push(O),O.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(o,r)))}if(f)break}while(o=this.cellNavigationService.getRowAbove(o))},t.prototype.extendHorizontal=function(e,r,o){var s=this,d=this.columnModel.getAllDisplayedColumns(),f=d.indexOf(o?r.column:e.column),y=d.indexOf(o?this.getCellRange().columns[0]:r.column),m=o?0:1,E=d.slice(f+m,y+m),O=this.getRangeStartRow(),D=this.getRangeEndRow();E.forEach(function(P){var R=O,x=!1;do{x=s.rowPositionUtils.sameRow(R,D);var L=s.navigationService.getCellByPosition({rowIndex:R.rowIndex,rowPinned:R.rowPinned,column:P});if(L){s.markedCells.push(L);var B=L.getComp();B.addOrRemoveCssClass("ag-selection-fill-top",s.rowPositionUtils.sameRow(R,O)),B.addOrRemoveCssClass("ag-selection-fill-bottom",s.rowPositionUtils.sameRow(R,D)),o?(s.isLeft=!0,B.addOrRemoveCssClass("ag-selection-fill-left",P===E[0])):B.addOrRemoveCssClass("ag-selection-fill-right",P===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(E))}R=s.cellNavigationService.getRowBelow(R)}while(!x)})},t.prototype.reduceHorizontal=function(e,r){var o=this,s=this.columnModel.getAllDisplayedColumns(),d=s.indexOf(r.column),f=s.indexOf(e.column),y=s.slice(d,f),m=this.getRangeStartRow(),E=this.getRangeEndRow();y.forEach(function(O){var D=m,P=!1;do{P=o.rowPositionUtils.sameRow(D,E);var R=o.navigationService.getCellByPosition({rowIndex:D.rowIndex,rowPinned:D.rowPinned,column:O});R&&(o.markedCells.push(R),R.getComp().addOrRemoveCssClass("ag-selection-fill-right",O===y[0])),D=o.cellNavigationService.getRowBelow(D)}while(!P)})},t.prototype.refresh=function(e){var r=this.rangeService.getCellRanges()[0];r.startRow&&r.endRow?l.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),t}(AbstractSelectionHandle),__extends$K=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$7=function(){return __assign$7=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$7.apply(this,arguments)},RangeHandle=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE,e.rangeFixed=!1,e}return __extends$K(t,l),t.prototype.onDrag=function(e){var r=this.getLastCellHovered();if(r){var o=this.rangeService.getCellRanges(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o);this.rangeFixed||(this.fixRangeStartEnd(s),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},2===o.length&&o[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION&&s.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(s))&&this.rangeService.updateRangeEnd(o[0],__assign$7(__assign$7({},this.endPosition),{column:o[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var r=this.rangeService.getRangeStartRow(e),o=this.rangeService.getRangeEndRow(e),s=e.columns[0];e.startRow=r,e.endRow=o,e.startColumn=s},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(AbstractSelectionHandle),__extends$J=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$G=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SelectionHandleFactory=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$J(t,l),t.prototype.createSelectionHandle=function(e){return this.createBean(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE?new RangeHandle:new FillHandle)},__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionHandleFactory")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$9="29.3.5",RangeSelectionModule={version:VERSION$9,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule,beans:[RangeService,SelectionHandleFactory],agStackComponents:[{componentName:"AgFillHandle",componentClass:FillHandle},{componentName:"AgRangeHandle",componentClass:RangeHandle}],dependantModules:[EnterpriseCoreModule]},__extends$I=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$F=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$a=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},AgColorPanel=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=e.picker,r}return __extends$I(t,l),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var r=this.spectrumValRect;if(r){var o=e.clientX-r.left,s=e.clientY-r.top;o=Math.max(o,0),o=Math.min(o,r.width),s=Math.max(s,0),s=Math.min(s,r.height),this.setSpectrumValue(o/r.width,1-s/r.height)}},t.prototype.moveHueSlider=function(e){var r=this.spectrumHueRect;if(r){var o=this.spectrumHueSlider,s=o.getBoundingClientRect(),d=e.clientX-r.left;d=Math.max(d,0),d=Math.min(d,r.width),this.H=1-d/r.width,o.style.left=d+s.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var r=this.spectrumAlphaRect;if(r){var o=this.spectrumAlphaSlider,s=o.getBoundingClientRect(),d=e.clientX-r.left;d=Math.max(d,0),d=Math.min(d,r.width),this.A=d/r.width,o.style.left=d+s.width/2+"px",this.update()}},t.prototype.update=function(){var e=Color.fromHSB(360*this.H,this.S,this.B,this.A),r=Color.fromHSB(360*this.H,1,1),o=e.toRgbaString(),s=this.picker;Color.fromString(s.getValue()).toRgbaString()!==o&&(this.colorChanged=!0),s.setValue(o),this.spectrumColor.style.backgroundColor=r.toRgbaString(),this.spectrumDragger.style.backgroundColor=o},t.prototype.setSpectrumValue=function(e,r){var o=this.spectrumValRect||this.refreshSpectrumRect();if(o){var s=this.spectrumDragger,d=s.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),r=Math.max(0,r),r=Math.min(1,r),this.S=e,this.B=r,s.style.left=e*o.width-d.width/2+"px",s.style.top=(1-r)*o.height-d.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var r=t.recentColors.map(function(o,s){return'<div class="ag-recent-color" id='+s+' style="background-color: '+o+'; width: 15px; height: 15px;" recent-color="'+o+'"></div>'});this.recentColors.innerHTML=r.join("")},t.prototype.setValue=function(e){var r=Color.fromString(e),o=__read$a(r.toHSB(),3),s=o[0],d=o[1],f=o[2];this.H=(isNaN(s)?0:s)/360,this.A=r.a;var y=this.spectrumHueRect||this.refreshHueRect(),m=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-y.width+"px",this.spectrumAlphaSlider.style.left=this.A*m.width+"px",this.setSpectrumValue(d,f)},t.prototype.onRecentColorClick=function(e){var r=e.target;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r.id)){var o=parseInt(r.id,10);this.setValue(t.recentColors[o]),this.destroy()}},t.prototype.addRecentColor=function(){var r=Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),o=t.recentColors;!this.colorChanged||o[0]===r||(o=o.filter(function(s){return s!=r}),(o=[r].concat(o)).length>t.maxRecentColors&&(o=o.slice(0,t.maxRecentColors)),t.recentColors=o)},t.prototype.destroy=function(){this.addRecentColor(),l.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumColor")],t.prototype,"spectrumColor",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumVal")],t.prototype,"spectrumVal",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumDragger")],t.prototype,"spectrumDragger",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHue")],t.prototype,"spectrumHue",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("recentColors")],t.prototype,"recentColors",void 0),__decorate$F([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$H=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AgColorPicker=function(l){function t(e){var r=l.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(r.value=e.color),r}return __extends$H(t,l),t.prototype.postConstruct=function(){l.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,r=this.getGui().getBoundingClientRect(),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:r.right-190,y:r.top-250}));this.isPickerDisplayed=!0,o.addCssClass("ag-color-dialog"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eWrapper,!0);var s=this.createBean(new AgColorPanel({picker:this}));return s.addDestroyFunc(function(){o.isAlive()&&e.destroyBean(o)}),o.setParentComponent(this),o.setBodyComponent(s),s.setValue(this.getValue()),o.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,s.isAlive()&&e.destroyBean(s)),e.isAlive()&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),o},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,l.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.MQo),__read$9=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION=28,VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION=6;function isValidVersion(l){return l&&l.match(/\d+\.\d+\.\d+/)}function isValidMajorVersion(l){var e=l.chartsMajorVersion,r=parseInt(l.gridMajorVersion,10),o=parseInt(e,10),s=r-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION;return s===o-VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION&&s>=0}function gridChartVersion(l){if(l&&isValidVersion(l)){var t=__read$9(l.split(".")||[],2),e=t[0],r=t[1],o=e+"."+r+".x",d=parseInt(e,10)-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION+VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION;if(!(d<0))return{gridMajorMinor:o,chartsMajorMinor:d+"."+r+".x"}}}function validGridChartsVersionErrorMessage(l){var t=l.type,e=l.gridVersion,r=l.chartsVersion,o="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!e)return o;var s=gridChartVersion(e);if(!s)return o;var d=s.gridMajorMinor,f=s.chartsMajorMinor;return"incompatible"===t?"AG Grid version "+e+" and AG Charts version "+r+" is not supported. AG Grid version "+d+" should be used with AG Chart "+f+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":"invalidCharts"===t?"AG Grid version "+d+" should be used with AG Chart "+f+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":o}function validGridChartsVersion(l){var t=l.gridVersion,e=l.chartsVersion;if(!isValidVersion(e))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidCharts",gridVersion:t,chartsVersion:e})};if(!isValidVersion(t))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidGrid",gridVersion:t,chartsVersion:e})};var r=__read$9(t.split(".")||[],2),o=r[0],s=r[1],d=__read$9(e.split(".")||[],2),y=d[1],m=isValidMajorVersion({gridMajorVersion:o,chartsMajorVersion:d[0]});return m&&s===y?{isValid:!0}:m&&s===y?{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalid",gridVersion:t,chartsVersion:e})}:{isValid:!1,message:validGridChartsVersionErrorMessage({type:"incompatible",gridVersion:t,chartsVersion:e})}}var GridChartsModule={version:VERSION$a,validate:function(){return validGridChartsVersion({gridVersion:VERSION$a,chartsVersion:ChartService.CHARTS_VERSION})},moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,beans:[ChartService,ChartTranslationService,ChartCrossFilterService],agStackComponents:[{componentName:"AgColorPicker",componentClass:AgColorPicker},{componentName:"AgAngleSelect",componentClass:AgAngleSelect}],dependantModules:[RangeSelectionModule,EnterpriseCoreModule]},__FORCE_MODULE_DETECTION_AG_GRID_CORE_EXT=0,agCharts={time,AgChart},__extends$G=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$6=function(){return __assign$6=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$6.apply(this,arguments)},__decorate$E=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DetailCellRendererCtrl=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return __extends$G(t,l),t.prototype.init=function(e,r){var o=this;this.params=r,this.comp=e,null!=r.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(r.node.parent,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.EVENT_DATA_CHANGED,function(){o.needRefresh=!0}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var r=this.params;this.rowPositionUtils.sameRow({rowIndex:r.node.rowIndex,rowPinned:r.node.rowPinned},{rowIndex:e.rowIndex,rowPinned:e.rowPinned})&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsService.is("detailRowAutoHeight"),o=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(o,!0)},t.prototype.setupRefreshStrategy=function(){var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsService.is("detailRowAutoHeight"),r=__assign$6({},this.params.detailGridOptions);e&&(r.domLayout="autoHeight"),this.comp.setDetailGrid(r)}},t.prototype.registerDetailWithMaster=function(e,r){var o=this.params.node.id,s=this.params.api,d={id:o,api:e,columnApi:r},f=this.params.node;s.addDetailGridInfo(o,d),f.detailGridInfo=d,this.addDestroyFunc(function(){f.detailGridInfo===d&&(s.removeDetailGridInfo(o),f.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var r=this.loadRowDataVersion,o=this.params.getDetailRowData;o?o({node:this.params.node,data:this.params.node.data,successCallback:function(f){e.loadRowDataVersion===r&&e.comp.setRowData(f)},context:this.gridOptionsService.context}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.refreshStrategy&&(this.needRefresh=!1,"everything"===this.refreshStrategy||(this.loadRowData(),0)))},__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$F=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$D=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DetailCellRenderer=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$F(t,l),t.prototype.init=function(e){var r=this;this.params=e,this.selectAndSetTemplate();var o={addOrRemoveCssClass:function(s,d){return r.addOrRemoveCssClass(s,d)},addOrRemoveDetailGridCssClass:function(s,d){return r.eDetailGrid.classList.toggle(s,d)},setDetailGrid:function(s){return r.setDetailGrid(s)},setRowData:function(s){return r.setRowData(s)},getGui:function(){return r.eDetailGrid}};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl),this.ctrl.init(o,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var r=function(){e.setTemplate(t.TEMPLATE)};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.template))r();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var s=(0,this.params.template)(this.params);this.setTemplate(s)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var r=this.context.getBean("agGridReact"),o=r?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(r):void 0,s=this.context.getBean("frameworkComponentWrapper"),d=this.getFrameworkOverrides();new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rjZ(this.eDetailGrid,e,{frameworkOverrides:d,providedBeanInstances:{agGridReact:o,frameworkComponentWrapper:s}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$8="29.3.5",MasterDetailModule={version:VERSION$8,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:DetailCellRenderer}],controllers:[{controllerName:"detailCellRenderer",controllerClass:DetailCellRendererCtrl}],dependantModules:[EnterpriseCoreModule]},__extends$E=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$C=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},EnterpriseMenuFactory=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$E(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,r,o){var s=this;this.showMenu(e,function(d){var f=d.getGui();s.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:r,ePopup:f}),o&&d.showTab(o)},"columnMenu",o,void 0,r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,o,s,d){var f=this,y=-1,m="left";this.gridOptionsService.is("enableRtl")&&(y=1,m="right"),this.showMenu(e,function(E){var O=E.getGui();f.popupService.positionPopupByComponent({type:o,column:e,eventSource:r,ePopup:O,alignSide:m,nudgeX:9*y,nudgeY:-23,position:"under",keepWithinBounds:!0}),s&&E.showTab(s)},o,s,d,r)},t.prototype.showMenu=function(e,r,o,s,d,f){var y=this,m=this.getMenuParams(e,d,f),E=m.menu,O=m.eMenuGui,R=m.anchorToElement,x=[];x.push(this.getClosedCallback(e,E,m.currentHeaderPosition,m.currentColumnIndex,f));var L=this.localeService.getLocaleTextFunc(),B=this.popupService.addPopup({modal:!0,eChild:O,closeOnEsc:!0,closedCallback:function(U){x.forEach(function(Y){return Y(U)})},afterGuiAttached:function(U){return E.afterGuiAttached(Object.assign({},{container:o},U))},positionCallback:s?function(){return r(E)}:void 0,anchorToElement:R,ariaLabel:L("ariaLabelColumnMenu","Column Menu")});this.addStopAnchoring(B?.stopAnchoringPromise,e,x),s||(E.showTabBasedOnPreviousSelection(),r(E)),E.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,function(U){y.lastSelectedTab=U.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=E,E.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){y.activeMenu===E&&(y.activeMenu=null)})},t.prototype.getClosedCallback=function(e,r,o,s,d){var f=this;return function(y){if(f.destroyBean(r),e.setMenuVisible(!1,"contextMenu"),y instanceof KeyboardEvent&&d)if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(d)){var E=f.focusService.findTabbableParent(d);E&&(e&&f.headerNavigationService.scrollToColumn(e),E.focus())}else if(o&&-1!==s){var O=f.columnModel.getAllDisplayedColumns(),D=O[s]||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(O);D&&f.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:o.headerRowIndex,column:D}})}}},t.prototype.addStopAnchoring=function(e,r,o){e&&e.then(function(s){r.addEventListener("leftChanged",s),r.addEventListener("visibleChanged",s),o.push(function(){r.removeEventListener("leftChanged",s),r.removeEventListener("visibleChanged",s)})})},t.prototype.getMenuParams=function(e,r,o){var s=this.createBean(new EnterpriseMenu(e,this.lastSelectedTab,r));return{menu:s,eMenuGui:s.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),anchorToElement:o||this.ctrlsService.getGridBodyCtrl().getGui()}},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length>0},__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("headerNavigationService")],t.prototype,"headerNavigationService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuFactory")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),EnterpriseMenu=function(l){function t(e,r,o){var s=l.call(this)||this;return s.tabFactories={},s.includeChecks={},s.column=e,s.initialSelection=r,s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return s.filterManager.isFilterAllowed(e)},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s.restrictTo=o,s}return __extends$E(t,l),t.prototype.init=function(){var e=this,r=this.getTabsToCreate().map(function(o){return e.createTab(o)});this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:r,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(function(){return e.destroyBean(e.tabbedLayout)})},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(r){return e.isValidMenuTabItem(r)}).filter(function(r){return e.isNotSuppressed(r)}).filter(function(r){return e.isModuleLoaded(r)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var r=!0,o=t.TABS_DEFAULT;return null!=this.restrictTo&&(r=this.restrictTo.indexOf(e)>-1,o=this.restrictTo),(r=r&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+o+"]"),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL}r&&this.activateTab(r)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var r,e=this.getDefaultMenuOptions(),o=this.gridOptionsService.getCallback("getMainMenuItems");return r=o?o({column:this.column,defaultItems:e}):e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeRepeatsFromArray(r,t.MENU_ITEM_SEPARATOR),r},t.prototype.getDefaultMenuOptions=function(){var e=[],r=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,s=o>0,d=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,f=this.column.isAllowValue(),y=this.column.isAllowRowGroup(),m=this.column.isPrimary(),E=this.columnModel.isPivotMode(),O="clientSide"===this.rowModel.getType(),D=this.gridOptionsService.isTreeData(),P=m&&s&&f||!m;return r&&e.push("pinSubMenu"),P&&e.push("valueAggSubMenu"),(r||P)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),y&&this.column.isPrimary()&&e.push(d?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),O&&(D||o>(E?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3);var e=this.getMenuItems(),r=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(r),this.mainMenuList.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var r;e&&e.event&&e.event instanceof KeyboardEvent&&(r=e.event),this.hidePopupFunc(r&&{keyboardEvent:r});var o=this.focusService.getFocusedCell(),s=this.gridOptionsService.getDocument();s.activeElement===s.body&&o&&this.focusService.setFocusedCell({rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},t.prototype.createFilterPanel=function(){var e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!e)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e?.guiPromise,afterAttachedCallback:function(s){e?.filterPromise&&e.filterPromise.then(function(d){d&&d.afterGuiAttached&&d.afterGuiAttached(s)})},afterDetachedCallback:function(){var s;return null===(s=e?.filterPromise)||void 0===s?void 0:s.then(function(d){var f;return null===(f=d?.afterGuiDetached)||void 0===f?void 0:f.call(d)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var r=this.createManagedBean(new PrimaryColsPanel),o=this.column.getColDef().columnsMenuParams;o||(o={});var E=o.columnLayout;r.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!o.contractColumnSelection,suppressColumnExpandAll:!!o.suppressColumnExpandAll,suppressColumnFilter:!!o.suppressColumnFilter,suppressColumnSelectAll:!!o.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!E||!!o.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context},"columnMenu"),E&&r.setColumnLayout(E);var O=r.getGui();return O.classList.add("ag-menu-column-select"),e.appendChild(O),this.tabItemColumns={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var o=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:o}),o&&(this.hidePopupFunc=o,this.addDestroyFunc(o))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$C([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$D=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$5=function(){return __assign$5=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$5.apply(this,arguments)},__decorate$B=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},CSS_MENU="ag-menu",CSS_CONTEXT_MENU_OPEN="ag-context-menu-open",ContextMenuFactory=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$D(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,r,o){var s=[];if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule)&&r&&(this.gridOptionsService.is("suppressCutToClipboard")||s.push("cut"),s.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.is("enableCharts")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&s.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&s.push("chartRange")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)){var d=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),f=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule),y=this.gridOptionsService.is("suppressExcelExport")||f,m=this.gridOptionsService.is("suppressCsvExport")||d;!(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isIOSUserAgent()||y&&m)&&s.push("export")}var D=this.gridOptionsService.getCallback("getContextMenuItems");return D?D({node:e,column:r,value:o,defaultItems:s.length?s:void 0}):s},t.prototype.onContextMenu=function(e,r,o,s,d,f){!this.gridOptionsService.is("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsService.is("suppressContextMenu"))||this.showMenu(o,s,d,e||r.touches[0],f)&&(e||r).preventDefault()},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var o=e.which;this.gridOptionsService.is("suppressMiddleClickScrolls")&&2===o&&e.preventDefault()},t.prototype.showMenu=function(e,r,o,s,d){var f=this,y=this.getMenuItems(e,r,o),m=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===y||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(y))return!1;var E=new ContextMenu(y);this.createBean(E);var O=E.getGui(),D={column:r,rowNode:e,type:"contextMenu",mouseEvent:s,ePopup:O,nudgeY:1},P=this.localeService.getLocaleTextFunc(),R=this.popupService.addPopup({modal:!0,eChild:O,closeOnEsc:!0,closedCallback:function(){m.classList.remove(CSS_CONTEXT_MENU_OPEN),f.destroyBean(E)},click:s,positionCallback:function(){var x=f.gridOptionsService.is("enableRtl");f.popupService.positionPopupUnderMouseEvent(__assign$5(__assign$5({},D),{nudgeX:x?-1*(O.offsetWidth+1):1}))},anchorToElement:d,ariaLabel:P("ariaLabelContextMenu","Context Menu")});return R&&(m.classList.add(CSS_CONTEXT_MENU_OPEN),E.afterGuiAttached({container:"contextMenu",hidePopup:R.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=E,E.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){f.activeMenu===E&&(f.activeMenu=null)}),R&&E.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,R.hideFunc),!0},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("contextMenuFactory")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ContextMenu=function(l){function t(e){var r=l.call(this,'<div class="'+CSS_MENU+'" role="presentation"></div>')||this;return r.menuList=null,r.focusedCell=null,r.menuItems=e,r}return __extends$D(t,l),t.prototype.addMenuItems=function(){var e=this,r=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),o=this.menuItemMapper.mapWithStockItems(this.menuItems,null);r.addMenuItems(o),this.appendChild(r),this.menuList=r,r.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(s){return e.dispatchEvent(s)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var r=this.focusedCell,o=r.rowIndex,s=r.rowPinned,d=r.column,f=this.gridOptionsService.getDocument();f.activeElement===f.body&&this.focusService.setFocusedCell({rowIndex:o,column:d,rowPinned:s,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),l.prototype.destroy.call(this)},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$B([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"addMenuItems",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$C=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$4=function(){return __assign$4=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$4.apply(this,arguments)},__decorate$A=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MenuItemMapper=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$C(t,l),t.prototype.mapWithStockItems=function(e,r){var o=this;if(!e)return[];var s=[];return e.forEach(function(d){var f;if(f="string"==typeof d?o.getStockMenuItem(d,r):__assign$4({},d)){var m=f.subMenu;m&&m instanceof Array&&(f.subMenu=o.mapWithStockItems(m,r)),null!=f&&s.push(f)}}),s},t.prototype.getStockMenuItem=function(e,r){var s,o=this,d=this.localeService.getLocaleTextFunc(),f=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:d("pinColumn","Pin Column"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:d("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnPinned(r,"left","contextMenu")},checked:!!r&&r.isPinnedLeft()};case"pinRight":return{name:d("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnPinned(r,"right","contextMenu")},checked:!!r&&r.isPinnedRight()};case"clearPinned":return{name:d("noPin","No Pin"),action:function(){return o.columnModel.setColumnPinned(r,null,"contextMenu")},checked:!!r&&!r.isPinned()};case"valueAggSubMenu":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Aggregation from Menu")&&(r?.isPrimary()||r?.getColDef().pivotValueColumn)?{name:d("valueAggregation","Value Aggregation"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(r)}:null;case"autoSizeThis":return{name:d("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(r,f,"contextMenu")}};case"autoSizeAll":return{name:d("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns(f,"contextMenu")}};case"rowGroup":return{name:d("groupBy","Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return o.columnModel.addRowGroupColumn(r,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":return{name:d("ungroupBy","Un-Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return o.columnModel.removeRowGroupColumn(r,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null)};case"resetColumns":return{name:d("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:d("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:d("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy from Menu")?{name:d("copy","Copy"),shortcut:d("ctrlC","Ctrl+C"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:d("copyWithHeaders","Copy with Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:d("copyWithGroupHeaders","Copy with Group Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Cut from Menu")){var y=this.focusService.getFocusedCell(),m=y?this.rowPositionUtils.getRowNode(y):null,E=!!m&&y?.column.isCellEditable(m);return{name:d("cut","Cut"),shortcut:d("ctrlX","Ctrl+X"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!E||this.gridOptionsService.is("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard()}}}return null;case"paste":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Paste from Clipboard")?{name:d("paste","Paste"),shortcut:d("ctrlV","Ctrl+V"),disabled:!0,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var O=[],D=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),P=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule);return!this.gridOptionsService.is("suppressCsvExport")&&D&&O.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&P&&O.push("excelExport"),{name:d("export","Export"),subMenu:O,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:d("csvExport","CSV Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:d("excelExport","Excel Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return null!==(s=this.chartMenuItemMapper.getChartItems(e))&&void 0!==s?s:null;default:return console.warn("AG Grid: unknown menu item type "+e),null}},t.prototype.createAggregationSubMenu=function(e){var s,r=this,o=this.localeService.getLocaleTextFunc();if(e.isPrimary())s=e;else{var d=e.getColDef().pivotValueColumn;s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d)?d:void 0}var f=[];if(s){var y=s.isValueActive(),m=this.aggFuncService.getFuncNames(s);f.push({name:o("noAggregation","None"),action:function(){r.columnModel.removeValueColumn(s,"contextMenu"),r.columnModel.setColumnAggFunc(s,void 0,"contextMenu")},checked:!y}),m.forEach(function(E){f.push({name:o(E,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(E)),action:function(){r.columnModel.setColumnAggFunc(s,E,"contextMenu"),r.columnModel.addValueColumn(s,"contextMenu")},checked:y&&s.getAggFunc()===E})})}return f},__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("clipboardService")],t.prototype,"clipboardService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartMenuItemMapper")],t.prototype,"chartMenuItemMapper",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuItemMapper")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$7="29.3.5",__extends$B=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$3=function(){return __assign$3=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$3.apply(this,arguments)},__decorate$z=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$8=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},ChartMenuItemMapper=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$B(t,l),e=t,t.prototype.getChartItems=function(r){var o,s;if(this.chartService){var d="pivotChart"===r?new PivotMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService):new RangeMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService),f=d.getMenuItem(),y=null===(s=null===(o=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===o?void 0:o.settingsPanel)||void 0===s?void 0:s.chartGroupsDef;return y&&(f=e.filterAndOrderChartMenu(f,y,d.getConfigLookup())),this.cleanInternals(f)}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,'the Context Menu key "'+r+'"')},t.prototype.cleanInternals=function(r){if(!r)return r;var o=function(s){var d;return null==s||delete s._key,null===(d=s?.subMenu)||void 0===d||d.forEach(function(f){return o(f)}),s};return o(r)},t.buildLookup=function(r){var o={},s=function(d){o[d._key]=d,d.subMenu&&d.subMenu.forEach(function(f){return s(f)})};return s(r),o},t.filterAndOrderChartMenu=function(r,o,s){var d,f=this.buildLookup(r),y=__assign$3(__assign$3({},r),{subMenu:[]});if(Object.entries(o).forEach(function(m){var E,O,D=__read$8(m,2),P=D[0],x=s[P];if(null!=x){var L=f[x._key];if(L)if(L.subMenu){var B=D[1].map(function(U){var Y=x[U];if(null!=Y)return f[Y];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+P+"."+U+"'")},"invalid_chartGroupsDef"+U+"_"+P)}).filter(function(U){return void 0!==U});B.length>0&&(L.subMenu=B,null===(E=y.subMenu)||void 0===E||E.push(L))}else null===(O=y.subMenu)||void 0===O||O.push(L)}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+P+"'")},"invalid_chartGroupsDef"+P)}),0!=(null===(d=y.subMenu)||void 0===d?void 0:d.length))return y},__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("chartService")],t.prototype,"chartService",void 0),e=__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartMenuItemMapper")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),PivotMenuItemMapper=function(){function l(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return l.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(o,s,d,f){return{name:e(o,s),action:function(){return t.chartService.createPivotChart({chartType:d})},_key:f}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","pivotPie"),r("doughnut","Doughnut&lrm;","doughnut","pivotDoughnut")]},r("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","pivotScatter"),r("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","pivotArea"),r("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},r("histogramChart","Histogram&lrm;","histogram","pivotHistogramChart"),{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},l.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",doughnut:"pivotDoughnut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},histogramGroup:{_key:"pivotHistogramChart",histogram:"pivotHistogramChart"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:""}}},l}(),RangeMenuItemMapper=function(){function l(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return l.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(o,s,d,f){return{name:e(o,s),action:function(){return t.chartService.createChartFromCurrentRange(d)},_key:f}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","rangePie"),r("doughnut","Doughnut&lrm;","doughnut","rangeDoughnut")],_key:"rangePieChart"},r("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","rangeScatter"),r("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","rangeArea"),r("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},r("histogramChart","Histogram&lrm;","histogram","rangeHistogramChart"),{name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},l.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",doughnut:"rangeDoughnut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},histogramGroup:{_key:"rangeHistogramChart",histogram:"rangeHistogramChart"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:""}}},l}(),MenuModule={version:VERSION$7,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MenuModule,beans:[EnterpriseMenuFactory,ContextMenuFactory,MenuItemMapper,ChartMenuItemMapper],dependantModules:[EnterpriseCoreModule]},__extends$A=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$2=function(){return __assign$2=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$2.apply(this,arguments)},__decorate$y=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MultiFilter=function(l){function t(){var e=l.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return __extends$A(t,l),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)}})},t.getFilterDefs=function(e){var r=e.filters;return r&&r.length>0?r:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var s=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=s;var d=[];return this.filterDefs.forEach(function(f,y){var m=r.createFilter(f,y);null!=m&&d.push(m)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(d).then(function(f){r.filters=f,r.refreshGui("columnMenu"),r.afterFiltersReadyFuncs.forEach(function(y){return y()}),r.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var r=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(o,s){s>0&&r.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>'));var y,d=r.filterDefs[s],f=r.getFilterTitle(o,d);y="subMenu"===d.display&&"toolPanel"!==e?r.insertFilterMenu(o,f).getGui():"subMenu"===d.display||"accordion"===d.display?r.insertFilterGroup(o,f).getGui():o.getGui(),r.appendChild(y)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,r){return null!=r.title?r.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,r){var o=this,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC({name:r,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return s.setParentComponent(this),this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),this.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_ACTIVATED,function(d){o.lastActivatedMenuItem&&o.lastActivatedMenuItem!==d.menuItem&&o.lastActivatedMenuItem.deactivate(),o.lastActivatedMenuItem=d.menuItem}),s.addGuiEventListener("focusin",function(){return s.activate()}),s.addGuiEventListener("focusout",function(){s.isSubMenuOpen()||s.deactivate()}),s},t.prototype.insertFilterGroup=function(e,r){var o=this,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:r,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),s.addItem(e.getGui()),s.toggleGroupExpand(!1),e.afterGuiAttached){var d={container:this.lastOpenedInContainer,suppressFocus:!0};s.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,function(){return e.afterGuiAttached(d)})}return s},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,r){var o=!0;return this.filters.forEach(function(s){!o||s===r||!s.isFilterActive()||(o=s.doesFilterPass(e))}),o},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return"function"==typeof r.getModelFromUi?r.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return r.isFilterActive()?r.getModel():null})}:null},t.prototype.setModel=function(e){var r=this,o=function(d,f){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(y){var m=d.setModel(f);m?m.then(function(){return y()}):y()})},s=[];return null==e?s=this.filters.map(function(d,f){return o(d,null).then(function(){r.updateActiveList(f)})}):this.filters.forEach(function(d,f){var m=o(d,e.filterModels.length>f?e.filterModels[f]:null).then(function(){r.updateActiveList(f)});s.push(m)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s).then(function(){})},t.prototype.applyModel=function(e){void 0===e&&(e="api");var r=!1;return this.filters.forEach(function(o){o instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU&&(r=o.applyModel(e)||r)}),r},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var r=this.params.filters,o=r&&r.some(function(f){return f.display&&"inline"!==f.display});this.executeFunctionIfExists("afterGuiAttached",__assign$2(__assign$2({},e||{}),{suppressFocus:o}));var s=this.gridOptionsService.getDocument(),d=s.activeElement;o&&(d===s.body||this.getGui().contains(d))&&this.forceFocusOutOfContainer(!0)},t.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(r){r.setModel(null),e.destroyBean(r)}),this.filters.length=0,this.destroyChildren(),l.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.forEachReverse(this.filters,function(s){var d=s[e];"function"==typeof d&&d.apply(s,r)})},t.prototype.createFilter=function(e,r){var y,o=this,s=this.params,d=s.filterModifiedCallback,f=s.doesRowPassOtherFilter,m=__assign$2(__assign$2({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:d,filterChangedCallback:function(D){o.executeWhenAllFiltersReady(function(){return o.filterChanged(r,D)})},doesRowPassOtherFilter:function(D){return f(D)&&o.doesFilterPass({node:D,data:D.data},y)}}),E=this.userComponentFactory.getFilterDetails(e,m,"agTextColumnFilter");if(!E)return null;var O=E.newAgStackInstance();return O&&O.then(function(D){return y=D}),O},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var r=this.filters[e];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(this.activeFilterIndices,e),r.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,r){this.updateActiveList(e),this.filterChangedCallback(r);var o=this.filters[e];this.filters.forEach(function(s){s!==o&&"function"==typeof s.onAnyFilterChanged&&s.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},t.prototype.getModelAsString=function(e){var r,o,s,d;if(!this.filters||null===(r=e?.filterModels)||void 0===r||!r.length)return"";var f=null!==(o=this.getLastActiveFilterIndex())&&void 0!==o?o:0,y=this.filters[f];return null!==(d=null===(s=y.getModelAsString)||void 0===s?void 0:s.call(y,e.filterModels[f]))&&void 0!==d?d:""},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign$1=function(){return __assign$1=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$1.apply(this,arguments)},__decorate$x=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MultiFloatingFilterComp=function(l){function t(){var e=l.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return __extends$z(t,l),t.prototype.init=function(e){var r=this;this.params=e;var s=[];return MultiFilter.getFilterDefs(e.filterParams).forEach(function(d,f){var y=__assign$1(__assign$1({},e),{parentFilterInstance:function(E){r.parentMultiFilterInstance(function(O){var D=O.getChildFilterInstance(f);null!=D&&E(D)})}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(y.filterParams,d.filterParams);var m=r.createFloatingFilter(d,y);null!=m&&s.push(m)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s).then(function(d){d.forEach(function(f,y){r.floatingFilters.push(f);var m=f.getGui();r.appendChild(m),y>0&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(m,!1)})})},t.prototype.onParentModelChanged=function(e,r){var o=this;r&&r.afterFloatingFilter||this.parentMultiFilterInstance(function(s){if(null==e)o.floatingFilters.forEach(function(f,y){f.onParentModelChanged(null,r),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(f.getGui(),0===y)});else{var d=s.getLastActiveFilterIndex();o.floatingFilters.forEach(function(f,y){f.onParentModelChanged(e.filterModels.length>y?e.filterModels[y]:null,r);var E=null==d?0===y:y===d;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(f.getGui(),E)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,l.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,r){var o,s=null!==(o=this.userComponentFactory.getDefaultFloatingFilterType(e))&&void 0!==o?o:"agReadOnlyFloatingFilter",d=this.userComponentFactory.getFloatingFilterCompDetails(e,r,s);return d?d.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof MultiFilter))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");e(r)})},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$6="29.3.5",MultiFilterModule={version:VERSION$6,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:MultiFilter},{componentName:"agMultiColumnFloatingFilter",componentClass:MultiFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]};function bindCellRendererToHtmlElement(l,t){l.then(function(e){var r=e.getGui();null!=r&&("object"==typeof r?t.appendChild(r):t.innerHTML=r)})}var __extends$y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$w=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RichSelectRow=function(l){function t(e){var r=l.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return r.params=e,r}return __extends$y(t,l),t.prototype.setState=function(e,r,o){this.populateWithRenderer(e,r)||this.populateWithoutRenderer(e,r),this.updateSelected(o)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,r){var s=null!=r?r:e;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&""!==s?this.getGui().textContent=s.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,r){var o=this,s={value:e,valueFormatted:r,api:this.gridOptionsService.api},d=this.userComponentFactory.getCellRendererDetails(this.params,s),f=d?d.newAgStackInstance():void 0;return null!=f?bindCellRendererToHtmlElement(f,this.getGui()):this.getGui().innerText=null!=s.valueFormatted?s.valueFormatted:s.value,!!f&&(f.then(function(y){o.addDestroyFunc(function(){o.getContext().destroyBean(y)})}),!0)},__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$x=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$v=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RichSelectCellEditor=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return __extends$x(t,l),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("smallDown",this.gridOptionsService);if(r.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(r),this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var o=e.values;this.virtualList.setModel({getRowCount:function(){return o.length},getRow:function(f){return o[f]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var s=this.virtualList.getGui();this.addManagedListener(s,"click",this.onClick.bind(this)),this.addManagedListener(s,"mousemove",this.onMouseMove.bind(this));var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(this.clearSearchString,d),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var r=e.key;switch(e.preventDefault(),r){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.onEnterKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB:this.confirmSelection();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:this.onNavigationKeyPressed(e,r);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,r){e.preventDefault();var o=this.params.values.indexOf(this.selectedValue),s=r===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP?o-1:o+1;s>=0&&s<this.params.values.length&&this.setSelectedValue(this.params.values[s])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var r=e.key;if(r===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isEventFromPrintableCharacter(e))return;this.searchText(r)}},t.prototype.runSearch=function(){var o,e=this,r=this.params.values;if(("number"==typeof r[0]||"string"==typeof r[0])&&(o=r.map(function(y){return e.params.formatValue(y)})),"object"==typeof r[0]&&this.params.colDef.keyCreator&&(o=r.map(function(y){return e.params.colDef.keyCreator({value:y,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsService.api,columnApi:e.gridOptionsService.columnApi,context:e.gridOptionsService.context})})),o){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.fuzzySuggestions(this.searchString,o,!0)[0];if(s){var d=o.indexOf(s);this.setSelectedValue(r[d])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,r=this.params.formatValue(this.selectedValue),o=this.eValue,d=this.userComponentFactory.getCellRendererDetails(this.params,{value:this.selectedValue,valueFormatted:r,api:this.gridOptionsService.api}),f=d?d.newAgStackInstance():void 0;f?(bindCellRendererToHtmlElement(f,o),f.then(function(y){e.addDestroyFunc(function(){return e.getContext().destroyBean(y)})})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.selectedValue)?o.innerText=r:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(o)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var r=this.params.values.indexOf(e);-1!==r&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(r),this.virtualList.forEachRenderedRow(function(o,s){o.updateSelected(r===s)}),this.virtualList.focusRow(r))}},t.prototype.createRowComponent=function(e){var r=this.params.formatValue(e),o=new RichSelectRow(this.params);return this.getContext().createBean(o),o.setState(e,r,e===this.selectedValue),o},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),o=this.virtualList.getScrollTop(),d=Math.floor((e.clientY-r.top+o)/this.virtualList.getRowHeight()),f=this.params.values[d];void 0!==f&&this.setSelectedValue(f)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&(this.params.values.length?this.virtualList.focusRow(-1!==e?e:0):this.getGui().focus())},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],t.prototype,"eValue",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eList")],t.prototype,"eList",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RXH),VERSION$5="29.3.5",RichSelectModule={version:VERSION$5,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RichSelectCellEditor},{componentName:"agRichSelectCellEditor",componentClass:RichSelectCellEditor}],dependantModules:[EnterpriseCoreModule]},__extends$w=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$u=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FullStore=function(l){function t(e,r,o){var s=l.call(this,0)||this;return s.nodeIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,s.info={},s.ssrmParams=e,s.parentRowNode=o,s.level=o.level+1,s.groupLevel=e.rowGroupCols?s.level<e.rowGroupCols.length:void 0,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s}return __extends$w(t,l),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsService.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]);var o=1,s=-1===this.parentRowNode.level,d=this.storeUtils.getServerSideInitialRowCount();s&&void 0!==d&&(o=d),this.initialiseRowNodes(o),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,r){void 0===r&&(r=!1),this.destroyRowNodes();for(var o=0;o<e;o++){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r&&(s.failedLoad=!0),this.allRowNodes.push(s),this.nodesAfterFilter.push(s),this.nodesAfterSort.push(s)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,r){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=r?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertIntoArray(this.allRowNodes,o,r):this.allRowNodes.push(o);var s=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(o,e,s,void 0),this.nodeManager.addRowNode(o),this.blockUtils.checkOpenByDefault(o),this.allNodesMap[o.id]=o,o},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var r=e.storeInfo||e.groupLevelInfo;r&&Object.assign(this.info,r);var o=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(o,e.rowData),o&&this.blockUtils.destroyRowNodes(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(o)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,r){var o=this;r&&r.forEach(function(f){var y=function(f){if(e){var y=o.gridOptionsService.getRowIdFunc();if(y){var m=o.parentRowNode.getGroupKeys(),O=y({data:f,parentKeys:m.length>0?m:void 0,level:o.level}),D=e[O];if(D)return delete e[O],D}}}(f);y?function(f,y){o.allNodesMap[f.id]=f,o.blockUtils.updateDataIntoRowNode(f,y),o.allRowNodes.push(f)}(y,f):o.createDataNode(f)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),r=this.sortController.getSortOptions();this.nodesAfterSort=e||!r||0==r.length?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,r)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerSideFilterOnServer()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(s){return e.filterManager.doesRowPassFilter({rowNode:s})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,r){var o=this;this.displayIndexStart=e.peek(),this.topPx=r.value;var s={};this.nodesAfterSort.forEach(function(d){o.blockUtils.setDisplayIndex(d,e,r),s[d.id]=!0}),this.allRowNodes.forEach(function(d){s[d.id]||o.blockUtils.clearDisplayIndex(d)}),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){void 0===r&&(r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),e(this,r.next()),this.allRowNodes.forEach(function(o){var s=o.childStore;s&&s.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){void 0===r&&(r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.allRowNodes.forEach(function(o){e(o,r.next());var s=o.childStore;s&&s.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){void 0===r&&(r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.nodesAfterSort.forEach(function(o){e(o,r.next());var s=o.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,r)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var r=0;r<this.nodesAfterSort.length;r++){var s=this.blockUtils.extractRowBounds(this.nodesAfterSort[r],e);if(s)return s}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var r=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var f=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=f.rowTop+f.rowHeight&&f.expanded){if(f.childStore&&f.childStore.getRowCount()>0)return f.childStore.getRowIndexAtPixel(e);if(f.detailNode)return f.detailNode.rowIndex}return f.rowIndex}var m=null;return this.nodesAfterSort.forEach(function(O){var D=r.blockUtils.getIndexAtPixel(O,e);null!=D&&(m=D)}),null==m?this.displayIndexEnd-1:m},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(o){return r.allRowNodes.find(function(d){return d.key==o})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(r){var o=r.childStore;o&&e(o)})},t.prototype.refreshAfterFilter=function(e){var r=this.storeUtils.isServerSideFilterOnServer(),o=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.storeUtils.isServerSideFilterAllLevels()||r&&o)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(d){return d.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var r=this.storeUtils.isServerSideSortOnServer(),o=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.storeUtils.isServerSideSortAllLevels()||r&&o)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(d){return d.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoadingFailed};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADING:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWaitingToLoad}}var r=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(r&&!r({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var d={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,remove:[],update:[],add:[]},f=[];return this.executeAdd(e,d),this.executeRemove(e,d,f),this.executeUpdate(e,d,f),this.filterAndSortNodes(),this.updateSelection(f),d},t.prototype.updateSelection=function(e){e.length>0&&(e.forEach(function(s){s.setSelected(!1,!1,!0,"rowDataChanged")}),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"}))},t.prototype.executeAdd=function(e,r){var o=this,s=e.add,d=e.addIndex;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(s)||("number"==typeof d&&d>=0?s.reverse().forEach(function(y){var m=o.createDataNode(y,d);r.add.push(m)}):s.forEach(function(y){var m=o.createDataNode(y);r.add.push(m)}))},t.prototype.executeRemove=function(e,r,o){var s=this,d=e.remove;if(null!=d){var f={};d.forEach(function(y){var m=s.lookupRowNode(y);m&&(m.isSelected()&&o.push(m),m.clearRowTopAndRowIndex(),f[m.id]=!0,delete s.allNodesMap[m.id],r.remove.push(m),s.nodeManager.removeNode(m))}),this.allRowNodes=this.allRowNodes.filter(function(y){return!f[y.id]})}},t.prototype.executeUpdate=function(e,r,o){var s=this,d=e.update;d?.forEach(function(f){var y=s.lookupRowNode(f);y&&(s.blockUtils.updateDataIntoRowNode(y,f),!y.selectable&&y.isSelected()&&o.push(y),r.update.push(y))})},t.prototype.lookupRowNode=function(e){var o,r=this.gridOptionsService.getRowIdFunc();if(null!=r){var s=this.level,d=this.parentRowNode.getGroupKeys(),f=r({data:e,parentKeys:d.length>0?d:void 0,level:s});if(!(o=this.allNodesMap[f]))return console.error("AG Grid: could not find row id="+f+", data item was not found for this id"),null}else if(!(o=this.allRowNodes.find(function(y){return y.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return o},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,r){var o=[],s=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(s=!0),this.nodesAfterSort.forEach(function(f){var y=f===e||f===r;(s||y)&&o.push(f),y&&(s=!s)}),s?[]:o},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRowNodes",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__extends$v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$t=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$7=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},LazyBlockLoader=function(l){function t(e,r,o){var s=l.call(this)||this;return s.loadingNodes=new Set,s.checkForLoadQueued=!1,s.loaderTimeout=void 0,s.nextBlockToLoad=void 0,s.parentNode=r,s.cache=e,s.storeParams=o,s}return __extends$v(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.rowNodeBlockLoader,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fKL.BLOCK_LOADED_EVENT,function(){return e.queueLoadAction()})},t.prototype.isRowLoading=function(e){return this.loadingNodes.has(e)},t.prototype.getBlockToLoad=function(){for(var e,r=this.api.getFirstDisplayedRow(),o=this.api.getLastDisplayedRow(),s=r;s<=o;s++){var d=this.cache.getNodeCachedByDisplayIndex(s);if(d){var f=this.cache.getNodes().getBy("node",d);if(f&&!this.isRowLoading(f.index)&&(d.__needsRefreshWhenVisible||d.stub&&!d.failedLoad))return this.getBlockStartIndexForIndex(f.index)}}var y=this.cache.getNodesToRefresh(),m=null,E=Number.MAX_SAFE_INTEGER;y.forEach(function(D){if(null!=D.rowIndex){var P=Math.abs(r-D.rowIndex),R=Math.abs(D.rowIndex-o);P<E&&(m=D,E=P),R<E&&(m=D,E=R)}else m=D});var O=null===(e=this.cache.getNodes().getBy("node",m))||void 0===e?void 0:e.index;return null==O?void 0:this.getBlockStartIndexForIndex(O)},t.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},t.prototype.executeLoad=function(e,r){var s,o=this,d=this.cache.getSsrmParams(),f={startRow:e,endRow:r,rowGroupCols:d.rowGroupCols,valueCols:d.valueCols,pivotCols:d.pivotCols,pivotMode:d.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:d.filterModel,sortModel:d.sortModel},y=function(){for(var P=0;P<r-e;P++)o.loadingNodes.delete(e+P)},E=function(P){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadSuccess(e,r-e,P),y(),o.queueLoadAction()},O=function(){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadFailed(e,r-e),y(),o.queueLoadAction()},D={request:f,successCallback:function(P,R){return E({rowData:P,rowCount:R})},success:E,failCallback:O,fail:O,parentNode:this.parentNode,api:this.api,columnApi:this.columnApi,context:this.gridOptionsService.context};(function(){for(var P=0;P<r-e;P++)o.loadingNodes.add(e+P)})(),null===(s=this.cache.getSsrmParams().datasource)||void 0===s||s.getRows(D)},t.prototype.getNextBlockToLoad=function(){var e=this.getBlockToLoad();return null!=e&&e<0&&this.getBlockToLoad(),null!=e?[String(e),e+this.getBlockSize()]:null},t.prototype.queueLoadCheck=function(){var e=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask(function(){e.checkForLoadQueued=!1,e.queueLoadAction()}))},t.prototype.queueLoadAction=function(){var r,e=this,o=this.getNextBlockToLoad();if(!o)return window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,void(this.nextBlockToLoad=void 0);if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==o[0]&&this.nextBlockToLoad[1]!==o[1]){this.nextBlockToLoad=o,window.clearTimeout(this.loaderTimeout);var s=__read$7(this.nextBlockToLoad,2),f=s[1],y=Number(s[0]);this.loaderTimeout=window.setTimeout(function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(y,f),e.nextBlockToLoad=void 0)},null!==(r=this.gridOptionsService.getNum("blockLoadDebounceMillis"))&&void 0!==r?r:0)}},t.prototype.attemptLoad=function(e,r){var o=this.rowNodeBlockLoader.getAvailableLoadingCount();null!=o&&0===o||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(e,r),this.queueLoadAction())},t.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||t.DEFAULT_BLOCK_SIZE},t.prototype.getBlockStartIndexForIndex=function(e){return e-e%this.getBlockSize()},t.prototype.getBlockBoundsForIndex=function(e){var r=this.getBlockStartIndexForIndex(e);return[r,r+this.getBlockSize()]},t.DEFAULT_BLOCK_SIZE=100,__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"api",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),__decorate$t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),MultiIndexMap=function(){function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map(function(r){return[r,new Map]}))}return l.prototype.getBy=function(t,e){var r=this.maps.get(t);if(!r)throw new Error("AG Grid: "+String(t)+" not found");return r.get(e)},l.prototype.set=function(t){var e=this;this.indexes.forEach(function(r){var o=e.maps.get(r);if(!o)throw new Error("AG Grid: "+String(r)+" not found");o.set(t[r],t)})},l.prototype.delete=function(t){var e=this;this.indexes.forEach(function(r){var o=e.maps.get(r);if(!o)throw new Error("AG Grid: "+String(r)+" not found");o.delete(t[r])})},l.prototype.clear=function(){this.maps.forEach(function(t){return t.clear()})},l.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: "+String(t)+" not found");return e.values()},l.prototype.forEach=function(t){for(var r,e=this.getIterator(this.indexes[0]);(r=e.next())&&!r.done;)t(r.value)},l.prototype.find=function(t){for(var r,e=this.getIterator(this.indexes[0]);(r=e.next())&&!r.done;)if(t(r.value))return r.value},l.prototype.filter=function(t){for(var r,e=this.getIterator(this.indexes[0]),o=[];(r=e.next())&&!r.done;)t(r.value)&&o.push(r.value);return o},l}(),__extends$u=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$s=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$6=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$4=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$6(arguments[t]));return l},LazyCache=function(l){function t(e,r,o){var s=l.call(this)||this;return s.live=!0,s.store=e,s.numberOfRows=r,s.isLastRowKnown=!1,s.storeParams=o,s}return __extends$u(t,l),t.prototype.init=function(){this.nodeMap=new MultiIndexMap("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new LazyBlockLoader(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getRowIdFunc(),this.isMasterDetail=this.gridOptionsService.isMasterDetail()},t.prototype.destroyRowNodes=function(){var e=this;this.numberOfRows=0,this.nodeMap.forEach(function(r){return e.blockUtils.destroyRowNode(r.node)}),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},t.prototype.getRowByDisplayIndex=function(e){var r,o,s,d;if(this.store.isDisplayIndexInStore(e)){var f=this.nodeDisplayIndexMap.get(e);if(f)return(f.stub||f.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),f;if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);var y=this.nodeDisplayIndexMap.get(e-1);if(y){if(this.isMasterDetail&&y.master&&y.expanded)return y.detailNode;if(y.expanded&&null!==(r=y.childStore)&&void 0!==r&&r.isDisplayIndexInStore(e))return null===(o=y.childStore)||void 0===o?void 0:o.getRowUsingDisplayIndex(e);var m=this.nodeMap.getBy("node",y);return this.createStubNode(m.index+1,e)}var E=this.getSurroundingNodesByDisplayIndex(e);if(null==E){var O=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(O,e)}var D=E.previousNode,P=E.nextNode;if(D&&D.node.expanded&&null!==(s=D.node.childStore)&&void 0!==s&&s.isDisplayIndexInStore(e))return null===(d=D.node.childStore)||void 0===d?void 0:d.getRowUsingDisplayIndex(e);if(P)return this.createStubNode(P.index-(P.node.rowIndex-e),e);var L=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(L,e)}},t.prototype.createStubNode=function(e,r){var o=this,s=this.store.getRowBounds(r),d=this.createRowAtIndex(e,null,function(f){f.setRowIndex(r),f.setRowTop(s.rowTop),o.nodeDisplayIndexMap.set(r,f)});return this.rowLoader.queueLoadCheck(),d},t.prototype.getRowByStoreIndex=function(e){var r;return null===(r=this.nodeMap.getBy("index",e))||void 0===r?void 0:r.node},t.prototype.skipDisplayIndexes=function(e,r,o){if(0!==e){var s=this.gridOptionsService.getRowHeightAsNumber();r.skip(e),o.value+=e*s}},t.prototype.setDisplayIndexes=function(e,r){this.nodeDisplayIndexMap.clear();var o={};this.nodeMap.forEach(function(O){o[O.index]=O.node});var s=-1;for(var d in o){var f=o[d],y=Number(d);this.skipDisplayIndexes(y-1-s,e,r),this.blockUtils.setDisplayIndex(f,e,r),this.nodeDisplayIndexMap.set(f.rowIndex,f),s=y}this.skipDisplayIndexes(this.numberOfRows-1-s,e,r),this.purgeExcessRows()},t.prototype.getRowCount=function(){return this.numberOfRows},t.prototype.setRowCount=function(e,r){if(e<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=e,null!=r&&(this.isLastRowKnown=r,!1===r&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},t.prototype.getNodes=function(){return this.nodeMap},t.prototype.getNodeCachedByDisplayIndex=function(e){var r;return null!==(r=this.nodeDisplayIndexMap.get(e))&&void 0!==r?r:null},t.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},t.prototype.getSurroundingNodesByDisplayIndex=function(e){var r,o;return this.nodeMap.forEach(function(s){e>s.node.rowIndex?(null==o||o.node.rowIndex<s.node.rowIndex)&&(o=s):(null==r||r.node.rowIndex>s.node.rowIndex)&&(r=s)}),o||r?{previousNode:o,nextNode:r}:null},t.prototype.getDisplayIndexFromStoreIndex=function(e){var r,o,d,f,s=this.nodeMap.getBy("index",e);if(s)return s.node.rowIndex;if(this.nodeMap.forEach(function(E){e>E.index?(null==f||f.index<E.index)&&(f=E):(null==d||d.index>E.index)&&(d=E)}),!d)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!f)return this.store.getDisplayIndexStart()+e;var y=e-f.index;return(null!==(o=null===(r=f.node.childStore)||void 0===r?void 0:r.getDisplayIndexEnd())&&void 0!==o?o:f.node.rowIndex)+y},t.prototype.createRowAtIndex=function(e,r,o){var s=this.nodeMap.getBy("index",e);if(s){if(this.nodesToRefresh.delete(d=s.node),d.__needsRefreshWhenVisible=!1,this.doesNodeMatch(r,d))return this.blockUtils.updateDataIntoRowNode(d,r),d;if(null==this.getRowIdFunc&&d.group&&d.expanded)return d;this.destroyRowAtIndex(e)}if(r&&null!=this.getRowIdFunc){var f=this.getRowId(r),y=this.nodeMap.getBy("id",f);if(y){this.nodeMap.delete(y);var d,m=y.index;return this.blockUtils.updateDataIntoRowNode(d=y.node,r),this.nodeMap.set({id:d.id,node:d,index:e}),this.markBlockForVerify(m),d}}var E=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=r){var O=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(E,r,O,void 0),this.blockUtils.checkOpenByDefault(E),this.nodeManager.addRowNode(E)}return this.nodeMap.set({id:E.id,node:E,index:e}),o&&o(E),E},t.prototype.getBlockStates=function(){var e=this,r={},o={};this.nodeMap.forEach(function(y){var m,E=y.node,D=e.rowLoader.getBlockStartIndexForIndex(y.index);!E.stub&&!E.failedLoad&&(r[D]=(null!==(m=r[D])&&void 0!==m?m:0)+1);var P="loaded";E.failedLoad?P="failed":e.rowLoader.isRowLoading(D)?P="loading":(e.nodesToRefresh.has(E)||E.stub)&&(P="needsLoading"),o[D]||(o[D]=new Set),o[D].add(P)});var s={loading:4,failed:3,needsLoading:2,loaded:1},d=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),f={};return Object.entries(o).forEach(function(y){var m,E=__read$6(y,2),O=E[0],R=__spread$4(E[1]).sort(function(B,U){var Y,ee;return(null!==(Y=s[B])&&void 0!==Y?Y:0)-(null!==(ee=s[U])&&void 0!==ee?ee:0)})[0],x=Number(O)/e.rowLoader.getBlockSize(),L=d?d+"-"+x:String(x);f[L]={blockNumber:x,startRow:Number(O),endRow:Number(O)+e.rowLoader.getBlockSize(),pageStatus:R,loadedRowCount:null!==(m=r[O])&&void 0!==m?m:0}}),f},t.prototype.destroyRowAtIndex=function(e){var r=this.nodeMap.getBy("index",e);r&&(this.nodeMap.delete(r),this.nodeDisplayIndexMap.delete(r.node.rowIndex),this.nodesToRefresh.delete(r.node),this.blockUtils.destroyRowNode(r.node))},t.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},t.prototype.getPrefixedId=function(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()},t.prototype.markBlockForVerify=function(e){var r=__read$6(this.rowLoader.getBlockBoundsForIndex(e),2),o=r[0],s=r[1];this.nodeMap.filter(function(f){return f.index>=o&&f.index<s}).forEach(function(f){f.node.__needsRefreshWhenVisible=!0})},t.prototype.doesNodeMatch=function(e,r){if(r.stub)return!1;if(null!=this.getRowIdFunc){var o=this.getRowId(e);return r.id===o}return r.data===e},t.prototype.purgeStubsOutsideOfViewport=function(){var e=this,r=this.api.getFirstDisplayedRow(),o=this.api.getLastDisplayedRow(),s=this.rowLoader.getBlockStartIndexForIndex(r),f=__read$6(this.rowLoader.getBlockBoundsForIndex(o),2)[1];this.nodeMap.forEach(function(y){e.rowLoader.isRowLoading(y.index)||y.node.stub&&(y.index<s||y.index>f)&&e.destroyRowAtIndex(y.index)})},t.prototype.getBlocksDistanceFromRow=function(e,r){var o=this,s={};return e.forEach(function(d){var f=d.node,m=__read$6(o.rowLoader.getBlockBoundsForIndex(d.index),2),E=m[0],O=m[1];if(!(E in s)){var P,D=Math.abs(f.rowIndex-r),R=o.nodeMap.getBy("index",[O-1]);R&&(P=Math.abs(R.node.rowIndex-r)),s[E]=null==P||D<P?D:P}}),Object.entries(s)},t.prototype.purgeExcessRows=function(){var r,e=this;if(this.purgeStubsOutsideOfViewport(),null!=this.store.getDisplayIndexEnd()&&null!=this.storeParams.maxBlocksInCache){var o=this.api.getFirstDisplayedRow(),s=this.api.getLastDisplayedRow(),d=new Set,f=new Set;this.nodeMap.forEach(function(oe){var ie=oe.node,q=e.rowLoader.getBlockStartIndexForIndex(oe.index);d.add(q),ie.rowIndex>=o&&ie.rowIndex<=s&&f.add(q)});var y=Math.max(f.size,null!==(r=this.storeParams.maxBlocksInCache)&&void 0!==r?r:0),E=d.size-y;if(!(E<=0)){var O=Number.MAX_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;f.forEach(function(oe){O>oe&&(O=oe),D<oe&&(D=oe)});var P=this.nodeMap.filter(function(oe){var re=oe.node,q=e.rowLoader.getBlockStartIndexForIndex(oe.index);return!(q>=O&&q<=D||e.isNodeCached(re))});if(0!==P.length){var x=this.getBlocksDistanceFromRow(P,o+(s-o)/2),L=this.rowLoader.getBlockSize();x.sort(function(oe,re){return Math.sign(re[1]-oe[1])});for(var B=0;B<Math.min(E,x.length);B++)for(var U=Number(x[B][0]),Y=U;Y<U+L;Y++){var ee=this.nodeMap.getBy("index",Y);!ee||this.isNodeCached(ee.node)||this.destroyRowAtIndex(Y)}}}}},t.prototype.isNodeFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();return!(!r||null!=r.rowPinned)&&r.rowIndex===e.rowIndex},t.prototype.isNodeCached=function(e){return e.isExpandable()&&e.expanded||this.isNodeFocused(e)},t.prototype.extractDuplicateIds=function(e){var r=this;if(null==!this.getRowIdFunc)return[];var o=new Set,s=new Set;return e.forEach(function(d){var f=r.getRowId(d);o.has(f)?s.add(f):o.add(f)}),__spread$4(s)},t.prototype.onLoadSuccess=function(e,r,o){var d,s=this;if(this.live){var f=null!==(d=o.groupLevelInfo)&&void 0!==d?d:o.storeInfo;if(this.store.setStoreInfo(f),null!=this.getRowIdFunc){var y=this.extractDuplicateIds(o.rowData);if(y.length>0){var m=y.join(", ");return console.warn("AG Grid: Unable to display rows as duplicate row ids ("+m+") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids."),void this.onLoadFailed(e,r)}}var E=this.nodesToRefresh.size>0;if(o.rowData.forEach(function(R,x){var L,B=e+x,U=s.nodeMap.getBy("index",B);if(null===(L=U?.node)||void 0===L||!L.stub)return U&&s.doesNodeMatch(R,U.node)?(s.blockUtils.updateDataIntoRowNode(U.node,R),s.nodesToRefresh.delete(U.node),void(U.node.__needsRefreshWhenVisible=!1)):void s.createRowAtIndex(B,R);s.createRowAtIndex(B,R)}),E&&0===this.nodesToRefresh.size&&this.fireRefreshFinishedEvent(),null!=o.rowCount&&-1!==o.rowCount)this.numberOfRows=o.rowCount,this.isLastRowKnown=!0;else if(r>o.rowData.length)this.numberOfRows=e+o.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var D=e+o.rowData.length+1;D>this.numberOfRows&&(this.numberOfRows=D)}this.isLastRowKnown&&this.nodeMap.filter(function(R){return R.index>=s.numberOfRows}).forEach(function(R){return s.destroyRowAtIndex(R.index)}),this.fireStoreUpdatedEvent()}},t.prototype.fireRefreshFinishedEvent=function(){0===this.nodesToRefresh.size&&this.store.fireRefreshFinishedEvent()},t.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},t.prototype.onLoadFailed=function(e,r){this.live&&(this.nodeMap.filter(function(s){return s.index>=e&&s.index<e+r}).forEach(function(s){return s.node.failedLoad=!0}),this.fireStoreUpdatedEvent())},t.prototype.markNodesForRefresh=function(){var e=this;this.nodeMap.forEach(function(r){r.node.stub||e.nodesToRefresh.add(r.node)}),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},t.prototype.isNodeInCache=function(e){return!!this.nodeMap.getBy("id",e)},t.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},t.prototype.getRowId=function(e){if(null==this.getRowIdFunc)return null;var r=this.store.getRowDetails().level,o=this.store.getParentNode().getGroupKeys(),s=this.getRowIdFunc({data:e,parentKeys:o.length>0?o:void 0,level:r});return String(s)},t.prototype.updateRowNodes=function(e){var r=this;if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var o=[];return e.forEach(function(s){var d=r.getRowId(s),f=r.nodeMap.getBy("id",d);f&&(r.blockUtils.updateDataIntoRowNode(f.node,s),o.push(f.node))}),o},t.prototype.insertRowNodes=function(e,r){var o=this,s=null==r&&this.isLastRowKnown?this.store.getRowCount():r;if(null==s||this.store.getRowCount()<s)return[];if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var d={};e.forEach(function(E){var O=o.getRowId(E);O&&o.isNodeInCache(O)||(d[O]=E)});var f=Object.values(d),y=f.length;if(0===y)return[];var m=this.nodeMap.filter(function(E){return E.index>=s});return m.forEach(function(E){return o.nodeMap.delete(E)}),m.forEach(function(E){o.nodeMap.set({node:E.node,index:E.index+y,id:E.id})}),this.numberOfRows+=y,f.map(function(E,O){return o.createRowAtIndex(s+O,E)})},t.prototype.getOrderedNodeMap=function(){var e={};return this.nodeMap.forEach(function(r){return e[r.index]=r}),e},t.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},t.prototype.removeRowNodes=function(e){if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var r=[],o=[],s=0,d=__spread$4(e),f=this.getOrderedNodeMap(),y=-1,m=function(D){y+=1;var P=f[D],R=d.findIndex(function(L){return L===P.id});if(-1!==R)return d.splice(R,1),E.destroyRowAtIndex(Number(D)),r.push(P.node),s+=1,"continue";if(0===s)return"continue";var x=Number(D);y!==x&&o.push(P.node),E.nodeMap.delete(f[D]),E.nodeMap.set({id:P.id,node:P.node,index:x-s})},E=this;for(var O in f)m(O);return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:s,d.length>0&&o.length>0&&(o.forEach(function(D){return D.__needsRefreshWhenVisible=!0}),this.rowLoader.queueLoadCheck()),r},__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"api",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRowNodes",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$t=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$r=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$5=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$3=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$5(arguments[t]));return l},LazyStore=function(l){function t(e,r,o){var s=l.call(this)||this;return s.idSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,s.ssrmParams=e,s.parentRowNode=o,s.storeParams=r,s.level=o.level+1,s.group=!!e.rowGroupCols&&s.level<e.rowGroupCols.length,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s.info={},s}return __extends$t(t,l),t.prototype.init=function(){var e=1;0===this.level&&(e=this.storeUtils.getServerSideInitialRowCount()),this.cache=this.createManagedBean(new LazyCache(this,e,this.storeParams)),!this.gridOptionsService.isTreeData()&&this.group&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level])},t.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},t.prototype.applyTransaction=function(e){var o,s,d,r=this,f=this.gridOptionsService.getRowIdFunc();if(!f)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var y=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(y&&!y({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var O=void 0;null!==(o=e.update)&&void 0!==o&&o.length&&(O=this.cache.updateRowNodes(e.update));var D=void 0;if(null!==(s=e.add)&&void 0!==s&&s.length){var P=e.addIndex;null!=P&&P<0&&(P=void 0),D=this.cache.insertRowNodes(e.add,P)}var R=void 0;if(null!==(d=e.remove)&&void 0!==d&&d.length){var x=e.remove.map(function(B){return f({level:r.level,parentKeys:r.parentRowNode.getGroupKeys(),data:B})}),L=__spread$3(new Set(x));R=this.cache.removeRowNodes(L)}return this.updateSelectionAfterTransaction(O,R),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,update:O,add:D,remove:R}},t.prototype.updateSelectionAfterTransaction=function(e,r){var o=!1;e?.forEach(function(d){d.isSelected()&&!d.selectable&&(d.setSelected(!1,!1,!0,"rowDataChanged"),o=!0)}),r?.forEach(function(d){d.isSelected()&&(d.setSelected(!1,!1,!0,"rowDataChanged"),o=!0)}),o&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(function(r){return e.blockUtils.clearDisplayIndex(r.node)}),this.cache.clearDisplayIndexes()},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getRowCount=function(){return this.cache.getRowCount()},t.prototype.setRowCount=function(e,r){this.cache.setRowCount(e,r)},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.cache.getRowCount()&&this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()},t.prototype.setDisplayIndexes=function(e,r){this.displayIndexStart=e.peek(),this.topPx=r.value,this.cache.setDisplayIndexes(e,r),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){void 0===r&&(r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),e(this,r.next()),this.cache.getNodes().forEach(function(o){var s=o.node.childStore;s&&s.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){void 0===r&&(r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.cache.getNodes().forEach(function(o){e(o.node,r.next());var s=o.node.childStore;s&&s.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){void 0===r&&(r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1);var o=this.cache.getOrderedNodeMap();for(var s in o){var d=o[s];e(d.node,r.next());var f=d.node.childStore;f&&f.forEachNodeDeepAfterFilterAndSort(e,r)}},t.prototype.retryLoads=function(){this.cache.getNodes().forEach(function(e){var r=e.node;r.failedLoad&&(r.failedLoad=!1,r.__needsRefreshWhenVisible=!0,r.stub=!0)}),this.forEachChildStoreShallow(function(e){return e.retryLoads()}),this.fireStoreUpdatedEvent()},t.prototype.getRowUsingDisplayIndex=function(e){return this.cache.getRowByDisplayIndex(e)},t.prototype.getRowBounds=function(e){var r;if(!this.isDisplayIndexInStore(e))return null;var o=this.cache.getNodeCachedByDisplayIndex(e);if(o&&(s=this.blockUtils.extractRowBounds(o,e)))return s;var s,d=null!==(r=this.cache.getSurroundingNodesByDisplayIndex(e))&&void 0!==r?r:{},f=d.previousNode,y=d.nextNode;if(f&&null!=(s=this.blockUtils.extractRowBounds(f.node,e)))return s;var m=this.gridOptionsService.getRowHeightAsNumber();if(y){var E=Math.floor((y.node.rowIndex-e)*m);return{rowTop:y.node.rowTop-E,rowHeight:m}}return{rowTop:this.topPx+this.heightPx-Math.floor((this.getDisplayIndexEnd()-e)*m),rowHeight:m}},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var r=Number.MAX_SAFE_INTEGER,o=null,s=Number.MAX_SAFE_INTEGER,d=null;if(this.cache.getNodes().forEach(function(P){var R=P.node,x=Math.abs(e-R.rowTop);R.rowTop<e?x<r&&(r=x,o=R):x<s&&(s=x,d=R)}),o){var f=this.blockUtils.getIndexAtPixel(o,e);if(null!=f)return f}var y=this.gridOptionsService.getRowHeightAsNumber();if(d){var E=Math.ceil((d.rowTop-e)/y);return d.rowIndex-E}var D=Math.floor((this.topPx+this.heightPx-e)/y);return this.getDisplayIndexEnd()-D},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(o){var s=r.cache.getNodes().find(function(d){return d.node.key==o});return s?s.node:null})},t.prototype.forEachChildStoreShallow=function(e){this.cache.getNodes().forEach(function(r){var o=r.node;o.childStore&&e(o.childStore)})},t.prototype.refreshAfterSort=function(e){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){var o=this.cache.getRowCount();return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,o,this.storeParams)),void this.fireStoreUpdatedEvent()}this.forEachChildStoreShallow(function(s){return s.refreshAfterSort(e)})},t.prototype.refreshAfterFilter=function(e){this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.refreshStore(!0):this.forEachChildStoreShallow(function(o){return o.refreshAfterFilter(e)})},t.prototype.refreshStore=function(e){if(e)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.cache.getDisplayIndexFromStoreIndex(e)??e},t.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},t.prototype.getRowNodesInRange=function(e,r){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e),this.cache.getNodes().filter(function(o){var s=o.node;return s.rowIndex>=e.rowIndex&&s.rowIndex<=r.rowIndex}).map(function(o){return o.node})},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.getIdSequence=function(){return this.idSequence},t.prototype.getParentNode=function(){return this.parentRowNode},t.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},t.prototype.getSsrmParams=function(){return this.ssrmParams},t.prototype.setStoreInfo=function(e){e&&Object.assign(this.info,e)},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},t.prototype.fireRefreshFinishedEvent=function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(e)},t.prototype.getBlockStates=function(){return this.cache.getBlockStates()},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRowNodes",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$q=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$4=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},ServerSideRowModel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e}return __extends$s(t,l),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsService.get("serverSideDatasource");e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator"))&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")},"SSRM.InitialGroupOrderComparator"),this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=function(D){var P={};D.oldCols.forEach(function(L){return P[L.id]=L});var R=D.newCols.every(function(L){var B=P[L.id];return B&&delete P[L.id],B&&B.field===L.field&&B.aggFunc===L.aggFunc}),x=!D.allowRemovedColumns&&!!Object.values(P).length;return R&&!x},d=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.sortModel,this.sortListener.extractSortModel()),f=!s({oldCols:this.storeParams.rowGroupCols,newCols:e}),y=!s({oldCols:this.storeParams.pivotCols,newCols:o}),m=!!e?.length&&!s({oldCols:this.storeParams.valueCols,newCols:r,allowRemovedColumns:!0});if(d||f||y||m)this.resetRootStore();else{var O=this.createStoreParams();this.storeParams.rowGroupCols=O.rowGroupCols,this.storeParams.pivotCols=O.pivotCols,this.storeParams.valueCols=O.valueCols}}else this.resetRootStore()},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,r){this.storeParams&&(this.storeParams.sortModel=e);var o=this.getRootStore();o&&(o.refreshAfterSort(r),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_DATA_UPDATED}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var r=this;return e.map(function(o){return{id:o.getId(),aggFunc:o.getAggFunc(),displayName:r.columnModel.getDisplayNameForColumn(o,"model"),field:o.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=this.gridOptionsService.isGetRowHeightFunction();return{valueCols:r,rowGroupCols:e,pivotCols:o,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,dynamicRowHeight:s}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var r=this.getRootStore();if(r)return r.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(r){r.stub||r.hasChildren()&&r.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,r){this.storeParams&&(this.storeParams.filterModel=e);var o=this.getRootStore();o&&(o.refreshAfterFilter(r),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.getRootStore();return r?r.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var r=this.getRootStore();return r?r.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsService.getRowHeightAsNumber()}},t.prototype.getBlockStates=function(){var e=this.getRootStore();if(e){var r={};return e.forEachStoreDeep(function(o){if(o instanceof FullStore){var s=o.getBlockStateJson();r[s.id]=s.state}else{if(!(o instanceof LazyStore))throw new Error("AG Grid: Unsupported store type");Object.entries(o.getBlockStates()).forEach(function(y){var m=__read$4(y,2);r[m[0]]=m[1]})}}),r}},t.prototype.getRowIndexAtPixel=function(e){var r=this.getRootStore();return e<=0||!r?0:r.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return"serverSide"},t.prototype.forEachNode=function(e){var r=this.getRootStore();r&&r.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var r=this.getRootStore();r&&r.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,r){var o=this.getRootStore();if(o){var s=o.getChildStore(e);s&&r(s)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(o){return o.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],r=this.getRootStore();return r&&r.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,r){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e))return[];if(!r)return[e];var o=e.rowIndex,s=r.rowIndex;if(null===o||null===s)return[e];var d=[],f=__read$4([o,s].sort(function(O,D){return O-D}),2),y=f[0],m=f[1];return this.forEachNode(function(O){var D=O.rowIndex;null==D||O.stub||D>=y&&D<=m&&d.push(O)}),d.every(function(O,D,P){return 0===D?O.rowIndex===y:P[D-1].rowIndex===O.rowIndex-1})&&d.length===m-y+1?d:[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o),o.detailNode&&o.detailNode.id===e&&(r=o.detailNode)}),r},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.setRowCount=function(e,r){var o=this.getRootStore();if(o){if(o instanceof LazyStore)return void o.setRowCount(e,r);console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmSortService")],t.prototype,"sortListener",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyDatasource",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"addEventListeners",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRootStore",null),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$r=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$p=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StoreUtils=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$r(t,l),t.prototype.loadFromDatasource=function(e){var r=e.storeParams,o=e.parentBlock,d=e.parentNode.getGroupKeys();if(r.datasource){var y={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:d,filterModel:r.filterModel,sortModel:r.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};window.setTimeout(function(){r.datasource&&o.isAlive()?r.datasource.getRows(y):e.failCallback()},0)}},t.prototype.getChildStore=function(e,r,o){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e))return r;var d=o(e[0]);if(d){var f=e.slice(1,e.length),y=d.childStore;return y?y.getChildStore(f):null}return null},t.prototype.isServerRefreshNeeded=function(e,r,o){if(o.valueColChanged||o.secondaryColChanged)return!0;var s=e.level+1;if(!(s<r.length))return!0;var y=r[s].id;return o.changedColumns.indexOf(y)>-1||this.columnModel.getAllGridColumns().filter(function(D){return D.getColDef().showRowGroup&&o.changedColumns.includes(D.getId())}).map(function(D){return D.getColDef().showRowGroup}).some(function(D){return!0===D||D===y})},t.prototype.getServerSideInitialRowCount=function(){var e=this.gridOptionsService.getNum("serverSideInitialRowCount");return"number"==typeof e&&e>0?e:1},t.prototype.assertRowModelIsServerSide=function(e){return!!this.gridOptionsService.isRowModelType("serverSide")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: The '"+e+"' property can only be used with the Server Side Row Model.")},e),!1)},t.prototype.assertNotTreeData=function(e){return!this.gridOptionsService.is("treeData")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: The '"+e+"' property cannot be used while using tree data.")},e+"_TreeData"),!1)},t.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.is("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},t.prototype.isServerSideFilterAllLevels=function(){return this.gridOptionsService.is("serverSideFilterAllLevels")&&this.assertRowModelIsServerSide("serverSideFilterAllLevels")},t.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.is("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},t.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.is("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreUtils")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$o=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GROUP_MISSING_KEY_ID="ag-Grid-MissingKey",BlockUtils=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$q(t,l),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingMasterDetail=this.gridOptionsService.isMasterDetail()},t.prototype.createRowNode=function(e){var r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return r.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),r.group=e.group,r.leafGroup=e.leafGroup,r.level=e.level,r.uiLevel=e.level,r.parent=e.parent,r.stub=!0,r.__needsRefreshWhenVisible=!1,r.group&&(r.expanded=!1,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn),r},t.prototype.destroyRowNodes=function(e){var r=this;e&&e.forEach(function(o){return r.destroyRowNode(o)})},t.prototype.destroyRowNode=function(e,r){void 0===r&&(r=!1),e.childStore&&!r&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){e.updateHasChildren();var r=this.gridOptionsService.get("getServerSideGroupKey");e.hasChildren()&&null!=r&&(e.key=r(e.data)),!e.hasChildren()&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var r=this.gridOptionsService.get("isRowMaster");e.master=null==r||r(e.data)},t.prototype.updateDataIntoRowNode=function(e,r){e.updateData(r),this.usingTreeData?(this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e)):e.group&&this.setChildCountIntoRowNode(e)},t.prototype.setDataIntoRowNode=function(e,r,o,s){e.stub=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r)?(e.setDataAndId(r,o),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r)&&e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e,!1,s).height)},t.prototype.setChildCountIntoRowNode=function(e){var r=this.gridOptionsService.get("getChildCount");r&&e.setAllChildrenCount(r(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var r=this,o=this.columnModel.getGroupDisplayColumns(),s=this.gridOptionsService.isTreeData();o.forEach(function(d){if(null==e.groupData&&(e.groupData={}),s)e.groupData[d.getColId()]=e.key;else if(d.isRowGroupDisplayed(e.rowGroupColumn.getId())){var f=r.valueService.getValue(e.rowGroupColumn,e);e.groupData[d.getColId()]=f}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,r,o){if(e.setRowIndex(r.next()),e.setRowTop(o.value),o.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(r.next()),e.detailNode.setRowTop(o.value),o.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var f=e.childStore;e.expanded?f.setDisplayIndexes(r,o):f.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,r){var o=0,s=r.length-1;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(s)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(o))console.warn("AG Grid: error: topPointer = "+s+", bottomPointer = "+o);else for(;;){var d=Math.floor((o+s)/2),f=r[d];if(f.rowIndex===e)return f;var m=f.detailNode;if(f.master&&f.expanded&&m&&m.rowIndex===e)return f.detailNode;var E=f.childStore;if(f.expanded&&E&&E.isDisplayIndexInStore(e))return E.getRowUsingDisplayIndex(e);if(f.rowIndex<e)o=d+1;else{if(!(f.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");s=d-1}}},t.prototype.extractRowBounds=function(e,r){var o=function(d){return{rowHeight:d.rowHeight,rowTop:d.rowTop}};if(e.rowIndex===r)return o(e);if(e.hasChildren()&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var s=e.childStore;if(s.isDisplayIndexInStore(r))return s.getRowBounds(r)}else if(e.master&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.detailNode)&&e.detailNode.rowIndex===r)return o(e.detailNode)},t.prototype.getIndexAtPixel=function(e,r){if(e.isPixelInRange(r))return e.rowIndex;var s=e.detailNode;if(e.master&&e.expanded&&s&&s.isPixelInRange(r))return e.detailNode.rowIndex;if(e.hasChildren()&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var d=e.childStore;if(d.isPixelInRange(r))return d.getRowIndexAtPixel(r)}return null},t.prototype.createNodeIdPrefix=function(e){for(var r=[],o=e;o&&o.level>=0;)r.push(""===o.key?GROUP_MISSING_KEY_ID:o.key),o=o.parent;if(r.length>0)return r.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var r=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");r&&r({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmBlockUtils")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$n=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},NodeManager=function(){function l(){this.rowNodes={}}return l.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},l.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},l.prototype.clear=function(){this.rowNodes={}},__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],l.prototype,"clear",null),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmNodeManager")],l)}(),__extends$p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$m=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TransactionManager=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.asyncTransactions=[],e}return __extends$p(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},t.prototype.applyTransactionAsync=function(e,r){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:r})},t.prototype.scheduleExecuteAsync=function(){var e=this,r=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},r)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var r=[],o=[],s=[],d=!1;this.asyncTransactions.forEach(function(y){var m;e.serverSideRowModel.executeOnStore(y.transaction.route,function(O){m=O.applyTransaction(y.transaction)}),null==m&&(m={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}),o.push(m),m.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading?s.push(y):(y.callback&&r.push(function(){return y.callback(m)}),m.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied&&(d=!0))}),r.length>0&&window.setTimeout(function(){r.forEach(function(y){return y()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=s,d&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})),o.length>0&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o})}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var r;if(this.serverSideRowModel.executeOnStore(e.route,function(s){r=s.applyTransaction(e)}),r){if(this.valueCache.onDataChanged(),r.remove){var o=r.remove.map(function(s){return s.id});this.selectionService.deleteSelectionStateFromParent(e.route||[],o)}return this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED}),r}return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}},__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueCache")],t.prototype,"valueCache",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],t.prototype,"selectionService",void 0),__decorate$m([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmTransactionManager")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$o=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$l=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ExpandListener=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$o(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var r=e.node;if(r.expanded){if(r.master)this.createDetailNode(r);else if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(r.childStore)){var o=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(o,r))}}else this.gridOptionsService.is("purgeClosedRowNodes")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(r.childStore)&&(r.childStore=this.destroyBean(r.childStore));this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.detailNode))return e.detailNode;var r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);r.detail=!0,r.selectable=!1,r.parent=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1;var s=this.gridOptionsService.getRowHeightForNode(r).height;return r.rowHeight=s||200,e.detailNode=r,r},__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmExpandListener")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$k=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SortListener=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$n(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsService.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsService.isGroupMultiAutoColumn())for(var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy+"-",o=0;o<e.length;++o)e[o].colId.indexOf(r)>-1&&(e[o].colId=e[o].colId.substr(r.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var r=e.find(function(y){return y.colId==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy});if(r){var o=e.indexOf(r);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(e,r);var f=this.columnModel.getRowGroupColumns().filter(function(y){return 0==e.filter(function(m){return m.colId===y.getColId()}).length}).map(function(y){return{colId:y.getId(),sort:r.sort}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,f,o)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.extractSortModel(),s=this.findChangedColumnsInSort(r,e.sortModel),d=this.listenerUtils.isSortingWithValueColumn(s),f=this.listenerUtils.isSortingWithSecondaryColumn(s);this.serverSideRowModel.refreshAfterSort(r,{valueColChanged:d,secondaryColChanged:f,changedColumns:s})}},t.prototype.findChangedColumnsInSort=function(e,r){var o=[];return[e,r].forEach(function(f){if(f){var y=f.map(function(m){return m.colId});o=o.concat(y)}}),o.filter(function(f){var y=r.find(function(E){return E.colId===f}),m=e.find(function(E){return E.colId===f});return function(f,y){return(f?f.sort:null)!==(y?y.sort:null)}(y,m)||function(f,y){return(f?r.indexOf(f):-1)!==(y?e.indexOf(y):-1)}(y,m)})},__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),__decorate$k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmSortService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$m=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$j=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FilterListener=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$m(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.filterManager.getFilterModel(),s=this.findChangedColumns(r,e?e.filterModel:{}),d=this.listenerUtils.isSortingWithValueColumn(s),f=this.listenerUtils.isSortingWithSecondaryColumn(s);this.serverSideRowModel.refreshAfterFilter(r,{valueColChanged:d,secondaryColChanged:f,changedColumns:s})}},t.prototype.findChangedColumns=function(e,r){var o={};Object.keys(e).forEach(function(d){return o[d]=!0}),Object.keys(r).forEach(function(d){return o[d]=!0});var s=[];return Object.keys(o).forEach(function(d){JSON.stringify(e[d])!=JSON.stringify(r[d])&&s.push(d)}),s},__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmFilterListener")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$i=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StoreFactory=function(){function l(){}return l.prototype.createStore=function(t,e){var r=this.getStoreParams(t,e);return new(r.suppressInfiniteScroll?FullStore:LazyStore)(t,r,e)},l.prototype.getStoreParams=function(t,e){var r=this.getLevelSpecificParams(e),o=this.isInfiniteScroll(r);return{suppressInfiniteScroll:!o,cacheBlockSize:this.getBlockSize(o,r),maxBlocksInCache:this.getMaxBlocksInCache(o,t,r)}},l.prototype.getMaxBlocksInCache=function(t,e,r){if(t){var o=r&&null!=r.maxBlocksInCache?r.maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache");if(null!=o&&o>=0)return e.dynamicRowHeight?void ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):o}},l.prototype.getBlockSize=function(t,e){if(t){var r=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsService.getNum("cacheBlockSize");return null!=r&&r>0?r:100}},l.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var o=e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=o.storeType&&(o.suppressInfiniteScroll="partial"!==o.storeType),o}},l.prototype.isInfiniteScroll=function(t){return!(t&&null!=t.suppressInfiniteScroll?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll())},l.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.is("suppressServerSideInfiniteScroll")},__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],l.prototype,"gridOptionsService",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreFactory")],l)}(),__decorate$h=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ListenerUtils=function(){function l(){}return l.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(o){return o.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},l.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(o){return o.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmListenerUtils")],l)}(),__extends$l=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$g=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$3=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$2=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$3(arguments[t]));return l},DefaultStrategy=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return __extends$l(t,l),t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(r){e.rowSelection=r.currentValue})},t.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:__spread$2(this.selectedState.toggledNodes)}},t.prototype.setSelectedState=function(e){var r={selectAll:!1,toggledNodes:new Set};"object"==typeof e?"selectAll"in e&&"boolean"==typeof e.selectAll?(r.selectAll=e.selectAll,"toggledNodes"in e&&Array.isArray(e.toggledNodes)?(e.toggledNodes.forEach(function(o){"string"==typeof o?r.toggledNodes.add(o):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: "+o)}),this.selectedState=r):console.error("AG Grid: `toggledNodes` must be an array of string ids.")):console.error("AG Grid: Select all status should be of boolean type."):console.error("AG Grid: The provided selection state should be an object.")},t.prototype.deleteSelectionStateFromParent=function(e,r){var o=this;if(0===this.selectedState.toggledNodes.size)return!1;var s=!1;return r.forEach(function(d){o.selectedState.toggledNodes.delete(d)&&(s=!0)}),s},t.prototype.setNodeSelected=function(e){var r,o=this;if("multiple"!==this.rowSelection||e.clearSelection&&e.newValue&&!e.rangeSelect)return e.newValue?(this.selectedNodes=((r={})[e.node.id]=e.node,r),this.selectedState={selectAll:!1,toggledNodes:new Set([e.node.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=e.node.id,1;var d=function(y){e.newValue?o.selectedNodes[y.id]=y:delete o.selectedNodes[y.id],e.newValue===o.selectedState.selectAll?o.selectedState.toggledNodes.delete(y.id):o.selectedState.toggledNodes.add(y.id)};if(e.rangeSelect&&this.lastSelected){var f=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(e.node,f??null).forEach(d),this.lastSelected=e.node.id,1}return d(e.node),this.lastSelected=e.node.id,1},t.prototype.processNewRow=function(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)},t.prototype.isNodeSelected=function(e){var r=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!r:r},t.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},t.prototype.clearOtherNodes=function(e,r){var o=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;return this.selectedState={selectAll:!1,toggledNodes:new Set([e.id])},this.rowModel.forEachNode(function(d){d!==e&&d.selectThisNode(!1,void 0,r)}),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:r}),o},t.prototype.isEmpty=function(){var e;return!(this.selectedState.selectAll||null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$g([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$k=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$f=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$2=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread$1=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$2(arguments[t]));return l},GroupSelectsChildrenStrategy=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return __extends$k(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,function(){return e.removeRedundantState()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.selectionService.reset()})},t.prototype.getSelectedState=function(){var e=this,r=function(o,s,d){var f={nodeId:d};if(s<=e.columnModel.getRowGroupColumns().length&&(f.selectAllChildren=o.selectAllChildren),o.toggledNodes.size){var y=[];o.toggledNodes.forEach(function(m,E){var O=r(m,s+1,E);y.push(O)}),f.toggledNodes=y}return f};return r(this.selectedState,0)},t.prototype.setSelectedState=function(e){var r=function(o,s){var d,f;if("object"!=typeof o)throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in o&&"boolean"!=typeof o.selectAllChildren)throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in o){if(!Array.isArray(o.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");if(!o.toggledNodes.every(function(D){return"object"==typeof D&&"nodeId"in D&&"string"==typeof D.nodeId}))throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var m=null!==(d=o.selectAllChildren)&&void 0!==d?d:!s,E=null===(f=o.toggledNodes)||void 0===f?void 0:f.map(function(D){return[D.nodeId,r(D,m)]}),O=E?.some(function(D){var R=__read$2(D,2)[1];return m===R.selectAllChildren&&0===R.toggledNodes.size});if(O)throw new Error("\n                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.\n                    Please rebuild the selection state and reapply it.\n                ");return{selectAllChildren:m,toggledNodes:new Map(E)}};try{this.selectedState=r(e,!!e.selectAllChildren)}catch(o){console.error(o.message)}},t.prototype.deleteSelectionStateFromParent=function(e,r){for(var o=this.selectedState,s=__spread$1(e);o&&s.length;)o=o.toggledNodes.get(s.pop());if(!o)return!1;var d=!1;return r.forEach(function(f){o?.toggledNodes.delete(f)&&(d=!0)}),d&&this.removeRedundantState(),d},t.prototype.setNodeSelected=function(e){var r=this;if(e.rangeSelect){var s=this.rowModel.getNodesInRangeForSelection(e.node,this.lastSelected).map(this.getRouteToNode).sort(function(y,m){return m.length-y.length}),d=new Set;return s.forEach(function(y){d.has(y[y.length-1])||(y.forEach(function(m){return d.add(m)}),r.recursivelySelectNode(y,r.selectedState,e))}),this.removeRedundantState(),this.lastSelected=e.node,1}var f=this.getRouteToNode(e.node);return this.recursivelySelectNode(f,this.selectedState,e),this.removeRedundantState(),this.lastSelected=e.node,1},t.prototype.isNodeSelected=function(e){var r=this.getRouteToNode(e);return this.isNodePathSelected(r,this.selectedState)},t.prototype.isNodePathSelected=function(e,r){var o=__read$2(e),s=o[0],d=o.slice(1);if(0===d.length){var f=r.toggledNodes.has(s.id);if(s.hasChildren()){var y=r.toggledNodes.get(s.id);if(y&&y.toggledNodes.size)return}return r.selectAllChildren?!f:f}if(r.toggledNodes.has(s.id)){var m=r.toggledNodes.get(s.id);if(m)return this.isNodePathSelected(d,m)}return!!r.selectAllChildren},t.prototype.getRouteToNode=function(e){for(var r=[],o=e;o.parent;)r.push(o),o=o.parent;return r.reverse()},t.prototype.removeRedundantState=function(){var e=this;if(!this.filterManager.isAnyFilterPresent()){var r=function(o,s,d){void 0===o&&(o=e.selectedState),void 0===s&&(s=e.serverSideRowModel.getRootStore());var f=!0,y=!0;return o.toggledNodes.forEach(function(m,E){var O=e.rowModel.getRowNode(E);O||(f=!1);var D=O?.childStore;D?(r(m,D,O)&&o.selectAllChildren===m.selectAllChildren&&o.toggledNodes.delete(E),m.toggledNodes.size>0&&(y=!1)):m.toggledNodes.size>0&&(y=!1)}),!(!s||!s.isLastRowIndexKnown()||s.getRowCount()!==o.toggledNodes.size||!y||!f||(o.toggledNodes.clear(),o.selectAllChildren=!o.selectAllChildren,d&&d?.isSelected()!==o.selectAllChildren&&d.selectThisNode(o.selectAllChildren,void 0,"api"),0))};r()}},t.prototype.recursivelySelectNode=function(e,r,o){var s=__read$2(e),d=s[0],f=s.slice(1);if(d){if(!f.length)return r.selectAllChildren===o.newValue?void r.toggledNodes.delete(d.id):void r.toggledNodes.set(d.id,{selectAllChildren:o.newValue,toggledNodes:new Map});var O=r.toggledNodes.has(d.id),D=O?r.toggledNodes.get(d.id):{selectAllChildren:r.selectAllChildren,toggledNodes:new Map};O||r.toggledNodes.set(d.id,D),this.recursivelySelectNode(f,D,o),r.selectAllChildren===D.selectAllChildren&&0===D.toggledNodes.size&&r.toggledNodes.delete(d.id)}},t.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var e=[];return this.rowModel.forEachNode(function(r){r.isSelected()&&e.push(r)}),e},t.prototype.processNewRow=function(e){},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return-1},t.prototype.isEmpty=function(){var e;return!(this.selectedState.selectAllChildren||null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],t.prototype,"selectionService",void 0),__decorate$f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$j=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$e=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ServerSideSelectionService=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$j(t,l),t.prototype.init=function(){var e=this,r=this.gridOptionsService.is("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",function(s){e.destroyBean(e.selectionStrategy),e.selectionStrategy=e.createManagedBean(new(s.currentValue?GroupSelectsChildrenStrategy:DefaultStrategy)),e.shotgunResetNodeSelectionState(),e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"})}),this.selectionStrategy=this.createManagedBean(new(r?GroupSelectsChildrenStrategy:DefaultStrategy))},t.prototype.getServerSideSelectionState=function(){return this.selectionStrategy.getSelectedState()},t.prototype.setServerSideSelectionState=function(e){this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"})},t.prototype.setNodeSelected=function(e){var r=this.selectionStrategy.setNodeSelected(e);return this.shotgunResetNodeSelectionState(e.source),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:e.source}),r},t.prototype.deleteSelectionStateFromParent=function(e,r){this.selectionStrategy.deleteSelectionStateFromParent(e,r)&&(this.shotgunResetNodeSelectionState(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"}))},t.prototype.shotgunResetNodeSelectionState=function(e){var r=this;this.rowModel.forEachNode(function(o){if(!o.stub){var s=r.selectionStrategy.isNodeSelected(o);s!==o.isSelected()&&o.selectThisNode(s,void 0,e)}})},t.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},t.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},t.prototype.syncInRowNode=function(e,r){this.selectionStrategy.processNewRow(e);var o=this.selectionStrategy.isNodeSelected(e);e.setSelectedInitialValue(o)},t.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},t.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},t.prototype.selectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(e),this.rowModel.forEachNode(function(o){o.stub||o.selectThisNode(!0,void 0,e.source)}),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:e.source})},t.prototype.deselectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(e),this.rowModel.forEachNode(function(o){o.stub||o.selectThisNode(!1,void 0,e.source)}),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:e.source})},t.prototype.getSelectAllState=function(e,r){return this.selectionStrategy.getSelectAllState(e,r)},t.prototype.updateGroupsFromChildrenSelections=function(e,r){return!1},t.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},t.prototype.filterFromSelection=function(){},__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$4="29.3.5",ServerSideRowModelModule={version:VERSION$4,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ServerSideRowModelModule,rowModel:"serverSide",beans:[ServerSideRowModel,ExpandListener,SortListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils,ServerSideSelectionService],dependantModules:[EnterpriseCoreModule]},ClientSideValuesExtractor=function(){function l(t,e,r,o,s,d,f,y,m){this.rowModel=t,this.filterParams=e,this.createKey=r,this.caseFormat=o,this.columnModel=s,this.valueService=d,this.treeDataOrGrouping=f,this.treeData=y,this.getDataPath=m}return l.prototype.extractUniqueValues=function(t,e){var r=this,o=new Map,s=this.extractExistingFormattedKeys(e),d=new Set,f=this.treeData&&!!this.getDataPath,y=this.columnModel.getRowGroupColumns(),m=function(E,O){var D=r.caseFormat(E);if(!d.has(D)){d.add(D);var P=E,R=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(O),x=s?.get(D);null!=x&&(P=x,R=e.get(x)),o.set(P,R)}};return this.rowModel.forEachLeafNode(function(E){if(E.data&&t(E)){if(r.treeDataOrGrouping)return void r.addValueForTreeDataOrGrouping(E,f,y,m);var O=r.getValue(E);if(r.filterParams.convertValuesToStrings)return void r.addValueForConvertValuesToString(E,O,m);null!=O&&Array.isArray(O)?(O.forEach(function(D){m(r.createKey(D,E),D)}),0===O.length&&m(null,null)):m(r.createKey(O,E),O)}}),o},l.prototype.addValueForConvertValuesToString=function(t,e,r){var o=this.createKey(e,t);null!=o&&Array.isArray(o)?(o.forEach(function(s){var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s));r(d,d)}),0===o.length&&r(null,null)):r(o,o)},l.prototype.addValueForTreeDataOrGrouping=function(t,e,r,o){var d,f,s=this;if(e){if(null!==(d=t.childrenAfterGroup)&&void 0!==d&&d.length)return;f=this.getDataPath(t.data)}else(f=r.map(function(y){return s.valueService.getKeyForNode(y,t)})).push(this.getValue(t));f&&(f=f.map(function(y){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(y))})),f?.some(function(y){return null==y})&&(f=null),o(this.createKey(f),f)},l.prototype.getValue=function(t){var e=this.filterParams;return this.filterParams.valueGetter({api:e.api,colDef:e.colDef,column:e.column,columnApi:e.columnApi,context:e.context,data:t.data,getValue:function(y){return t.data[y]},node:t})},l.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var r=new Map;return t.forEach(function(o,s){r.set(e.caseFormat(s),s)}),r},l}(),SetFilterDisplayValue=function(){function l(){}return l.SELECT_ALL="__AG_SELECT_ALL__",l}(),__values$2=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FlatSetDisplayValueModel=function(){function l(t,e,r,o){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=r,this.column=o,this.displayedKeys=[]}return l.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r){this.displayedKeys=Array.from(r)},l.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,o,s){var d,f;this.displayedKeys=[];try{for(var y=__values$2(r),m=y.next();!m.done;m=y.next()){var E=m.value;if(null==E)s&&this.displayedKeys.push(E);else{var O=t(E),D=this.valueFormatterService.formatValue(this.column,null,O,this.valueFormatter,!1);o(this.formatter(D))&&this.displayedKeys.push(E)}}}catch(R){d={error:R}}finally{try{m&&!m.done&&(f=y.return)&&f.call(y)}finally{if(d)throw d.error}}},l.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},l.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},l.prototype.getSelectAllItem=function(){return SetFilterDisplayValue.SELECT_ALL},l.prototype.getDisplayedKeys=function(){return this.displayedKeys},l.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},l.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},l.prototype.hasGroups=function(){return!1},l.prototype.refresh=function(){},l}(),__read$1=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},__spread=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$1(arguments[t]));return l},__values$1=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TreeSetDisplayValueModel=function(){function l(t,e,r,o){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=r,this.treeDataOrGrouping=o,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:SetFilterDisplayValue.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:SetFilterDisplayValue.SELECT_ALL,parentTreeKeys:[]}}return l.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r,o){"reload"===o?this.generateItemTree(t,e,r):"otherFilter"===o?(this.updateAvailable(r),this.updateExpandAll()):"miniFilter"===o&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},l.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,o,s,d){"reload"===d?this.generateItemTree(t,e,r):"otherFilter"===d&&this.updateAvailable(r),this.updateFilter(o,s),this.updateExpandAll(),this.flattenItems()},l.prototype.generateItemTree=function(t,e,r){var o,s,d;this.allDisplayedItemsTree=[],this.groupsExist=!1;var f=this.getTreeListPathGetter(t,r),y=function(P){var R=t(P),x=null!==(d=f(R))&&void 0!==d?d:[null];x.length>1&&(m.groupsExist=!0);var U,L=r.has(P),B=m.allDisplayedItemsTree,Y=[];x.forEach(function(ee,oe){B||(U.children=B=[]),(U=B.find(function(re){var ie;return(null===(ie=re.treeKey)||void 0===ie?void 0:ie.toUpperCase())===ee?.toUpperCase()}))||(U={treeKey:ee,depth:oe,filterPasses:!0,expanded:!1,available:L,parentTreeKeys:Y},oe===x.length-1&&(U.key=P),B.push(U)),B=U.children,Y=__spread(Y,[ee])})},m=this;try{for(var E=__values$1(e),O=E.next();!O.done;O=E.next())y(O.value)}catch(P){o={error:P}}finally{try{O&&!O.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}this.updateAvailable(r),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},l.prototype.getTreeListPathGetter=function(t,e){var r,o;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(E){return E};var s=!1;try{for(var d=__values$1(e),f=d.next();!f.done;f=d.next()){var m=t(f.value);if(m instanceof Date){s=!0;break}if(null!=m)break}}catch(E){r={error:E}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return s?l.DATE_TREE_LIST_PATH_GETTER:(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.")},"getTreeListPathGetter"),function(E){return[String(E)]})},l.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(r){r.forEach(function(o){!o.filterPasses||!o.available||(t.activeDisplayedItemsFlat.push(o),o.children&&o.expanded&&e(o.children))})};e(this.allDisplayedItemsTree)},l.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach(function(r){t(r)}),e.filterPasses=!0};this.allDisplayedItemsTree.forEach(function(e){return t(e)})},l.prototype.updateFilter=function(t,e){var r=this,o=function(s){return!!s.available&&(null==s.treeKey?e:t(r.formatter(r.treeListFormatter?r.treeListFormatter(s.treeKey,s.depth,s.parentTreeKeys):s.treeKey)))};this.allDisplayedItemsTree.forEach(function(s){return r.recursiveItemCheck(s,!1,o,"filterPasses")})},l.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},l.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},l.prototype.getSelectAllItem=function(){return this.selectAllItem},l.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey(function(e){return t.push(e)}),t},l.prototype.forEachDisplayedKey=function(t){var e=function(r,o){r.children?(!r.expanded||!o)&&r.children.forEach(function(s){s.filterPasses&&e(s,!1)}):t(r.key)};this.activeDisplayedItemsFlat.forEach(function(r){return e(r,!0)})},l.prototype.someDisplayedKey=function(t){var e=function(r,o){return r.children?(!r.expanded||!o)&&r.children.some(function(s){return!!s.filterPasses&&e(s,!1)}):t(r.key)};return this.activeDisplayedItemsFlat.some(function(r){return e(r,!0)})},l.prototype.hasGroups=function(){return this.groupsExist},l.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},l.prototype.updateExpandAll=function(){var t=function(r,o,s){var d,f;try{for(var y=__values$1(r),m=y.next();!m.done;m=y.next()){var E=m.value;if(E.filterPasses&&E.available&&E.children){if(s=s||!E.expanded,(o=o||!!E.expanded)&&s)return;var O=t(E.children,o,s);if(void 0===O)return;O?o=!0:s=!0}}}catch(D){d={error:D}}finally{try{m&&!m.done&&(f=y.return)&&f.call(y)}finally{if(d)throw d.error}}return o&&s?void 0:o},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},l.prototype.recursiveItemCheck=function(t,e,r,o){var s=this,d=!1;t.children&&t.children.forEach(function(y){var m=s.recursiveItemCheck(y,e||r(t),r,o);d=d||m});var f=e||d||r(t);return t[o]=f,f},l.prototype.updateAvailable=function(t){var e=this,r=function(o){return t.has(o.key)};this.allDisplayedItemsTree.forEach(function(o){return e.recursiveItemCheck(o,!1,r,"available")})},l.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},l}(),__read=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(d)throw d.error}}return s},SetFilterModelValuesType=(()=>((SetFilterModelValuesType=SetFilterModelValuesType||{})[SetFilterModelValuesType.PROVIDED_LIST=0]="PROVIDED_LIST",SetFilterModelValuesType[SetFilterModelValuesType.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",SetFilterModelValuesType[SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES",SetFilterModelValuesType))(),SetValueModel=function(){function l(t){var r,e=this;this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var o=t.usingComplexObjects,s=t.columnModel,d=t.valueService,f=t.treeDataTreeList,y=t.groupingTreeList,m=t.filterParams,E=t.gridOptionsService,O=t.valueFormatterService,D=t.valueFormatter,P=m.column,R=m.colDef,x=m.textFormatter,L=m.doesRowPassOtherFilter,B=m.suppressSorting,U=m.comparator,Y=m.rowModel,ee=m.values,oe=m.caseSensitive,re=m.convertValuesToStrings,ie=m.treeList,q=m.treeListPathGetter,se=m.treeListFormatter;this.filterParams=m,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=x||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=L,this.suppressSorting=B||!1,this.convertValuesToStrings=!!re;var ue=U??R.comparator,ge=!!f||!!y;this.compareByValue=!!(o&&ue||ge||ie&&!q),this.entryComparator=ge&&!ue?this.createTreeDataOrGroupingComparator():!ie||q||ue?function(Ce,Pe){var Re=__read(Ce,2)[1],Ne=__read(Pe,2);return ue(Re,Ne[1])}:function(Ce,Pe){var Re=__read(Ce,2)[1],Ne=__read(Pe,2);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(Re,Ne[1])},this.keyComparator=null!==(r=ue)&&void 0!==r?r:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator,this.caseSensitive=!!oe;var ve=E.get("getDataPath");"clientSide"===Y.getType()&&(this.clientSideValuesExtractor=new ClientSideValuesExtractor(Y,this.filterParams,this.createKey,this.caseFormat,s,d,ge,!!f,ve)),null==ee?this.valuesType=SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(ee)?SetFilterModelValuesType.PROVIDED_LIST:SetFilterModelValuesType.PROVIDED_CALLBACK,this.providedValues=ee),this.displayValueModel=ie?new TreeSetDisplayValueModel(this.formatter,q,se,f||y):new FlatSetDisplayValueModel(O,D,this.formatter,P),this.updateAllValues().then(function(Ce){return e.resetSelectionState(Ce||[])})}return l.prototype.addEventListener=function(t,e,r){this.localEventService.addEventListener(t,e,r)},l.prototype.removeEventListener=function(t,e,r){this.localEventService.removeEventListener(t,e,r)},l.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},l.prototype.overrideValues=function(t){var e=this;return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(r){e.allValuesPromise.then(function(){e.valuesType=SetFilterModelValuesType.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return r()})})})},l.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e??[],"otherFilter"),!0}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(!1)},l.prototype.isInitialised=function(){return this.initialised},l.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(e){switch(t.valuesType){case SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:case SetFilterModelValuesType.PROVIDED_LIST:e(t.processAllKeys(t.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES,t.providedValues));break;case SetFilterModelValuesType.PROVIDED_CALLBACK:t.setIsLoading(!0);var r=t.providedValues,o=t.filterParams,E={success:function(O){t.setIsLoading(!1),e(t.processAllKeys(!1,O))},colDef:o.colDef,column:o.column,columnApi:o.columnApi,api:o.api,context:o.context};window.setTimeout(function(){return r(E)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e||[],"reload")}).then(function(){return t.initialised=!0}),this.allValuesPromise},l.prototype.processAllKeys=function(t,e){var r=t?this.getValuesFromRows(!1):this.uniqueValues(this.validateProvidedValues(e)),o=this.sortKeys(r);return this.allValues=r??new Map,o},l.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&t?.length){var e=t[0];e&&"object"!=typeof e&&"function"!=typeof e&&(null==this.createKey(e)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")},"setFilterComplexObjectsProvidedNull"):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")},"setFilterComplexObjectsProvidedPrimitive"))}return t},l.prototype.setValuesType=function(t){this.valuesType=t},l.prototype.getValuesType=function(){return this.valuesType},l.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},l.prototype.showAvailableOnly=function(){return this.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},l.prototype.updateAvailableKeys=function(t,e){var r=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):t;this.availableKeys=new Set(r),this.localEventService.dispatchEvent({type:l.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(e,t)},l.prototype.sortKeys=function(t){var r,e=t??new Map;return this.suppressSorting?Array.from(e.keys()):(r=this.compareByValue?Array.from(e.entries()).sort(this.entryComparator).map(function(o){return __read(o,1)[0]}):Array.from(e.keys()).sort(this.keyComparator),this.filterParams.excelMode&&e.has(null)&&(r=r.filter(function(o){return null!=o})).push(null),r)},l.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(o){return!t||e.doesRowPassOtherFilters(o)},t&&!this.caseSensitive?this.allValues:void 0):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),null)},l.prototype.setMiniFilter=function(t){return t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},l.prototype.getMiniFilter=function(){return this.miniFilterText},l.prototype.updateDisplayedValues=function(t,e){var r=this;if("expansion"!==t)if(null!=this.miniFilterText){var o=this.caseFormat(this.formatter(this.miniFilterText)||""),s=function(f){return null!=f&&r.caseFormat(f).indexOf(o)>=0},d=!!this.filterParams.excelMode&&s(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(f){return r.getValue(f)},e,this.availableKeys,s,d,t)}else this.displayValueModel.updateDisplayedValuesToAllAvailable(function(f){return r.getValue(f)},e,this.availableKeys,t);else this.displayValueModel.refresh()},l.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},l.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},l.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},l.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},l.prototype.getKeys=function(){return Array.from(this.allValues.keys())},l.prototype.getValues=function(){return Array.from(this.allValues.values())},l.prototype.getValue=function(t){return this.allValues.get(t)},l.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(function(r){return e.selectedKeys.add(r)}))},l.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(function(e){return t.selectedKeys.delete(e)})},l.prototype.selectKey=function(t){this.selectedKeys.add(t)},l.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},l.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},l.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return!t.isKeySelected(e)})},l.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return t.isKeySelected(e)})},l.prototype.getModel=function(){return this.hasSelections()?Array.from(this.selectedKeys):null},l.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(r){if(null==t)e.resetSelectionState(r??[]);else{e.selectedKeys.clear();var o=new Map;e.allValues.forEach(function(s,d){o.set(e.caseFormat(d),d)}),t.forEach(function(s){var d=e.caseFormat(s),f=o.get(d);void 0!==f&&e.selectKey(f)})}})},l.prototype.uniqueValues=function(t){var e=this,r=new Map,o=new Set;return(t??[]).forEach(function(s){var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s),f=e.convertAndGetKey(d),y=e.caseFormat(f);o.has(y)||(o.add(y),r.set(f,d))}),r},l.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},l.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},l.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},l.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var o=__read(t,2)[1],d=__read(e,2)[1];if(null==o)return null==d?0:-1;if(null==d)return 1;for(var f=0;f<o.length;f++){if(f>=d.length)return 1;var y=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(o[f],d[f]);if(0!==y)return y}return 0}},l.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",l}(),__extends$i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$d=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SetFilterListItem=function(l){function t(e){var r,o=l.call(this,e.isGroup?t.GROUP_TEMPLATE:t.TEMPLATE)||this;return o.focusWrapper=e.focusWrapper,o.value=e.value,o.params=e.params,o.translate=e.translate,o.valueFormatter=e.valueFormatter,o.item=e.item,o.isSelected=e.isSelected,o.isTree=e.isTree,o.depth=null!==(r=e.depth)&&void 0!==r?r:0,o.isGroup=e.isGroup,o.groupsExist=e.groupsExist,o.isExpanded=e.isExpanded,o.hasIndeterminateExpandState=e.hasIndeterminateExpandState,o}return __extends$i(t,l),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setLabelEllipsis(!0),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(this.focusWrapper,this.depth+1)),!this.params.readOnly&&this.eCheckbox.onValueChange(function(r){return e.onCheckboxChanged(!!r)})},t.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},t.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},t.prototype.setExpanded=function(e,r){this.isGroup&&e!==this.isExpanded&&(this.isExpanded=e,r||this.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item}),this.setExpandedIcons(),this.refreshAriaExpanded())},t.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,!!this.isExpanded)},t.prototype.setExpandedIcons=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?!1===this.isExpanded:!this.isExpanded),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,!0===this.isExpanded),this.hasIndeterminateExpandState&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupIndeterminateIcon,void 0===this.isExpanded)},t.prototype.onCheckboxChanged=function(e){this.isSelected=e,this.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item}),this.refreshVariableAriaLabels()},t.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},t.prototype.setSelected=function(e,r){this.isSelected=e,this.eCheckbox.setValue(this.isSelected,r)},t.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var e=this.localeService.getLocaleTextFunc(),r=this.eCheckbox.getValue(),o=void 0===r?e("ariaIndeterminate","indeterminate"):r?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(s+" ("+o+")")}},t.prototype.setupFixedAriaLabels=function(e){if(this.isTree){var o=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,e+" "+o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.eCheckbox.getInputElement().id)}},t.prototype.refresh=function(e,r,o){var s,d;if(this.item=e,r!==this.isSelected&&this.setSelected(r,!0),this.setExpanded(o,!0),this.valueFunction){var f=this.valueFunction();this.setTooltipAndCellRendererParams(f,f),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}null===(d=null===(s=this.cellRendererComponent)||void 0===s?void 0:s.refresh)||void 0===d||d.call(s,this.cellRendererParams)},t.prototype.render=function(){var e=this.params.column,r=this.value,o=null;"function"==typeof r?(this.valueFunction=r,r=o=this.valueFunction()):o=this.isTree?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(r):this.getFormattedValue(e,r),this.setTooltipAndCellRendererParams(r,o),this.renderCell()},t.prototype.setTooltipAndCellRendererParams=function(e,r){if(this.params.showTooltips){var o=r??ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(e);this.setTooltip(o)}this.cellRendererParams={value:e,valueFormatted:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,colDef:this.params.colDef,column:this.params.column}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},t.prototype.getFormattedValue=function(e,r){return this.valueFormatterService.formatValue(e,null,r,this.valueFormatter,!1)},t.prototype.renderCell=function(){var e=this,r=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),o=r?r.newAgStackInstance():void 0;null!=o?o.then(function(s){s&&(e.cellRendererComponent=s,e.eCheckbox.setLabel(s.getGui()),e.addDestroyFunc(function(){return e.destroyBean(s)}))}):this.renderCellWithoutCellRenderer()},t.prototype.renderCellWithoutCellRenderer=function(){var e,r=null!==(e=null==this.cellRendererParams.valueFormatted?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)&&void 0!==e?e:this.translate("blanks");"string"!=typeof r&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")},"setFilterComplexObjectsValueFormatter"),r=""),this.eCheckbox.setLabel(r),this.setupFixedAriaLabels(r)},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.GROUP_TEMPLATE='\n        <div class="ag-set-filter-item" aria-hidden="true">\n            <span class="ag-set-filter-group-icons">\n                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>\n            </span>\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCheckbox")],t.prototype,"eCheckbox",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupIndeterminateIcon")],t.prototype,"eGroupIndeterminateIcon",void 0),__decorate$d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},SetFilterModelFormatter=function(){function l(){}return l.prototype.getModelAsString=function(t,e){var r=(t||e.getModel()||{}).values,o=e.getValueModel();if(null==r||null==o)return"";var s=r.filter(function(y){return o.isKeyAvailable(y)}),d=s.length;return"("+d+") "+s.slice(0,10).map(function(y){return e.getFormattedValue(y)}).join(",")+(d>10?",...":"")},l}(),__extends$h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$c=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SetFilter=function(l){function t(){var e=l.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.appliedModelKeys=null,e.noAppliedModelKeys=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$h(t,l),t.prototype.postConstruct=function(){l.prototype.postConstruct.call(this)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(l.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:this.handleKeySpace(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.handleKeyEnter(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:this.handleKeyLeft(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:this.handleKeyRight(e)}},t.prototype.handleKeySpace=function(e){var r;null===(r=this.getComponentForKeyEvent(e))||void 0===r||r.toggleSelected()},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var r=this.setFilterParams||{};!r.excelMode||r.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.handleKeyLeft=function(e){var r;null===(r=this.getComponentForKeyEvent(e))||void 0===r||r.setExpanded(!1)},t.prototype.handleKeyRight=function(e){var r;null===(r=this.getComponentForKeyEvent(e))||void 0===r||r.setExpanded(!0)},t.prototype.getComponentForKeyEvent=function(e){var r,o=this.gridOptionsService.getDocument();if(this.eSetFilterList.contains(o.activeElement)&&this.virtualList){var s=this.virtualList.getLastFocusedRow();if(null!=s){var d=this.virtualList.getComponentAt(s);if(null!=d&&(e.preventDefault(),!(null!==(r=this.setFilterParams)&&void 0!==r?r:{}).readOnly))return d}}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModel=function(e){var r;return null==e&&null==(null===(r=this.valueModel)||void 0===r?void 0:r.getModel())?(this.setMiniFilter(null),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()):l.prototype.setModel.call(this,e)},t.prototype.setModelAndRefresh=function(e){var r=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return r.refresh()}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,r){return null==e&&null==r||null!=e&&null!=r&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e.values,r.values)},t.prototype.setParams=function(e){var o,r=this;this.applyExcelModeOptions(e),l.prototype.setParams.call(this,e),this.setFilterParams=e,this.convertValuesToStrings=!!e.convertValuesToStrings,this.caseSensitive=!!e.caseSensitive;var s=null!==(o=e.keyCreator)&&void 0!==o?o:e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,s,this.convertValuesToStrings,!!e.treeList,!!e.colDef.refData);var d=e.column.getId().startsWith(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy);this.treeDataTreeList=this.gridOptionsService.is("treeData")&&!!e.treeList&&d,this.getDataPath=this.gridOptionsService.get("getDataPath"),this.groupingTreeList=!!this.columnModel.getRowGroupColumns().length&&!!e.treeList&&d,this.createKey=this.generateCreateKey(s,this.convertValuesToStrings,this.treeDataTreeList||this.groupingTreeList),this.valueModel=new SetValueModel({filterParams:e,setIsLoading:function(f){return r.setIsLoading(f)},valueFormatterService:this.valueFormatterService,translate:function(f){return r.translateForSetFilter(f)},caseFormat:function(f){return r.caseFormat(f)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!s,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.setValueFormatter=function(e,r,o,s,d){var f=e;if(!f){if(r&&!o&&!s)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,d||(f=function(y){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(y.value)})}this.valueFormatter=f},t.prototype.generateCreateKey=function(e,r,o){var s=this;if(o&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?function(d,f){void 0===f&&(f=null);var y=s.getKeyCreatorParams(d,f);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(e(y))}:r?function(d){return Array.isArray(d)?d:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(d))}:function(d){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(d))}},t.prototype.getFormattedValue=function(e){var r,o=this.valueModel.getValue(e);return this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(o)&&(o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)),null!==(r=this.valueFormatterService.formatValue(this.setFilterParams.column,null,o,this.valueFormatter,!1)??ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(o))&&void 0!==r?r:this.translateForSetFilter("blanks")},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: The Set Filter Parameter "defaultToNothingSelected" does not work with "excelMode".')},"setFilterExcelModeDefaultToNothingSelect")},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,function(r){e.setFilterParams&&r.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(function(){e.refresh(),e.onBtApply(!1,!0)})},t.prototype.setIsLoading=function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),s=!!this.setFilterParams.treeList,d=this.virtualList=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("filter",s?"tree":"listbox",o)),f=this.getRefElement("eSetFilterList");s&&f.classList.add("ag-set-filter-tree-list"),f&&f.appendChild(d.getGui());var O,y=this.setFilterParams.cellHeight;null!=y&&d.setRowHeight(y),d.setComponentCreator(function(D,P){return e.createSetListItem(D,s,P)}),d.setComponentUpdater(function(D,P){return e.updateSetListItem(D,P)}),O=this.setFilterParams.suppressSelectAll?new ModelWrapper(this.valueModel):new ModelWrapperWithSelectAll(this.valueModel,function(){return e.isSelectAllSelected()}),s&&(O=new TreeModelWrapper(O)),d.setModel(O)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e,r,o){var d,f,y,m,E,O,s=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var P,R,x,L,B,U,D=this.valueModel.hasGroups();this.isSetFilterModelTreeItem(e)?(R=e.depth,e.key===SetFilterDisplayValue.SELECT_ALL?(P=function(){return s.getSelectAllLabel()},x=D,L=!0,B=function(q){return s.onSelectAll(q.isSelected)},U=function(q){return s.onExpandAll(q.item,q.isExpanded)}):e.children?(P=null!==(y=null===(f=(d=this.setFilterParams).treeListFormatter)||void 0===f?void 0:f.call(d,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==y?y:e.treeKey,x=!0,B=function(q){return s.onGroupItemSelected(q.item,q.isSelected)},U=function(q){return s.onExpandedChanged(q.item,q.isExpanded)}):(P=null!==(O=null===(E=(m=this.setFilterParams).treeListFormatter)||void 0===E?void 0:E.call(m,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==O?O:e.treeKey,B=function(q){return s.onItemSelected(q.item.key,q.isSelected)})):e===SetFilterDisplayValue.SELECT_ALL?(P=function(){return s.getSelectAllLabel()},B=function(q){return s.onSelectAll(q.isSelected)}):(P=this.valueModel.getValue(e),B=function(q){return s.onItemSelected(q.item,q.isSelected)});var Y=this.isSelectedExpanded(e),ie=this.createBean(new SetFilterListItem({focusWrapper:o,value:P,params:this.setFilterParams,translate:function(q){return s.translateForSetFilter(q)},valueFormatter:this.valueFormatter,item:e,isSelected:Y.isSelected,isTree:r,depth:R,groupsExist:D,isGroup:x,isExpanded:Y.isExpanded,hasIndeterminateExpandState:L}));return ie.addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,B),U&&ie.addEventListener(SetFilterListItem.EVENT_EXPANDED_CHANGED,U),ie},t.prototype.updateSetListItem=function(e,r){var o=this.isSelectedExpanded(e);r.refresh(e,o.isSelected,o.isExpanded)},t.prototype.isSelectedExpanded=function(e){var r,o;return this.isSetFilterModelTreeItem(e)?(o=e.expanded,r=e.key===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():e.children?this.areAllChildrenSelected(e):this.valueModel.isKeySelected(e.key)):r=e===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():this.valueModel.isKeySelected(e),{isSelected:r,isExpanded:o}},t.prototype.isSetFilterModelTreeItem=function(e){return void 0!==e?.treeKey},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.eMiniFilter,d=this.localeService.getLocaleTextFunc();o.setDisplayed(!this.setFilterParams.suppressMiniFilter),o.setValue(this.valueModel.getMiniFilter()),o.onValueChange(function(){return e.onMiniFilterInput()}),o.setInputAriaLabel(d("ariaSearchFilterValues","Search filter values")),this.addManagedListener(o.getInputElement(),"keypress",function(f){return e.onMiniFilterKeyPress(f)})},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");l.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&r.getFocusableElement().focus()},t.prototype.afterGuiDetached=function(){var e,r;l.prototype.afterGuiDetached.call(this),null!==(e=this.setFilterParams)&&void 0!==e&&e.excelMode&&this.resetMiniFilter();var o=this.getModel();(null!==(r=this.setFilterParams)&&void 0!==r&&r.excelMode||!this.areModelsEqual(o,this.getModelFromUi()))&&(this.resetUiToActiveModel(o),this.showOrHideResults())},t.prototype.applyModel=function(e){var r=this;if(void 0===e&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var o=l.prototype.applyModel.call(this,e),s=this.getModel();return s?(this.appliedModelKeys=new Set,s.values.forEach(function(d){r.appliedModelKeys.add(r.caseFormat(d))})):this.appliedModelKeys=null,this.noAppliedModelKeys=0===s?.values.length,o},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var r=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelKeys)return!0;if(this.noAppliedModelKeys)return!1;var o=e.node,s=e.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(o,s);if(this.groupingTreeList)return this.doesFilterPassForGrouping(o,s);var d=this.getValueFromNode(o,s);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(o,d):null!=d&&Array.isArray(d)?0===d.length?this.appliedModelKeys.has(null):d.some(function(f){return r.isInAppliedModel(r.createKey(f,o))}):this.isInAppliedModel(this.createKey(d,o))},t.prototype.doesFilterPassForConvertValuesToString=function(e,r){var o=this,s=this.createKey(r,e);return null!=s&&Array.isArray(s)?0===s.length?this.appliedModelKeys.has(null):s.some(function(d){return o.isInAppliedModel(d)}):this.isInAppliedModel(s)},t.prototype.doesFilterPassForTreeData=function(e,r){var o;return(null===(o=e.childrenAfterGroup)||void 0===o||!o.length)&&this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(r))))},t.prototype.doesFilterPassForGrouping=function(e,r){var o=this,s=this.columnModel.getRowGroupColumns().map(function(d){return o.valueService.getKeyForNode(d,e)});return s.push(this.getValueFromNode(e,r)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(s)))},t.prototype.checkMakeNullDataPath=function(e){return e&&(e=e.map(function(r){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(r))})),e?.some(function(r){return null==r})?null:e},t.prototype.isInAppliedModel=function(e){return this.appliedModelKeys.has(this.caseFormat(e))},t.prototype.getValueFromNode=function(e,r){var o=this.setFilterParams;return(0,o.valueGetter)({api:o.api,colDef:o.colDef,column:o.column,columnApi:o.columnApi,context:o.context,data:r,getValue:function(O){return r[O]},node:e})},t.prototype.getKeyCreatorParams=function(e,r){return void 0===r&&(r=null),{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:r,data:r?.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var r=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){r.refresh(),r.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(r){r&&(e.refresh(),e.showOrHideResults())})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNoMatches,e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetMiniFilter=function(){var e;this.eMiniFilter.setValue(null,!0),null===(e=this.valueModel)||void 0===e||e.setMiniFilter(null)},t.prototype.resetUiToActiveModel=function(e,r){var o=this;this.setModelAndRefresh(null==e?null:e.values).then(function(){o.onUiChanged(!1,"prevent"),r?.()})},t.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),l.prototype.handleCancelEnd.call(this,e)},t.prototype.onMiniFilterKeyPress=function(e){var r=this.setFilterParams||{};e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&!r.excelMode&&!r.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var r=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(r)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var r=this;null!=e&&window.setTimeout(function(){if(!r.virtualList)throw new Error("Virtual list has not been created.");r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},t.prototype.onGroupItemSelected=function(e,r){var o=this,s=function(d){d.children?d.children.forEach(function(f){return s(f)}):o.selectItem(d.key,r)};s(e),this.refreshAfterSelection()},t.prototype.onItemSelected=function(e,r){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,r),this.refreshAfterSelection()},t.prototype.selectItem=function(e,r){r?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)},t.prototype.onExpandAll=function(e,r){var o=function(s){s.filterPasses&&s.available&&s.children&&(s.children.forEach(function(d){return o(d)}),s.expanded=r)};o(e),this.refreshAfterExpansion()},t.prototype.onExpandedChanged=function(e,r){e.expanded=r,this.refreshAfterExpansion()},t.prototype.refreshAfterExpansion=function(){var e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.refresh(),this.focusRowIfAlive(e)},t.prototype.refreshAfterSelection=function(){var e=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(e)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},t.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},t.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.getValues=function(){return this.getFilterKeys()},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.localeService.getLocaleTextFunc()(e,DEFAULT_LOCALE_TEXT[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.areAllChildrenSelected=function(e){var r=this,o=function(s){if(s.children){var d=!1,f=!1;return s.children.some(function(m){if(!m.filterPasses||!m.available)return!1;var E=o(m);return void 0===E||(E?d=!0:f=!0,d&&f)})?void 0:d}return r.valueModel.isKeySelected(s.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&o(e):o(e)},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),l.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.prototype.resetExpansion=function(){var e,r;if(null!==(e=this.setFilterParams)&&void 0!==e&&e.treeList){var o=null===(r=this.valueModel)||void 0===r?void 0:r.getSelectAllItem();if(this.isSetFilterModelTreeItem(o)){var s=function(d){d.children&&(d.children.forEach(function(f){return s(f)}),d.expanded=!1)};s(o),this.valueModel.updateDisplayedValues("expansion")}}},t.prototype.getModelAsString=function(e){return this.filterModelFormatter.getModelAsString(e,this)},t.prototype.getPositionableElement=function(){return this.eSetFilterList},__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniFilter")],t.prototype,"eMiniFilter",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterLoading")],t.prototype,"eFilterLoading",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSetFilterList")],t.prototype,"eSetFilterList",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU),ModelWrapper=function(){function l(t){this.model=t}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},l.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},l.prototype.isRowSelected=function(t){return this.model.isKeySelected(this.getRow(t))},l.prototype.areRowsEqual=function(t,e){return t===e},l}(),ModelWrapperWithSelectAll=function(){function l(t,e){this.model=t,this.isSelectAllSelected=e}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},l.prototype.getRow=function(t){return 0===t?this.model.getSelectAllItem():this.model.getDisplayedItem(t-1)},l.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isKeySelected(this.getRow(t))},l.prototype.areRowsEqual=function(t,e){return t===e},l}(),TreeModelWrapper=function(){function l(t){this.model=t}return l.prototype.getRowCount=function(){return this.model.getRowCount()},l.prototype.getRow=function(t){return this.model.getRow(t)},l.prototype.areRowsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.treeKey===e.treeKey&&t.depth===e.depth},l}(),__extends$g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$b=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SetFloatingFilterComp=function(l){function t(){var e=l.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$g(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),o=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+o("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof SetFilter))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(r)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(r){var o=r.getValueModel();o&&e.addManagedListener(o,SetValueModel.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var r=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(o){r.eFloatingFilterText.setValue(r.filterModelFormatter.getModelAsString(e,o))})},__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$3="29.3.5",SetFilterModule={version:VERSION$3,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:SetFilter},{componentName:"agSetColumnFloatingFilter",componentClass:SetFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$a=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StatusBarService=function(l){function t(){var e=l.call(this)||this;return e.allComponents={},e}return __extends$f(t,l),t.prototype.registerStatusPanel=function(e,r){this.allComponents[e]=r},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("statusBarService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$9=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StatusBar=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$e(t,l),t.prototype.postConstruct=function(){var e,r=null===(e=this.gridOptionsService.get("statusBar"))||void 0===e?void 0:e.statusPanels;if(r){var o=r.filter(function(f){return"left"===f.align});this.createAndRenderComponents(o,this.eStatusBarLeft);var s=r.filter(function(f){return"center"===f.align});this.createAndRenderComponents(s,this.eStatusBarCenter);var d=r.filter(function(f){return!f.align||"right"===f.align});this.createAndRenderComponents(d,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,r){var o=this,s=[];e.forEach(function(d){var m=o.userComponentFactory.getStatusPanelCompDetails(d,{}).newAgStackInstance();m&&s.push({key:d.key||d.statusPanel,promise:m})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s.map(function(d){return d.promise})).then(function(){s.forEach(function(d){d.promise.then(function(f){var y=function(){o.getContext().destroyBean(f)};o.isAlive()?(o.statusBarService.registerStatusPanel(d.key,f),r.appendChild(f.getGui()),o.addDestroyFunc(y)):y()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("statusBarService")],t.prototype,"statusBarService",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),__decorate$9([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$8=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},NameValueComp=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$d(t,l),t.prototype.setLabel=function(e,r){this.setDisplayed(!1);var o=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=o(e,r)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],t.prototype,"eValue",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$7=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TotalAndFilteredRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$c(t,l),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),o=e("decimalSeparator","."),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getFilteredRowCountValue(),r,o),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getTotalRowCount(),r,o);if(s===d)this.setValue(s);else{var f=this.localeService.getLocaleTextFunc();this.setValue(s+" "+f("of","of")+" "+d)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(r){r.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$7([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$7([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$6=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FilteredRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$b(t,l),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),r=this.getFilteredRowCountValue(),o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),d=o("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(r,s,d)),this.setDisplayed(e!==r)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(r){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$6([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$6([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$5=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TotalRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$a(t,l),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getRowCountValue(),r,o))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(r){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$5([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$5([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$4=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SelectedRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$9(t,l),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var e=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,e)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.selectionService.getSelectionCount();if(e<0)return this.setValue("?"),void this.setDisplayed(!0);var r=this.localeService.getLocaleTextFunc(),o=r("thousandSeparator",","),s=r("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,o,s)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],t.prototype,"selectionService",void 0),__decorate$4([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$3=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AggregationComp=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$8(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,r,o){var s=this.getAggregationValueComponent(e);if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&s){var d=this.localeService.getLocaleTextFunc(),f=d("thousandSeparator",","),y=d("decimalSeparator",".");s.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberTwoDecimalPlacesAndCommas(r,f,y)),s.setDisplayed(o)}},t.prototype.getAggregationValueComponent=function(e){var r=e+"AggregationComp",o=null,s=this.gridOptionsService.get("statusBar"),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&s?s.statusPanels.find(function(f){return"agAggregationComponent"===f.statusPanel}):null;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d)&&d?(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams.aggFuncs)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams.aggFuncs.find(function(f){return f===e})))&&(o=this[r]):o=this[r],o},t.prototype.onRangeSelectionChanged=function(){var e=this,r=this.rangeService?this.rangeService.getCellRanges():void 0,o=0,s=0,d=0,f=null,y=null,m={};r&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(r)&&r.forEach(function(D){for(var P=e.rangeService.getRangeStartRow(D),R=e.rangeService.getRangeEndRow(D);!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(P)&&P&&!e.rowPositionUtils.before(R,P)&&P&&D.columns;)D.columns.forEach(function(L){if(null!==P){var B=e.cellPositionUtils.createId({rowPinned:P.rowPinned,column:L,rowIndex:P.rowIndex});if(!m[B]){m[B]=!0;var U=e.rowRenderer.getRowNode(P);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(U)){var Y=e.valueService.getValue(L,U);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(Y)||""===Y||("object"==typeof Y&&"value"in Y&&(Y=Y.value),"string"==typeof Y&&(Y=Number(Y)),"number"==typeof Y&&!isNaN(Y)&&(o+=Y,(null===y||Y>y)&&(y=Y),(null===f||Y<f)&&(f=Y),d++),s++)}}}}),P=e.cellNavigationService.getRowBelow(P)});var O=d>1;this.setAggregationComponentValue("count",s,s>1),this.setAggregationComponentValue("sum",o,O),this.setAggregationComponentValue("min",f,O),this.setAggregationComponentValue("max",y,O),this.setAggregationComponentValue("avg",o/d,O)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("countAggregationComp")],t.prototype,"countAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("minAggregationComp")],t.prototype,"minAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$2="29.3.5",StatusBarModule={version:VERSION$2,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.StatusBarModule,beans:[StatusBarService],agStackComponents:[{componentName:"AgStatusBar",componentClass:StatusBar},{componentName:"AgNameValue",componentClass:NameValueComp}],userComponents:[{componentName:"agAggregationComponent",componentClass:AggregationComp},{componentName:"agSelectedRowCountComponent",componentClass:SelectedRowsComp},{componentName:"agTotalRowCountComponent",componentClass:TotalRowsComp},{componentName:"agFilteredRowCountComponent",componentClass:FilteredRowsComp},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:TotalAndFilteredRowsComp}],dependantModules:[EnterpriseCoreModule]},VERSION$1="29.3.5",__extends$7=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate$2=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,ViewportRowModel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return __extends$7(t,l),t.prototype.ensureRowHeightsValid=function(e,r,o,s){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsService.get("viewportDatasource")&&this.setViewportDatasource(this.gridOptionsService.get("viewportDatasource"))},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.getViewportRowModelPageSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.oneOrGreater(this.gridOptionsService.getNum("viewportRowModelPageSize"),DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},t.prototype.getViewportRowModelBufferSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.zeroOrGreater(this.gridOptionsService.getNum("viewportRowModelBufferSize"),DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},t.prototype.calculateFirstRow=function(e){var r=this.getViewportRowModelBufferSize(),o=this.getViewportRowModelPageSize(),s=e-r;return s<0?0:Math.floor(s/o)*o},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var r=this.getViewportRowModelBufferSize(),o=this.getViewportRowModelPageSize(),d=Math.ceil((e+r)/o)*o;return Math.min(d,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var r=this.calculateFirstRow(e.firstRow),o=this.calculateLastRow(e.lastRow);(this.firstRow!==r||this.lastRow!==o)&&(this.firstRow=r,this.lastRow=o,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(r){var o=parseInt(r,10);if(o<e.firstRow||o>e.lastRow){if(e.isRowFocused(o))return;delete e.rowNodesByIndex[o]}})},t.prototype.isRowFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();return!(!r||null!=r.rowPinned)&&r.rowIndex===e},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return"viewport"},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o)}),r},t.prototype.getRowCount=function(){return-1===this.rowCount?0:this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,r){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)?0:e.rowIndex,s=r.rowIndex;if(o<this.firstRow||o>this.lastRow||s<this.firstRow||s>this.lastRow)return[];for(var y=[],E=o<=s?s:o,O=o<=s?o:s;O<=E;O++)y.push(this.rowNodesByIndex[O]);return y},t.prototype.forEachNode=function(e){var r=this,o=0;Object.keys(this.rowNodesByIndex).forEach(function(s){var d=parseInt(s,10);e(r.rowNodesByIndex[d],o),o++})},t.prototype.setRowData=function(e){var r=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,function(o,s){var d=parseInt(o,10);if(d>=r.firstRow&&d<=r.lastRow){var f=r.rowNodesByIndex[d];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(f)&&(f=r.createBlankRowNode(d),r.rowNodesByIndex[d]=f),f.setDataAndId(s,d.toString())}})},t.prototype.createBlankRowNode=function(e){var r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return r.setRowHeight(this.rowHeight),r.setRowTop(this.rowHeight*e),r.setRowIndex(e),r},t.prototype.setRowCount=function(e,r){void 0===r&&(r=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:r,animate:!1}))},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyDatasource",null),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ViewportRowModelModule={version:VERSION$1,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ViewportRowModelModule,rowModel:"viewport",beans:[ViewportRowModel],dependantModules:[EnterpriseCoreModule]},defaultTooltipCss="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",__values=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},extent$3=extent$4,isNumber$3=isNumber$4,isString=isString$1,isStringObject=isStringObject$1,isDate=isDate$1,createId=createId$1,Padding=Padding$1,LinearScale=LinearScale$1,BandScale$4=BandScale$5,TimeScale=TimeScale$1,ZINDICIES=(()=>((ZINDICIES=ZINDICIES||{})[ZINDICIES.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",ZINDICIES[ZINDICIES.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",ZINDICIES[ZINDICIES.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",ZINDICIES[ZINDICIES.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",ZINDICIES[ZINDICIES.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",ZINDICIES[ZINDICIES.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX",ZINDICIES))(),SparklineAxis=function l(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},Sparkline=function(){function l(){this.id=createId(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new Padding(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new LinearScale,this.axis=new SparklineAxis,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var t=new Group;this.rootGroup=t;var e=document.createElement("div");e.setAttribute("class","ag-sparkline-wrapper");var r=new Scene({document});if(this.scene=r,this.canvasElement=r.canvas.element,r.root=t,r.container=e,r.resize(this.width,this.height),this.seriesRect.width=this.width,this.seriesRect.height=this.height,-1===l.tooltipDocuments.indexOf(document)){var o=document.createElement("style");o.innerHTML=defaultTooltipCss,document.head.insertBefore(o,document.head.querySelector("style")),l.tooltipDocuments.push(document)}this.setupDomEventListeners(this.scene.canvas.element)}return Object.defineProperty(l.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;e?.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),l.prototype.update=function(){},l.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},l.prototype.updateYScaleDomain=function(){},l.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},l.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},l.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},l.prototype.updateXScaleDomain=function(){var o,e=this.xData,r=this.xScale;(r instanceof LinearScale||r instanceof TimeScale)&&(o=extent$3(e)),this.xScale.domain=o?o.slice():e},l.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new LinearScale;case"time":return new TimeScale;default:return new BandScale$4}},l.prototype.updateAxisLine=function(){},l.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},l.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},l.prototype.generateNodeData=function(){return[]},l.prototype.getNodeData=function(){return[]},l.prototype.updateNodes=function(){},l.prototype.updateXCrosshairLine=function(){},l.prototype.updateYCrosshairLine=function(){},l.prototype.highlightDatum=function(t){this.updateNodes()},l.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},l.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},l.prototype.updateHitPoint=function(t){var e,r,o,s=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(s){var d=this.highlightedDatum;this.highlightedDatum=s,(this.highlightedDatum&&!d||this.highlightedDatum&&d&&this.highlightedDatum!==d)&&(this.highlightDatum(s),this.updateCrosshairs(),this.scene.render()),(null===(o=null===(r=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===r?void 0:r.enabled)||void 0===o||o)&&this.handleTooltip(t,s)}},l.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render()},l.prototype.processData=function(){var t=this,e=this,r=e.data,o=e.yData,s=e.xData;if(r&&!this.invalidData(this.data)){o.length=0,s.length=0;var d=r.length,f=this.getDataType(r);this.dataType=f;var D,y=this.axis.type,m="number"!==y&&"time"!==y?"category":y,E="number"===m||"time"===m,O=function(re,ie){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var q=t.smallestInterval.x,se=Math.abs(re-ie);se>0&&se<q&&(t.smallestInterval.x=se)};if("number"===f)for(var P=0;P<d;P++){var x=r[P],L=this.getDatum(P,m),B=this.getDatum(x,"number");E&&O(L,D),s.push(L),o.push(B),D=L}else if("array"===f)for(P=0;P<d;P++){var U=r[P];if(Array.isArray(U)){if(x=U[1],L=this.getDatum(U[0],m),B=this.getDatum(x,"number"),null==L)continue;E&&O(L,D),s.push(L),o.push(B),D=L}}else if("object"===f){var ee=this.yKey,oe=this.xKey;for(P=0;P<d;P++)if("object"==typeof(U=r[P])&&!Array.isArray(U)){if(x=U[ee],L=this.getDatum(U[oe],m),B=this.getDatum(x,"number"),null==L)continue;E&&O(L,D),s.push(L),o.push(B),D=L}}this.updateAxes(),this.update(),this.scene.render()}},l.prototype.getDataType=function(t){var e,r;try{for(var o=__values(t),s=o.next();!s.done;s=o.next()){var d=s.value;if(null!=d){if(isNumber$3(d))return"number";if(Array.isArray(d))return"array";if("object"==typeof d)return"object"}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},l.prototype.getDatum=function(t,e){if("number"===e&&isNumber$3(t)||"time"===e&&(isNumber$3(t)||isDate(t)))return t;if("category"===e){if(isString(t)||isDate(t)||isNumber$3(t))return{toString:function(){return String(t)}};if(isStringObject(t))return t}},Object.defineProperty(l.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),l.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.setSparklineDimensions(),!t.invalidData(t.data)&&(t.updateXScaleRange(),t.updateYScaleRange(),t.updateAxisLine(),t.update(),t.scene.render(),t.layoutId=0)})},l.prototype.setSparklineDimensions=function(){var t=this,o=t.padding,s=t.seriesRect,d=t.rootGroup,y=t.height-o.top-o.bottom;s.width=t.width-o.left-o.right,s.height=y,s.x=o.left,s.y=o.top,d.translationX=s.x,d.translationY=s.y},l.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var o,r=1/0,s=this.rootGroup.transformPoint(t,e),d=this.getNodeData(),f=0;f<d.length;f++){var y=d[f];if(!y.point)return;var m=this.getDistance(s,y.point);m<=r&&(r=m,o=y)}return o},l.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},l.prototype.handleTooltip=function(t,e){var r,o,s=e.seriesDatum,d=this.canvasElement,m=null===(r=this.processedOptions)||void 0===r?void 0:r.tooltip,E={pageX:t.clientX,pageY:t.clientY,position:{xOffset:m?.xOffset,yOffset:m?.yOffset},container:m?.container};null==E.container&&(E.container=d);var O=s.y,D=s.x,P=null===(o=m?.enabled)||void 0===o||o,R=m?.renderer;if(R){var x=R({context:this.context,datum:s,yValue:O,xValue:D});P="string"!=typeof x&&void 0!==x.enabled?x.enabled:P}var L=P&&void 0!==s.y&&this.getTooltipHtml(e);L&&this.tooltip.show(E,L)},l.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},l.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||isNumber$3(t))?this.defaultDateFormatter.format(t):String(t)},l.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},l.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},l.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},l.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},l.tooltipDocuments=[],l}();function toTooltipHtml(l,t){if("string"==typeof l)return l;t=t||{};var D,P,e=l.content,r=void 0===e?t.content||"":e,o=l.title,s=void 0===o?t.title||void 0:o,d=l.color,f=void 0===d?t.color:d,y=l.backgroundColor,m=void 0===y?t.backgroundColor:y,E=l.opacity;f?(D=s?'<span class="'+SparklineTooltip.class+'-title"; style="color: '+f+'">'+s+"</span>":"",P='<span class="'+SparklineTooltip.class+'-content" style="color: '+f+'">'+r+"</span>"):(D=s?'<span class="'+SparklineTooltip.class+'-title">'+s+"</span>":"",P='<span class="'+SparklineTooltip.class+'-content">'+r+"</span>");var R="opacity: "+(void 0===E?t.opacity||1:E);return m&&(R+="; background-color: "+m.toLowerCase()),'<div class="'+SparklineTooltip.class+'" style="'+R+'">\n                '+D+"\n                "+P+"\n            </div>"}var SparklineTooltip=function(){function l(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return l.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains(l.class+"-wrapper-hidden");var e=t.getAttribute("class");return!!e&&e.split(" ").indexOf(l.class+"-wrapper-hidden")<0},l.prototype.updateClass=function(t){var e=[l.class+"-wrapper"];!0!==t&&e.push(l.class+"-wrapper-hidden"),this.element.setAttribute("class",e.join(" "))},l.prototype.show=function(t,e){var r,o,s,d;this.toggle(!1);var f=this.element;if(void 0!==e)f.innerHTML=e;else if(!f.innerHTML)return;var y=null!==(o=null===(r=t.position)||void 0===r?void 0:r.xOffset)&&void 0!==o?o:10,m=null!==(d=null===(s=t.position)||void 0===s?void 0:s.yOffset)&&void 0!==d?d:0,E=t.pageX+y,O=t.pageY+m,D=f.getBoundingClientRect(),P=window.innerWidth-D.width;if(t.container){var R=t.container.getBoundingClientRect();P=R.left+(R.width-D.width)}E>P&&(E=t.pageX-f.clientWidth-y),typeof scrollX<"u"&&(E+=scrollX),typeof scrollY<"u"&&(O+=scrollY),f.style.left=Math.round(E)+"px",f.style.top=Math.round(O)+"px",this.toggle(!0)},l.prototype.toggle=function(t){this.updateClass(t)},l.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},l.class="ag-sparkline-tooltip",l}();function getMarker(l){switch(l){case"circle":default:return Circle;case"square":return Square;case"diamond":return Diamond}}function getLineDash(l,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===l||"square"===l?null==r[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),r.solid):r[t]:null==e[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),e.solid):e[t]}var __extends$6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),extent$2=extent$4,BandScale$3=BandScale$5,SparklineMarker$1=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine$1=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs$1=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},AreaSparkline=function(l){function t(){var e=l.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Path,e.fillPath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.areaSparklineGroup=new Group,e.xAxisLine=new Line,e.markers=new Group,e.markerSelection=Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new SparklineMarker$1,e.line=new SparklineLine$1,e.crosshairs=new SparklineCrosshairs$1,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.fillPath.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.strokePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$6(t,l),t.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.update=function(){var e=this.generateNodeData();if(e){var r=e.nodeData,o=e.fillData,s=e.strokeData;this.markerSelectionData=r,this.updateSelection(r),this.updateNodes(),this.updateStroke(s),this.updateFill(o)}},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=extent$2(this.yData),d=0,f=1;void 0!==s&&(d=this.min=s[0],f=this.max=s[1]),o.domain=[d=d<0?d:0,f=f<0?0:f]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,f=e.yScale;if(e.data){for(var R,x,L,B,y=!(d instanceof BandScale$3),m=y?0:d.bandwidth/2,E=o.length,O=[],D=[],P=[],U=f.convert(0),Y=0;Y<E;Y++){var ee=o[Y],oe=s[Y],re=d.convert(y?d.toDomain(oe):oe)+m,ie=void 0===ee?NaN:f.convert(ee);Y+1<E&&(B=d.convert(y?d.toDomain(s[Y+1]):s[Y+1])+m),P.push({seriesDatum:{x:oe,y:ee},point:{x:re,y:ie}}),void 0===ee&&void 0!==L?(D.push({seriesDatum:void 0,point:{x:L,y:U}}),void 0!==B&&D.push({seriesDatum:void 0,point:{x:B,y:U}})):void 0!==ee&&(D.push({seriesDatum:{x:oe,y:ee},point:{x:re,y:ie}}),O.push({seriesDatum:{x:oe,y:ee},point:{x:re,y:ie}}),R=void 0!==R?R:re,x=re),L=re}return D.push({seriesDatum:void 0,point:{x,y:U}},{seriesDatum:void 0,point:{x:R,y:U}}),{nodeData:O,fillData:D,strokeData:P}}},t.prototype.updateAxisLine=function(){var e=this,r=e.xScale,o=e.yScale,s=e.axis,d=e.xAxisLine;d.x1=r.range[0],d.x2=r.range[1],d.y1=d.y2=0,d.stroke=s.stroke,d.strokeWidth=s.strokeWidth;var f=o.convert(0);d.translationY=f},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.highlightStyle,d=r.marker,f=s.size,y=s.fill,m=s.stroke,E=s.strokeWidth,O=d.formatter;this.markerSelection.each(function(D,P,R){var x=P.point,L=P.seriesDatum;if(x){var re,B=P===o,U=B&&void 0!==y?y:d.fill,Y=B&&void 0!==m?m:d.stroke,ee=B&&void 0!==E?E:d.strokeWidth,oe=B&&void 0!==f?f:d.size;O&&(re=O({datum:P,xValue:L.x,yValue:L.y,min:L.y===e.min,max:L.y===e.max,first:0===R,last:R===e.markerSelectionData.length-1,fill:U,stroke:Y,strokeWidth:ee,size:oe,highlighted:B})),D.size=re&&null!=re.size?re.size:oe,D.fill=re&&null!=re.fill?re.fill:U,D.stroke=re&&null!=re.stroke?re.stroke:Y,D.strokeWidth=re&&null!=re.strokeWidth?re.strokeWidth:ee,D.translationX=x.x,D.translationY=x.y,D.visible=re&&null!=re.enabled?re.enabled:d.enabled&&D.size>0}})},t.prototype.updateStroke=function(e){var r=this,o=r.strokePath,d=r.line;if(!(r.yData.length<2)){var f=o.path,y=e.length,m=!0;f.clear();for(var E=0;E<y;E++){var O=e[E],D=O.point,R=D.x,x=D.y;null==O.seriesDatum.y?m=!0:m?(f.moveTo(R,x),m=!1):f.lineTo(R,x)}o.lineJoin=o.lineCap="round",o.fill=void 0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth}},t.prototype.updateFill=function(e){var r=this,o=r.fillPath,s=r.yData,d=r.fill,f=o.path,y=e.length;if(f.clear(),!(s.length<2)){for(var m=0;m<y;m++){var E=e[m].point,O=E.x,D=E.y;m>0?f.lineTo(O,D):f.moveTo(O,D)}f.closePath(),o.lineJoin="round",o.stroke=void 0,o.fill=d}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.xLine;if(d.enabled&&null!=s){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var f=d.lineDash;o.lineDash=Array.isArray(f)?f:getLineDash(o.lineCap,d.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.yLine;if(d.enabled&&null!=s){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var f=d.lineDash;o.lineDash=Array.isArray(f)?f:getLineDash(o.lineCap,d.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var r,o,s=this.dataType,d=e.seriesDatum,f=d.y,y=d.x,O={content:this.formatNumericDatum(f),title:"array"===s||"object"===s?this.formatDatum(y):void 0},D=null===(o=null===(r=this.processedOptions)||void 0===r?void 0:r.tooltip)||void 0===o?void 0:o.renderer;return D?toTooltipHtml(D({context:this.context,datum:d,yValue:f,xValue:y}),O):toTooltipHtml(O)},t.className="AreaSparkline",t}(Sparkline),__extends$5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),extent$1=extent$4,BandScale$2=BandScale$5,SparklineMarker=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},LineSparkline=function(l){function t(){var e=l.call(this)||this;return e.linePath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.lineSparklineGroup=new Group,e.markers=new Group,e.markerSelection=Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new SparklineMarker,e.line=new SparklineLine,e.crosshairs=new SparklineCrosshairs,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$5(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=extent$1(this.yData),d=0,f=1;if(void 0!==s&&(d=this.min=s[0],f=this.max=s[1]),d===f){var y=Math.abs(.01*d);d-=y,f+=y}o.domain=[d,f]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,f=e.yScale;if(e.data){for(var y=!(d instanceof BandScale$2),m=y?0:d.bandwidth/2,E=[],O=0;O<o.length;O++){var D=o[O],P=s[O];if(null!=D){var R=d.convert(y?d.toDomain(P):P)+m,x=void 0===D?NaN:f.convert(D);E.push({seriesDatum:{x:P,y:D},point:{x:R,y:x}})}}return E}},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.highlightStyle,d=r.marker,f=s.size,y=s.fill,m=s.stroke,E=s.strokeWidth,O=d.formatter;this.markerSelection.each(function(D,P,R){var ee,x=P===o,L=x&&void 0!==y?y:d.fill,B=x&&void 0!==m?m:d.stroke,U=x&&void 0!==E?E:d.strokeWidth,Y=x&&void 0!==f?f:d.size,oe=P.seriesDatum,re=P.point;O&&(ee=O({datum:P,xValue:oe.x,yValue:oe.y,min:oe.y===e.min,max:oe.y===e.max,first:0===R,last:R===e.markerSelectionData.length-1,fill:L,stroke:B,strokeWidth:U,size:Y,highlighted:x})),D.size=ee&&null!=ee.size?ee.size:Y,D.fill=ee&&null!=ee.fill?ee.fill:L,D.stroke=ee&&null!=ee.stroke?ee.stroke:B,D.strokeWidth=ee&&null!=ee.strokeWidth?ee.strokeWidth:U,D.translationX=re.x,D.translationY=re.y,D.visible=ee&&null!=ee.enabled?ee.enabled:d.enabled&&D.size>0})},t.prototype.updateLine=function(){var e=this,r=e.linePath,o=e.yData,s=e.xData,d=e.xScale,f=e.yScale,y=e.line;if(!(o.length<2)){var m=!(d instanceof BandScale$2),E=r.path,O=o.length,D=m?0:d.bandwidth/2,P=!0;E.clear();for(var R=0;R<O;R++){var x=s[R],L=o[R],B=d.convert(m?d.toDomain(x):x)+D,U=void 0===L?NaN:f.convert(L);null==L?P=!0:P?(E.moveTo(B,U),P=!1):E.lineTo(B,U)}r.fill=void 0,r.stroke=y.stroke,r.strokeWidth=y.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.xLine;if(d.enabled&&null!=s){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var f=d.lineDash;o.lineDash=Array.isArray(f)?f:getLineDash(o.lineCap,d.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.yLine;if(d.enabled&&null!=s){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var f=d.lineDash;o.lineDash=Array.isArray(f)?f:getLineDash(o.lineCap,d.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var r,o,s=this.dataType,d=e.seriesDatum,f=d.y,y=d.x,O={content:this.formatNumericDatum(f),title:"array"===s||"object"===s?this.formatDatum(y):void 0},D=null===(o=null===(r=this.processedOptions)||void 0===r?void 0:r.tooltip)||void 0===o?void 0:o.renderer;return D?toTooltipHtml(D({context:this.context,datum:d,yValue:f,xValue:y}),O):toTooltipHtml(O)},t.className="LineSparkline",t}(Sparkline),Label=function l(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"},__extends$4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),extent=extent$4,BarColumnNodeTag=(()=>((BarColumnNodeTag=BarColumnNodeTag||{})[BarColumnNodeTag.Rect=0]="Rect",BarColumnNodeTag[BarColumnNodeTag.Label=1]="Label",BarColumnNodeTag))(),BarColumnLabelPlacement=(()=>((BarColumnLabelPlacement=BarColumnLabelPlacement||{}).InsideBase="insideBase",BarColumnLabelPlacement.InsideEnd="insideEnd",BarColumnLabelPlacement.Center="center",BarColumnLabelPlacement.OutsideEnd="outsideEnd",BarColumnLabelPlacement))(),BarColumnLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarColumnLabelPlacement.InsideEnd,e}return __extends$4(t,l),t}(Label),BarColumnSparkline=function(l){function t(){var e=l.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Line,e.bandWidth=0,e.sparklineGroup=new Group,e.rectGroup=new Group,e.labelGroup=new Group,e.rectSelection=Selection.select(e.rectGroup,Rect),e.labelSelection=Selection.select(e.labelGroup,Text),e.nodeSelectionData=[],e.label=new BarColumnLabel,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.axisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=ZINDICIES.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return __extends$4(t,l),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var r,o=this,s=o.xScale,d=o.paddingInner,f=o.paddingOuter,y=o.smallestInterval,E=(s.domain[1]-s.domain[0])/(null!==(r=y?.x)&&void 0!==r?r:1)+1,D=Math.min(E,50);return e/Math.max(1,2*f+(D-1)*d+D)},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yScale,s=e.valueAxisDomain,d=extent(e.yData),f=0,y=1;void 0!==d&&(f=this.min=d[0],y=this.max=d[1]),f=f<0?f:0,y=y<0?0:y,s&&(s[1]<y&&(s[1]=y),s[0]>f&&(s[0]=f)),r.domain=s||[f,y]},t.prototype.updateRectSelection=function(e){this.rectSelection.update(e)},t.prototype.updateRectNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.formatter,d=r.fill,f=r.stroke,y=r.strokeWidth,m=this.highlightStyle,E=m.fill,O=m.stroke,D=m.strokeWidth;this.rectSelection.each(function(P,R,x){var ee,L=R===o,B=L&&void 0!==E?E:d,U=L&&void 0!==O?O:f,Y=L&&void 0!==D?D:y,oe=R.x,re=R.y,ie=R.width,q=R.height,se=R.seriesDatum;s&&(ee=s({datum:R,xValue:se.x,yValue:se.y,width:ie,height:q,min:se.y===e.min,max:se.y===e.max,first:0===x,last:x===e.nodeSelectionData.length-1,fill:B,stroke:U,strokeWidth:Y,highlighted:L})),P.fill=ee&&ee.fill||B,P.stroke=ee&&ee.stroke||U,P.strokeWidth=ee&&ee.strokeWidth||Y,P.x=P.y=0,P.width=ie,P.height=q,P.visible=P.height>0,P.translationX=oe,P.translationY=re})},t.prototype.updateLabelSelection=function(e){this.labelSelection.update(e,function(r){r.tag=BarColumnNodeTag.Label,r.pointerEvents=PointerEvents.None})},t.prototype.updateLabelNodes=function(){var e=this.label,r=e.enabled,o=e.fontStyle,s=e.fontWeight,d=e.fontSize,f=e.fontFamily,y=e.color;this.labelSelection.each(function(m,E){var O=E.label;O&&r?(m.fontStyle=o,m.fontWeight=s,m.fontSize=d,m.fontFamily=f,m.textAlign=O.textAlign,m.textBaseline=O.textBaseline,m.text=O.text,m.x=O.x,m.y=O.y,m.fill=y,m.visible=!0):m.visible=!1})},t.prototype.getTooltipHtml=function(e){var r,o,s=this.dataType,d=e.seriesDatum,f=d.y,y=d.x,O={content:this.formatNumericDatum(f),title:"array"===s||"object"===s?this.formatDatum(y):void 0},D=null===(o=null===(r=this.processedOptions)||void 0===r?void 0:r.tooltip)||void 0===o?void 0:o.renderer;return D?toTooltipHtml(D({context:this.context,datum:d,yValue:f,xValue:y}),O):toTooltipHtml(O)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(Sparkline),__extends$3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),isNumber$2=isNumber$4,BandScale$1=BandScale$5,BarSparkline=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$3(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,o=e.seriesRect,s=e.paddingOuter,d=e.paddingInner;if(r instanceof BandScale$1)r.range=[0,o.height],r.paddingInner=d,r.paddingOuter=s;else{var f=this.calculateStep(o.height),y=f*s;this.bandWidth=f*(1-d),r.range=[y,o.height-y-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,o=e.axis,s=e.axisLine,d=e.seriesRect,f=o.strokeWidth;s.x1=0,s.x2=0,s.y1=0,s.y2=d.height,s.stroke=o.stroke,s.strokeWidth=f+(f%2==1?1:0);var y=r.convert(0);s.translationX=y},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,f=e.yScale,y=e.fill,m=e.stroke,E=e.strokeWidth,O=e.label;if(e.data){for(var D=O.fontStyle,P=O.fontWeight,R=O.fontSize,x=O.fontFamily,L=O.color,B=O.formatter,U=O.placement,Y=[],ee=f.convert(0),oe=!(d instanceof BandScale$1),re=0,ie=o.length;re<ie;re++){var q=o[re],se=s[re],ue=void 0===q;ue&&(q=0);var Ne,ge=d.convert(oe?d.toDomain(se):se),ve=Math.min(void 0===q?NaN:f.convert(q),ee),Ce=Math.max(void 0===q?NaN:f.convert(q),ee),Pe=oe?this.bandWidth:d.bandwidth,Me=Ce-ve,Re={x:ee,y:ge};Ne=B?B({value:q}):void 0!==q&&isNumber$2(q)?this.formatLabelValue(q):"";var he=ge+Pe/2,De=void 0,Oe=void 0,Le=void 0!==q&&q>=0;if(U===BarColumnLabelPlacement.Center)De=ve+Me/2,Oe="center";else if(U===BarColumnLabelPlacement.OutsideEnd)De=ve+(Le?Me+4:-4),Oe=Le?"start":"end";else if(U===BarColumnLabelPlacement.InsideEnd){De=ve+(Le?Me-4:4),Oe=Le?"end":"start";var dt=HdpiCanvas.getTextSize(Ne,x).width||20;(Le&&De<ee+dt||!Le&&De>ee-dt)&&(De=ee+4*(Le?1:-1),Oe=Le?"start":"end")}else De=ee+4*(Le?1:-1),Oe=Le?"start":"end";Y.push({x:ve,y:ge,width:Me,height:Pe,fill:y,stroke:m,strokeWidth:E,seriesDatum:{x:se,y:ue?void 0:q},point:Re,label:{x:De,y:he,text:Ne,fontStyle:D,fontWeight:P,fontSize:R,fontFamily:x,textAlign:Oe,textBaseline:"middle",fill:L}})}return Y}},t.prototype.getDistance=function(e,r){return Math.abs(e.y-r.y)},t.className="BarSparkline",t}(BarColumnSparkline),__extends$2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),isNumber$1=isNumber$4,BandScale=BandScale$5,ColumnSparkline=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,o=e.seriesRect,s=e.paddingOuter,d=e.paddingInner;if(r instanceof BandScale)r.range=[0,o.width],r.paddingInner=d,r.paddingOuter=s;else{var f=this.calculateStep(o.width),y=f*s;this.bandWidth=f*(1-d),r.range=[y,o.width-y-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,o=e.axis,s=e.axisLine,d=e.seriesRect,f=o.strokeWidth;s.x1=0,s.x2=d.width,s.y1=0,s.y2=0,s.stroke=o.stroke,s.strokeWidth=f+(f%2==1?1:0);var y=r.convert(0);s.translationY=y},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,f=e.yScale,y=e.fill,m=e.stroke,E=e.strokeWidth,O=e.label;if(e.data){for(var D=O.fontStyle,P=O.fontWeight,R=O.fontSize,x=O.fontFamily,L=O.color,B=O.formatter,U=O.placement,Y=[],ee=f.convert(0),oe=!(d instanceof BandScale),re=0,ie=o.length;re<ie;re++){var q=o[re],se=s[re],ue=void 0===q;ue&&(q=0);var Ne,ge=Math.min(void 0===q?NaN:f.convert(q),ee),ve=d.convert(oe?d.toDomain(se):se),Ce=Math.max(void 0===q?NaN:f.convert(q),ee),Pe=oe?this.bandWidth:d.bandwidth,Me=Ce-ge,Re={x:ve+Pe/2,y:ee};Ne=B?B({value:q}):void 0!==q&&isNumber$1(q)?this.formatLabelValue(q):"";var he=ve+Pe/2,De=void 0,Oe=void 0,Le=void 0!==q&&q>=0;if(U===BarColumnLabelPlacement.Center)De=ge+Me/2,Oe="middle";else if(U===BarColumnLabelPlacement.OutsideEnd)De=ge+(Le?-2:Me+2),Oe=Le?"bottom":"top";else if(U===BarColumnLabelPlacement.InsideEnd){De=ge+(Le?2:Me-2),Oe=Le?"top":"bottom";var dt=HdpiCanvas.getTextSize(Ne,x).height||10;(Le&&De>ee-dt||!Le&&De<ee+dt)&&(De=ee+2*(Le?-1:1),Oe=Le?"bottom":"top")}else De=ee+2*(Le?-1:1),Oe=Le?"bottom":"top";Y.push({x:ve,y:ge,width:Pe,height:Me,fill:y,stroke:m,strokeWidth:E,seriesDatum:{x:se,y:ue?void 0:q},point:Re,label:{x:he,y:De,text:Ne,fontStyle:D,fontWeight:P,fontSize:R,fontFamily:x,textAlign:"center",textBaseline:Oe,fill:L}})}return Y}},t.className="ColumnSparkline",t}(BarColumnSparkline),isNumber=isNumber$4,AgSparkline=function(){function l(){}return l.create=function(t,e){var r=getSparklineInstance((t=jsonMerge([t])).type);return e&&(r.tooltip=e),initSparkline(r,t),initSparklineByType(r,t),t.data&&(r.data=t.data),r.processedOptions=t,r},l}();function getSparklineInstance(l){switch(void 0===l&&(l="line"),l){case"column":return new ColumnSparkline;case"bar":return new BarSparkline;case"area":return new AreaSparkline;default:return new LineSparkline}}function initSparklineByType(l,t){switch(t.type){case"bar":case"column":initBarColumnSparkline(l,t);break;case"area":initAreaSparkline(l,t);break;default:initLineSparkline(l,t)}}function initSparkline(l,t){setValueIfPropertyExists(l,"context",t.context,t),setValueIfPropertyExists(l,"width",t.width,t),setValueIfPropertyExists(l,"height",t.height,t),setValueIfPropertyExists(l,"container",t.container,t),setValueIfPropertyExists(l,"xKey",t.xKey,t),setValueIfPropertyExists(l,"yKey",t.yKey,t),t.padding&&initPaddingOptions(l.padding,t.padding),t.axis&&initAxisOptions(l.axis,t.axis),t.highlightStyle&&initHighlightStyleOptions(l.highlightStyle,t.highlightStyle)}function initLineSparkline(l,t){t.marker&&initMarkerOptions(l.marker,t.marker),t.line&&initLineOptions(l.line,t.line),t.crosshairs&&initCrosshairsOptions(l.crosshairs,t.crosshairs)}function initAreaSparkline(l,t){setValueIfPropertyExists(l,"fill",t.fill,t),t.marker&&initMarkerOptions(l.marker,t.marker),t.line&&initLineOptions(l.line,t.line),t.crosshairs&&initCrosshairsOptions(l.crosshairs,t.crosshairs)}function initBarColumnSparkline(l,t){setValueIfPropertyExists(l,"valueAxisDomain",t.valueAxisDomain,t),setValueIfPropertyExists(l,"fill",t.fill,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t),setValueIfPropertyExists(l,"paddingInner",t.paddingInner,t),setValueIfPropertyExists(l,"paddingOuter",t.paddingOuter,t),setValueIfPropertyExists(l,"formatter",t.formatter,t),t.label&&initLabelOptions(l.label,t.label)}function initPaddingOptions(l,t){setValueIfPropertyExists(l,"top",t.top,t),setValueIfPropertyExists(l,"right",t.right,t),setValueIfPropertyExists(l,"bottom",t.bottom,t),setValueIfPropertyExists(l,"left",t.left,t)}function initMarkerOptions(l,t){setValueIfPropertyExists(l,"enabled",t.enabled,t),setValueIfPropertyExists(l,"size",t.size,t),setValueIfPropertyExists(l,"shape",t.shape,t),setValueIfPropertyExists(l,"fill",t.fill,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t),setValueIfPropertyExists(l,"formatter",t.formatter,t)}function initLabelOptions(l,t){setValueIfPropertyExists(l,"enabled",t.enabled,t),setValueIfPropertyExists(l,"fontStyle",t.fontStyle,t),setValueIfPropertyExists(l,"fontWeight",t.fontWeight,t),setValueIfPropertyExists(l,"fontSize",t.fontSize,t),setValueIfPropertyExists(l,"fontFamily",t.fontFamily,t),setValueIfPropertyExists(l,"textAlign",t.textAlign,t),setValueIfPropertyExists(l,"textBaseline",t.textBaseline,t),setValueIfPropertyExists(l,"color",t.color,t),setValueIfPropertyExists(l,"formatter",t.formatter,t),setValueIfPropertyExists(l,"placement",t.placement,t)}function initLineOptions(l,t){setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t)}function initAxisOptions(l,t){setValueIfPropertyExists(l,"type",t.type,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t)}function initHighlightStyleOptions(l,t){setValueIfPropertyExists(l,"fill",t.fill,t),setValueIfPropertyExists(l,"size",t.size,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t)}function initCrosshairsOptions(l,t){l.xLine&&t.xLine&&initCrosshairLineOptions(l.xLine,t.xLine),l.yLine&&t.yLine&&initCrosshairLineOptions(l.yLine,t.yLine)}function initCrosshairLineOptions(l,t){setValueIfPropertyExists(l,"enabled",t.enabled,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t),setValueIfPropertyExists(l,"lineDash",t.lineDash,t),setValueIfPropertyExists(l,"lineCap",t.lineCap,t)}var doOnceFlags={};function doOnce(l,t){doOnceFlags[t]||(l(),doOnceFlags[t]=!0)}var offsetValidator=function(l,t,e){if(isNumber(t))return!0;var r="AG Charts: "+l+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return doOnce(function(){return console.warn(r)},l+" not a number"),!1},validators={xOffset:offsetValidator,yOffset:offsetValidator};function setValueIfPropertyExists(l,t,e,r){if(t in r)if(t in l){var o=validators[t];(!o||o(t,e,l[t]))&&l[t]!==e&&(l[t]=e)}else console.warn("Property "+t+" does not exist on the target object.")}var __extends$1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign=function(){return __assign=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign.apply(this,arguments)},__decorate$1=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SparklineCellRenderer=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$1(t,l),t.prototype.init=function(e){var r=this,o=!0,d=this.resizeObserverService.observeResize(this.getGui(),function(){var f=r.getGui(),y=f.clientWidth,m=f.clientHeight;if(0!==y&&0!==m)if(o){var E=__assign({data:e.value,width:y,height:m,context:{data:e.data}},e.sparklineOptions);r.sparkline=AgSparkline.create(E,r.sparklineTooltipSingleton.getSparklineTooltip()),r.eSparkline.appendChild(r.sparkline.canvasElement),o=!1}else r.sparkline.width=y,r.sparkline.height=m});this.addDestroyFunc(function(){return d()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSparkline")],t.prototype,"eSparkline",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate=function(l,t,e,r){var d,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var f=l.length-1;f>=0;f--)(d=l[f])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SparklineTooltipSingleton=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends(t,l),t.prototype.postConstruct=function(){this.tooltip=new SparklineTooltip},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyTooltip",null),__decorate([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("sparklineTooltipSingleton")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION="29.3.5",SparklinesModule={version:VERSION,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SparklinesModule,beans:[SparklineTooltipSingleton],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:SparklineCellRenderer}],dependantModules:[EnterpriseCoreModule]},AllEnterpriseModules=[ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,GridChartsModule,MasterDetailModule,MenuModule,MultiFilterModule,RangeSelectionModule,RichSelectModule,RowGroupingModule,ServerSideRowModelModule,SetFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,SparklinesModule],AllModules=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.F$j.concat(AllEnterpriseModules);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.registerModules(AllEnterpriseModules)},5619:(l,t,e)=>{e.d(t,{X:()=>o});var r=e(8645);class o extends r.x{constructor(d){super(),this._value=d}get value(){return this.getValue()}_subscribe(d){const f=super._subscribe(d);return!f.closed&&d.next(this._value),f}getValue(){const{hasError:d,thrownError:f,_value:y}=this;if(d)throw f;return this._throwIfClosed(),y}next(d){super.next(this._value=d)}}},5592:(l,t,e)=>{e.d(t,{y:()=>E});var r=e(305),o=e(7394),s=e(4850),d=e(8407),f=e(2653),y=e(4674),m=e(1441);let E=(()=>{class R{constructor(L){L&&(this._subscribe=L)}lift(L){const B=new R;return B.source=this,B.operator=L,B}subscribe(L,B,U){const Y=function P(R){return R&&R instanceof r.Lv||function D(R){return R&&(0,y.m)(R.next)&&(0,y.m)(R.error)&&(0,y.m)(R.complete)}(R)&&(0,o.Nn)(R)}(L)?L:new r.Hp(L,B,U);return(0,m.x)(()=>{const{operator:ee,source:oe}=this;Y.add(ee?ee.call(Y,oe):oe?this._subscribe(Y):this._trySubscribe(Y))}),Y}_trySubscribe(L){try{return this._subscribe(L)}catch(B){L.error(B)}}forEach(L,B){return new(B=O(B))((U,Y)=>{const ee=new r.Hp({next:oe=>{try{L(oe)}catch(re){Y(re),ee.unsubscribe()}},error:Y,complete:U});this.subscribe(ee)})}_subscribe(L){var B;return null===(B=this.source)||void 0===B?void 0:B.subscribe(L)}[s.L](){return this}pipe(...L){return(0,d.U)(L)(this)}toPromise(L){return new(L=O(L))((B,U)=>{let Y;this.subscribe(ee=>Y=ee,ee=>U(ee),()=>B(Y))})}}return R.create=x=>new R(x),R})();function O(R){var x;return null!==(x=R??f.config.Promise)&&void 0!==x?x:Promise}},8645:(l,t,e)=>{e.d(t,{x:()=>m});var r=e(5592),o=e(7394);const d=(0,e(2306).d)(O=>function(){O(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var f=e(9039),y=e(1441);let m=(()=>{class O extends r.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(P){const R=new E(this,this);return R.operator=P,R}_throwIfClosed(){if(this.closed)throw new d}next(P){(0,y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const R of this.currentObservers)R.next(P)}})}error(P){(0,y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=P;const{observers:R}=this;for(;R.length;)R.shift().error(P)}})}complete(){(0,y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:P}=this;for(;P.length;)P.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var P;return(null===(P=this.observers)||void 0===P?void 0:P.length)>0}_trySubscribe(P){return this._throwIfClosed(),super._trySubscribe(P)}_subscribe(P){return this._throwIfClosed(),this._checkFinalizedStatuses(P),this._innerSubscribe(P)}_innerSubscribe(P){const{hasError:R,isStopped:x,observers:L}=this;return R||x?o.Lc:(this.currentObservers=null,L.push(P),new o.w0(()=>{this.currentObservers=null,(0,f.P)(L,P)}))}_checkFinalizedStatuses(P){const{hasError:R,thrownError:x,isStopped:L}=this;R?P.error(x):L&&P.complete()}asObservable(){const P=new r.y;return P.source=this,P}}return O.create=(D,P)=>new E(D,P),O})();class E extends m{constructor(D,P){super(),this.destination=D,this.source=P}next(D){var P,R;null===(R=null===(P=this.destination)||void 0===P?void 0:P.next)||void 0===R||R.call(P,D)}error(D){var P,R;null===(R=null===(P=this.destination)||void 0===P?void 0:P.error)||void 0===R||R.call(P,D)}complete(){var D,P;null===(P=null===(D=this.destination)||void 0===D?void 0:D.complete)||void 0===P||P.call(D)}_subscribe(D){var P,R;return null!==(R=null===(P=this.source)||void 0===P?void 0:P.subscribe(D))&&void 0!==R?R:o.Lc}}},305:(l,t,e)=>{e.d(t,{Hp:()=>U,Lv:()=>R});var r=e(4674),o=e(7394),s=e(2653),d=e(3894),f=e(2420);const y=O("C",void 0,void 0);function O(ie,q,se){return{kind:ie,value:q,error:se}}var D=e(7599),P=e(1441);class R extends o.w0{constructor(q){super(),this.isStopped=!1,q?(this.destination=q,(0,o.Nn)(q)&&q.add(this)):this.destination=re}static create(q,se,ue){return new U(q,se,ue)}next(q){this.isStopped?oe(function E(ie){return O("N",ie,void 0)}(q),this):this._next(q)}error(q){this.isStopped?oe(function m(ie){return O("E",void 0,ie)}(q),this):(this.isStopped=!0,this._error(q))}complete(){this.isStopped?oe(y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(q){this.destination.next(q)}_error(q){try{this.destination.error(q)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const x=Function.prototype.bind;function L(ie,q){return x.call(ie,q)}class B{constructor(q){this.partialObserver=q}next(q){const{partialObserver:se}=this;if(se.next)try{se.next(q)}catch(ue){Y(ue)}}error(q){const{partialObserver:se}=this;if(se.error)try{se.error(q)}catch(ue){Y(ue)}else Y(q)}complete(){const{partialObserver:q}=this;if(q.complete)try{q.complete()}catch(se){Y(se)}}}class U extends R{constructor(q,se,ue){let ge;if(super(),(0,r.m)(q)||!q)ge={next:q??void 0,error:se??void 0,complete:ue??void 0};else{let ve;this&&s.config.useDeprecatedNextContext?(ve=Object.create(q),ve.unsubscribe=()=>this.unsubscribe(),ge={next:q.next&&L(q.next,ve),error:q.error&&L(q.error,ve),complete:q.complete&&L(q.complete,ve)}):ge=q}this.destination=new B(ge)}}function Y(ie){s.config.useDeprecatedSynchronousErrorHandling?(0,P.O)(ie):(0,d.h)(ie)}function oe(ie,q){const{onStoppedNotification:se}=s.config;se&&D.z.setTimeout(()=>se(ie,q))}const re={closed:!0,next:f.Z,error:function ee(ie){throw ie},complete:f.Z}},7394:(l,t,e)=>{e.d(t,{Lc:()=>y,w0:()=>f,Nn:()=>m});var r=e(4674);const s=(0,e(2306).d)(O=>function(P){O(this),this.message=P?`${P.length} errors occurred during unsubscription:\n${P.map((R,x)=>`${x+1}) ${R.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=P});var d=e(9039);class f{constructor(D){this.initialTeardown=D,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let D;if(!this.closed){this.closed=!0;const{_parentage:P}=this;if(P)if(this._parentage=null,Array.isArray(P))for(const L of P)L.remove(this);else P.remove(this);const{initialTeardown:R}=this;if((0,r.m)(R))try{R()}catch(L){D=L instanceof s?L.errors:[L]}const{_finalizers:x}=this;if(x){this._finalizers=null;for(const L of x)try{E(L)}catch(B){D=D??[],B instanceof s?D=[...D,...B.errors]:D.push(B)}}if(D)throw new s(D)}}add(D){var P;if(D&&D!==this)if(this.closed)E(D);else{if(D instanceof f){if(D.closed||D._hasParent(this))return;D._addParent(this)}(this._finalizers=null!==(P=this._finalizers)&&void 0!==P?P:[]).push(D)}}_hasParent(D){const{_parentage:P}=this;return P===D||Array.isArray(P)&&P.includes(D)}_addParent(D){const{_parentage:P}=this;this._parentage=Array.isArray(P)?(P.push(D),P):P?[P,D]:D}_removeParent(D){const{_parentage:P}=this;P===D?this._parentage=null:Array.isArray(P)&&(0,d.P)(P,D)}remove(D){const{_finalizers:P}=this;P&&(0,d.P)(P,D),D instanceof f&&D._removeParent(this)}}f.EMPTY=(()=>{const O=new f;return O.closed=!0,O})();const y=f.EMPTY;function m(O){return O instanceof f||O&&"closed"in O&&(0,r.m)(O.remove)&&(0,r.m)(O.add)&&(0,r.m)(O.unsubscribe)}function E(O){(0,r.m)(O)?O():O.unsubscribe()}},2653:(l,t,e)=>{e.d(t,{config:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(l,t,e)=>{e.d(t,{E:()=>o});const o=new(e(5592).y)(f=>f.complete())},7715:(l,t,e)=>{e.d(t,{D:()=>ue});var r=e(4829),o=e(7103),s=e(9360),d=e(8251);function f(ge,ve=0){return(0,s.e)((Ce,Pe)=>{Ce.subscribe((0,d.x)(Pe,Me=>(0,o.f)(Pe,ge,()=>Pe.next(Me),ve),()=>(0,o.f)(Pe,ge,()=>Pe.complete(),ve),Me=>(0,o.f)(Pe,ge,()=>Pe.error(Me),ve)))})}function y(ge,ve=0){return(0,s.e)((Ce,Pe)=>{Pe.add(ge.schedule(()=>Ce.subscribe(Pe),ve))})}var O=e(5592),P=e(4971),R=e(4674);function L(ge,ve){if(!ge)throw new Error("Iterable cannot be null");return new O.y(Ce=>{(0,o.f)(Ce,ve,()=>{const Pe=ge[Symbol.asyncIterator]();(0,o.f)(Ce,ve,()=>{Pe.next().then(Me=>{Me.done?Ce.complete():Ce.next(Me.value)})},0,!0)})})}var B=e(8382),U=e(4026),Y=e(4266),ee=e(3664),oe=e(5726),re=e(9853),ie=e(541);function ue(ge,ve){return ve?function se(ge,ve){if(null!=ge){if((0,B.c)(ge))return function m(ge,ve){return(0,r.Xf)(ge).pipe(y(ve),f(ve))}(ge,ve);if((0,Y.z)(ge))return function D(ge,ve){return new O.y(Ce=>{let Pe=0;return ve.schedule(function(){Pe===ge.length?Ce.complete():(Ce.next(ge[Pe++]),Ce.closed||this.schedule())})})}(ge,ve);if((0,U.t)(ge))return function E(ge,ve){return(0,r.Xf)(ge).pipe(y(ve),f(ve))}(ge,ve);if((0,oe.D)(ge))return L(ge,ve);if((0,ee.T)(ge))return function x(ge,ve){return new O.y(Ce=>{let Pe;return(0,o.f)(Ce,ve,()=>{Pe=ge[P.h](),(0,o.f)(Ce,ve,()=>{let Me,Re;try{({value:Me,done:Re}=Pe.next())}catch(Ne){return void Ce.error(Ne)}Re?Ce.complete():Ce.next(Me)},0,!0)}),()=>(0,R.m)(Pe?.return)&&Pe.return()})}(ge,ve);if((0,ie.L)(ge))return function q(ge,ve){return L((0,ie.Q)(ge),ve)}(ge,ve)}throw(0,re.z)(ge)}(ge,ve):(0,r.Xf)(ge)}},4829:(l,t,e)=>{e.d(t,{Xf:()=>x});var r=e(655),o=e(4266),s=e(4026),d=e(5592),f=e(8382),y=e(5726),m=e(9853),E=e(3664),O=e(541),D=e(4674),P=e(3894),R=e(4850);function x(ie){if(ie instanceof d.y)return ie;if(null!=ie){if((0,f.c)(ie))return function L(ie){return new d.y(q=>{const se=ie[R.L]();if((0,D.m)(se.subscribe))return se.subscribe(q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,o.z)(ie))return function B(ie){return new d.y(q=>{for(let se=0;se<ie.length&&!q.closed;se++)q.next(ie[se]);q.complete()})}(ie);if((0,s.t)(ie))return function U(ie){return new d.y(q=>{ie.then(se=>{q.closed||(q.next(se),q.complete())},se=>q.error(se)).then(null,P.h)})}(ie);if((0,y.D)(ie))return ee(ie);if((0,E.T)(ie))return function Y(ie){return new d.y(q=>{for(const se of ie)if(q.next(se),q.closed)return;q.complete()})}(ie);if((0,O.L)(ie))return function oe(ie){return ee((0,O.Q)(ie))}(ie)}throw(0,m.z)(ie)}function ee(ie){return new d.y(q=>{(function re(ie,q){var se,ue,ge,ve;return(0,r.mG)(this,void 0,void 0,function*(){try{for(se=(0,r.KL)(ie);!(ue=yield se.next()).done;)if(q.next(ue.value),q.closed)return}catch(Ce){ge={error:Ce}}finally{try{ue&&!ue.done&&(ve=se.return)&&(yield ve.call(se))}finally{if(ge)throw ge.error}}q.complete()})})(ie,q).catch(se=>q.error(se))})}},2096:(l,t,e)=>{e.d(t,{of:()=>s});var r=e(4564),o=e(7715);function s(...d){const f=(0,r.yG)(d);return(0,o.D)(d,f)}},8251:(l,t,e)=>{e.d(t,{x:()=>o});var r=e(305);function o(d,f,y,m,E){return new s(d,f,y,m,E)}class s extends r.Lv{constructor(f,y,m,E,O,D){super(f),this.onFinalize=O,this.shouldUnsubscribe=D,this._next=y?function(P){try{y(P)}catch(R){f.error(R)}}:super._next,this._error=E?function(P){try{E(P)}catch(R){f.error(R)}finally{this.unsubscribe()}}:super._error,this._complete=m?function(){try{m()}catch(P){f.error(P)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var f;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:y}=this;super.unsubscribe(),!y&&(null===(f=this.onFinalize)||void 0===f||f.call(this))}}}},6328:(l,t,e)=>{e.d(t,{b:()=>s});var r=e(1631),o=e(4674);function s(d,f){return(0,o.m)(f)?(0,r.z)(d,f,1):(0,r.z)(d,1)}},2181:(l,t,e)=>{e.d(t,{h:()=>s});var r=e(9360),o=e(8251);function s(d,f){return(0,r.e)((y,m)=>{let E=0;y.subscribe((0,o.x)(m,O=>d.call(f,O,E++)&&m.next(O)))})}},4716:(l,t,e)=>{e.d(t,{x:()=>o});var r=e(9360);function o(s){return(0,r.e)((d,f)=>{try{d.subscribe(f)}finally{f.add(s)}})}},7398:(l,t,e)=>{e.d(t,{U:()=>s});var r=e(9360),o=e(8251);function s(d,f){return(0,r.e)((y,m)=>{let E=0;y.subscribe((0,o.x)(m,O=>{m.next(d.call(f,O,E++))}))})}},7537:(l,t,e)=>{e.d(t,{J:()=>s});var r=e(1631),o=e(2737);function s(d=1/0){return(0,r.z)(o.y,d)}},1631:(l,t,e)=>{e.d(t,{z:()=>E});var r=e(7398),o=e(4829),s=e(9360),d=e(7103),f=e(8251),m=e(4674);function E(O,D,P=1/0){return(0,m.m)(D)?E((R,x)=>(0,r.U)((L,B)=>D(R,L,x,B))((0,o.Xf)(O(R,x))),P):("number"==typeof D&&(P=D),(0,s.e)((R,x)=>function y(O,D,P,R,x,L,B,U){const Y=[];let ee=0,oe=0,re=!1;const ie=()=>{re&&!Y.length&&!ee&&D.complete()},q=ue=>ee<R?se(ue):Y.push(ue),se=ue=>{L&&D.next(ue),ee++;let ge=!1;(0,o.Xf)(P(ue,oe++)).subscribe((0,f.x)(D,ve=>{x?.(ve),L?q(ve):D.next(ve)},()=>{ge=!0},void 0,()=>{if(ge)try{for(ee--;Y.length&&ee<R;){const ve=Y.shift();B?(0,d.f)(D,B,()=>se(ve)):se(ve)}ie()}catch(ve){D.error(ve)}}))};return O.subscribe((0,f.x)(D,q,()=>{re=!0,ie()})),()=>{U?.()}}(R,x,O,P)))}},4664:(l,t,e)=>{e.d(t,{w:()=>d});var r=e(4829),o=e(9360),s=e(8251);function d(f,y){return(0,o.e)((m,E)=>{let O=null,D=0,P=!1;const R=()=>P&&!O&&E.complete();m.subscribe((0,s.x)(E,x=>{O?.unsubscribe();let L=0;const B=D++;(0,r.Xf)(f(x,B)).subscribe(O=(0,s.x)(E,U=>E.next(y?y(x,U,B,L++):U),()=>{O=null,R()}))},()=>{P=!0,R()}))})}},9397:(l,t,e)=>{e.d(t,{b:()=>f});var r=e(4674),o=e(9360),s=e(8251),d=e(2737);function f(y,m,E){const O=(0,r.m)(y)||m||E?{next:y,error:m,complete:E}:y;return O?(0,o.e)((D,P)=>{var R;null===(R=O.subscribe)||void 0===R||R.call(O);let x=!0;D.subscribe((0,s.x)(P,L=>{var B;null===(B=O.next)||void 0===B||B.call(O,L),P.next(L)},()=>{var L;x=!1,null===(L=O.complete)||void 0===L||L.call(O),P.complete()},L=>{var B;x=!1,null===(B=O.error)||void 0===B||B.call(O,L),P.error(L)},()=>{var L,B;x&&(null===(L=O.unsubscribe)||void 0===L||L.call(O)),null===(B=O.finalize)||void 0===B||B.call(O)}))}):d.y}},7599:(l,t,e)=>{e.d(t,{z:()=>r});const r={setTimeout(o,s,...d){const{delegate:f}=r;return f?.setTimeout?f.setTimeout(o,s,...d):setTimeout(o,s,...d)},clearTimeout(o){const{delegate:s}=r;return(s?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4971:(l,t,e)=>{e.d(t,{h:()=>o});const o=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(l,t,e)=>{e.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(l,t,e)=>{e.d(t,{_6:()=>y,jO:()=>d,yG:()=>f});var r=e(4674);function s(m){return m[m.length-1]}function d(m){return(0,r.m)(s(m))?m.pop():void 0}function f(m){return function o(m){return m&&(0,r.m)(m.schedule)}(s(m))?m.pop():void 0}function y(m,E){return"number"==typeof s(m)?m.pop():E}},7453:(l,t,e)=>{e.d(t,{D:()=>f});const{isArray:r}=Array,{getPrototypeOf:o,prototype:s,keys:d}=Object;function f(m){if(1===m.length){const E=m[0];if(r(E))return{args:E,keys:null};if(function y(m){return m&&"object"==typeof m&&o(m)===s}(E)){const O=d(E);return{args:O.map(D=>E[D]),keys:O}}}return{args:m,keys:null}}},9039:(l,t,e)=>{function r(o,s){if(o){const d=o.indexOf(s);0<=d&&o.splice(d,1)}}e.d(t,{P:()=>r})},2306:(l,t,e)=>{function r(o){const d=o(f=>{Error.call(f),f.stack=(new Error).stack});return d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d}e.d(t,{d:()=>r})},2714:(l,t,e)=>{function r(o,s){return o.reduce((d,f,y)=>(d[f]=s[y],d),{})}e.d(t,{n:()=>r})},1441:(l,t,e)=>{e.d(t,{O:()=>d,x:()=>s});var r=e(2653);let o=null;function s(f){if(r.config.useDeprecatedSynchronousErrorHandling){const y=!o;if(y&&(o={errorThrown:!1,error:null}),f(),y){const{errorThrown:m,error:E}=o;if(o=null,m)throw E}}else f()}function d(f){r.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=f)}},7103:(l,t,e)=>{function r(o,s,d,f=0,y=!1){const m=s.schedule(function(){d(),y?o.add(this.schedule(null,f)):this.unsubscribe()},f);if(o.add(m),!y)return m}e.d(t,{f:()=>r})},2737:(l,t,e)=>{function r(o){return o}e.d(t,{y:()=>r})},4266:(l,t,e)=>{e.d(t,{z:()=>r});const r=o=>o&&"number"==typeof o.length&&"function"!=typeof o},5726:(l,t,e)=>{e.d(t,{D:()=>o});var r=e(4674);function o(s){return Symbol.asyncIterator&&(0,r.m)(s?.[Symbol.asyncIterator])}},4674:(l,t,e)=>{function r(o){return"function"==typeof o}e.d(t,{m:()=>r})},8382:(l,t,e)=>{e.d(t,{c:()=>s});var r=e(4850),o=e(4674);function s(d){return(0,o.m)(d[r.L])}},3664:(l,t,e)=>{e.d(t,{T:()=>s});var r=e(4971),o=e(4674);function s(d){return(0,o.m)(d?.[r.h])}},4026:(l,t,e)=>{e.d(t,{t:()=>o});var r=e(4674);function o(s){return(0,r.m)(s?.then)}},541:(l,t,e)=>{e.d(t,{L:()=>d,Q:()=>s});var r=e(655),o=e(4674);function s(f){return(0,r.FC)(this,arguments,function*(){const m=f.getReader();try{for(;;){const{value:E,done:O}=yield(0,r.qq)(m.read());if(O)return yield(0,r.qq)(void 0);yield yield(0,r.qq)(E)}}finally{m.releaseLock()}})}function d(f){return(0,o.m)(f?.getReader)}},9360:(l,t,e)=>{e.d(t,{A:()=>o,e:()=>s});var r=e(4674);function o(d){return(0,r.m)(d?.lift)}function s(d){return f=>{if(o(f))return f.lift(function(y){try{return d(y,this)}catch(m){this.error(m)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(l,t,e)=>{e.d(t,{Z:()=>d});var r=e(7398);const{isArray:o}=Array;function d(f){return(0,r.U)(y=>function s(f,y){return o(y)?f(...y):f(y)}(f,y))}},2420:(l,t,e)=>{function r(){}e.d(t,{Z:()=>r})},8407:(l,t,e)=>{e.d(t,{U:()=>s,z:()=>o});var r=e(2737);function o(...d){return s(d)}function s(d){return 0===d.length?r.y:1===d.length?d[0]:function(y){return d.reduce((m,E)=>E(m),y)}}},3894:(l,t,e)=>{e.d(t,{h:()=>s});var r=e(2653),o=e(7599);function s(d){o.z.setTimeout(()=>{const{onUnhandledError:f}=r.config;if(!f)throw d;f(d)})}},9853:(l,t,e)=>{function r(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}e.d(t,{z:()=>r})},655:(l,t,e)=>{function R(he,De,_e,Oe){return new(_e||(_e=Promise))(function(Ie,Ye){function dt(Pt){try{pt(Oe.next(Pt))}catch(Qe){Ye(Qe)}}function ht(Pt){try{pt(Oe.throw(Pt))}catch(Qe){Ye(Qe)}}function pt(Pt){Pt.done?Ie(Pt.value):function Le(Ie){return Ie instanceof _e?Ie:new _e(function(Ye){Ye(Ie)})}(Pt.value).then(dt,ht)}pt((Oe=Oe.apply(he,De||[])).next())})}function ie(he){return this instanceof ie?(this.v=he,this):new ie(he)}function q(he,De,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Oe=_e.apply(he,De||[]),Ie=[];return Le={},Ye("next"),Ye("throw"),Ye("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Ye(vt){Oe[vt]&&(Le[vt]=function(Nt){return new Promise(function(xt,bt){Ie.push([vt,Nt,xt,bt])>1||dt(vt,Nt)})})}function dt(vt,Nt){try{!function ht(vt){vt.value instanceof ie?Promise.resolve(vt.value.v).then(pt,Pt):Qe(Ie[0][2],vt)}(Oe[vt](Nt))}catch(xt){Qe(Ie[0][3],xt)}}function pt(vt){dt("next",vt)}function Pt(vt){dt("throw",vt)}function Qe(vt,Nt){vt(Nt),Ie.shift(),Ie.length&&dt(Ie[0][0],Ie[0][1])}}function ue(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,De=he[Symbol.asyncIterator];return De?De.call(he):(he=function U(he){var De="function"==typeof Symbol&&Symbol.iterator,_e=De&&he[De],Oe=0;if(_e)return _e.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Oe>=he.length&&(he=void 0),{value:he&&he[Oe++],done:!he}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),_e={},Oe("next"),Oe("throw"),Oe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function Oe(Ie){_e[Ie]=he[Ie]&&function(Ye){return new Promise(function(dt,ht){!function Le(Ie,Ye,dt,ht){Promise.resolve(ht).then(function(pt){Ie({value:pt,done:dt})},Ye)}(dt,ht,(Ye=he[Ie](Ye)).done,Ye.value)})}}}e.d(t,{FC:()=>q,KL:()=>ue,mG:()=>R,qq:()=>ie})},6814:(l,t,e)=>{e.d(t,{H9:()=>qt,HT:()=>d,JF:()=>Tn,K0:()=>y,Mx:()=>Dr,O5:()=>Gr,Ov:()=>Qi,PM:()=>ja,S$:()=>x,Ye:()=>Y,ax:()=>ot,bD:()=>zr,ez:()=>eo,mk:()=>Ve,q:()=>s,qS:()=>Go,sg:()=>ot,w_:()=>f});var r=e(4946);let o=null;function s(){return o}function d(H){o||(o=H)}class f{}const y=new r.OlP("DocumentToken");let m=(()=>{class H{historyGo(K){throw new Error("Not implemented")}}return H.\u0275fac=function(K){return new(K||H)},H.\u0275prov=r.Yz7({token:H,factory:function(){return(0,r.f3M)(O)},providedIn:"platform"}),H})(),O=(()=>{class H extends m{constructor(){super(),this._doc=(0,r.f3M)(y),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(K){const ce=s().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",K,!1),()=>ce.removeEventListener("popstate",K)}onHashChange(K){const ce=s().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",K,!1),()=>ce.removeEventListener("hashchange",K)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(K){this._location.pathname=K}pushState(K,ce,Se){this._history.pushState(K,ce,Se)}replaceState(K,ce,Se){this._history.replaceState(K,ce,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(K=0){this._history.go(K)}getState(){return this._history.state}}return H.\u0275fac=function(K){return new(K||H)},H.\u0275prov=r.Yz7({token:H,factory:function(){return new H},providedIn:"platform"}),H})();function D(H,te){if(0==H.length)return te;if(0==te.length)return H;let K=0;return H.endsWith("/")&&K++,te.startsWith("/")&&K++,2==K?H+te.substring(1):1==K?H+te:H+"/"+te}function P(H){const te=H.match(/#|\?|$/),K=te&&te.index||H.length;return H.slice(0,K-("/"===H[K-1]?1:0))+H.slice(K)}function R(H){return H&&"?"!==H[0]?"?"+H:H}let x=(()=>{class H{historyGo(K){throw new Error("Not implemented")}}return H.\u0275fac=function(K){return new(K||H)},H.\u0275prov=r.Yz7({token:H,factory:function(){return(0,r.f3M)(B)},providedIn:"root"}),H})();const L=new r.OlP("appBaseHref");let B=(()=>{class H extends x{constructor(K,ce){super(),this._platformLocation=K,this._removeListenerFns=[],this._baseHref=ce??this._platformLocation.getBaseHrefFromDOM()??(0,r.f3M)(y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}prepareExternalUrl(K){return D(this._baseHref,K)}path(K=!1){const ce=this._platformLocation.pathname+R(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&K?`${ce}${Se}`:ce}pushState(K,ce,Se,$e){const ze=this.prepareExternalUrl(Se+R($e));this._platformLocation.pushState(K,ce,ze)}replaceState(K,ce,Se,$e){const ze=this.prepareExternalUrl(Se+R($e));this._platformLocation.replaceState(K,ce,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}}return H.\u0275fac=function(K){return new(K||H)(r.LFG(m),r.LFG(L,8))},H.\u0275prov=r.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),Y=(()=>{class H{constructor(K){this._subject=new r.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=K;const ce=this._locationStrategy.getBaseHref();this._basePath=function ie(H){if(new RegExp("^(https?:)?//").test(H)){const[,K]=H.split(/\/\/[^\/]+/);return K}return H}(P(re(ce))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(K=!1){return this.normalize(this._locationStrategy.path(K))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(K,ce=""){return this.path()==this.normalize(K+R(ce))}normalize(K){return H.stripTrailingSlash(function oe(H,te){if(!H||!te.startsWith(H))return te;const K=te.substring(H.length);return""===K||["/",";","?","#"].includes(K[0])?K:te}(this._basePath,re(K)))}prepareExternalUrl(K){return K&&"/"!==K[0]&&(K="/"+K),this._locationStrategy.prepareExternalUrl(K)}go(K,ce="",Se=null){this._locationStrategy.pushState(Se,"",K,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+R(ce)),Se)}replaceState(K,ce="",Se=null){this._locationStrategy.replaceState(Se,"",K,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+R(ce)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(K=0){this._locationStrategy.historyGo?.(K)}onUrlChange(K){return this._urlChangeListeners.push(K),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(K);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(K="",ce){this._urlChangeListeners.forEach(Se=>Se(K,ce))}subscribe(K,ce,Se){return this._subject.subscribe({next:K,error:ce,complete:Se})}}return H.normalizeQueryParams=R,H.joinWithSlash=D,H.stripTrailingSlash=P,H.\u0275fac=function(K){return new(K||H)(r.LFG(x))},H.\u0275prov=r.Yz7({token:H,factory:function(){return function ee(){return new Y((0,r.LFG)(x))}()},providedIn:"root"}),H})();function re(H){return H.replace(/\/index.html$/,"")}const q={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),Pe=(()=>((Pe=Pe||{})[Pe.Decimal=0]="Decimal",Pe[Pe.Group=1]="Group",Pe[Pe.List=2]="List",Pe[Pe.PercentSign=3]="PercentSign",Pe[Pe.PlusSign=4]="PlusSign",Pe[Pe.MinusSign=5]="MinusSign",Pe[Pe.Exponential=6]="Exponential",Pe[Pe.SuperscriptingExponent=7]="SuperscriptingExponent",Pe[Pe.PerMille=8]="PerMille",Pe[Pe.Infinity=9]="Infinity",Pe[Pe.NaN=10]="NaN",Pe[Pe.TimeSeparator=11]="TimeSeparator",Pe[Pe.CurrencyDecimal=12]="CurrencyDecimal",Pe[Pe.CurrencyGroup=13]="CurrencyGroup",Pe))();function ht(H,te){const K=(0,r.cg1)(H),ce=K[r.wAp.NumberSymbols][te];if(typeof ce>"u"){if(te===Pe.CurrencyDecimal)return K[r.wAp.NumberSymbols][Pe.Decimal];if(te===Pe.CurrencyGroup)return K[r.wAp.NumberSymbols][Pe.Group]}return ce}const ke=/^(\d+)?\.((\d+)(-(\d+))?)?$/,qe=22,yt=".",kt="0",Yt=";",Ar=",",tr="#";function Jn(H,te,K,ce,Se){const ze=function ln(H,te="-"){const K={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=H.split(Yt),Se=ce[0],$e=ce[1],ze=-1!==Se.indexOf(yt)?Se.split(yt):[Se.substring(0,Se.lastIndexOf(kt)+1),Se.substring(Se.lastIndexOf(kt)+1)],It=ze[0],Sr=ze[1]||"";K.posPre=It.substring(0,It.indexOf(tr));for(let zt=0;zt<Sr.length;zt++){const sr=Sr.charAt(zt);sr===kt?K.minFrac=K.maxFrac=zt+1:sr===tr?K.maxFrac=zt+1:K.posSuf+=sr}const Vt=It.split(Ar);if(K.gSize=Vt[1]?Vt[1].length:0,K.lgSize=Vt[2]||Vt[1]?(Vt[2]||Vt[1]).length:0,$e){const zt=Se.length-K.posPre.length-K.posSuf.length,sr=$e.indexOf(tr);K.negPre=$e.substring(0,sr).replace(/'/g,""),K.negSuf=$e.slice(sr+zt).replace(/'/g,"")}else K.negPre=te+K.posPre,K.negSuf=K.posSuf;return K}(function pt(H,te){return(0,r.cg1)(H)[r.wAp.NumberFormats][te]}(te,se.Currency),ht(te,Pe.MinusSign));return ze.minFrac=function lt(H){let te;const K=q[H];return K&&(te=K[2]),"number"==typeof te?te:2}(ce),ze.maxFrac=ze.minFrac,function fn(H,te,K,ce,Se,$e,ze=!1){let It="",Sr=!1;if(isFinite(H)){let Vt=function Gn(H){let ce,Se,$e,ze,It,te=Math.abs(H)+"",K=0;for((Se=te.indexOf(yt))>-1&&(te=te.replace(yt,"")),($e=te.search(/e/i))>0?(Se<0&&(Se=$e),Se+=+te.slice($e+1),te=te.substring(0,$e)):Se<0&&(Se=te.length),$e=0;te.charAt($e)===kt;$e++);if($e===(It=te.length))ce=[0],Se=1;else{for(It--;te.charAt(It)===kt;)It--;for(Se-=$e,ce=[],ze=0;$e<=It;$e++,ze++)ce[ze]=Number(te.charAt($e))}return Se>qe&&(ce=ce.splice(0,qe-1),K=Se-1,Se=1),{digits:ce,exponent:K,integerLen:Se}}(H);ze&&(Vt=function hn(H){if(0===H.digits[0])return H;const te=H.digits.length-H.integerLen;return H.exponent?H.exponent+=2:(0===te?H.digits.push(0,0):1===te&&H.digits.push(0),H.integerLen+=2),H}(Vt));let zt=te.minInt,sr=te.minFrac,Mr=te.maxFrac;if($e){const Gi=$e.match(ke);if(null===Gi)throw new Error(`${$e} is not a valid digit info`);const ao=Gi[1],ri=Gi[3],Yi=Gi[5];null!=ao&&(zt=or(ao)),null!=ri&&(sr=or(ri)),null!=Yi?Mr=or(Yi):null!=ri&&sr>Mr&&(Mr=sr)}!function Dn(H,te,K){if(te>K)throw new Error(`The minimum number of digits after fraction (${te}) is higher than the maximum (${K}).`);let ce=H.digits,Se=ce.length-H.integerLen;const $e=Math.min(Math.max(te,Se),K);let ze=$e+H.integerLen,It=ce[ze];if(ze>0){ce.splice(Math.max(H.integerLen,ze));for(let sr=ze;sr<ce.length;sr++)ce[sr]=0}else{Se=Math.max(0,Se),H.integerLen=1,ce.length=Math.max(1,ze=$e+1),ce[0]=0;for(let sr=1;sr<ze;sr++)ce[sr]=0}if(It>=5)if(ze-1<0){for(let sr=0;sr>ze;sr--)ce.unshift(0),H.integerLen++;ce.unshift(1),H.integerLen++}else ce[ze-1]++;for(;Se<Math.max(0,$e);Se++)ce.push(0);let Sr=0!==$e;const Vt=te+H.integerLen,zt=ce.reduceRight(function(sr,Mr,kr,Qr){return Qr[kr]=(Mr+=sr)<10?Mr:Mr-10,Sr&&(0===Qr[kr]&&kr>=Vt?Qr.pop():Sr=!1),Mr>=10?1:0},0);zt&&(ce.unshift(zt),H.integerLen++)}(Vt,sr,Mr);let kr=Vt.digits,Qr=Vt.integerLen;const Wn=Vt.exponent;let en=[];for(Sr=kr.every(Gi=>!Gi);Qr<zt;Qr++)kr.unshift(0);for(;Qr<0;Qr++)kr.unshift(0);Qr>0?en=kr.splice(Qr,kr.length):(en=kr,kr=[0]);const Ko=[];for(kr.length>=te.lgSize&&Ko.unshift(kr.splice(-te.lgSize,kr.length).join(""));kr.length>te.gSize;)Ko.unshift(kr.splice(-te.gSize,kr.length).join(""));kr.length&&Ko.unshift(kr.join("")),It=Ko.join(ht(K,ce)),en.length&&(It+=ht(K,Se)+en.join("")),Wn&&(It+=ht(K,Pe.Exponential)+"+"+Wn)}else It=ht(K,Pe.Infinity);return It=H<0&&!Sr?te.negPre+It+te.negSuf:te.posPre+It+te.posSuf,It}(H,ze,te,Pe.CurrencyGroup,Pe.CurrencyDecimal,Se).replace("\xa4",K).replace("\xa4","").trim()}function or(H){const te=parseInt(H);if(isNaN(te))throw new Error("Invalid integer literal when parsing "+H);return te}function Go(H,te,K){return(0,r.dwT)(H,te,K)}function Dr(H,te){te=encodeURIComponent(te);for(const K of H.split(";")){const ce=K.indexOf("="),[Se,$e]=-1==ce?[K,""]:[K.slice(0,ce),K.slice(ce+1)];if(Se.trim()===te)return decodeURIComponent($e)}return null}const ei=/\s+/,vo=[];let Ve=(()=>{class H{constructor(K,ce,Se,$e){this._iterableDiffers=K,this._keyValueDiffers=ce,this._ngEl=Se,this._renderer=$e,this.initialClasses=vo,this.stateMap=new Map}set klass(K){this.initialClasses=null!=K?K.trim().split(ei):vo}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(ei):K}ngDoCheck(){for(const ce of this.initialClasses)this._updateState(ce,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const ce of K)this._updateState(ce,!0);else if(null!=K)for(const ce of Object.keys(K))this._updateState(ce,!!K[ce]);this._applyStateDiff()}_updateState(K,ce){const Se=this.stateMap.get(K);void 0!==Se?(Se.enabled!==ce&&(Se.changed=!0,Se.enabled=ce),Se.touched=!0):this.stateMap.set(K,{enabled:ce,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const ce=K[0],Se=K[1];Se.changed?(this._toggleClass(ce,Se.enabled),Se.changed=!1):Se.touched||(Se.enabled&&this._toggleClass(ce,!1),this.stateMap.delete(ce)),Se.touched=!1}}_toggleClass(K,ce){(K=K.trim()).length>0&&K.split(ei).forEach(Se=>{ce?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}}return H.\u0275fac=function(K){return new(K||H)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},H.\u0275dir=r.lG2({type:H,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),H})();class tt{constructor(te,K,ce,Se){this.$implicit=te,this.ngForOf=K,this.index=ce,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ot=(()=>{class H{set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}constructor(K,ce,Se){this._viewContainer=K,this._template=ce,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const ce=this._viewContainer;K.forEachOperation((Se,$e,ze)=>{if(null==Se.previousIndex)ce.createEmbeddedView(this._template,new tt(Se.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)ce.remove(null===$e?void 0:$e);else if(null!==$e){const It=ce.get($e);ce.move(It,ze),Ot(It,Se)}});for(let Se=0,$e=ce.length;Se<$e;Se++){const It=ce.get(Se).context;It.index=Se,It.count=$e,It.ngForOf=this._ngForOf}K.forEachIdentityChange(Se=>{Ot(ce.get(Se.currentIndex),Se)})}static ngTemplateContextGuard(K,ce){return!0}}return H.\u0275fac=function(K){return new(K||H)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},H.\u0275dir=r.lG2({type:H,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),H})();function Ot(H,te){H.context.$implicit=te.item}let Gr=(()=>{class H{constructor(K,ce){this._viewContainer=K,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){Pn("ngIfThen",K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){Pn("ngIfElse",K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(K,ce){return!0}}return H.\u0275fac=function(K){return new(K||H)(r.Y36(r.s_b),r.Y36(r.Rgc))},H.\u0275dir=r.lG2({type:H,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),H})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function Pn(H,te){if(te&&!te.createEmbeddedView)throw new Error(`${H} must be a TemplateRef, but received '${(0,r.AaK)(te)}'.`)}function En(H,te){return new r.vHH(2100,!1)}class Sn{createSubscription(te,K){return(0,r.rg0)(()=>te.subscribe({next:K,error:ce=>{throw ce}}))}dispose(te){(0,r.rg0)(()=>te.unsubscribe())}}class Bo{createSubscription(te,K){return te.then(K,ce=>{throw ce})}dispose(te){}}const ms=new Bo,ta=new Sn;let Qi=(()=>{class H{constructor(K){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=K}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(K){return this._obj?K!==this._obj?(this._dispose(),this.transform(K)):this._latestValue:(K&&this._subscribe(K),this._latestValue)}_subscribe(K){this._obj=K,this._strategy=this._selectStrategy(K),this._subscription=this._strategy.createSubscription(K,ce=>this._updateLatestValue(K,ce))}_selectStrategy(K){if((0,r.QGY)(K))return ms;if((0,r.F4k)(K))return ta;throw En()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(K,ce){K===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return H.\u0275fac=function(K){return new(K||H)(r.Y36(r.sBO,16))},H.\u0275pipe=r.Yjl({name:"async",type:H,pure:!1,standalone:!0}),H})(),qt=(()=>{class H{constructor(K,ce="USD"){this._locale=K,this._defaultCurrencyCode=ce}transform(K,ce=this._defaultCurrencyCode,Se="symbol",$e,ze){if(!function gr(H){return!(null==H||""===H||H!=H)}(K))return null;ze=ze||this._locale,"boolean"==typeof Se&&(Se=Se?"symbol":"code");let It=ce||this._defaultCurrencyCode;"code"!==Se&&(It="symbol"===Se||"symbol-narrow"===Se?function Xe(H,te,K="en"){const ce=function Nt(H){return(0,r.cg1)(H)[r.wAp.Currencies]}(K)[H]||q[H]||[],Se=ce[1];return"narrow"===te&&"string"==typeof Se?Se:ce[0]||H}(It,"symbol"===Se?"wide":"narrow",ze):Se);try{return Jn(function Hn(H){if("string"==typeof H&&!isNaN(Number(H)-parseFloat(H)))return Number(H);if("number"!=typeof H)throw new Error(`${H} is not a number`);return H}(K),ze,It,ce,$e)}catch(Sr){throw En()}}}return H.\u0275fac=function(K){return new(K||H)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},H.\u0275pipe=r.Yjl({name:"currency",type:H,pure:!0,standalone:!0}),H})();let eo=(()=>{class H{}return H.\u0275fac=function(K){return new(K||H)},H.\u0275mod=r.oAB({type:H}),H.\u0275inj=r.cJS({}),H})();const zr="browser",to="server";function ja(H){return H===to}class Tn{}},4946:(l,t,e)=>{e.d(t,{tb:()=>DC,AFp:()=>Jc,hGG:()=>L0,z2F:()=>Id,Ojb:()=>uy,sBO:()=>m0,Sil:()=>qD,_Vd:()=>ls,EJc:()=>YD,Xts:()=>Au,SBq:()=>Gu,lqb:()=>Ws,qLn:()=>Al,vpe:()=>ys,XFs:()=>mt,OlP:()=>jr,zs3:()=>cs,ZZ4:()=>AC,aQg:()=>xC,soG:()=>Kv,YKP:()=>XE,h0i:()=>Rd,R0b:()=>go,Lbi:()=>Bp,g9A:()=>xu,Qsj:()=>zp,FYo:()=>gg,JOm:()=>da,Rgc:()=>jf,dDg:()=>a0,eoX:()=>iO,GfV:()=>Rl,s_b:()=>$v,ifc:()=>Gn,VuI:()=>W0,MMx:()=>ZE,Lck:()=>Iw,G48:()=>y0,Gpc:()=>ve,RIp:()=>Jh,f3M:()=>tr,$WT:()=>Vn,MR2:()=>Ap,rg0:()=>ol,c2e:()=>zS,zSh:()=>Us,HDt:()=>YS,wAp:()=>Qt,vHH:()=>he,lri:()=>rO,rWj:()=>nO,cg1:()=>Xm,kL8:()=>CE,dqk:()=>br,iPO:()=>p0,Z0I:()=>sn,eJc:()=>hC,QGY:()=>bf,F4k:()=>uv,dwT:()=>LO,RDi:()=>H_,AaK:()=>se,qOj:()=>Gl,Xq5:()=>Yg,TTD:()=>So,_Bn:()=>YE,jDz:()=>JE,xp6:()=>od,uIk:()=>gf,ekj:()=>Oa,Suo:()=>PS,Xpm:()=>Bo,lG2:()=>$a,Yz7:()=>rr,cJS:()=>_t,oAB:()=>ra,Yjl:()=>na,Y36:()=>Il,_UZ:()=>Of,qZA:()=>Qs,TgZ:()=>Sd,EpF:()=>lv,n5z:()=>rh,LFG:()=>Yt,$8M:()=>Jd,NdJ:()=>Tf,CRH:()=>bS,oxw:()=>gv,ALo:()=>dS,lcZ:()=>pS,gM2:()=>fS,Hsn:()=>_v,F$t:()=>vv,Q6J:()=>Sf,s9C:()=>yv,VKq:()=>oS,iGM:()=>wS,KtG:()=>wo,CHM:()=>su,oJD:()=>Kh,LSH:()=>Mp,P3R:()=>Yh,Jzz:()=>Ut,Udp:()=>If,YNc:()=>nv,_uU:()=>Gf,Oqu:()=>a,hij:()=>u,AsE:()=>c,Gf:()=>DS});var r=e(8645),o=e(7394),s=e(5619),d=e(5592),f=e(7537),y=e(4829),m=e(6232),E=e(4564),O=e(7715),P=e(2096),R=e(305),x=e(9360);function L(h={}){const{connector:g=(()=>new r.x),resetOnError:_=!0,resetOnComplete:S=!0,resetOnRefCountZero:w=!0}=h;return b=>{let A,G,V,J=0,le=!1,Ee=!1;const xe=()=>{G?.unsubscribe(),G=void 0},Be=()=>{xe(),A=V=void 0,le=Ee=!1},et=()=>{const ft=A;Be(),ft?.unsubscribe()};return(0,x.e)((ft,Dt)=>{J++,!Ee&&!le&&xe();const Gt=V=V??g();Dt.add(()=>{J--,0===J&&!Ee&&!le&&(G=B(et,w))}),Gt.subscribe(Dt),!A&&J>0&&(A=new R.Hp({next:it=>Gt.next(it),error:it=>{Ee=!0,xe(),G=B(Be,_,it),Gt.error(it)},complete:()=>{le=!0,xe(),G=B(Be,S),Gt.complete()}}),(0,y.Xf)(ft).subscribe(A))})(b)}}function B(h,g,..._){if(!0===g)return void h();if(!1===g)return;const S=new R.Hp({next:()=>{S.unsubscribe(),h()}});return(0,y.Xf)(g(..._)).subscribe(S)}var U=e(4664),Y=e(2737),ee=e(8251);function re(h,g){return h===g}function ie(h){for(let g in h)if(h[g]===ie)return g;throw Error("Could not find renamed property on target object.")}function q(h,g){for(const _ in g)g.hasOwnProperty(_)&&!h.hasOwnProperty(_)&&(h[_]=g[_])}function se(h){if("string"==typeof h)return h;if(Array.isArray(h))return"["+h.map(se).join(", ")+"]";if(null==h)return""+h;if(h.overriddenName)return`${h.overriddenName}`;if(h.name)return`${h.name}`;const g=h.toString();if(null==g)return""+g;const _=g.indexOf("\n");return-1===_?g:g.substring(0,_)}function ue(h,g){return null==h||""===h?null===g?"":g:null==g||""===g?h:h+" "+g}const ge=ie({__forward_ref__:ie});function ve(h){return h.__forward_ref__=ve,h.toString=function(){return se(this())},h}function Ce(h){return Pe(h)?h():h}function Pe(h){return"function"==typeof h&&h.hasOwnProperty(ge)&&h.__forward_ref__===ve}function Me(h){return h&&!!h.\u0275providers}const Ne="https://g.co/ng/security#xss";class he extends Error{constructor(g,_){super(function De(h,g){return`NG0${Math.abs(h)}${g?": "+g:""}`}(g,_)),this.code=g}}function _e(h){return"string"==typeof h?h:null==h?"":String(h)}function dt(h,g){throw new he(-201,!1)}function Xe(h,g){null==h&&function ct(h,g,_,S){throw new Error(`ASSERTION ERROR: ${h}`+(null==S?"":` [Expected=> ${_} ${S} ${g} <=Actual]`))}(g,h,null,"!=")}function rr(h){return{token:h.token,providedIn:h.providedIn||null,factory:h.factory,value:void 0}}function _t(h){return{providers:h.providers||[],imports:h.imports||[]}}function Mt(h){return Or(h,Et)||Or(h,Wr)}function sn(h){return null!==Mt(h)}function Or(h,g){return h.hasOwnProperty(g)?h[g]:null}function tn(h){return h&&(h.hasOwnProperty(fi)||h.hasOwnProperty(Pa))?h[fi]:null}const Et=ie({\u0275prov:ie}),fi=ie({\u0275inj:ie}),Wr=ie({ngInjectableDef:ie}),Pa=ie({ngInjectorDef:ie});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let $i;function rn(h){const g=$i;return $i=h,g}function Bt(h,g,_){const S=Mt(h);return S&&"root"==S.providedIn?void 0===S.value?S.value=S.factory():S.value:_&mt.Optional?null:void 0!==g?g:void dt(se(h))}const br=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qn={},oi="__NG_DI_FLAG__",Zn="ngTempTokenPath",Ke=/\n/gm,we="__source";let ke;function yt(h){const g=ke;return ke=h,g}function kt(h,g=mt.Default){if(void 0===ke)throw new he(-203,!1);return null===ke?Bt(h,void 0,g):ke.get(h,g&mt.Optional?null:void 0,g)}function Yt(h,g=mt.Default){return(function Cr(){return $i}()||kt)(Ce(h),g)}function tr(h,g=mt.Default){return Yt(h,pn(g))}function pn(h){return typeof h>"u"||"number"==typeof h?h:0|(h.optional&&8)|(h.host&&1)|(h.self&&2)|(h.skipSelf&&4)}function hi(h){const g=[];for(let _=0;_<h.length;_++){const S=Ce(h[_]);if(Array.isArray(S)){if(0===S.length)throw new he(900,!1);let w,b=mt.Default;for(let A=0;A<S.length;A++){const G=S[A],V=Jn(G);"number"==typeof V?-1===V?w=G.token:b|=V:w=G}g.push(Yt(w,b))}else g.push(Yt(S))}return g}function fn(h,g){return h[oi]=g,h.prototype[oi]=g,h}function Jn(h){return h[oi]}function ln(h){return{toString:h}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),Gn=(()=>{return(h=Gn||(Gn={}))[h.Emulated=0]="Emulated",h[h.None=2]="None",h[h.ShadowDom=3]="ShadowDom",Gn;var h})();const Dn={},or=[],Qn=ie({\u0275cmp:ie}),ai=ie({\u0275dir:ie}),nt=ie({\u0275pipe:ie}),Go=ie({\u0275mod:ie}),Dr=ie({\u0275fac:ie}),ei=ie({__NG_ELEMENT_ID__:ie}),vo=ie({__NG_ENV_ID__:ie});function Ve(h,g,_){let S=h.length;for(;;){const w=h.indexOf(g,_);if(-1===w)return w;if(0===w||h.charCodeAt(w-1)<=32){const b=g.length;if(w+b===S||h.charCodeAt(w+b)<=32)return w}_=w+1}}function z(h,g,_){let S=0;for(;S<_.length;){const w=_[S];if("number"==typeof w){if(0!==w)break;S++;const b=_[S++],A=_[S++],G=_[S++];h.setAttribute(g,A,G,b)}else{const b=w,A=_[++S];tt(b)?h.setProperty(g,b,A):h.setAttribute(g,b,A),S++}}return S}function be(h){return 3===h||4===h||6===h}function tt(h){return 64===h.charCodeAt(0)}function ot(h,g){if(null!==g&&0!==g.length)if(null===h||0===h.length)h=g.slice();else{let _=-1;for(let S=0;S<g.length;S++){const w=g[S];"number"==typeof w?_=w:0===_||Ot(h,_,w,null,-1===_||2===_?g[++S]:null)}}return h}function Ot(h,g,_,S,w){let b=0,A=h.length;if(-1===g)A=-1;else for(;b<h.length;){const G=h[b++];if("number"==typeof G){if(G===g){A=-1;break}if(G>g){A=b-1;break}}}for(;b<h.length;){const G=h[b];if("number"==typeof G)break;if(G===_){if(null===S)return void(null!==w&&(h[b+1]=w));if(S===h[b+1])return void(h[b+2]=w)}b++,null!==S&&b++,null!==w&&b++}-1!==A&&(h.splice(A,0,g),b=A+1),h.splice(b++,0,_),null!==S&&h.splice(b++,0,S),null!==w&&h.splice(b++,0,w)}const Ct="ng-template";function Gr(h,g,_){let S=0,w=!0;for(;S<h.length;){let b=h[S++];if("string"==typeof b&&w){const A=h[S++];if(_&&"class"===b&&-1!==Ve(A.toLowerCase(),g,0))return!0}else{if(1===b){for(;S<h.length&&"string"==typeof(b=h[S++]);)if(b.toLowerCase()===g)return!0;return!1}"number"==typeof b&&(w=!1)}}return!1}function $t(h){return 4===h.type&&h.value!==Ct}function Pn(h,g,_){return g===(4!==h.type||_?h.value:Ct)}function Bn(h,g,_){let S=4;const w=h.attrs||[],b=function cr(h){for(let g=0;g<h.length;g++)if(be(h[g]))return g;return h.length}(w);let A=!1;for(let G=0;G<g.length;G++){const V=g[G];if("number"!=typeof V){if(!A)if(4&S){if(S=2|1&S,""!==V&&!Pn(h,V,_)||""===V&&1===g.length){if(xr(S))return!1;A=!0}}else{const J=8&S?V:g[++G];if(8&S&&null!==h.attrs){if(!Gr(h.attrs,J,_)){if(xr(S))return!1;A=!0}continue}const Ee=Cn(8&S?"class":V,w,$t(h),_);if(-1===Ee){if(xr(S))return!1;A=!0;continue}if(""!==J){let xe;xe=Ee>b?"":w[Ee+1].toLowerCase();const Be=8&S?xe:null;if(Be&&-1!==Ve(Be,J,0)||2&S&&J!==xe){if(xr(S))return!1;A=!0}}}}else{if(!A&&!xr(S)&&!xr(V))return!1;if(A&&xr(V))continue;A=!1,S=V|1&S}}return xr(S)||A}function xr(h){return 0==(1&h)}function Cn(h,g,_,S){if(null===g)return-1;let w=0;if(S||!_){let b=!1;for(;w<g.length;){const A=g[w];if(A===h)return w;if(3===A||6===A)b=!0;else{if(1===A||2===A){let G=g[++w];for(;"string"==typeof G;)G=g[++w];continue}if(4===A)break;if(0===A){w+=4;continue}}w+=b?1:2}return-1}return function ur(h,g){let _=h.indexOf(4);if(_>-1)for(_++;_<h.length;){const S=h[_];if("number"==typeof S)return-1;if(S===g)return _;_++}return-1}(g,h)}function vi(h,g,_=!1){for(let S=0;S<g.length;S++)if(Bn(h,g[S],_))return!0;return!1}function li(h,g){e:for(let _=0;_<g.length;_++){const S=g[_];if(h.length===S.length){for(let w=0;w<h.length;w++)if(h[w]!==S[w])continue e;return!0}}return!1}function _i(h,g){return h?":not("+g.trim()+")":g}function gn(h){let g=h[0],_=1,S=2,w="",b=!1;for(;_<h.length;){let A=h[_];if("string"==typeof A)if(2&S){const G=h[++_];w+="["+A+(G.length>0?'="'+G+'"':"")+"]"}else 8&S?w+="."+A:4&S&&(w+=" "+A);else""!==w&&!xr(A)&&(g+=_i(b,w),w=""),S=A,b=b||!xr(S);_++}return""!==w&&(g+=_i(b,w)),g}function Bo(h){return ln(()=>{const g=Ta(h),_={...g,decls:h.decls,vars:h.vars,template:h.template,consts:h.consts||null,ngContentSelectors:h.ngContentSelectors,onPush:h.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:g.standalone&&h.dependencies||null,getStandaloneInjector:null,signals:h.signals??!1,data:h.data||{},encapsulation:h.encapsulation||Gn.Emulated,styles:h.styles||or,_:null,schemas:h.schemas||null,tView:null,id:""};ko(_);const S=h.dependencies;return _.directiveDefs=ji(S,!1),_.pipeDefs=ji(S,!0),_.id=function Ki(h){let g=0;const _=[h.selectors,h.ngContentSelectors,h.hostVars,h.hostAttrs,h.consts,h.vars,h.decls,h.encapsulation,h.standalone,h.signals,h.exportAs,JSON.stringify(h.inputs),JSON.stringify(h.outputs),Object.getOwnPropertyNames(h.type.prototype),!!h.contentQueries,!!h.viewQuery].join("|");for(const w of _)g=Math.imul(31,g)+w.charCodeAt(0)<<0;return g+=2147483648,"c"+g}(_),_})}function ta(h){return ar(h)||xn(h)}function Qi(h){return null!==h}function ra(h){return ln(()=>({type:h.type,bootstrap:h.bootstrap||or,declarations:h.declarations||or,imports:h.imports||or,exports:h.exports||or,transitiveCompileScopes:null,schemas:h.schemas||null,id:h.id||null}))}function Wa(h,g){if(null==h)return Dn;const _={};for(const S in h)if(h.hasOwnProperty(S)){let w=h[S],b=w;Array.isArray(w)&&(b=w[1],w=w[0]),_[w]=S,g&&(g[w]=b)}return _}function $a(h){return ln(()=>{const g=Ta(h);return ko(g),g})}function na(h){return{type:h.type,name:h.name,factory:null,pure:!1!==h.pure,standalone:!0===h.standalone,onDestroy:h.type.prototype.ngOnDestroy||null}}function ar(h){return h[Qn]||null}function xn(h){return h[ai]||null}function kn(h){return h[nt]||null}function Vn(h){const g=ar(h)||xn(h)||kn(h);return null!==g&&g.standalone}function vn(h,g){const _=h[Go]||null;if(!_&&!0===g)throw new Error(`Type ${se(h)} does not have '\u0275mod' property.`);return _}function Ta(h){const g={};return{type:h.type,providersResolver:null,factory:null,hostBindings:h.hostBindings||null,hostVars:h.hostVars||0,hostAttrs:h.hostAttrs||null,contentQueries:h.contentQueries||null,declaredInputs:g,inputTransforms:null,inputConfig:h.inputs||Dn,exportAs:h.exportAs||null,standalone:!0===h.standalone,signals:!0===h.signals,selectors:h.selectors||or,viewQuery:h.viewQuery||null,features:h.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wa(h.inputs,g),outputs:Wa(h.outputs)}}function ko(h){h.features?.forEach(g=>g(h))}function ji(h,g){if(!h)return null;const _=g?kn:ta;return()=>("function"==typeof h?h():h).map(S=>_(S)).filter(Qi)}const on=0,wt=1,qt=2,gr=3,Hn=4,_o=5,un=6,eo=7,zr=8,to=9,wi=10,Xt=11,zi=12,ja=13,bn=14,Tr=15,yo=16,Ni=17,Br=18,ro=19,mo=20,Di=21,Tn=22,Pi=23,bi=24,vr=25,za=1,Ya=2,Mn=7,In=9,_n=11;function Ln(h){return Array.isArray(h)&&"object"==typeof h[za]}function Hr(h){return Array.isArray(h)&&!0===h[za]}function Vo(h){return 0!=(4&h.flags)}function ti(h){return h.componentOffset>-1}function Ma(h){return 1==(1&h.flags)}function Ti(h){return!!h.template}function Ra(h){return 0!=(512&h[qt])}function Mi(h,g){return h.hasOwnProperty(Dr)?h[Dr]:null}let Ss=br.WeakRef??class Wo{constructor(g){this.ref=g}deref(){return this.ref}},Zl=0,Un=null,qa=!1;function an(h){const g=Un;return Un=h,g}class nl{constructor(){this.id=Zl++,this.ref=function vc(h){return new Ss(h)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[g,_]of this.producers){const S=_.producerNode.deref();if(void 0!==S&&_.atTrackingVersion===this.trackingVersion){if(S.producerPollStatus(_.seenValueVersion))return!0}else this.producers.delete(g),S?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const g=qa;qa=!0;try{for(const[_,S]of this.consumers){const w=S.consumerNode.deref();void 0!==w&&w.trackingVersion===S.atTrackingVersion?w.onConsumerDependencyMayHaveChanged():(this.consumers.delete(_),w?.producers.delete(this.id))}}finally{qa=g}}producerAccessed(){if(qa)throw new Error("");if(null===Un)return;let g=Un.producers.get(this.id);void 0===g?(g={consumerNode:Un.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Un.trackingVersion},Un.producers.set(this.id,g),this.consumers.set(Un.id,g)):(g.seenValueVersion=this.valueVersion,g.atTrackingVersion=Un.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Un?.consumerAllowSignalWrites}producerPollStatus(g){return this.valueVersion!==g||(this.onProducerUpdateValueVersion(),this.valueVersion!==g)}}let il=null;function ol(h){const g=an(null);try{return h()}finally{an(g)}}const Er=()=>{};class eu extends nl{constructor(g,_,S){super(),this.watch=g,this.schedule=_,this.dirty=!1,this.cleanupFn=Er,this.registerOnCleanup=w=>{this.cleanupFn=w},this.consumerAllowSignalWrites=S}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const g=an(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Er,this.watch(this.registerOnCleanup)}finally{an(g)}}cleanup(){this.cleanupFn()}}class xa{constructor(g,_,S){this.previousValue=g,this.currentValue=_,this.firstChange=S}isFirstChange(){return this.firstChange}}function So(){return Oo}function Oo(h){return h.type.prototype.ngOnChanges&&(h.setInput=H),jo}function jo(){const h=K(this),g=h?.current;if(g){const _=h.previous;if(_===Dn)h.previous=g;else for(let S in g)_[S]=g[S];h.current=null,this.ngOnChanges(g)}}function H(h,g,_,S){const w=this.declaredInputs[_],b=K(h)||function ce(h,g){return h[te]=g}(h,{previous:Dn,current:null}),A=b.current||(b.current={}),G=b.previous,V=G[w];A[w]=new xa(V&&V.currentValue,g,G===Dn),h[S]=g}So.ngInherit=!0;const te="__ngSimpleChanges__";function K(h){return h[te]||null}const ze=function(h,g,_){};function Vt(h){for(;Array.isArray(h);)h=h[on];return h}function sr(h,g){return Vt(g[h])}function Mr(h,g){return Vt(g[h.index])}function Qr(h,g){return h.data[g]}function Wn(h,g){return h[g]}function en(h,g){const _=g[h];return Ln(_)?_:_[on]}function ri(h,g){return null==g?null:h[g]}function Yi(h){h[Ni]=0}function Ps(h){1024&h[qt]||(h[qt]|=1024,Ri(h,1))}function Bi(h){1024&h[qt]&&(h[qt]&=-1025,Ri(h,-1))}function Ri(h,g){let _=h[gr];if(null===_)return;_[_o]+=g;let S=_;for(_=_[gr];null!==_&&(1===g&&1===S[_o]||-1===g&&0===S[_o]);)_[_o]+=g,S=_,_=_[gr]}const Kt={lFrame:uu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ou(){return Kt.bindingsEnabled}function ni(){return null!==Kt.skipHydrationRootTNode}function ut(){return Kt.lFrame.lView}function Ir(){return Kt.lFrame.tView}function su(h){return Kt.lFrame.contextLView=h,h[zr]}function wo(h){return Kt.lFrame.contextLView=null,h}function $n(){let h=al();for(;null!==h&&64===h.type;)h=h.parent;return h}function al(){return Kt.lFrame.currentTNode}function Do(h,g){const _=Kt.lFrame;_.currentTNode=h,_.isParent=g}function Ts(){return Kt.lFrame.isParent}function sl(){Kt.lFrame.isParent=!1}function Ai(){const h=Kt.lFrame;let g=h.bindingRootIndex;return-1===g&&(g=h.bindingRootIndex=h.tView.bindingStartIndex),g}function Rs(){return Kt.lFrame.bindingIndex++}function qr(h){const g=Kt.lFrame,_=g.bindingIndex;return g.bindingIndex=g.bindingIndex+h,_}function Ja(h,g){const _=Kt.lFrame;_.bindingIndex=_.bindingRootIndex=h,Ci(g)}function Ci(h){Kt.lFrame.currentDirectiveIndex=h}function Bd(){return Kt.lFrame.currentQueryIndex}function ll(h){Kt.lFrame.currentQueryIndex=h}function Ec(h){const g=h[wt];return 2===g.type?g.declTNode:1===g.type?h[un]:null}function jn(h,g,_){if(_&mt.SkipSelf){let w=g,b=h;for(;!(w=w.parent,null!==w||_&mt.Host||(w=Ec(b),null===w||(b=b[bn],10&w.type))););if(null===w)return!1;g=w,h=b}const S=Kt.lFrame=kd();return S.currentTNode=g,S.lView=h,!0}function ul(h){const g=kd(),_=h[wt];Kt.lFrame=g,g.currentTNode=_.firstChild,g.lView=h,g.tView=_,g.contextLView=h,g.bindingIndex=_.bindingStartIndex,g.inI18n=!1}function kd(){const h=Kt.lFrame,g=null===h?null:h.child;return null===g?uu(h):g}function uu(h){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:h,child:null,inI18n:!1};return null!==h&&(h.child=g),g}function cu(){const h=Kt.lFrame;return Kt.lFrame=h.parent,h.currentTNode=null,h.lView=null,h}const Vd=cu;function lr(){const h=cu();h.isParent=!0,h.tView=null,h.selectedIndex=-1,h.contextLView=null,h.elementDepthCount=0,h.currentDirectiveIndex=-1,h.currentNamespace=null,h.bindingRootIndex=-1,h.bindingIndex=-1,h.currentQueryIndex=0}function Ei(){return Kt.lFrame.selectedIndex}function Qa(h){Kt.lFrame.selectedIndex=h}function N(){const h=Kt.lFrame;return Qr(h.tView,h.selectedIndex)}let ye=!0;function Ge(){return ye}function at(h){ye=h}function Rt(h,g){for(let _=g.directiveStart,S=g.directiveEnd;_<S;_++){const b=h.data[_].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:G,ngAfterViewInit:V,ngAfterViewChecked:J,ngOnDestroy:le}=b;A&&(h.contentHooks??=[]).push(-_,A),G&&((h.contentHooks??=[]).push(_,G),(h.contentCheckHooks??=[]).push(_,G)),V&&(h.viewHooks??=[]).push(-_,V),J&&((h.viewHooks??=[]).push(_,J),(h.viewCheckHooks??=[]).push(_,J)),null!=le&&(h.destroyHooks??=[]).push(_,le)}}function dr(h,g,_){La(h,g,3,_)}function ci(h,g,_,S){(3&h[qt])===_&&La(h,g,_,S)}function Ia(h,g){let _=h[qt];(3&_)===g&&(_&=8191,_+=1,h[qt]=_)}function La(h,g,_,S){const b=S??-1,A=g.length-1;let G=0;for(let V=void 0!==S?65535&h[Ni]:0;V<A;V++)if("number"==typeof g[V+1]){if(G=g[V],null!=S&&G>=S)break}else g[V]<0&&(h[Ni]+=65536),(G<b||-1==b)&&(As(h,_,g,V),h[Ni]=(4294901760&h[Ni])+V+2),V++}function es(h,g){ze(4,h,g);const _=an(null);try{g.call(h)}finally{an(_),ze(5,h,g)}}function As(h,g,_,S){const w=_[S]<0,b=_[S+1],G=h[w?-_[S]:_[S]];w?h[qt]>>13<h[Ni]>>16&&(3&h[qt])===g&&(h[qt]+=8192,es(G,b)):es(G,b)}const Yo=-1;class xs{constructor(g,_,S){this.factory=g,this.resolving=!1,this.canSeeViewProviders=_,this.injectImpl=S}}function Wd(h){return h!==Yo}function Sc(h){return 32767&h}function pu(h,g){let _=function e_(h){return h>>16}(h),S=g;for(;_>0;)S=S[bn],_--;return S}let $d=!0;function fu(h){const g=$d;return $d=h,g}const Zf=255,wc=5;let Na=0;const ua={};function Dc(h,g){const _=Jf(h,g);if(-1!==_)return _;const S=g[wt];S.firstCreatePass&&(h.injectorIndex=g.length,hu(S.data,h),hu(g,null),hu(S.blueprint,null));const w=jd(h,g),b=h.injectorIndex;if(Wd(w)){const A=Sc(w),G=pu(w,g),V=G[wt].data;for(let J=0;J<8;J++)g[b+J]=G[A+J]|V[A+J]}return g[b+8]=w,b}function hu(h,g){h.push(0,0,0,0,0,0,0,0,g)}function Jf(h,g){return-1===h.injectorIndex||h.parent&&h.parent.injectorIndex===h.injectorIndex||null===g[h.injectorIndex+8]?-1:h.injectorIndex}function jd(h,g){if(h.parent&&-1!==h.parent.injectorIndex)return h.parent.injectorIndex;let _=0,S=null,w=g;for(;null!==w;){if(S=nh(w),null===S)return Yo;if(_++,w=w[bn],-1!==S.injectorIndex)return S.injectorIndex|_<<16}return Yo}function Kd(h,g,_){!function cl(h,g,_){let S;"string"==typeof _?S=_.charCodeAt(0)||0:_.hasOwnProperty(ei)&&(S=_[ei]),null==S&&(S=_[ei]=Na++);const w=S&Zf;g.data[h+(w>>wc)]|=1<<w}(h,g,_)}function cn(h,g,_){if(_&mt.Optional||void 0!==h)return h;dt()}function Qf(h,g,_,S){if(_&mt.Optional&&void 0===S&&(S=null),!(_&(mt.Self|mt.Host))){const w=h[to],b=rn(void 0);try{return w?w.get(g,S,_&mt.Optional):Bt(g,S,_&mt.Optional)}finally{rn(b)}}return cn(S,0,_)}function ii(h,g,_,S=mt.Default,w){if(null!==h){if(2048&g[qt]&&!(S&mt.Self)){const A=function t_(h,g,_,S,w){let b=h,A=g;for(;null!==b&&null!==A&&2048&A[qt]&&!(512&A[qt]);){const G=Yd(b,A,_,S|mt.Self,ua);if(G!==ua)return G;let V=b.parent;if(!V){const J=A[mo];if(J){const le=J.get(_,ua,S);if(le!==ua)return le}V=nh(A),A=A[bn]}b=V}return w}(h,g,_,S,ua);if(A!==ua)return A}const b=Yd(h,g,_,S,ua);if(b!==ua)return b}return Qf(g,_,S,w)}function Yd(h,g,_,S,w){const b=function eh(h){if("string"==typeof h)return h.charCodeAt(0)||0;const g=h.hasOwnProperty(ei)?h[ei]:void 0;return"number"==typeof g?g>=0?g&Zf:th:g}(_);if("function"==typeof b){if(!jn(g,h,S))return S&mt.Host?cn(w,0,S):Qf(g,_,S,w);try{const A=b(S);if(null!=A||S&mt.Optional)return A;dt()}finally{Vd()}}else if("number"==typeof b){let A=null,G=Jf(h,g),V=Yo,J=S&mt.Host?g[Tr][un]:null;for((-1===G||S&mt.SkipSelf)&&(V=-1===G?jd(h,g):g[G+8],V!==Yo&&Zd(S,!1)?(A=g[wt],G=Sc(V),g=pu(V,g)):G=-1);-1!==G;){const le=g[wt];if(qd(b,G,le.data)){const Ee=Xd(G,g,_,A,S,J);if(Ee!==ua)return Ee}V=g[G+8],V!==Yo&&Zd(S,g[wt].data[G+8]===J)&&qd(b,G,g)?(A=le,G=Sc(V),g=pu(V,g)):G=-1}}return w}function Xd(h,g,_,S,w,b){const A=g[wt],G=A.data[h+8],le=Pc(G,A,_,null==S?ti(G)&&$d:S!=A&&0!=(3&G.type),w&mt.Host&&b===G);return null!==le?ts(g,A,le,G):ua}function Pc(h,g,_,S,w){const b=h.providerIndexes,A=g.data,G=1048575&b,V=h.directiveStart,le=b>>20,xe=w?G+le:h.directiveEnd;for(let Be=S?G:G+le;Be<xe;Be++){const et=A[Be];if(Be<V&&_===et||Be>=V&&et.type===_)return Be}if(w){const Be=A[V];if(Be&&Ti(Be)&&Be.type===_)return V}return null}function ts(h,g,_,S){let w=h[_];const b=g.data;if(function du(h){return h instanceof xs}(w)){const A=w;A.resolving&&function Le(h,g){const _=g?`. Dependency path: ${g.join(" > ")} > ${h}`:"";throw new he(-200,`Circular dependency in DI detected for ${h}${_}`)}(function Oe(h){return"function"==typeof h?h.name||h.toString():"object"==typeof h&&null!=h&&"function"==typeof h.type?h.type.name||h.type.toString():_e(h)}(b[_]));const G=fu(A.canSeeViewProviders);A.resolving=!0;const V=A.injectImpl?rn(A.injectImpl):null;jn(h,S,mt.Default);try{w=h[_]=A.factory(void 0,b,h,S),g.firstCreatePass&&_>=S.directiveStart&&function Lt(h,g,_){const{ngOnChanges:S,ngOnInit:w,ngDoCheck:b}=g.type.prototype;if(S){const A=Oo(g);(_.preOrderHooks??=[]).push(h,A),(_.preOrderCheckHooks??=[]).push(h,A)}w&&(_.preOrderHooks??=[]).push(0-h,w),b&&((_.preOrderHooks??=[]).push(h,b),(_.preOrderCheckHooks??=[]).push(h,b))}(_,b[_],g)}finally{null!==V&&rn(V),fu(G),A.resolving=!1,Vd()}}return w}function qd(h,g,_){return!!(_[g+(h>>wc)]&1<<h)}function Zd(h,g){return!(h&mt.Self||h&mt.Host&&g)}class dl{constructor(g,_){this._tNode=g,this._lView=_}get(g,_,S){return ii(this._tNode,this._lView,g,pn(S),_)}}function th(){return new dl($n(),ut())}function rh(h){return ln(()=>{const g=h.prototype.constructor,_=g[Dr]||gu(g),S=Object.prototype;let w=Object.getPrototypeOf(h.prototype).constructor;for(;w&&w!==S;){const b=w[Dr]||gu(w);if(b&&b!==_)return b;w=Object.getPrototypeOf(w)}return b=>new b})}function gu(h){return Pe(h)?()=>{const g=gu(Ce(h));return g&&g()}:Mi(h)}function nh(h){const g=h[wt],_=g.type;return 2===_?g.declTNode:1===_?h[un]:null}function Jd(h){return function zd(h,g){if("class"===g)return h.classes;if("style"===g)return h.styles;const _=h.attrs;if(_){const S=_.length;let w=0;for(;w<S;){const b=_[w];if(be(b))break;if(0===b)w+=2;else if("number"==typeof b)for(w++;w<S&&"string"==typeof _[w];)w++;else{if(b===g)return _[w+1];w+=2}}}return null}($n(),h)}const fl="__parameters__";function Ls(h,g,_){return ln(()=>{const S=function vu(h){return function(..._){if(h){const S=h(..._);for(const w in S)this[w]=S[w]}}}(g);function w(...b){if(this instanceof w)return S.apply(this,b),this;const A=new w(...b);return G.annotation=A,G;function G(V,J,le){const Ee=V.hasOwnProperty(fl)?V[fl]:Object.defineProperty(V,fl,{value:[]})[fl];for(;Ee.length<=le;)Ee.push(null);return(Ee[le]=Ee[le]||[]).push(A),V}}return _&&(w.prototype=Object.create(_.prototype)),w.prototype.ngMetadataName=h,w.annotationCls=w,w})}function di(h,g){h.forEach(_=>Array.isArray(_)?di(_,g):g(_))}function ah(h,g,_){g>=h.length?h.push(_):h.splice(g,0,_)}function ca(h,g){return g>=h.length-1?h.pop():h.splice(g,1)[0]}function Fs(h,g){const _=[];for(let S=0;S<h;S++)_.push(g);return _}function ki(h,g,_){let S=hl(h,g);return S>=0?h[1|S]=_:(S=~S,function p_(h,g,_,S){let w=h.length;if(w==g)h.push(_,S);else if(1===w)h.push(S,h[0]),h[0]=_;else{for(w--,h.push(h[w-1],h[w]);w>g;)h[w]=h[w-2],w--;h[g]=_,h[g+1]=S}}(h,S,g,_)),S}function tp(h,g){const _=hl(h,g);if(_>=0)return h[1|_]}function hl(h,g){return function sh(h,g,_){let S=0,w=h.length>>_;for(;w!==S;){const b=S+(w-S>>1),A=h[b<<_];if(g===A)return b<<_;A>g?w=b:S=b+1}return~(w<<_)}(h,g,1)}const np=fn(Ls("Optional"),8),ip=fn(Ls("SkipSelf"),4);function Nc(h){return 128==(128&h.flags)}var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();const up=new Map;let D_=0;const pp="__ngContext__";function xi(h,g){Ln(g)?(h[pp]=g[ro],function P_(h){up.set(h[ro],h)}(g)):h[pp]=g}let fp;function yl(h,g){return fp(h,g)}function Eu(h){const g=h[gr];return Hr(g)?g[gr]:g}function Sh(h){return Oh(h[zi])}function Su(h){return Oh(h[Hn])}function Oh(h){for(;null!==h&&!Hr(h);)h=h[Hn];return h}function ml(h,g,_,S,w){if(null!=S){let b,A=!1;Hr(S)?b=S:Ln(S)&&(A=!0,S=S[on]);const G=Vt(S);0===h&&null!==_?null==w?Ph(g,_,G):is(g,_,G,w||null,!0):1===h&&null!==_?is(g,_,G,w||null,!0):2===h?function Uc(h,g,_){const S=os(h,g);S&&function fa(h,g,_,S){h.removeChild(g,_,S)}(h,S,g,_)}(g,G,A):3===h&&g.destroyNode(G),null!=b&&function Lh(h,g,_,S,w){const b=_[Mn];b!==Vt(_)&&ml(g,h,S,b,w);for(let G=_n;G<_.length;G++){const V=_[G];Du(V[wt],V,h,g,S,b)}}(g,h,b,_,w)}}function kc(h,g,_){return h.createElement(g,_)}function so(h,g){const _=h[In],S=_.indexOf(g);Bi(g),_.splice(S,1)}function vp(h,g){if(h.length<=_n)return;const _=_n+g,S=h[_];if(S){const w=S[yo];null!==w&&w!==h&&so(w,S),g>0&&(h[_-1][Hn]=S[Hn]);const b=ca(h,_n+g);!function Vc(h,g){Du(h,g,g[Xt],2,null,null),g[on]=null,g[un]=null}(S[wt],S);const A=b[Br];null!==A&&A.detachView(b[wt]),S[gr]=null,S[Hn]=null,S[qt]&=-129}return S}function Dh(h,g){if(!(256&g[qt])){const _=g[Xt];g[Pi]?.destroy(),g[bi]?.destroy(),_.destroyNode&&Du(h,g,_,3,null,null),function wh(h){let g=h[zi];if(!g)return _p(h[wt],h);for(;g;){let _=null;if(Ln(g))_=g[zi];else{const S=g[_n];S&&(_=S)}if(!_){for(;g&&!g[Hn]&&g!==h;)Ln(g)&&_p(g[wt],g),g=g[gr];null===g&&(g=h),Ln(g)&&_p(g[wt],g),_=g&&g[Hn]}g=_}}(g)}}function _p(h,g){if(!(256&g[qt])){g[qt]&=-129,g[qt]|=256,function Ao(h,g){let _;if(null!=h&&null!=(_=h.destroyHooks))for(let S=0;S<_.length;S+=2){const w=g[_[S]];if(!(w instanceof xs)){const b=_[S+1];if(Array.isArray(b))for(let A=0;A<b.length;A+=2){const G=w[b[A]],V=b[A+1];ze(4,G,V);try{V.call(G)}finally{ze(5,G,V)}}else{ze(4,w,b);try{b.call(w)}finally{ze(5,w,b)}}}}}(h,g),function N_(h,g){const _=h.cleanup,S=g[eo];if(null!==_)for(let b=0;b<_.length-1;b+=2)if("string"==typeof _[b]){const A=_[b+3];A>=0?S[A]():S[-A].unsubscribe(),b+=2}else _[b].call(S[_[b+1]]);null!==S&&(g[eo]=null);const w=g[Di];if(null!==w){g[Di]=null;for(let b=0;b<w.length;b++)(0,w[b])()}}(h,g),1===g[wt].type&&g[Xt].destroy();const _=g[yo];if(null!==_&&Hr(g[gr])){_!==g[gr]&&so(_,g);const S=g[Br];null!==S&&S.detachView(h)}!function b_(h){up.delete(h[ro])}(g)}}function Zo(h,g,_){return function yp(h,g,_){let S=g;for(;null!==S&&40&S.type;)S=(g=S).parent;if(null===S)return _[on];{const{componentOffset:w}=S;if(w>-1){const{encapsulation:b}=h.data[S.directiveStart+w];if(b===Gn.None||b===Gn.Emulated)return null}return Mr(S,_)}}(h,g.parent,_)}function is(h,g,_,S,w){h.insertBefore(g,_,S,w)}function Ph(h,g,_){h.appendChild(g,_)}function bh(h,g,_,S,w){null!==S?is(h,g,_,S,w):Ph(h,g,_)}function os(h,g){return h.parentNode(g)}function Th(h,g,_){return Rh(h,g,_)}let mp,Wc,wp,jc,Rh=function Mh(h,g,_){return 40&h.type?Mr(h,_):null};function Hc(h,g,_,S){const w=Zo(h,S,g),b=g[Xt],G=Th(S.parent||g[un],S,g);if(null!=w)if(Array.isArray(_))for(let V=0;V<_.length;V++)bh(b,w,_[V],G,!1);else bh(b,w,_,G,!1);void 0!==mp&&mp(b,S,g,_,w)}function wu(h,g){if(null!==g){const _=g.type;if(3&_)return Mr(g,h);if(4&_)return Cp(-1,h[g.index]);if(8&_){const S=g.child;if(null!==S)return wu(h,S);{const w=h[g.index];return Hr(w)?Cp(-1,w):Vt(w)}}if(32&_)return yl(g,h)()||Vt(h[g.index]);{const S=xh(h,g);return null!==S?Array.isArray(S)?S[0]:wu(Eu(h[Tr]),S):wu(h,g.next)}}return null}function xh(h,g){return null!==g?h[Tr][un].projection[g.projection]:null}function Cp(h,g){const _=_n+h+1;if(_<g.length){const S=g[_],w=S[wt].firstChild;if(null!==w)return wu(S,w)}return g[Mn]}function Ep(h,g,_,S,w,b,A){for(;null!=_;){const G=S[_.index],V=_.type;if(A&&0===g&&(G&&xi(Vt(G),S),_.flags|=2),32!=(32&_.flags))if(8&V)Ep(h,g,_.child,S,w,b,!1),ml(g,h,w,G,b);else if(32&V){const J=yl(_,S);let le;for(;le=J();)ml(g,h,w,le,b);ml(g,h,w,G,b)}else 16&V?nr(h,g,S,_,w,b):ml(g,h,w,G,b);_=A?_.projectionNext:_.next}}function Du(h,g,_,S,w,b){Ep(_,S,h.firstChild,g,w,b,!1)}function nr(h,g,_,S,w,b){const A=_[Tr],V=A[un].projection[S.projection];if(Array.isArray(V))for(let J=0;J<V.length;J++)ml(g,h,w,V[J],b);else{let J=V;const le=A[gr];Nc(S)&&(J.flags|=128),Ep(h,g,J,le,w,b,!0)}}function Nh(h,g,_){""===_?h.removeAttribute(g,"class"):h.setAttribute(g,"class",_)}function Fh(h,g,_){const{mergedAttrs:S,classes:w,styles:b}=_;null!==S&&z(h,g,S),null!==w&&Nh(h,g,w),null!==b&&function B_(h,g,_){h.setAttribute(g,"style",_)}(h,g,b)}function Cl(h){return function Op(){if(void 0===Wc&&(Wc=null,br.trustedTypes))try{Wc=br.trustedTypes.createPolicy("angular",{createHTML:h=>h,createScript:h=>h,createScriptURL:h=>h})}catch{}return Wc}()?.createHTML(h)||h}function H_(h){wp=h}function Pu(){if(void 0!==wp)return wp;if(typeof document<"u")return document;throw new he(210,!1)}function Dp(){if(void 0===jc&&(jc=null,br.trustedTypes))try{jc=br.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:h=>h,createScript:h=>h,createScriptURL:h=>h})}catch{}return jc}function Gh(h){return Dp()?.createHTML(h)||h}function kh(h){return Dp()?.createScriptURL(h)||h}class Ga{constructor(g){this.changingThisBreaksApplicationSecurity=g}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ne})`}}function as(h){return h instanceof Ga?h.changingThisBreaksApplicationSecurity:h}function Qo(h,g){const _=function K_(h){return h instanceof Ga&&h.getTypeName()||null}(h);if(null!=_&&_!==g){if("ResourceURL"===_&&"URL"===g)return!0;throw new Error(`Required a safe ${g}, got a ${_} (see ${Ne})`)}return _===g}class z_{constructor(g){this.inertDocumentHelper=g}getInertBodyElement(g){g="<body><remove></remove>"+g;try{const _=(new window.DOMParser).parseFromString(Cl(g),"text/html").body;return null===_?this.inertDocumentHelper.getInertBodyElement(g):(_.removeChild(_.firstChild),_)}catch{return null}}}class Hh{constructor(g){this.defaultDoc=g,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(g){const _=this.inertDocument.createElement("template");return _.innerHTML=Cl(g),_}}const X_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kc(h){return(h=String(h)).match(X_)?h:"unsafe:"+h}function Ba(h){const g={};for(const _ of h.split(","))g[_]=!0;return g}function bu(...h){const g={};for(const _ of h)for(const S in _)_.hasOwnProperty(S)&&(g[S]=!0);return g}const bp=Ba("area,br,col,hr,img,wbr"),Tp=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uh=Ba("rp,rt"),Tu=bu(bp,bu(Tp,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bu(Uh,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bu(Uh,Tp)),Mu=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$h=bu(Mu,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),q_=Ba("script,style,template");class We{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(g){let _=g.firstChild,S=!0;for(;_;)if(_.nodeType===Node.ELEMENT_NODE?S=this.startElement(_):_.nodeType===Node.TEXT_NODE?this.chars(_.nodeValue):this.sanitizedSomething=!0,S&&_.firstChild)_=_.firstChild;else for(;_;){_.nodeType===Node.ELEMENT_NODE&&this.endElement(_);let w=this.checkClobberedElement(_,_.nextSibling);if(w){_=w;break}_=this.checkClobberedElement(_,_.parentNode)}return this.buf.join("")}startElement(g){const _=g.nodeName.toLowerCase();if(!Tu.hasOwnProperty(_))return this.sanitizedSomething=!0,!q_.hasOwnProperty(_);this.buf.push("<"),this.buf.push(_);const S=g.attributes;for(let w=0;w<S.length;w++){const b=S.item(w),A=b.name,G=A.toLowerCase();if(!$h.hasOwnProperty(G)){this.sanitizedSomething=!0;continue}let V=b.value;Mu[G]&&(V=Kc(V)),this.buf.push(" ",A,'="',jh(V),'"')}return this.buf.push(">"),!0}endElement(g){const _=g.nodeName.toLowerCase();Tu.hasOwnProperty(_)&&!bp.hasOwnProperty(_)&&(this.buf.push("</"),this.buf.push(_),this.buf.push(">"))}chars(g){this.buf.push(jh(g))}checkClobberedElement(g,_){if(_&&(g.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${g.outerHTML}`);return _}}const Nn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Z_=/([^\#-~ |!])/g;function jh(h){return h.replace(/&/g,"&amp;").replace(Nn,function(g){return"&#"+(1024*(g.charCodeAt(0)-55296)+(g.charCodeAt(1)-56320)+65536)+";"}).replace(Z_,function(g){return"&#"+g.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zc;function Yc(h){return"content"in h&&function Q_(h){return h.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===h.nodeName}(h)?h.content:null}var Zr=(()=>((Zr=Zr||{})[Zr.NONE=0]="NONE",Zr[Zr.HTML=1]="HTML",Zr[Zr.STYLE=2]="STYLE",Zr[Zr.SCRIPT=3]="SCRIPT",Zr[Zr.URL=4]="URL",Zr[Zr.RESOURCE_URL=5]="RESOURCE_URL",Zr))();function Kh(h){const g=Ru();return g?Gh(g.sanitize(Zr.HTML,h)||""):Qo(h,"HTML")?Gh(as(h)):function J_(h,g){let _=null;try{zc=zc||function Vh(h){const g=new Hh(h);return function Y_(){try{return!!(new window.DOMParser).parseFromString(Cl(""),"text/html")}catch{return!1}}()?new z_(g):g}(h);let S=g?String(g):"";_=zc.getInertBodyElement(S);let w=5,b=S;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,S=b,b=_.innerHTML,_=zc.getInertBodyElement(S)}while(S!==b);return Cl((new We).sanitizeChildren(Yc(_)||_))}finally{if(_){const S=Yc(_)||_;for(;S.firstChild;)S.removeChild(S.firstChild)}}}(Pu(),_e(h))}function Mp(h){const g=Ru();return g?g.sanitize(Zr.URL,h)||"":Qo(h,"URL")?as(h):Kc(_e(h))}function Xc(h){const g=Ru();if(g)return kh(g.sanitize(Zr.RESOURCE_URL,h)||"");if(Qo(h,"ResourceURL"))return kh(as(h));throw new he(904,!1)}function Yh(h,g,_){return function ny(h,g){return"src"===g&&("embed"===h||"frame"===h||"iframe"===h||"media"===h||"script"===h)||"href"===g&&("base"===h||"link"===h)?Xc:Mp}(g,_)(h)}function Ru(){const h=ut();return h&&h[wi].sanitizer}class jr{constructor(g,_){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof _?this.__NG_ELEMENT_ID__=_:void 0!==_&&(this.\u0275prov=rr({token:this,providedIn:_.providedIn||"root",factory:_.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Au=new jr("ENVIRONMENT_INITIALIZER"),Xh=new jr("INJECTOR",-1),qh=new jr("INJECTOR_DEF_TYPES");class Zh{get(g,_=qn){if(_===qn){const S=new Error(`NullInjectorError: No provider for ${se(g)}!`);throw S.name="NullInjectorError",S}return _}}function Ap(h){return{\u0275providers:h}}function Jh(...h){return{\u0275providers:Qh(0,h),\u0275fromNgModule:!0}}function Qh(h,...g){const _=[],S=new Set;let w;return di(g,b=>{const A=b;ss(A,_,[],S)&&(w||=[],w.push(A))}),void 0!==w&&qc(w,_),_}function qc(h,g){for(let _=0;_<h.length;_++){const{providers:w}=h[_];xp(w,b=>{g.push(b)})}}function ss(h,g,_,S){if(!(h=Ce(h)))return!1;let w=null,b=tn(h);const A=!b&&ar(h);if(b||A){if(A&&!A.standalone)return!1;w=h}else{const V=h.ngModule;if(b=tn(V),!b)return!1;w=V}const G=S.has(w);if(A){if(G)return!1;if(S.add(w),A.dependencies){const V="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const J of V)ss(J,g,_,S)}}else{if(!b)return!1;{if(null!=b.imports&&!G){let J;S.add(w);try{di(b.imports,le=>{ss(le,g,_,S)&&(J||=[],J.push(le))})}finally{}void 0!==J&&qc(J,g)}if(!G){const J=Mi(w)||(()=>new w);g.push({provide:w,useFactory:J,deps:or},{provide:qh,useValue:w,multi:!0},{provide:Au,useValue:()=>Yt(w),multi:!0})}const V=b.providers;null==V||G||xp(V,le=>{g.push(le)})}}return w!==h&&void 0!==h.providers}function xp(h,g){for(let _ of h)Me(_)&&(_=_.\u0275providers),Array.isArray(_)?xp(_,g):g(_)}const eg=ie({provide:String,useValue:ie});function Ip(h){return null!==h&&"object"==typeof h&&eg in h}function Hs(h){return"function"==typeof h}const Us=new jr("Set Injector scope."),Zc={},oy={};let Lp;function Ol(){return void 0===Lp&&(Lp=new Zh),Lp}class Ws{}class wl extends Ws{get destroyed(){return this._destroyed}constructor(g,_,S,w){super(),this.parent=_,this.source=S,this.scopes=w,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gp(g,A=>this.processProvider(A)),this.records.set(Xh,Dl(void 0,this)),w.has("environment")&&this.records.set(Ws,Dl(void 0,this));const b=this.records.get(Us);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(qh.multi,or,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const _ of this._ngOnDestroyHooks)_.ngOnDestroy();const g=this._onDestroyHooks;this._onDestroyHooks=[];for(const _ of g)_()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(g){return this.assertNotDestroyed(),this._onDestroyHooks.push(g),()=>this.removeOnDestroy(g)}runInContext(g){this.assertNotDestroyed();const _=yt(this),S=rn(void 0);try{return g()}finally{yt(_),rn(S)}}get(g,_=qn,S=mt.Default){if(this.assertNotDestroyed(),g.hasOwnProperty(vo))return g[vo](this);S=pn(S);const w=yt(this),b=rn(void 0);try{if(!(S&mt.SkipSelf)){let G=this.records.get(g);if(void 0===G){const V=function sy(h){return"function"==typeof h||"object"==typeof h&&h instanceof jr}(g)&&Mt(g);G=V&&this.injectableDefInScope(V)?Dl(Np(g),Zc):null,this.records.set(g,G)}if(null!=G)return this.hydrate(g,G)}return(S&mt.Self?Ol():this.parent).get(g,_=S&mt.Optional&&_===qn?null:_)}catch(A){if("NullInjectorError"===A.name){if((A[Zn]=A[Zn]||[]).unshift(se(g)),w)throw A;return function An(h,g,_,S){const w=h[Zn];throw g[we]&&w.unshift(g[we]),h.message=function gi(h,g,_,S=null){h=h&&"\n"===h.charAt(0)&&"\u0275"==h.charAt(1)?h.slice(2):h;let w=se(g);if(Array.isArray(g))w=g.map(se).join(" -> ");else if("object"==typeof g){let b=[];for(let A in g)if(g.hasOwnProperty(A)){let G=g[A];b.push(A+":"+("string"==typeof G?JSON.stringify(G):se(G)))}w=`{${b.join(", ")}}`}return`${_}${S?"("+S+")":""}[${w}]: ${h.replace(Ke,"\n  ")}`}("\n"+h.message,w,_,S),h.ngTokenPath=w,h[Zn]=null,h}(A,g,"R3InjectorError",this.source)}throw A}finally{rn(b),yt(w)}}resolveInjectorInitializers(){const g=yt(this),_=rn(void 0);try{const S=this.get(Au.multi,or,mt.Self);for(const w of S)w()}finally{yt(g),rn(_)}}toString(){const g=[],_=this.records;for(const S of _.keys())g.push(se(S));return`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(g){let _=Hs(g=Ce(g))?g:Ce(g&&g.provide);const S=function Fp(h){return Ip(h)?Dl(void 0,h.useValue):Dl(rg(h),Zc)}(g);if(Hs(g)||!0!==g.multi)this.records.get(_);else{let w=this.records.get(_);w||(w=Dl(void 0,Zc,!0),w.factory=()=>hi(w.multi),this.records.set(_,w)),_=g,w.multi.push(g)}this.records.set(_,S)}hydrate(g,_){return _.value===Zc&&(_.value=oy,_.value=_.factory()),"object"==typeof _.value&&_.value&&function Fn(h){return null!==h&&"object"==typeof h&&"function"==typeof h.ngOnDestroy}(_.value)&&this._ngOnDestroyHooks.add(_.value),_.value}injectableDefInScope(g){if(!g.providedIn)return!1;const _=Ce(g.providedIn);return"string"==typeof _?"any"===_||this.scopes.has(_):this.injectorDefTypes.has(_)}removeOnDestroy(g){const _=this._onDestroyHooks.indexOf(g);-1!==_&&this._onDestroyHooks.splice(_,1)}}function Np(h){const g=Mt(h),_=null!==g?g.factory:Mi(h);if(null!==_)return _;if(h instanceof jr)throw new he(204,!1);if(h instanceof Function)return function ay(h){const g=h.length;if(g>0)throw Fs(g,"?"),new he(204,!1);const _=function rt(h){return h&&(h[Et]||h[Wr])||null}(h);return null!==_?()=>_.factory(h):()=>new h}(h);throw new he(204,!1)}function rg(h,g,_){let S;if(Hs(h)){const w=Ce(h);return Mi(w)||Np(w)}if(Ip(h))S=()=>Ce(h.useValue);else if(function tg(h){return!(!h||!h.useFactory)}(h))S=()=>h.useFactory(...hi(h.deps||[]));else if(function Sl(h){return!(!h||!h.useExisting)}(h))S=()=>Yt(Ce(h.useExisting));else{const w=Ce(h&&(h.useClass||h.provide));if(!function ng(h){return!!h.deps}(h))return Mi(w)||Np(w);S=()=>new w(...hi(h.deps))}return S}function Dl(h,g,_=!1){return{factory:h,value:g,multi:_?[]:void 0}}function Gp(h,g){for(const _ of h)Array.isArray(_)?Gp(_,g):_&&Me(_)?Gp(_.\u0275providers,g):g(_)}const Jc=new jr("AppId",{providedIn:"root",factory:()=>ly}),ly="ng",xu=new jr("Platform Initializer"),Bp=new jr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uy=new jr("CSP nonce",{providedIn:"root",factory:()=>Pu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lg=(h,g)=>null;function ug(h,g){return lg(h,g)}class Kp{}class hg{}class gy{resolveComponentFactory(g){throw function Fu(h){const g=Error(`No component factory found for ${se(h)}.`);return g.ngComponent=h,g}(g)}}let ls=(()=>{class h{}return h.NULL=new gy,h})();function vy(){return Ml($n(),ut())}function Ml(h,g){return new Gu(Mr(h,g))}let Gu=(()=>{class h{constructor(_){this.nativeElement=_}}return h.__NG_ELEMENT_ID__=vy,h})();function _y(h){return h instanceof Gu?h.nativeElement:h}class gg{}let zp=(()=>{class h{constructor(){this.destroyNode=null}}return h.__NG_ELEMENT_ID__=()=>function yy(){const h=ut(),_=en($n().index,h);return(Ln(_)?_:h)[Xt]}(),h})(),my=(()=>{class h{}return h.\u0275prov=rr({token:h,providedIn:"root",factory:()=>null}),h})();class Rl{constructor(g){this.full=g,this.major=g.split(".")[0],this.minor=g.split(".")[1],this.patch=g.split(".").slice(2).join(".")}}const Cy=new Rl("16.1.1"),Yp={};function us(h){for(;h;){h[qt]|=64;const g=Eu(h);if(Ra(h)&&!g)return h;h=g}return null}function Xp(h){return h.ngOriginalError}class Al{constructor(){this._console=console}handleError(g){const _=this._findOriginalError(g);this._console.error("ERROR",g),_&&this._console.error("ORIGINAL ERROR",_)}_findOriginalError(g){let _=g&&Xp(g);for(;_&&Xp(_);)_=Xp(_);return _||null}}const yg=new jr("",{providedIn:"root",factory:()=>!1});function ka(h){return h instanceof Function?h():h}class Eg extends nl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(g){this._lView=g}onConsumerDependencyMayHaveChanged(){us(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(g,_,S){const w=an(this);this.trackingVersion++;try{g(_,S)}finally{an(w)}}destroy(){this.trackingVersion++}}let id=null;function Sg(){return id??=new Eg,id}function qp(h,g){return h[g]??Sg()}function Og(h,g){const _=Sg();_.hasReadASignal&&(h[g]=id,_.lView=h,id=new Eg)}const pr={};function od(h){wg(Ir(),ut(),Ei()+h,!1)}function wg(h,g,_,S){if(!S)if(3==(3&g[qt])){const b=h.preOrderCheckHooks;null!==b&&dr(g,b,_)}else{const b=h.preOrderHooks;null!==b&&ci(g,b,0,_)}Qa(_)}function Pg(h,g=null,_=null,S){const w=Qp(h,g,_,S);return w.resolveInjectorInitializers(),w}function Qp(h,g=null,_=null,S,w=new Set){const b=[_||or,Jh(h)];return S=S||("object"==typeof h?void 0:se(h)),new wl(b,g||Ol(),S||null,w)}let cs=(()=>{class h{static create(_,S){if(Array.isArray(_))return Pg({name:""},S,_,"");{const w=_.name??"";return Pg({name:w},_.parent,_.providers,w)}}}return h.THROW_IF_NOT_FOUND=qn,h.NULL=new Zh,h.\u0275prov=rr({token:h,providedIn:"any",factory:()=>Yt(Xh)}),h.__NG_ELEMENT_ID__=-1,h})();function Il(h,g=mt.Default){const _=ut();return null===_?Yt(h,g):ii($n(),_,Ce(h),g)}function ld(h,g,_,S,w,b,A,G,V,J,le){const Ee=g.blueprint.slice();return Ee[on]=w,Ee[qt]=140|S,(null!==J||h&&2048&h[qt])&&(Ee[qt]|=2048),Yi(Ee),Ee[gr]=Ee[bn]=h,Ee[zr]=_,Ee[wi]=A||h&&h[wi],Ee[Xt]=G||h&&h[Xt],Ee[to]=V||h&&h[to]||null,Ee[un]=b,Ee[ro]=function cp(){return D_++}(),Ee[Tn]=le,Ee[mo]=J,Ee[Tr]=2==g.type?h[Tr]:Ee,Ee}function Ll(h,g,_,S,w){let b=h.data[g];if(null===b)b=function ef(h,g,_,S,w){const b=al(),A=Ts(),V=h.data[g]=function Iy(h,g,_,S,w,b){let A=g?g.injectorIndex:-1,G=0;return ni()&&(G|=128),{type:_,index:S,insertBeforeIndex:null,injectorIndex:A,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:G,providerIndexes:0,value:w,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?b:b&&b.parent,_,g,S,w);return null===h.firstChild&&(h.firstChild=V),null!==b&&(A?null==b.child&&null!==V.parent&&(b.child=V):null===b.next&&(b.next=V,V.prev=b)),V}(h,g,_,S,w),function Xf(){return Kt.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=_,b.value=S,b.attrs=w;const A=function bs(){const h=Kt.lFrame,g=h.currentTNode;return h.isParent?g:g.parent}();b.injectorIndex=null===A?-1:A.injectorIndex}return Do(b,!0),b}function Hu(h,g,_,S){if(0===_)return-1;const w=g.length;for(let b=0;b<_;b++)g.push(S),h.blueprint.push(S),h.data.push(null);return w}function Uu(h,g,_,S,w){const b=qp(g,Pi),A=Ei(),G=2&S;try{if(Qa(-1),G&&g.length>vr&&wg(h,g,vr,!1),ze(G?2:0,w),G)b.runInContext(_,S,w);else{const J=an(null);try{_(S,w)}finally{an(J)}}}finally{G&&null===g[Pi]&&Og(g,Pi),Qa(A),ze(G?3:1,w)}}function ud(h,g,_){if(Vo(g)){const S=an(null);try{const b=g.directiveEnd;for(let A=g.directiveStart;A<b;A++){const G=h.data[A];G.contentQueries&&G.contentQueries(1,_[A],A)}}finally{an(S)}}}function tf(h,g,_){ou()&&(function By(h,g,_,S){const w=_.directiveStart,b=_.directiveEnd;ti(_)&&function Yu(h,g,_){const S=Mr(g,h),w=rf(_);let A=16;_.signals?A=4096:_.onPush&&(A=64);const G=cd(h,ld(h,w,null,A,S,g,null,h[wi].rendererFactory.createRenderer(S,_),null,null,null));h[g.index]=G}(g,_,h.data[w+_.componentOffset]),h.firstCreatePass||Dc(_,g),xi(S,g);const A=_.initialInputs;for(let G=w;G<b;G++){const V=h.data[G],J=ts(g,h,G,_);xi(J,g),null!==A&&Uy(0,G-w,J,V,0,A),Ti(V)&&(en(_.index,g)[zr]=ts(g,h,G,_))}}(h,g,_,Mr(_,g)),64==(64&_.flags)&&Ku(h,g,_))}function va(h,g,_=Mr){const S=g.localNames;if(null!==S){let w=g.index+1;for(let b=0;b<S.length;b+=2){const A=S[b+1],G=-1===A?_(g,h):h[A];h[w++]=G}}}function rf(h){const g=h.tView;return null===g||g.incompleteFirstPass?h.tView=nf(1,null,h.template,h.decls,h.vars,h.directiveDefs,h.pipeDefs,h.viewQuery,h.schemas,h.consts,h.id):g}function nf(h,g,_,S,w,b,A,G,V,J,le){const Ee=vr+S,xe=Ee+w,Be=function Tg(h,g){const _=[];for(let S=0;S<g;S++)_.push(S<h?null:pr);return _}(Ee,xe),et="function"==typeof J?J():J;return Be[wt]={type:h,blueprint:Be,template:_,queries:null,viewQuery:G,declTNode:g,data:Be.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:V,consts:et,incompleteFirstPass:!1,ssrId:le}}let Mg=h=>null;function $u(h,g,_,S){for(let w in h)if(h.hasOwnProperty(w)){_=null===_?{}:_;const b=h[w];null===S?af(_,g,w,b):S.hasOwnProperty(w)&&af(_,g,S[w],b)}return _}function af(h,g,_,S){h.hasOwnProperty(_)?h[_].push(g,S):h[_]=[g,S]}function co(h,g,_,S,w,b,A,G){const V=Mr(g,_);let le,J=g.inputs;!G&&null!=J&&(le=J[S])?(ps(h,_,le,S,w),ti(g)&&function Ny(h,g){const _=en(g,h);16&_[qt]||(_[qt]|=64)}(_,g.index)):3&g.type&&(S=function Ly(h){return"class"===h?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h}(S),w=null!=A?A(w,g.value||"",S):w,b.setProperty(V,S,w))}function ds(h,g,_,S){if(ou()){const w=null===S?null:{"":-1},b=function xg(h,g){const _=h.directiveRegistry;let S=null,w=null;if(_)for(let b=0;b<_.length;b++){const A=_[b];if(vi(g,A.selectors,!1))if(S||(S=[]),Ti(A))if(null!==A.findHostDirectiveDefs){const G=[];w=w||new Map,A.findHostDirectiveDefs(A,G,w),S.unshift(...G,A),lf(h,g,G.length)}else S.unshift(A),lf(h,g,0);else w=w||new Map,A.findHostDirectiveDefs?.(A,S,w),S.push(A)}return null===S?null:[S,w]}(h,_);let A,G;null===b?A=G=null:[A,G]=b,null!==A&&Ag(h,g,_,A,w,G),w&&function zu(h,g,_){if(g){const S=h.localNames=[];for(let w=0;w<g.length;w+=2){const b=_[g[w+1]];if(null==b)throw new he(-301,!1);S.push(g[w],b)}}}(_,S,w)}_.mergedAttrs=ot(_.mergedAttrs,_.attrs)}function Ag(h,g,_,S,w,b){for(let J=0;J<S.length;J++)Kd(Dc(_,g),h,S[J].type);!function Vy(h,g,_){h.flags|=1,h.directiveStart=g,h.directiveEnd=g+_,h.providerIndexes=g}(_,h.data.length,S.length);for(let J=0;J<S.length;J++){const le=S[J];le.providersResolver&&le.providersResolver(le)}let A=!1,G=!1,V=Hu(h,g,S.length,null);for(let J=0;J<S.length;J++){const le=S[J];_.mergedAttrs=ot(_.mergedAttrs,le.hostAttrs),Hy(h,_,g,V,le),ma(V,le,w),null!==le.contentQueries&&(_.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(_.flags|=64);const Ee=le.type.prototype;!A&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((h.preOrderHooks??=[]).push(_.index),A=!0),!G&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((h.preOrderCheckHooks??=[]).push(_.index),G=!0),V++}!function Rg(h,g,_){const w=g.directiveEnd,b=h.data,A=g.attrs,G=[];let V=null,J=null;for(let le=g.directiveStart;le<w;le++){const Ee=b[le],xe=_?_.get(Ee):null,et=xe?xe.outputs:null;V=$u(Ee.inputs,le,V,xe?xe.inputs:null),J=$u(Ee.outputs,le,J,et);const ft=null===V||null===A||$t(g)?null:po(V,le,A);G.push(ft)}null!==V&&(V.hasOwnProperty("class")&&(g.flags|=8),V.hasOwnProperty("style")&&(g.flags|=16)),g.initialInputs=G,g.inputs=V,g.outputs=J}(h,_,b)}function Ku(h,g,_){const S=_.directiveStart,w=_.directiveEnd,b=_.index,A=function bo(){return Kt.lFrame.currentDirectiveIndex}();try{Qa(b);for(let G=S;G<w;G++){const V=h.data[G],J=g[G];Ci(G),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&ky(V,J)}}finally{Qa(-1),Ci(A)}}function ky(h,g){null!==h.hostBindings&&h.hostBindings(1,g)}function lf(h,g,_){g.componentOffset=_,(h.components??=[]).push(g.index)}function ma(h,g,_){if(_){if(g.exportAs)for(let S=0;S<g.exportAs.length;S++)_[g.exportAs[S]]=h;Ti(g)&&(_[""]=h)}}function Hy(h,g,_,S,w){h.data[S]=w;const b=w.factory||(w.factory=Mi(w.type)),A=new xs(b,Ti(w),Il);h.blueprint[S]=A,_[S]=A,function ju(h,g,_,S,w){const b=w.hostBindings;if(b){let A=h.hostBindingOpCodes;null===A&&(A=h.hostBindingOpCodes=[]);const G=~g.index;(function sf(h){let g=h.length;for(;g>0;){const _=h[--g];if("number"==typeof _&&_<0)return _}return 0})(A)!=G&&A.push(G),A.push(_,S,b)}}(h,g,S,Hu(h,_,w.hostVars,pr),w)}function Ca(h,g,_,S,w,b){const A=Mr(h,g);!function Ks(h,g,_,S,w,b,A){if(null==b)h.removeAttribute(g,w,_);else{const G=null==A?_e(b):A(b,S||"",w);h.setAttribute(g,w,G,_)}}(g[Xt],A,b,h.value,_,S,w)}function Uy(h,g,_,S,w,b){const A=b[g];if(null!==A)for(let G=0;G<A.length;)Ig(S,_,A[G++],A[G++],A[G++])}function Ig(h,g,_,S,w){const b=an(null);try{const A=h.inputTransforms;null!==A&&A.hasOwnProperty(S)&&(w=A[S].call(g,w)),null!==h.setInput?h.setInput(g,w,_,S):g[S]=w}finally{an(b)}}function po(h,g,_){let S=null,w=0;for(;w<_.length;){const b=_[w];if(0!==b)if(5!==b){if("number"==typeof b)break;if(h.hasOwnProperty(b)){null===S&&(S=[]);const A=h[b];for(let G=0;G<A.length;G+=2)if(A[G]===g){S.push(b,A[G+1],_[w+1]);break}}w+=2}else w+=2;else w+=4}return S}function Lg(h,g,_,S){return[h,!0,!1,g,null,0,S,_,null,null,null]}function Ng(h,g){const _=h.contentQueries;if(null!==_)for(let S=0;S<_.length;S+=2){const b=_[S+1];if(-1!==b){const A=h.data[b];ll(_[S]),A.contentQueries(2,g[b],b)}}}function cd(h,g){return h[zi]?h[ja][Hn]=g:h[zi]=g,h[ja]=g,g}function Xu(h,g,_){ll(0);const S=an(null);try{g(h,_)}finally{an(S)}}function Fg(h){return h[eo]||(h[eo]=[])}function Gg(h){return h.cleanup||(h.cleanup=[])}function Bg(h,g){const _=h[to],S=_?_.get(Al,null):null;S&&S.handleError(g)}function ps(h,g,_,S,w){for(let b=0;b<_.length;){const A=_[b++],G=_[b++];Ig(h.data[A],g[A],S,G,w)}}function Va(h,g,_){const S=sr(g,h);!function dn(h,g,_){h.setValue(g,_)}(h[Xt],S,_)}function Wy(h,g){const _=en(g,h),S=_[wt];!function $y(h,g){for(let _=g.length;_<h.blueprint.length;_++)g.push(h.blueprint[_])}(S,_);const w=_[on];null!==w&&null===_[Tn]&&(_[Tn]=ug(w,_[to])),cf(S,_,_[zr])}function cf(h,g,_){ul(g);try{const S=h.viewQuery;null!==S&&Xu(1,S,_);const w=h.template;null!==w&&Uu(h,g,w,1,_),h.firstCreatePass&&(h.firstCreatePass=!1),h.staticContentQueries&&Ng(h,g),h.staticViewQueries&&Xu(2,h.viewQuery,_);const b=h.components;null!==b&&function qu(h,g){for(let _=0;_<g.length;_++)Wy(h,g[_])}(g,b)}catch(S){throw h.firstCreatePass&&(h.incompleteFirstPass=!0,h.firstCreatePass=!1),S}finally{g[qt]&=-5,lr()}}let Zu=(()=>{class h{constructor(){this.all=new Set,this.queue=new Map}create(_,S,w){const b=typeof Zone>"u"?null:Zone.current,A=new eu(_,J=>{this.all.has(J)&&this.queue.set(J,b)},w);let G;this.all.add(A),A.notify();const V=()=>{A.cleanup(),G?.(),this.all.delete(A),this.queue.delete(A)};return G=S?.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[_,S]of this.queue)this.queue.delete(_),S?S.run(()=>_.run()):_.run()}get isQueueEmpty(){return 0===this.queue.size}}return h.\u0275prov=rr({token:h,providedIn:"root",factory:()=>new h}),h})();function dd(h,g,_){let S=_?h.styles:null,w=_?h.classes:null,b=0;if(null!==g)for(let A=0;A<g.length;A++){const G=g[A];"number"==typeof G?b=G:1==b?w=ue(w,G):2==b&&(S=ue(S,G+": "+g[++A]+";"))}_?h.styles=S:h.stylesWithoutHost=S,_?h.classes=w:h.classesWithoutHost=w}function Qu(h,g,_,S,w=!1){for(;null!==_;){const b=g[_.index];if(null!==b&&S.push(Vt(b)),Hr(b)){for(let G=_n;G<b.length;G++){const V=b[G],J=V[wt].firstChild;null!==J&&Qu(V[wt],V,J,S)}b[Mn]!==b[on]&&S.push(b[Mn])}const A=_.type;if(8&A)Qu(h,g,_.child,S);else if(32&A){const G=yl(_,g);let V;for(;V=G();)S.push(V)}else if(16&A){const G=xh(g,_);if(Array.isArray(G))S.push(...G);else{const V=Eu(g[Tr]);Qu(V[wt],V,G,S,!0)}}_=w?_.projectionNext:_.next}return S}function pd(h,g,_,S=!0){const w=g[wi].rendererFactory;w.begin&&w.begin();try{Vg(h,g,h.template,_)}catch(A){throw S&&Bg(g,A),A}finally{w.end&&w.end(),g[wi].effectManager?.flush()}}function Vg(h,g,_,S){const w=g[qt];if(256!=(256&w)){g[wi].effectManager?.flush(),ul(g);try{Yi(g),function lu(h){return Kt.lFrame.bindingIndex=h}(h.bindingStartIndex),null!==_&&Uu(h,g,_,2,S);const A=3==(3&w);if(A){const J=h.preOrderCheckHooks;null!==J&&dr(g,J,null)}else{const J=h.preOrderHooks;null!==J&&ci(g,J,0,null),Ia(g,0)}if(function Yy(h){for(let g=Sh(h);null!==g;g=Su(g)){if(!g[Ya])continue;const _=g[In];for(let S=0;S<_.length;S++){Ps(_[S])}}}(g),Nl(g,2),null!==h.contentQueries&&Ng(h,g),A){const J=h.contentCheckHooks;null!==J&&dr(g,J)}else{const J=h.contentHooks;null!==J&&ci(g,J,1),Ia(g,1)}!function My(h,g){const _=h.hostBindingOpCodes;if(null===_)return;const S=qp(g,bi);try{for(let w=0;w<_.length;w++){const b=_[w];if(b<0)Qa(~b);else{const A=b,G=_[++w],V=_[++w];Ja(G,A),S.runInContext(V,2,g[A])}}}finally{null===g[bi]&&Og(g,bi),Qa(-1)}}(h,g);const G=h.components;null!==G&&Hg(g,G,0);const V=h.viewQuery;if(null!==V&&Xu(2,V,S),A){const J=h.viewCheckHooks;null!==J&&dr(g,J)}else{const J=h.viewHooks;null!==J&&ci(g,J,2),Ia(g,2)}!0===h.firstUpdatePass&&(h.firstUpdatePass=!1),g[qt]&=-73,Bi(g)}finally{lr()}}}function Nl(h,g){for(let _=Sh(h);null!==_;_=Su(_))for(let S=_n;S<_.length;S++)df(_[S],g)}function Xy(h,g,_){df(en(g,h),_)}function df(h,g){if(!function Gi(h){return 128==(128&h[qt])}(h))return;const _=h[wt];if(80&h[qt]&&0===g||1024&h[qt]||2===g)Vg(_,h,_.template,h[zr]);else if(h[_o]>0){Nl(h,1);const w=h[wt].components;null!==w&&Hg(h,w,1)}}function Hg(h,g,_){for(let S=0;S<g.length;S++)Xy(h,g[S],_)}class ec{get rootNodes(){const g=this._lView,_=g[wt];return Qu(_,g,_.firstChild,[])}constructor(g,_){this._lView=g,this._cdRefInjectingView=_,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zr]}set context(g){this._lView[zr]=g}get destroyed(){return 256==(256&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[gr];if(Hr(g)){const _=g[8],S=_?_.indexOf(this):-1;S>-1&&(vp(g,S),ca(_,S))}this._attachedToViewContainer=!1}Dh(this._lView[wt],this._lView)}onDestroy(g){!function zo(h,g){if(256==(256&h[qt]))throw new he(911,!1);null===h[Di]&&(h[Di]=[]),h[Di].push(g)}(this._lView,g)}markForCheck(){us(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-129}reattach(){this._lView[qt]|=128}detectChanges(){pd(this._lView[wt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function I_(h,g){Du(h,g,g[Xt],2,null,null)}(this._lView[wt],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=g}}class qy extends ec{constructor(g){super(g),this._view=g}detectChanges(){const g=this._view;pd(g[wt],g,g[zr],!1)}checkNoChanges(){}get context(){return null}}class Ug extends ls{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const _=ar(g);return new tc(_,this.ngModule)}}function Wg(h){const g=[];for(let _ in h)h.hasOwnProperty(_)&&g.push({propName:h[_],templateName:_});return g}class $g{constructor(g,_){this.injector=g,this.parentInjector=_}get(g,_,S){S=pn(S);const w=this.injector.get(g,Yp,S);return w!==Yp||_===Yp?w:this.parentInjector.get(g,_,S)}}class tc extends hg{get inputs(){return Wg(this.componentDef.inputs)}get outputs(){return Wg(this.componentDef.outputs)}constructor(g,_){super(),this.componentDef=g,this.ngModule=_,this.componentType=g.type,this.selector=function En(h){return h.map(gn).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!_}create(g,_,S,w){let b=(w=w||this.ngModule)instanceof Ws?w:w?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const A=b?new $g(g,b):g,G=A.get(gg,null);if(null===G)throw new he(407,!1);const le={rendererFactory:G,sanitizer:A.get(my,null),effectManager:A.get(Zu,null)},Ee=G.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",Be=S?function ya(h,g,_,S){const b=S.get(yg,!1)||_===Gn.ShadowDom,A=h.selectRootElement(g,b);return function Ry(h){Mg(h)}(A),A}(Ee,S,this.componentDef.encapsulation,A):kc(Ee,xe,function Zy(h){const g=h.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(xe)),Dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Gt=nf(0,null,null,1,0,null,null,null,null,null,null),it=ld(null,Gt,null,Dt,null,null,le,Ee,A,null,null);let hr,Fr;ul(it);try{const Vr=this.componentDef;let Ji,Zv=null;Vr.findHostDirectiveDefs?(Ji=[],Zv=new Map,Vr.findHostDirectiveDefs(Vr,Ji,Zv),Ji.push(Vr)):Ji=[Vr];const j0=function Qy(h,g){const _=h[wt],S=vr;return h[S]=g,Ll(_,S,2,"#host",null)}(it,Be),K0=function Fl(h,g,_,S,w,b,A){const G=w[wt];!function em(h,g,_,S){for(const w of h)g.mergedAttrs=ot(g.mergedAttrs,w.hostAttrs);null!==g.mergedAttrs&&(dd(g,g.mergedAttrs,!0),null!==_&&Fh(S,_,g))}(S,h,g,A);let V=null;null!==g&&(V=ug(g,w[to]));const J=b.rendererFactory.createRenderer(g,_);let le=16;_.signals?le=4096:_.onPush&&(le=64);const Ee=ld(w,rf(_),null,le,w[h.index],h,b,J,null,null,V);return G.firstCreatePass&&lf(G,h,S.length-1),cd(w,Ee),w[h.index]=Ee}(j0,Be,Vr,Ji,it,le,Ee);Fr=Qr(Gt,vr),Be&&function rc(h,g,_,S){if(S)z(h,_,["ng-version",Cy.full]);else{const{attrs:w,classes:b}=function Sn(h){const g=[],_=[];let S=1,w=2;for(;S<h.length;){let b=h[S];if("string"==typeof b)2===w?""!==b&&g.push(b,h[++S]):8===w&&_.push(b);else{if(!xr(w))break;w=b}S++}return{attrs:g,classes:_}}(g.selectors[0]);w&&z(h,_,w),b&&b.length>0&&Nh(h,_,b.join(" "))}}(Ee,Vr,Be,S),void 0!==_&&function rm(h,g,_){const S=h.projection=[];for(let w=0;w<g.length;w++){const b=_[w];S.push(null!=b?Array.from(b):null)}}(Fr,this.ngContentSelectors,_),hr=function tm(h,g,_,S,w,b){const A=$n(),G=w[wt],V=Mr(A,w);Ag(G,w,A,_,null,S);for(let le=0;le<_.length;le++)xi(ts(w,G,A.directiveStart+le,A),w);Ku(G,w,A),V&&xi(V,w);const J=ts(w,G,A.directiveStart+A.componentOffset,A);if(h[zr]=w[zr]=J,null!==b)for(const le of b)le(J,g);return ud(G,A,h),J}(K0,Vr,Ji,Zv,it,[nm]),cf(Gt,it,null)}finally{lr()}return new Jy(this.componentType,hr,Ml(Fr,it),it,Fr)}}class Jy extends Kp{constructor(g,_,S,w,b){super(),this.location=S,this._rootLView=w,this._tNode=b,this.previousInputValues=null,this.instance=_,this.hostView=this.changeDetectorRef=new qy(w),this.componentType=g}setInput(g,_){const S=this._tNode.inputs;let w;if(null!==S&&(w=S[g])){if(this.previousInputValues??=new Map,this.previousInputValues.has(g)&&Object.is(this.previousInputValues.get(g),_))return;const b=this._rootLView;ps(b[wt],b,w,g,_),this.previousInputValues.set(g,_),us(en(this._tNode.index,b))}}get injector(){return new dl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}function nm(){const h=$n();Rt(ut()[wt],h)}function Gl(h){let g=function pf(h){return Object.getPrototypeOf(h.prototype).constructor}(h.type),_=!0;const S=[h];for(;g;){let w;if(Ti(h))w=g.\u0275cmp||g.\u0275dir;else{if(g.\u0275cmp)throw new he(903,!1);w=g.\u0275dir}if(w){if(_){S.push(w);const A=h;A.inputs=fd(h.inputs),A.inputTransforms=fd(h.inputTransforms),A.declaredInputs=fd(h.declaredInputs),A.outputs=fd(h.outputs);const G=w.hostBindings;G&&am(h,G);const V=w.viewQuery,J=w.contentQueries;if(V&&im(h,V),J&&om(h,J),q(h.inputs,w.inputs),q(h.declaredInputs,w.declaredInputs),q(h.outputs,w.outputs),null!==w.inputTransforms&&(null===A.inputTransforms&&(A.inputTransforms={}),q(A.inputTransforms,w.inputTransforms)),Ti(w)&&w.data.animation){const le=h.data;le.animation=(le.animation||[]).concat(w.data.animation)}}const b=w.features;if(b)for(let A=0;A<b.length;A++){const G=b[A];G&&G.ngInherit&&G(h),G===Gl&&(_=!1)}}g=Object.getPrototypeOf(g)}!function nc(h){let g=0,_=null;for(let S=h.length-1;S>=0;S--){const w=h[S];w.hostVars=g+=w.hostVars,w.hostAttrs=ot(w.hostAttrs,_=ot(_,w.hostAttrs))}}(S)}function fd(h){return h===Dn?{}:h===or?[]:h}function im(h,g){const _=h.viewQuery;h.viewQuery=_?(S,w)=>{g(S,w),_(S,w)}:g}function om(h,g){const _=h.contentQueries;h.contentQueries=_?(S,w,b)=>{g(S,w,b),_(S,w,b)}:g}function am(h,g){const _=h.hostBindings;h.hostBindings=_?(S,w)=>{g(S,w),_(S,w)}:g}function Yg(h){const g=h.inputConfig,_={};for(const S in g)if(g.hasOwnProperty(S)){const w=g[S];Array.isArray(w)&&w[2]&&(_[S]=w[2])}h.inputTransforms=_}function gd(h){return!!vd(h)&&(Array.isArray(h)||!(h instanceof Map)&&Symbol.iterator in h)}function vd(h){return null!==h&&("function"==typeof h||"object"==typeof h)}function Ea(h,g,_){return h[g]=_}function Ii(h,g,_){return!Object.is(h[g],_)&&(h[g]=_,!0)}function Ys(h,g,_,S){const w=Ii(h,g,_);return Ii(h,g+1,S)||w}function gf(h,g,_,S){const w=ut();return Ii(w,Rs(),g)&&(Ir(),Ca(N(),w,h,g,_,S)),gf}function Xs(h,g,_,S){return Ii(h,Rs(),_)?g+_e(_)+S:pr}function fs(h,g,_,S,w,b){const G=Ys(h,function Po(){return Kt.lFrame.bindingIndex}(),_,w);return qr(2),G?g+_e(_)+S+_e(w)+b:pr}function nv(h,g,_,S,w,b,A,G){const V=ut(),J=Ir(),le=h+vr,Ee=J.firstCreatePass?function Mm(h,g,_,S,w,b,A,G,V){const J=g.consts,le=Ll(g,h,4,A||null,ri(J,G));ds(g,_,le,ri(J,V)),Rt(g,le);const Ee=le.tView=nf(2,le,S,w,b,g.directiveRegistry,g.pipeRegistry,null,g.schemas,J,null);return null!==g.queries&&(g.queries.template(g,le),Ee.queries=g.queries.embeddedTView(le)),le}(le,J,V,g,_,S,w,b,A):J.data[le];Do(Ee,!1);const xe=iv(J,V,Ee,h);Ge()&&Hc(J,V,xe,Ee),xi(xe,V),cd(V,V[le]=Lg(xe,V,xe,Ee)),Ma(Ee)&&tf(J,V,Ee),null!=A&&va(V,Ee,G)}let iv=function lc(h,g,_,S){return at(!0),g[Xt].createComment("")};function Sf(h,g,_){const S=ut();return Ii(S,Rs(),g)&&co(Ir(),N(),S,h,g,S[Xt],_,!1),Sf}function cc(h,g,_,S,w){const A=w?"class":"style";ps(h,_,g.inputs[A],A,S)}function Sd(h,g,_,S){const w=ut(),b=Ir(),A=vr+h,G=w[Xt],V=b.firstCreatePass?function xm(h,g,_,S,w,b){const A=g.consts,V=Ll(g,h,2,S,ri(A,w));return ds(g,_,V,ri(A,b)),null!==V.attrs&&dd(V,V.attrs,!1),null!==V.mergedAttrs&&dd(V,V.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,V),V}(A,b,w,g,_,S):b.data[A],J=Od(b,w,V,G,g,h);w[A]=J;const le=Ma(V);return Do(V,!0),Fh(G,J,V),32!=(32&V.flags)&&Ge()&&Hc(b,w,J,V),0===function mi(){return Kt.lFrame.elementDepthCount}()&&xi(J,w),function nu(){Kt.lFrame.elementDepthCount++}(),le&&(tf(b,w,V),ud(b,V,w)),null!==S&&va(w,V),Sd}function Qs(){let h=$n();Ts()?sl():(h=h.parent,Do(h,!1));const g=h;(function wn(h){return Kt.skipHydrationRootTNode===h})(g)&&function au(){Kt.skipHydrationRootTNode=null}(),function iu(){Kt.lFrame.elementDepthCount--}();const _=Ir();return _.firstCreatePass&&(Rt(_,h),Vo(h)&&_.queries.elementEnd(h)),null!=g.classesWithoutHost&&function Qv(h){return 0!=(8&h.flags)}(g)&&cc(_,g,ut(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function Is(h){return 0!=(16&h.flags)}(g)&&cc(_,g,ut(),g.stylesWithoutHost,!1),Qs}function Of(h,g,_,S){return Sd(h,g,_,S),Qs(),Of}let Od=(h,g,_,S,w,b)=>(at(!0),kc(S,w,function fe(){return Kt.lFrame.currentNamespace}()));function lv(){return ut()}function bf(h){return!!h&&"function"==typeof h.then}function uv(h){return!!h&&"function"==typeof h.subscribe}function Tf(h,g,_,S){const w=ut(),b=Ir(),A=$n();return function pv(h,g,_,S,w,b,A){const G=Ma(S),J=h.firstCreatePass&&Gg(h),le=g[zr],Ee=Fg(g);let xe=!0;if(3&S.type||A){const ft=Mr(S,g),Dt=A?A(ft):ft,Gt=Ee.length,it=A?Fr=>A(Vt(Fr[S.index])):S.index;let hr=null;if(!A&&G&&(hr=function dv(h,g,_,S){const w=h.cleanup;if(null!=w)for(let b=0;b<w.length-1;b+=2){const A=w[b];if(A===_&&w[b+1]===S){const G=g[eo],V=w[b+2];return G.length>V?G[V]:null}"string"==typeof A&&(b+=2)}return null}(h,g,w,S.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=b,hr.__ngLastListenerFn__=b,xe=!1;else{b=hv(S,g,le,b,!1);const Fr=_.listen(Dt,w,b);Ee.push(b,Fr),J&&J.push(w,it,Gt,Gt+1)}}else b=hv(S,g,le,b,!1);const Be=S.outputs;let et;if(xe&&null!==Be&&(et=Be[w])){const ft=et.length;if(ft)for(let Dt=0;Dt<ft;Dt+=2){const Vr=g[et[Dt]][et[Dt+1]].subscribe(b),Ji=Ee.length;Ee.push(b,Vr),J&&J.push(w,S.index,Ji,-(Ji+1))}}}(b,w,w[Xt],A,h,g,S),Tf}function fv(h,g,_,S){try{return ze(6,g,_),!1!==_(S)}catch(w){return Bg(h,w),!1}finally{ze(7,g,_)}}function hv(h,g,_,S,w){return function b(A){if(A===Function)return S;us(h.componentOffset>-1?en(h.index,g):g);let V=fv(g,_,S,A),J=b.__ngNextListenerFn__;for(;J;)V=fv(g,_,J,A)&&V,J=J.__ngNextListenerFn__;return w&&!1===V&&A.preventDefault(),V}}function gv(h=1){return function Jv(h){return(Kt.lFrame.contextLView=function gt(h,g){for(;h>0;)g=g[bn],h--;return g}(h,Kt.lFrame.contextLView))[zr]}(h)}function Fm(h,g){let _=null;const S=function si(h){const g=h.attrs;if(null!=g){const _=g.indexOf(5);if(!(1&_))return g[_+1]}return null}(h);for(let w=0;w<g.length;w++){const b=g[w];if("*"!==b){if(null===S?vi(h,b,!0):li(S,b))return w}else _=w}return _}function vv(h){const g=ut()[Tr][un];if(!g.projection){const S=g.projection=Fs(h?h.length:1,null),w=S.slice();let b=g.child;for(;null!==b;){const A=h?Fm(b,h):0;null!==A&&(w[A]?w[A].projectionNext=b:S[A]=b,w[A]=b),b=b.next}}}function _v(h,g=0,_){const S=ut(),w=Ir(),b=Ll(w,vr+h,16,null,_||null);null===b.projection&&(b.projection=g),sl(),(!S[Tn]||ni())&&32!=(32&b.flags)&&function Sp(h,g,_){nr(g[Xt],0,g,_,Zo(h,_,g),Th(_.parent||g[un],_,g))}(w,S,b)}function yv(h,g,_){return mv(h,"",g,"",_),yv}function mv(h,g,_,S,w){const b=ut(),A=Xs(b,g,_,S);return A!==pr&&co(Ir(),N(),b,h,A,b[Xt],w,!1),mv}function Rn(h,g){return h<<17|g<<2}function _s(h){return h>>17&32767}function Rf(h){return 2|h}function tl(h){return(131068&h)>>2}function $l(h,g){return-131069&h|g<<2}function Af(h){return 1|h}function Pv(h,g,_,S,w){const b=h[_+1],A=null===g;let G=S?_s(b):tl(b),V=!1;for(;0!==G&&(!1===V||A);){const le=h[G+1];Vm(h[G],g)&&(V=!0,h[G+1]=S?Af(le):Rf(le)),G=S?_s(le):tl(le)}V&&(h[_+1]=S?Rf(b):Af(b))}function Vm(h,g){return null===h||null==g||(Array.isArray(h)?h[1]:h)===g||!(!Array.isArray(h)||"string"!=typeof g)&&hl(h,g)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bv(h){return h.substring(Yn.key,Yn.keyEnd)}function Hm(h){return h.substring(Yn.value,Yn.valueEnd)}function Mv(h,g){const _=Yn.textEnd;let S=Yn.key=jl(h,g,_);return _===S?-1:(S=Yn.keyEnd=function Av(h,g,_){let S;for(;g<_&&(45===(S=h.charCodeAt(g))||95===S||(-33&S)>=65&&(-33&S)<=90||S>=48&&S<=57);)g++;return g}(h,S,_),S=xv(h,S,_),S=Yn.value=jl(h,S,_),S=Yn.valueEnd=function Pd(h,g,_){let S=-1,w=-1,b=-1,A=g,G=A;for(;A<_;){const V=h.charCodeAt(A++);if(59===V)return G;34===V||39===V?G=A=Iv(h,V,A,_):g===A-4&&85===b&&82===w&&76===S&&40===V?G=A=Iv(h,41,A,_):V>32&&(G=A),b=w,w=S,S=-33&V}return G}(h,S,_),xv(h,S,_))}function jl(h,g,_){for(;g<_&&h.charCodeAt(g)<=32;)g++;return g}function xv(h,g,_,S){return(g=jl(h,g,_))<_&&g++,g}function Iv(h,g,_,S){let w=-1,b=_;for(;b<S;){const A=h.charCodeAt(b++);if(A==g&&92!==w)return b;w=92==A&&92===w?0:A}throw new Error}function If(h,g,_){return Lo(h,g,_,!1),If}function Oa(h,g){return Lo(h,g,null,!0),Oa}function wa(h){!function No(h,g,_,S){const w=Ir(),b=qr(2);w.firstUpdatePass&&Lf(w,null,b,S);const A=ut();if(_!==pr&&Ii(A,b,_)){const G=w.data[Ei()];if(Bv(G,S)&&!Lv(w,b)){let V=S?G.classesWithoutHost:G.stylesWithoutHost;null!==V&&(_=ue(V,_||"")),cc(w,G,A,_,S)}else!function Fv(h,g,_,S,w,b,A,G){w===pr&&(w=or);let V=0,J=0,le=0<w.length?w[0]:null,Ee=0<b.length?b[0]:null;for(;null!==le||null!==Ee;){const xe=V<w.length?w[V+1]:void 0,Be=J<b.length?b[J+1]:void 0;let ft,et=null;le===Ee?(V+=2,J+=2,xe!==Be&&(et=Ee,ft=Be)):null===Ee||null!==le&&le<Ee?(V+=2,et=le):(J+=2,et=Ee,ft=Be),null!==et&&pc(h,g,_,S,et,ft,A,G),le=V<w.length?w[V]:null,Ee=J<b.length?b[J]:null}}(w,G,A,A[Xt],A[b+1],A[b+1]=function Da(h,g,_){if(null==_||""===_)return or;const S=[],w=as(_);if(Array.isArray(w))for(let b=0;b<w.length;b++)h(S,w[b],!0);else if("object"==typeof w)for(const b in w)w.hasOwnProperty(b)&&h(S,b,w[b]);else"string"==typeof w&&g(S,w);return S}(h,g,_),S,b)}}(Ff,Wm,h,!1)}function Wm(h,g){for(let _=function Um(h){return function Rv(h){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=h.length}(h),Mv(h,jl(h,0,Yn.textEnd))}(g);_>=0;_=Mv(g,_))Ff(h,bv(g),Hm(g))}function Lo(h,g,_,S){const w=ut(),b=Ir(),A=qr(2);b.firstUpdatePass&&Lf(b,h,A,S),g!==pr&&Ii(w,A,g)&&pc(b,b.data[Ei()],w,w[Xt],h,w[A+1]=function Ym(h,g){return null==h||""===h||("string"==typeof g?h+=g:"object"==typeof h&&(h=se(as(h)))),h}(g,_),S,A)}function Lv(h,g){return g>=h.expandoStartIndex}function Lf(h,g,_,S){const w=h.data;if(null===w[_+1]){const b=w[Ei()],A=Lv(h,_);Bv(b,S)&&null===g&&!A&&(g=!1),g=function jm(h,g,_,S){const w=function Gd(h){const g=Kt.lFrame.currentDirectiveIndex;return-1===g?null:h[g]}(h);let b=S?g.residualClasses:g.residualStyles;if(null===w)0===(S?g.classBindings:g.styleBindings)&&(_=Fo(_=Nf(null,h,g,_,S),g.attrs,S),b=null);else{const A=g.directiveStylingLast;if(-1===A||h[A]!==w)if(_=Nf(w,h,g,_,S),null===b){let V=function Km(h,g,_){const S=_?g.classBindings:g.styleBindings;if(0!==tl(S))return h[_s(S)]}(h,g,S);void 0!==V&&Array.isArray(V)&&(V=Nf(null,h,g,V[1],S),V=Fo(V,g.attrs,S),function Kl(h,g,_,S){h[_s(_?g.classBindings:g.styleBindings)]=S}(h,g,S,V))}else b=function Nv(h,g,_){let S;const w=g.directiveEnd;for(let b=1+g.directiveStylingLast;b<w;b++)S=Fo(S,h[b].hostAttrs,_);return Fo(S,g.attrs,_)}(h,g,S)}return void 0!==b&&(S?g.residualClasses=b:g.residualStyles=b),_}(w,b,g,S),function km(h,g,_,S,w,b){let A=b?g.classBindings:g.styleBindings,G=_s(A),V=tl(A);h[S]=_;let le,J=!1;if(Array.isArray(_)?(le=_[1],(null===le||hl(_,le)>0)&&(J=!0)):le=_,w)if(0!==V){const xe=_s(h[G+1]);h[S+1]=Rn(xe,G),0!==xe&&(h[xe+1]=$l(h[xe+1],S)),h[G+1]=function wv(h,g){return 131071&h|g<<17}(h[G+1],S)}else h[S+1]=Rn(G,0),0!==G&&(h[G+1]=$l(h[G+1],S)),G=S;else h[S+1]=Rn(V,0),0===G?G=S:h[V+1]=$l(h[V+1],S),V=S;J&&(h[S+1]=Rf(h[S+1])),Pv(h,le,S,!0),Pv(h,le,S,!1),function wd(h,g,_,S,w){const b=w?h.residualClasses:h.residualStyles;null!=b&&"string"==typeof g&&hl(b,g)>=0&&(_[S+1]=Af(_[S+1]))}(g,le,h,S,b),A=Rn(G,V),b?g.classBindings=A:g.styleBindings=A}(w,b,g,_,A,S)}}function Nf(h,g,_,S,w){let b=null;const A=_.directiveEnd;let G=_.directiveStylingLast;for(-1===G?G=_.directiveStart:G++;G<A&&(b=g[G],S=Fo(S,b.hostAttrs,w),b!==h);)G++;return null!==h&&(_.directiveStylingLast=G),S}function Fo(h,g,_){const S=_?1:2;let w=-1;if(null!==g)for(let b=0;b<g.length;b++){const A=g[b];"number"==typeof A?w=A:w===S&&(Array.isArray(h)||(h=void 0===h?[]:["",h]),ki(h,A,!!_||g[++b]))}return void 0===h?null:h}function Ff(h,g,_){ki(h,g,as(_))}function pc(h,g,_,S,w,b,A,G){if(!(3&g.type))return;const V=h.data,J=V[G+1],le=function Bm(h){return 1==(1&h)}(J)?Gv(V,g,_,w,tl(J),A):void 0;bd(le)||(bd(b)||function Gm(h){return 2==(2&h)}(J)&&(b=Gv(V,null,_,w,G,A)),function G_(h,g,_,S,w){if(g)w?h.addClass(_,S):h.removeClass(_,S);else{let b=-1===S.indexOf("-")?void 0:da.DashCase;null==w?h.removeStyle(_,S,b):("string"==typeof w&&w.endsWith("!important")&&(w=w.slice(0,-10),b|=da.Important),h.setStyle(_,S,w,b))}}(S,A,sr(Ei(),_),w,b))}function Gv(h,g,_,S,w,b){const A=null===g;let G;for(;w>0;){const V=h[w],J=Array.isArray(V),le=J?V[1]:V,Ee=null===le;let xe=_[w+1];xe===pr&&(xe=Ee?or:void 0);let Be=Ee?tp(xe,S):le===S?xe:void 0;if(J&&!bd(Be)&&(Be=tp(V,S)),bd(Be)&&(G=Be,A))return G;const et=h[w+1];w=A?_s(et):tl(et)}if(null!==g){let V=b?g.residualClasses:g.residualStyles;null!=V&&(G=tp(V,S))}return G}function bd(h){return void 0!==h}function Bv(h,g){return 0!=(h.flags&(g?8:16))}function Gf(h,g=""){const _=ut(),S=Ir(),w=h+vr,b=S.firstCreatePass?Ll(S,w,1,g,null):S.data[w],A=p(S,_,b,g,h);_[w]=A,Ge()&&Hc(S,_,A,b),Do(b,!1)}let p=(h,g,_,S,w)=>(at(!0),function Bc(h,g){return h.createText(g)}(g[Xt],S));function a(h){return u("",h,""),a}function u(h,g,_){const S=ut(),w=Xs(S,h,g,_);return w!==pr&&Va(S,Ei(),w),u}function c(h,g,_,S,w){const b=ut(),A=fs(b,h,g,_,S,w);return A!==pr&&Va(b,Ei(),A),c}function Ut(h,g,_){wa(Xs(ut(),h,g,_))}const hc=void 0;var IO=["en",[["a","p"],["AM","PM"],hc],[["AM","PM"],hc,hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hc,"{1} 'at' {0}",hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xO(h){const _=Math.floor(Math.abs(h)),S=h.toString().replace(/^[^.]*\.?/,"").length;return 1===_&&0===S?1:5}];let Td={};function LO(h,g,_){"string"!=typeof g&&(_=g,g=h[Qt.LocaleId]),g=g.toLowerCase().replace(/_/g,"-"),Td[g]=h,_&&(Td[g][Qt.ExtraData]=_)}function Xm(h){const g=function NO(h){return h.toLowerCase().replace(/_/g,"-")}(h);let _=EE(g);if(_)return _;const S=g.split("-")[0];if(_=EE(S),_)return _;if("en"===S)return IO;throw new he(701,!1)}function CE(h){return Xm(h)[Qt.PluralCase]}function EE(h){return h in Td||(Td[h]=br.ng&&br.ng.common&&br.ng.common.locales&&br.ng.common.locales[h]),Td[h]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const Md="en-US";let SE=Md;function Jm(h,g,_,S,w){if(h=Ce(h),Array.isArray(h))for(let b=0;b<h.length;b++)Jm(h[b],g,_,S,w);else{const b=Ir(),A=ut();let G=Hs(h)?h:Ce(h.provide),V=rg(h);const J=$n(),le=1048575&J.providerIndexes,Ee=J.directiveStart,xe=J.providerIndexes>>20;if(Hs(h)||!h.multi){const Be=new xs(V,w,Il),et=eC(G,g,w?le:le+xe,Ee);-1===et?(Kd(Dc(J,A),b,G),Qm(b,h,g.length),g.push(G),J.directiveStart++,J.directiveEnd++,w&&(J.providerIndexes+=1048576),_.push(Be),A.push(Be)):(_[et]=Be,A[et]=Be)}else{const Be=eC(G,g,le+xe,Ee),et=eC(G,g,le,le+xe),Dt=et>=0&&_[et];if(w&&!Dt||!w&&!(Be>=0&&_[Be])){Kd(Dc(J,A),b,G);const Gt=function xw(h,g,_,S,w){const b=new xs(h,_,Il);return b.multi=[],b.index=g,b.componentProviders=0,zE(b,w,S&&!_),b}(w?Aw:Rw,_.length,w,S,V);!w&&Dt&&(_[et].providerFactory=Gt),Qm(b,h,g.length,0),g.push(G),J.directiveStart++,J.directiveEnd++,w&&(J.providerIndexes+=1048576),_.push(Gt),A.push(Gt)}else Qm(b,h,Be>-1?Be:et,zE(_[w?et:Be],V,!w&&S));!w&&S&&Dt&&_[et].componentProviders++}}}function Qm(h,g,_,S){const w=Hs(g),b=function iy(h){return!!h.useClass}(g);if(w||b){const V=(b?Ce(g.useClass):g).prototype.ngOnDestroy;if(V){const J=h.destroyHooks||(h.destroyHooks=[]);if(!w&&g.multi){const le=J.indexOf(_);-1===le?J.push(_,[S,V]):J[le+1].push(S,V)}else J.push(_,V)}}}function zE(h,g,_){return _&&h.componentProviders++,h.multi.push(g)-1}function eC(h,g,_,S){for(let w=_;w<S;w++)if(g[w]===h)return w;return-1}function Rw(h,g,_,S){return tC(this.multi,[])}function Aw(h,g,_,S){const w=this.multi;let b;if(this.providerFactory){const A=this.providerFactory.componentProviders,G=ts(_,_[wt],this.providerFactory.index,S);b=G.slice(0,A),tC(w,b);for(let V=A;V<G.length;V++)b.push(G[V])}else b=[],tC(w,b);return b}function tC(h,g){for(let _=0;_<h.length;_++)g.push((0,h[_])());return g}function YE(h,g=[]){return _=>{_.providersResolver=(S,w)=>function Mw(h,g,_){const S=Ir();if(S.firstCreatePass){const w=Ti(h);Jm(_,S.data,S.blueprint,w,!0),Jm(g,S.data,S.blueprint,w,!1)}}(S,w?w(h):h,g)}}class Rd{}class XE{}function Iw(h,g){return new rC(h,g??null,[])}class rC extends Rd{constructor(g,_,S){super(),this._parent=_,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ug(this);const w=vn(g);this._bootstrapComponents=ka(w.bootstrap),this._r3Injector=Qp(g,_,[{provide:Rd,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...S],se(g),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(g)}get injector(){return this._r3Injector}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(_=>_()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class nC extends XE{constructor(g){super(),this.moduleType=g}create(g){return new rC(this.moduleType,g,[])}}class qE extends Rd{constructor(g){super(),this.componentFactoryResolver=new Ug(this),this.instance=null;const _=new wl([...g.providers,{provide:Rd,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],g.parent||Ol(),g.debugName,new Set(["environment"]));this.injector=_,g.runEnvironmentInitializers&&_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(g){this.injector.onDestroy(g)}}function ZE(h,g,_=null){return new qE({providers:h,parent:g,debugName:_,runEnvironmentInitializers:!0}).injector}let Nw=(()=>{class h{constructor(_){this._injector=_,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(_){if(!_.standalone)return null;if(!this.cachedInjectors.has(_.id)){const S=Qh(0,_.type),w=S.length>0?ZE([S],this._injector,`Standalone[${_.type.name}]`):null;this.cachedInjectors.set(_.id,w)}return this.cachedInjectors.get(_.id)}ngOnDestroy(){try{for(const _ of this.cachedInjectors.values())null!==_&&_.destroy()}finally{this.cachedInjectors.clear()}}}return h.\u0275prov=rr({token:h,providedIn:"environment",factory:()=>new h(Yt(Ws))}),h})();function JE(h){h.getStandaloneInjector=g=>g.get(Nw).getOrCreateStandaloneInjector(h)}function oS(h,g,_,S){return aS(ut(),Ai(),h,g,_,S)}function Wf(h,g){const _=h[g];return _===pr?void 0:_}function aS(h,g,_,S,w,b){const A=g+_;return Ii(h,A,w)?Ea(h,A+1,b?S.call(b,w):S(w)):Wf(h,A+1)}function uS(h,g,_,S,w,b,A,G,V){const J=g+_;return function Io(h,g,_,S,w,b){const A=Ys(h,g,_,S);return Ys(h,g+2,w,b)||A}(h,J,w,b,A,G)?Ea(h,J+4,V?S.call(V,w,b,A,G):S(w,b,A,G)):Wf(h,J+4)}function dS(h,g){const _=Ir();let S;const w=h+vr;_.firstCreatePass?(S=function Qw(h,g){if(g)for(let _=g.length-1;_>=0;_--){const S=g[_];if(h===S.name)return S}}(g,_.pipeRegistry),_.data[w]=S,S.onDestroy&&(_.destroyHooks??=[]).push(w,S.onDestroy)):S=_.data[w];const b=S.factory||(S.factory=Mi(S.type)),A=rn(Il);try{const G=fu(!1),V=b();return fu(G),function uc(h,g,_,S){_>=h.data.length&&(h.data[_]=null,h.blueprint[_]=null),g[_]=S}(_,ut(),w,V),V}finally{rn(A)}}function pS(h,g,_){const S=h+vr,w=ut(),b=Wn(w,S);return $f(w,S)?aS(w,Ai(),g,b.transform,_,b):b.transform(_)}function fS(h,g,_,S,w,b){const A=h+vr,G=ut(),V=Wn(G,A);return $f(G,A)?uS(G,Ai(),g,V.transform,_,S,w,b,V):V.transform(_,S,w,b)}function $f(h,g){return h[wt].data[g].pure}function oC(h){return g=>{setTimeout(h,void 0,g)}}const ys=class nD extends r.x{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,_,S){let w=g,b=_||(()=>null),A=S;if(g&&"object"==typeof g){const V=g;w=V.next?.bind(V),b=V.error?.bind(V),A=V.complete?.bind(V)}this.__isAsync&&(b=oC(b),w&&(w=oC(w)),A&&(A=oC(A)));const G=super.subscribe({next:w,error:b,complete:A});return g instanceof o.w0&&g.add(G),G}};function iD(){return this._results[Symbol.iterator]()}class aC{get changes(){return this._changes||(this._changes=new ys)}constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const _=aC.prototype;_[Symbol.iterator]||(_[Symbol.iterator]=iD)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,_){return this._results.reduce(g,_)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,_){const S=this;S.dirty=!1;const w=function Mo(h){return h.flat(Number.POSITIVE_INFINITY)}(g);(this._changesDetected=!function c_(h,g,_){if(h.length!==g.length)return!1;for(let S=0;S<h.length;S++){let w=h[S],b=g[S];if(_&&(w=_(w),b=_(b)),b!==w)return!1}return!0}(S._results,w,_))&&(S._results=w,S.length=w.length,S.last=w[this.length-1],S.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jf=(()=>{class h{}return h.__NG_ELEMENT_ID__=sD,h})();const oD=jf,aD=class extends oD{constructor(g,_,S){super(),this._declarationLView=g,this._declarationTContainer=_,this.elementRef=S}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(g,_){return this.createEmbeddedViewImpl(g,_,null)}createEmbeddedViewImpl(g,_,S){const A=this._declarationTContainer.tView,G=ld(this._declarationLView,A,g,4096&this._declarationLView[qt]?4096:16,null,A.declTNode,null,null,null,_||null,S||null);G[yo]=this._declarationLView[this._declarationTContainer.index];const J=this._declarationLView[Br];return null!==J&&(G[Br]=J.createEmbeddedView(A)),cf(A,G,g),new ec(G)}};function sD(){return Wv($n(),ut())}function Wv(h,g){return 4&h.type?new aD(g,h,Ml(h,g)):null}let $v=(()=>{class h{}return h.__NG_ELEMENT_ID__=hD,h})();function hD(){return mS($n(),ut())}const gD=$v,_S=class extends gD{constructor(g,_,S){super(),this._lContainer=g,this._hostTNode=_,this._hostLView=S}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new dl(this._hostTNode,this._hostLView)}get parentInjector(){const g=jd(this._hostTNode,this._hostLView);if(Wd(g)){const _=pu(g,this._hostLView),S=Sc(g);return new dl(_[wt].data[S+8],_)}return new dl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const _=yS(this._lContainer);return null!==_&&_[g]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(g,_,S){let w,b;"number"==typeof S?w=S:null!=S&&(w=S.index,b=S.injector);const G=g.createEmbeddedViewImpl(_||{},b,null);return this.insertImpl(G,w,false),G}createComponent(g,_,S,w,b){const A=g&&!function _u(h){return"function"==typeof h}(g);let G;if(A)G=_;else{const ft=_||{};G=ft.index,S=ft.injector,w=ft.projectableNodes,b=ft.environmentInjector||ft.ngModuleRef}const V=A?g:new tc(ar(g)),J=S||this.parentInjector;if(!b&&null==V.ngModule){const Dt=(A?J:this.parentInjector).get(Ws,null);Dt&&(b=Dt)}ar(V.componentType??{});const Be=V.create(J,w,null,b);return this.insertImpl(Be.hostView,G,false),Be}insert(g,_){return this.insertImpl(g,_,!1)}insertImpl(g,_,S){const w=g._lView,b=w[wt];if(function ao(h){return Hr(h[gr])}(w)){const V=this.indexOf(g);if(-1!==V)this.detach(V);else{const J=w[gr],le=new _S(J,J[un],J[gr]);le.detach(le.indexOf(g))}}const A=this._adjustIndex(_),G=this._lContainer;if(function L_(h,g,_,S){const w=_n+S,b=_.length;S>0&&(_[w-1][Hn]=g),S<b-_n?(g[Hn]=_[w],ah(_,_n+S,g)):(_.push(g),g[Hn]=null),g[gr]=_;const A=g[yo];null!==A&&_!==A&&function gp(h,g){const _=h[In];g[Tr]!==g[gr][gr][Tr]&&(h[Ya]=!0),null===_?h[In]=[g]:_.push(g)}(A,g);const G=g[Br];null!==G&&G.insertView(h),g[qt]|=128}(b,w,G,A),!S){const V=Cp(A,G),J=w[Xt],le=os(J,G[Mn]);null!==le&&function ns(h,g,_,S,w,b){S[on]=w,S[un]=g,Du(h,S,_,1,w,b)}(b,G[un],J,w,le,V)}return g.attachToViewContainerRef(),ah(lC(G),A,g),g}move(g,_){return this.insert(g,_)}indexOf(g){const _=yS(this._lContainer);return null!==_?_.indexOf(g):-1}remove(g){const _=this._adjustIndex(g,-1),S=vp(this._lContainer,_);S&&(ca(lC(this._lContainer),_),Dh(S[wt],S))}detach(g){const _=this._adjustIndex(g,-1),S=vp(this._lContainer,_);return S&&null!=ca(lC(this._lContainer),_)?new ec(S):null}_adjustIndex(g,_=0){return g??this.length+_}};function yS(h){return h[8]}function lC(h){return h[8]||(h[8]=[])}function mS(h,g){let _;const S=g[h.index];return Hr(S)?_=S:(_=Lg(S,g,null,h),g[h.index]=_,cd(g,_)),CS(_,g,h,S),new _S(_,h,g)}let CS=function ES(h,g,_,S){if(h[Mn])return;let w;w=8&_.type?Vt(S):function vD(h,g){const _=h[Xt],S=_.createComment(""),w=Mr(g,h);return is(_,os(_,w),S,function F_(h,g){return h.nextSibling(g)}(_,w),!1),S}(g,_),h[Mn]=w};class uC{constructor(g){this.queryList=g,this.matches=null}clone(){return new uC(this.queryList)}setDirty(){this.queryList.setDirty()}}class cC{constructor(g=[]){this.queries=g}createEmbeddedView(g){const _=g.queries;if(null!==_){const S=null!==g.contentQueries?g.contentQueries[0]:_.length,w=[];for(let b=0;b<S;b++){const A=_.getByIndex(b);w.push(this.queries[A.indexInDeclarationView].clone())}return new cC(w)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let _=0;_<this.queries.length;_++)null!==RS(g,_).matches&&this.queries[_].setDirty()}}class SS{constructor(g,_,S=null){this.predicate=g,this.flags=_,this.read=S}}class dC{constructor(g=[]){this.queries=g}elementStart(g,_){for(let S=0;S<this.queries.length;S++)this.queries[S].elementStart(g,_)}elementEnd(g){for(let _=0;_<this.queries.length;_++)this.queries[_].elementEnd(g)}embeddedTView(g){let _=null;for(let S=0;S<this.length;S++){const w=null!==_?_.length:0,b=this.getByIndex(S).embeddedTView(g,w);b&&(b.indexInDeclarationView=S,null!==_?_.push(b):_=[b])}return null!==_?new dC(_):null}template(g,_){for(let S=0;S<this.queries.length;S++)this.queries[S].template(g,_)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class pC{constructor(g,_=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=_}elementStart(g,_){this.isApplyingToNode(_)&&this.matchTNode(g,_)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,_){this.elementStart(g,_)}embeddedTView(g,_){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,_),new pC(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const _=this._declarationNodeIndex;let S=g.parent;for(;null!==S&&8&S.type&&S.index!==_;)S=S.parent;return _===(null!==S?S.index:-1)}return this._appliesToNextNode}matchTNode(g,_){const S=this.metadata.predicate;if(Array.isArray(S))for(let w=0;w<S.length;w++){const b=S[w];this.matchTNodeWithReadOption(g,_,mD(_,b)),this.matchTNodeWithReadOption(g,_,Pc(_,g,b,!1,!1))}else S===jf?4&_.type&&this.matchTNodeWithReadOption(g,_,-1):this.matchTNodeWithReadOption(g,_,Pc(_,g,S,!1,!1))}matchTNodeWithReadOption(g,_,S){if(null!==S){const w=this.metadata.read;if(null!==w)if(w===Gu||w===$v||w===jf&&4&_.type)this.addMatch(_.index,-2);else{const b=Pc(_,g,w,!1,!1);null!==b&&this.addMatch(_.index,b)}else this.addMatch(_.index,S)}}addMatch(g,_){null===this.matches?this.matches=[g,_]:this.matches.push(g,_)}}function mD(h,g){const _=h.localNames;if(null!==_)for(let S=0;S<_.length;S+=2)if(_[S]===g)return _[S+1];return null}function ED(h,g,_,S){return-1===_?function CD(h,g){return 11&h.type?Ml(h,g):4&h.type?Wv(h,g):null}(g,h):-2===_?function SD(h,g,_){return _===Gu?Ml(g,h):_===jf?Wv(g,h):_===$v?mS(g,h):void 0}(h,g,S):ts(h,h[wt],_,g)}function OS(h,g,_,S){const w=g[Br].queries[S];if(null===w.matches){const b=h.data,A=_.matches,G=[];for(let V=0;V<A.length;V+=2){const J=A[V];G.push(J<0?null:ED(g,b[J],A[V+1],_.metadata.read))}w.matches=G}return w.matches}function fC(h,g,_,S){const w=h.queries.getByIndex(_),b=w.matches;if(null!==b){const A=OS(h,g,w,_);for(let G=0;G<b.length;G+=2){const V=b[G];if(V>0)S.push(A[G/2]);else{const J=b[G+1],le=g[-V];for(let Ee=_n;Ee<le.length;Ee++){const xe=le[Ee];xe[yo]===xe[gr]&&fC(xe[wt],xe,J,S)}if(null!==le[In]){const Ee=le[In];for(let xe=0;xe<Ee.length;xe++){const Be=Ee[xe];fC(Be[wt],Be,J,S)}}}}}return S}function wS(h){const g=ut(),_=Ir(),S=Bd();ll(S+1);const w=RS(_,S);if(h.dirty&&function Ko(h){return 4==(4&h[qt])}(g)===(2==(2&w.metadata.flags))){if(null===w.matches)h.reset([]);else{const b=w.crossesNgTemplate?fC(_,g,S,[]):OS(_,g,w,S);h.reset(b,_y),h.notifyOnChanges()}return!0}return!1}function DS(h,g,_){const S=Ir();S.firstCreatePass&&(MS(S,new SS(h,g,_),-1),2==(2&g)&&(S.staticViewQueries=!0)),TS(S,ut(),g)}function PS(h,g,_,S){const w=Ir();if(w.firstCreatePass){const b=$n();MS(w,new SS(g,_,S),b.index),function wD(h,g){const _=h.contentQueries||(h.contentQueries=[]);g!==(_.length?_[_.length-1]:-1)&&_.push(h.queries.length-1,g)}(w,h),2==(2&_)&&(w.staticContentQueries=!0)}TS(w,ut(),_)}function bS(){return function OD(h,g){return h[Br].queries[g].queryList}(ut(),Bd())}function TS(h,g,_){const S=new aC(4==(4&_));(function Wu(h,g,_,S){const w=Fg(g);w.push(_),h.firstCreatePass&&Gg(h).push(S,w.length-1)})(h,g,S,S.destroy),null===g[Br]&&(g[Br]=new cC),g[Br].queries.push(new uC(S))}function MS(h,g,_){null===h.queries&&(h.queries=new dC),h.queries.track(new pC(g,_))}function RS(h,g){return h.queries.getByIndex(g)}function hC(h){return!!vn(h)}const KD=new jr("Application Initializer");let mC=(()=>{class h{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,S)=>{this.resolve=_,this.reject=S}),this.appInits=tr(KD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const _=[];for(const w of this.appInits){const b=w();if(bf(b))_.push(b);else if(uv(b)){const A=new Promise((G,V)=>{b.subscribe({complete:G,error:V})});_.push(A)}}const S=()=>{this.done=!0,this.resolve()};Promise.all(_).then(()=>{S()}).catch(w=>{this.reject(w)}),0===_.length&&S(),this.initialized=!0}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=rr({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),zS=(()=>{class h{log(_){console.log(_)}warn(_){console.warn(_)}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=rr({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})();const Kv=new jr("LocaleId",{providedIn:"root",factory:()=>tr(Kv,mt.Optional|mt.SkipSelf)||function zD(){return typeof $localize<"u"&&$localize.locale||Md}()}),YD=new jr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let YS=(()=>{class h{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new s.X(!1)}add(){this.hasPendingTasks.next(!0);const _=this.taskId++;return this.pendingTasks.add(_),_}remove(_){this.pendingTasks.delete(_),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=rr({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class XD{constructor(g,_){this.ngModuleFactory=g,this.componentFactories=_}}let qD=(()=>{class h{compileModuleSync(_){return new nC(_)}compileModuleAsync(_){return Promise.resolve(this.compileModuleSync(_))}compileModuleAndAllComponentsSync(_){const S=this.compileModuleSync(_),b=ka(vn(_).declarations).reduce((A,G)=>{const V=ar(G);return V&&A.push(new tc(V)),A},[]);return new XD(S,b)}compileModuleAndAllComponentsAsync(_){return Promise.resolve(this.compileModuleAndAllComponentsSync(_))}clearCache(){}clearCacheFor(_){}getModuleId(_){}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=rr({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const QD=(()=>Promise.resolve(0))();function CC(h){typeof Zone>"u"?QD.then(()=>{h&&h.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",h)}function ZS(...h){}class go{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:_=!1,shouldCoalesceRunChangeDetection:S=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ys(!1),this.onMicrotaskEmpty=new ys(!1),this.onStable=new ys(!1),this.onError=new ys(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!S&&_,w.shouldCoalesceRunChangeDetection=S,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function e0(){let h=br.requestAnimationFrame,g=br.cancelAnimationFrame;if(typeof Zone<"u"&&h&&g){const _=h[Zone.__symbol__("OriginalDelegate")];_&&(h=_);const S=g[Zone.__symbol__("OriginalDelegate")];S&&(g=S)}return{nativeRequestAnimationFrame:h,nativeCancelAnimationFrame:g}}().nativeRequestAnimationFrame,function n0(h){const g=()=>{!function r0(h){h.isCheckStableRunning||-1!==h.lastRequestAnimationFrameId||(h.lastRequestAnimationFrameId=h.nativeRequestAnimationFrame.call(br,()=>{h.fakeTopEventTask||(h.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{h.lastRequestAnimationFrameId=-1,SC(h),h.isCheckStableRunning=!0,EC(h),h.isCheckStableRunning=!1},void 0,()=>{},()=>{})),h.fakeTopEventTask.invoke()}),SC(h))}(h)};h._inner=h._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(_,S,w,b,A,G)=>{try{return JS(h),_.invokeTask(w,b,A,G)}finally{(h.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||h.shouldCoalesceRunChangeDetection)&&g(),QS(h)}},onInvoke:(_,S,w,b,A,G,V)=>{try{return JS(h),_.invoke(w,b,A,G,V)}finally{h.shouldCoalesceRunChangeDetection&&g(),QS(h)}},onHasTask:(_,S,w,b)=>{_.hasTask(w,b),S===w&&("microTask"==b.change?(h._hasPendingMicrotasks=b.microTask,SC(h),EC(h)):"macroTask"==b.change&&(h.hasPendingMacrotasks=b.macroTask))},onHandleError:(_,S,w,b)=>(_.handleError(w,b),h.runOutsideAngular(()=>h.onError.emit(b)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new he(909,!1)}run(g,_,S){return this._inner.run(g,_,S)}runTask(g,_,S,w){const b=this._inner,A=b.scheduleEventTask("NgZoneEvent: "+w,g,t0,ZS,ZS);try{return b.runTask(A,_,S)}finally{b.cancelTask(A)}}runGuarded(g,_,S){return this._inner.runGuarded(g,_,S)}runOutsideAngular(g){return this._outer.run(g)}}const t0={};function EC(h){if(0==h._nesting&&!h.hasPendingMicrotasks&&!h.isStable)try{h._nesting++,h.onMicrotaskEmpty.emit(null)}finally{if(h._nesting--,!h.hasPendingMicrotasks)try{h.runOutsideAngular(()=>h.onStable.emit(null))}finally{h.isStable=!0}}}function SC(h){h.hasPendingMicrotasks=!!(h._hasPendingMicrotasks||(h.shouldCoalesceEventChangeDetection||h.shouldCoalesceRunChangeDetection)&&-1!==h.lastRequestAnimationFrameId)}function JS(h){h._nesting++,h.isStable&&(h.isStable=!1,h.onUnstable.emit(null))}function QS(h){h._nesting--,EC(h)}const eO=new jr("",{providedIn:"root",factory:tO});function tO(){const h=tr(go);let g=!0;return function D(...h){const g=(0,E.yG)(h),_=(0,E._6)(h,1/0),S=h;return S.length?1===S.length?(0,y.Xf)(S[0]):(0,f.J)(_)((0,O.D)(S,g)):m.E}(new d.y(w=>{g=h.isStable&&!h.hasPendingMacrotasks&&!h.hasPendingMicrotasks,h.runOutsideAngular(()=>{w.next(g),w.complete()})}),new d.y(w=>{let b;h.runOutsideAngular(()=>{b=h.onStable.subscribe(()=>{go.assertNotInAngularZone(),CC(()=>{!g&&!h.hasPendingMacrotasks&&!h.hasPendingMicrotasks&&(g=!0,w.next(!0))})})});const A=h.onUnstable.subscribe(()=>{go.assertInAngularZone(),g&&(g=!1,h.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}}).pipe(L()))}const rO=new jr(""),nO=new jr("");let OC,a0=(()=>{class h{constructor(_,S,w){this._ngZone=_,this.registry=S,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,OC||(function s0(h){OC=h}(w),w.addToWindow(S)),this._watchAngularEvents(),_.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),CC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())CC(()=>{for(;0!==this._callbacks.length;){let _=this._callbacks.pop();clearTimeout(_.timeoutId),_.doneCb(this._didWork)}this._didWork=!1});else{let _=this.getPendingTasks();this._callbacks=this._callbacks.filter(S=>!S.updateCb||!S.updateCb(_)||(clearTimeout(S.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(_=>({source:_.source,creationLocation:_.creationLocation,data:_.data})):[]}addCallback(_,S,w){let b=-1;S&&S>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==b),_(this._didWork,this.getPendingTasks())},S)),this._callbacks.push({doneCb:_,timeoutId:b,updateCb:w})}whenStable(_,S,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(_,S,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(_){this.registry.registerApplication(_,this)}unregisterApplication(_){this.registry.unregisterApplication(_)}findProviders(_,S,w){return[]}}return h.\u0275fac=function(_){return new(_||h)(Yt(go),Yt(iO),Yt(nO))},h.\u0275prov=rr({token:h,factory:h.\u0275fac}),h})(),iO=(()=>{class h{constructor(){this._applications=new Map}registerApplication(_,S){this._applications.set(_,S)}unregisterApplication(_){this._applications.delete(_)}unregisterAllApplications(){this._applications.clear()}getTestability(_){return this._applications.get(_)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(_,S=!0){return OC?.findTestabilityInTree(this,_,S)??null}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=rr({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})(),zl=null;const wC=new jr("PlatformDestroyListeners"),DC=new jr("appBootstrapListener");function p0(h){try{const{rootComponent:g,appProviders:_,platformProviders:S}=h,w=function d0(h=[]){if(zl)return zl;const g=function lO(h=[],g){return cs.create({name:g,providers:[{provide:Us,useValue:"platform"},{provide:wC,useValue:new Set([()=>zl=null])},...h]})}(h);return zl=g,function aO(){!function Jl(h){il=h}(()=>{throw new he(600,!1)})}(),function sO(h){h.get(xu,null)?.forEach(_=>_())}(g),g}(S),b=[_0(),..._||[]],G=new qE({providers:b,parent:w,debugName:"",runEnvironmentInitializers:!1}).injector,V=G.get(go);return V.run(()=>{G.resolveInjectorInitializers();const J=G.get(Al,null);let le;V.runOutsideAngular(()=>{le=V.onError.subscribe({next:Be=>{J.handleError(Be)}})});const Ee=()=>G.destroy(),xe=w.get(wC);return xe.add(Ee),G.onDestroy(()=>{le.unsubscribe(),xe.delete(Ee)}),function dO(h,g,_){try{const S=_();return bf(S)?S.catch(w=>{throw g.runOutsideAngular(()=>h.handleError(w)),w}):S}catch(S){throw g.runOutsideAngular(()=>h.handleError(S)),S}}(J,V,()=>{const Be=G.get(mC);return Be.runInitializers(),Be.donePromise.then(()=>{!function OE(h){Xe(h,"Expected localeId to be defined"),"string"==typeof h&&(SE=h.toLowerCase().replace(/_/g,"-"))}(G.get(Kv,Md)||Md);const ft=G.get(Id);return void 0!==g&&ft.bootstrap(g),ft})})})}catch(g){return Promise.reject(g)}}let Id=(()=>{class h{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tr(hO),this.zoneIsStable=tr(eO),this.componentTypes=[],this.components=[],this.isStable=tr(YS).hasPendingTasks.pipe((0,U.w)(_=>_?(0,P.of)(!1):this.zoneIsStable),function oe(h,g=Y.y){return h=h??re,(0,x.e)((_,S)=>{let w,b=!0;_.subscribe((0,ee.x)(S,A=>{const G=g(A);(b||!h(w,G))&&(b=!1,w=G,S.next(A))}))})}(),L()),this._injector=tr(Ws)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(_,S){const w=_ instanceof hg;if(!this._injector.get(mC).done)throw!w&&Vn(_),new he(405,!1);let A;A=w?_:this._injector.get(ls).resolveComponentFactory(_),this.componentTypes.push(A.componentType);const G=function u0(h){return h.isBoundToModule}(A)?void 0:this._injector.get(Rd),J=A.create(cs.NULL,[],S||A.selector,G),le=J.location.nativeElement,Ee=J.injector.get(rO,null);return Ee?.registerApplication(le),J.onDestroy(()=>{this.detachView(J.hostView),zv(this.components,J),Ee?.unregisterApplication(le)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let _ of this._views)_.detectChanges()}catch(_){this.internalErrorHandler(_)}finally{this._runningTick=!1}}attachView(_){const S=_;this._views.push(S),S.attachToAppRef(this)}detachView(_){const S=_;zv(this._views,S),S.detachFromAppRef()}_loadComponent(_){this.attachView(_.hostView),this.tick(),this.components.push(_);const S=this._injector.get(DC,[]);S.push(...this._bootstrapListeners),S.forEach(w=>w(_))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(_=>_()),this._views.slice().forEach(_=>_.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(_){return this._destroyListeners.push(_),()=>zv(this._destroyListeners,_)}destroy(){if(this._destroyed)throw new he(406,!1);const _=this._injector;_.destroy&&!_.destroyed&&_.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=rr({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function zv(h,g){const _=h.indexOf(g);_>-1&&h.splice(_,1)}const hO=new jr("",{providedIn:"root",factory:()=>tr(Al).handleError.bind(void 0)});function g0(){const h=tr(go),g=tr(Al);return _=>h.runOutsideAngular(()=>g.handleError(_))}let v0=(()=>{class h{constructor(){this.zone=tr(go),this.applicationRef=tr(Id)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=rr({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function gO(h){return[{provide:go,useFactory:h},{provide:Au,multi:!0,useFactory:()=>{const g=tr(v0,{optional:!0});return()=>g.initialize()}},{provide:hO,useFactory:g0},{provide:eO,useFactory:tO}]}function _0(h){return Ap([[],gO(()=>new go(function cO(h){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:h?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:h?.runCoalescing??!1}}(h)))])}function y0(){}let m0=(()=>{class h{}return h.__NG_ELEMENT_ID__=C0,h})();function C0(h){return function E0(h,g,_){if(ti(h)&&!_){const S=en(h.index,g);return new ec(S,S)}return 47&h.type?new ec(g[Tr],g):null}($n(),ut(),16==(16&h))}class mO{constructor(){}supports(g){return gd(g)}create(g){return new b0(g)}}const P0=(h,g)=>g;class b0{constructor(g){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=g||P0}forEachItem(g){let _;for(_=this._itHead;null!==_;_=_._next)g(_)}forEachOperation(g){let _=this._itHead,S=this._removalsHead,w=0,b=null;for(;_||S;){const A=!S||_&&_.currentIndex<EO(S,w,b)?_:S,G=EO(A,w,b),V=A.currentIndex;if(A===S)w--,S=S._nextRemoved;else if(_=_._next,null==A.previousIndex)w++;else{b||(b=[]);const J=G-w,le=V-w;if(J!=le){for(let xe=0;xe<J;xe++){const Be=xe<b.length?b[xe]:b[xe]=0,et=Be+xe;le<=et&&et<J&&(b[xe]=Be+1)}b[A.previousIndex]=le-J}}G!==V&&g(A,G,V)}}forEachPreviousItem(g){let _;for(_=this._previousItHead;null!==_;_=_._nextPrevious)g(_)}forEachAddedItem(g){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)g(_)}forEachMovedItem(g){let _;for(_=this._movesHead;null!==_;_=_._nextMoved)g(_)}forEachRemovedItem(g){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)g(_)}forEachIdentityChange(g){let _;for(_=this._identityChangesHead;null!==_;_=_._nextIdentityChange)g(_)}diff(g){if(null==g&&(g=[]),!gd(g))throw new he(900,!1);return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let w,b,A,_=this._itHead,S=!1;if(Array.isArray(g)){this.length=g.length;for(let G=0;G<this.length;G++)b=g[G],A=this._trackByFn(G,b),null!==_&&Object.is(_.trackById,A)?(S&&(_=this._verifyReinsertion(_,b,A,G)),Object.is(_.item,b)||this._addIdentityChange(_,b)):(_=this._mismatch(_,b,A,G),S=!0),_=_._next}else w=0,function fm(h,g){if(Array.isArray(h))for(let _=0;_<h.length;_++)g(h[_]);else{const _=h[Symbol.iterator]();let S;for(;!(S=_.next()).done;)g(S.value)}}(g,G=>{A=this._trackByFn(w,G),null!==_&&Object.is(_.trackById,A)?(S&&(_=this._verifyReinsertion(_,G,A,w)),Object.is(_.item,G)||this._addIdentityChange(_,G)):(_=this._mismatch(_,G,A,w),S=!0),_=_._next,w++}),this.length=w;return this._truncate(_),this.collection=g,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let g;for(g=this._previousItHead=this._itHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._additionsHead;null!==g;g=g._nextAdded)g.previousIndex=g.currentIndex;for(this._additionsHead=this._additionsTail=null,g=this._movesHead;null!==g;g=g._nextMoved)g.previousIndex=g.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(g,_,S,w){let b;return null===g?b=this._itTail:(b=g._prev,this._remove(g)),null!==(g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(S,null))?(Object.is(g.item,_)||this._addIdentityChange(g,_),this._reinsertAfter(g,b,w)):null!==(g=null===this._linkedRecords?null:this._linkedRecords.get(S,w))?(Object.is(g.item,_)||this._addIdentityChange(g,_),this._moveAfter(g,b,w)):g=this._addAfter(new T0(_,S),b,w),g}_verifyReinsertion(g,_,S,w){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(S,null);return null!==b?g=this._reinsertAfter(b,g._prev,w):g.currentIndex!=w&&(g.currentIndex=w,this._addToMoves(g,w)),g}_truncate(g){for(;null!==g;){const _=g._next;this._addToRemovals(this._unlink(g)),g=_}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(g,_,S){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(g);const w=g._prevRemoved,b=g._nextRemoved;return null===w?this._removalsHead=b:w._nextRemoved=b,null===b?this._removalsTail=w:b._prevRemoved=w,this._insertAfter(g,_,S),this._addToMoves(g,S),g}_moveAfter(g,_,S){return this._unlink(g),this._insertAfter(g,_,S),this._addToMoves(g,S),g}_addAfter(g,_,S){return this._insertAfter(g,_,S),this._additionsTail=null===this._additionsTail?this._additionsHead=g:this._additionsTail._nextAdded=g,g}_insertAfter(g,_,S){const w=null===_?this._itHead:_._next;return g._next=w,g._prev=_,null===w?this._itTail=g:w._prev=g,null===_?this._itHead=g:_._next=g,null===this._linkedRecords&&(this._linkedRecords=new CO),this._linkedRecords.put(g),g.currentIndex=S,g}_remove(g){return this._addToRemovals(this._unlink(g))}_unlink(g){null!==this._linkedRecords&&this._linkedRecords.remove(g);const _=g._prev,S=g._next;return null===_?this._itHead=S:_._next=S,null===S?this._itTail=_:S._prev=_,g}_addToMoves(g,_){return g.previousIndex===_||(this._movesTail=null===this._movesTail?this._movesHead=g:this._movesTail._nextMoved=g),g}_addToRemovals(g){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CO),this._unlinkedRecords.put(g),g.currentIndex=null,g._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=g,g._prevRemoved=null):(g._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=g),g}_addIdentityChange(g,_){return g.item=_,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=g:this._identityChangesTail._nextIdentityChange=g,g}}class T0{constructor(g,_){this.item=g,this.trackById=_,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class M0{constructor(){this._head=null,this._tail=null}add(g){null===this._head?(this._head=this._tail=g,g._nextDup=null,g._prevDup=null):(this._tail._nextDup=g,g._prevDup=this._tail,g._nextDup=null,this._tail=g)}get(g,_){let S;for(S=this._head;null!==S;S=S._nextDup)if((null===_||_<=S.currentIndex)&&Object.is(S.trackById,g))return S;return null}remove(g){const _=g._prevDup,S=g._nextDup;return null===_?this._head=S:_._nextDup=S,null===S?this._tail=_:S._prevDup=_,null===this._head}}class CO{constructor(){this.map=new Map}put(g){const _=g.trackById;let S=this.map.get(_);S||(S=new M0,this.map.set(_,S)),S.add(g)}get(g,_){const w=this.map.get(g);return w?w.get(g,_):null}remove(g){const _=g.trackById;return this.map.get(_).remove(g)&&this.map.delete(_),g}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EO(h,g,_){const S=h.previousIndex;if(null===S)return S;let w=0;return _&&S<_.length&&(w=_[S]),S+g+w}class SO{constructor(){}supports(g){return g instanceof Map||vd(g)}create(){return new R0}}class R0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(g){let _;for(_=this._mapHead;null!==_;_=_._next)g(_)}forEachPreviousItem(g){let _;for(_=this._previousMapHead;null!==_;_=_._nextPrevious)g(_)}forEachChangedItem(g){let _;for(_=this._changesHead;null!==_;_=_._nextChanged)g(_)}forEachAddedItem(g){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)g(_)}forEachRemovedItem(g){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)g(_)}diff(g){if(g){if(!(g instanceof Map||vd(g)))throw new he(900,!1)}else g=new Map;return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let _=this._mapHead;if(this._appendAfter=null,this._forEach(g,(S,w)=>{if(_&&_.key===w)this._maybeAddToChanges(_,S),this._appendAfter=_,_=_._next;else{const b=this._getOrCreateRecordForKey(w,S);_=this._insertBeforeOrAppend(_,b)}}),_){_._prev&&(_._prev._next=null),this._removalsHead=_;for(let S=_;null!==S;S=S._nextRemoved)S===this._mapHead&&(this._mapHead=null),this._records.delete(S.key),S._nextRemoved=S._next,S.previousValue=S.currentValue,S.currentValue=null,S._prev=null,S._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(g,_){if(g){const S=g._prev;return _._next=g,_._prev=S,g._prev=_,S&&(S._next=_),g===this._mapHead&&(this._mapHead=_),this._appendAfter=g,g}return this._appendAfter?(this._appendAfter._next=_,_._prev=this._appendAfter):this._mapHead=_,this._appendAfter=_,null}_getOrCreateRecordForKey(g,_){if(this._records.has(g)){const w=this._records.get(g);this._maybeAddToChanges(w,_);const b=w._prev,A=w._next;return b&&(b._next=A),A&&(A._prev=b),w._next=null,w._prev=null,w}const S=new A0(g);return this._records.set(g,S),S.currentValue=_,this._addToAdditions(S),S}_reset(){if(this.isDirty){let g;for(this._previousMapHead=this._mapHead,g=this._previousMapHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._changesHead;null!==g;g=g._nextChanged)g.previousValue=g.currentValue;for(g=this._additionsHead;null!=g;g=g._nextAdded)g.previousValue=g.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(g,_){Object.is(_,g.currentValue)||(g.previousValue=g.currentValue,g.currentValue=_,this._addToChanges(g))}_addToAdditions(g){null===this._additionsHead?this._additionsHead=this._additionsTail=g:(this._additionsTail._nextAdded=g,this._additionsTail=g)}_addToChanges(g){null===this._changesHead?this._changesHead=this._changesTail=g:(this._changesTail._nextChanged=g,this._changesTail=g)}_forEach(g,_){g instanceof Map?g.forEach(_):Object.keys(g).forEach(S=>_(g[S],S))}}class A0{constructor(g){this.key=g,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OO(){return new AC([new mO])}let AC=(()=>{class h{constructor(_){this.factories=_}static create(_,S){if(null!=S){const w=S.factories.slice();_=_.concat(w)}return new h(_)}static extend(_){return{provide:h,useFactory:S=>h.create(_,S||OO()),deps:[[h,new ip,new np]]}}find(_){const S=this.factories.find(w=>w.supports(_));if(null!=S)return S;throw new he(901,!1)}}return h.\u0275prov=rr({token:h,providedIn:"root",factory:OO}),h})();function wO(){return new xC([new SO])}let xC=(()=>{class h{constructor(_){this.factories=_}static create(_,S){if(S){const w=S.factories.slice();_=_.concat(w)}return new h(_)}static extend(_){return{provide:h,useFactory:S=>h.create(_,S||wO()),deps:[[h,new ip,new np]]}}find(_){const S=this.factories.find(w=>w.supports(_));if(S)return S;throw new he(901,!1)}}return h.\u0275prov=rr({token:h,providedIn:"root",factory:wO}),h})(),L0=(()=>{class h{constructor(_){}}return h.\u0275fac=function(_){return new(_||h)(Yt(Id))},h.\u0275mod=ra({type:h}),h.\u0275inj=_t({}),h})();function W0(h){return"boolean"==typeof h?h:null!=h&&"false"!==h}},95:(l,t,e)=>{e.d(t,{Wl:()=>Y,u5:()=>Ur,JJ:()=>_t,On:()=>ba,UX:()=>Es});var r=e(4946),o=e(6814),s=e(7715),d=e(5592),f=e(7453),y=e(4829),m=e(4564),E=e(8251),O=e(7400),D=e(2714),R=e(7398);let x=(()=>{class Z{constructor(j,de){this._renderer=j,this._elementRef=de,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(j,de){this._renderer.setProperty(this._elementRef.nativeElement,j,de)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return Z.\u0275fac=function(j){return new(j||Z)(r.Y36(r.Qsj),r.Y36(r.SBq))},Z.\u0275dir=r.lG2({type:Z}),Z})(),L=(()=>{class Z extends x{}return Z.\u0275fac=function(){let X;return function(de){return(X||(X=r.n5z(Z)))(de||Z)}}(),Z.\u0275dir=r.lG2({type:Z,features:[r.qOj]}),Z})();const B=new r.OlP("NgValueAccessor"),U={provide:B,useExisting:(0,r.Gpc)(()=>Y),multi:!0};let Y=(()=>{class Z extends L{writeValue(j){this.setProperty("checked",j)}}return Z.\u0275fac=function(){let X;return function(de){return(X||(X=r.n5z(Z)))(de||Z)}}(),Z.\u0275dir=r.lG2({type:Z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(j,de){1&j&&r.NdJ("change",function(Ft){return de.onChange(Ft.target.checked)})("blur",function(){return de.onTouched()})},features:[r._Bn([U]),r.qOj]}),Z})();const ee={provide:B,useExisting:(0,r.Gpc)(()=>ie),multi:!0},re=new r.OlP("CompositionEventMode");let ie=(()=>{class Z extends x{constructor(j,de,je){super(j,de),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const Z=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(j){this.setProperty("value",j??"")}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return Z.\u0275fac=function(j){return new(j||Z)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(re,8))},Z.\u0275dir=r.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,de){1&j&&r.NdJ("input",function(Ft){return de._handleInput(Ft.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Ft){return de._compositionEnd(Ft.target.value)})},features:[r._Bn([ee]),r.qOj]}),Z})();const ue=new r.OlP("NgValidators"),ge=new r.OlP("NgAsyncValidators");function Ie(Z){return null!=Z}function Ye(Z){return(0,r.QGY)(Z)?(0,s.D)(Z):Z}function dt(Z){let X={};return Z.forEach(j=>{X=null!=j?{...X,...j}:X}),0===Object.keys(X).length?null:X}function ht(Z,X){return X.map(j=>j(Z))}function Pt(Z){return Z.map(X=>function pt(Z){return!Z.validate}(X)?X:j=>X.validate(j))}function vt(Z){return null!=Z?function Qe(Z){if(!Z)return null;const X=Z.filter(Ie);return 0==X.length?null:function(j){return dt(ht(j,X))}}(Pt(Z)):null}function xt(Z){return null!=Z?function Nt(Z){if(!Z)return null;const X=Z.filter(Ie);return 0==X.length?null:function(j){return function P(...Z){const X=(0,m.jO)(Z),{args:j,keys:de}=(0,f.D)(Z),je=new d.y(Ft=>{const{length:Rr}=j;if(!Rr)return void Ft.complete();const On=new Array(Rr);let yi=Rr,ui=Rr;for(let aa=0;aa<Rr;aa++){let Mi=!1;(0,y.Xf)(j[aa]).subscribe((0,E.x)(Ft,Ho=>{Mi||(Mi=!0,ui--),On[aa]=Ho},()=>yi--,void 0,()=>{(!yi||!Mi)&&(ui||Ft.next(de?(0,D.n)(de,On):On),Ft.complete())}))}});return X?je.pipe((0,O.Z)(X)):je}(ht(j,X).map(Ye)).pipe((0,R.U)(dt))}}(Pt(Z)):null}function bt(Z,X){return null===Z?[X]:Array.isArray(Z)?[...Z,X]:[Z,X]}function _r(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function ir(Z,X){return Array.isArray(Z)?Z.includes(X):Z===X}function Xr(Z,X){const j=_r(X);return _r(Z).forEach(je=>{ir(j,je)||j.push(je)}),j}function Xe(Z,X){return _r(X).filter(j=>!ir(Z,j))}class ct{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=vt(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,j){return!!this.control&&this.control.hasError(X,j)}getError(X,j){return this.control?this.control.getError(X,j):null}}class lt extends ct{get formDirective(){return null}get path(){return null}}class ae extends ct{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tt{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _t=(()=>{class Z extends Tt{constructor(j){super(j)}}return Z.\u0275fac=function(j){return new(j||Z)(r.Y36(ae,2))},Z.\u0275dir=r.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,de){2&j&&r.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[r.qOj]}),Z})();const nn="VALID",qn="INVALID",oi="PENDING",Zn="DISABLED";function ke(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class kt{constructor(X,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(j)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===nn}get invalid(){return this.status===qn}get pending(){return this.status==oi}get disabled(){return this.status===Zn}get enabled(){return this.status!==Zn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(Xr(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(Xr(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(Xe(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(Xe(X,this._rawAsyncValidators))}hasValidator(X){return ir(this._rawValidators,X)}hasAsyncValidator(X){return ir(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=oi,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const j=this._parentMarkedDirty(X.onlySelf);this.status=Zn,this.errors=null,this._forEachChild(de=>{de.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:j}),this._onDisabledChange.forEach(de=>de(!0))}enable(X={}){const j=this._parentMarkedDirty(X.onlySelf);this.status=nn,this._forEachChild(de=>{de.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:j}),this._onDisabledChange.forEach(de=>de(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nn||this.status===oi)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zn:nn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator=!0;const j=Ye(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(de=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(de,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,j={}){this.errors=X,this._updateControlsErrors(!1!==j.emitEvent)}get(X){let j=X;return null==j||(Array.isArray(j)||(j=j.split(".")),0===j.length)?null:j.reduce((de,je)=>de&&de._find(je),this)}getError(X,j){const de=j?this.get(j):this;return de&&de.errors?de.errors[X]:null}hasError(X,j){return!!this.getError(X,j)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Zn:this.errors?qn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(qn)?qn:nn}_anyControlsHaveStatus(X){return this._anyControls(j=>j.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){ke(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function Ke(Z){return Array.isArray(Z)?vt(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function we(Z){return Array.isArray(Z)?xt(Z):Z||null}(this._rawAsyncValidators)}}const fn=new r.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Jn}),Jn="always";function gi(Z,X,j=Jn){(function Dn(Z,X){const j=function er(Z){return Z._rawValidators}(Z);null!==X.validator?Z.setValidators(bt(j,X.validator)):"function"==typeof j&&Z.setValidators([j]);const de=function Ht(Z){return Z._rawAsyncValidators}(Z);null!==X.asyncValidator?Z.setAsyncValidators(bt(de,X.asyncValidator)):"function"==typeof de&&Z.setAsyncValidators([de]);const je=()=>Z.updateValueAndValidity();hn(X._rawValidators,je),hn(X._rawAsyncValidators,je)})(Z,X),X.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===j)&&X.valueAccessor.setDisabledState?.(Z.disabled),function Qn(Z,X){X.valueAccessor.registerOnChange(j=>{Z._pendingValue=j,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&nt(Z,X)})}(Z,X),function Go(Z,X){const j=(de,je)=>{X.valueAccessor.writeValue(de),je&&X.viewToModelUpdate(de)};Z.registerOnChange(j),X._registerOnDestroy(()=>{Z._unregisterOnChange(j)})}(Z,X),function ai(Z,X){X.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&nt(Z,X),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,X),function Gn(Z,X){if(X.valueAccessor.setDisabledState){const j=de=>{X.valueAccessor.setDisabledState(de)};Z.registerOnDisabledChange(j),X._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(j)})}}(Z,X)}function hn(Z,X){Z.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(X)})}function nt(Z,X){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function vi(Z,X){const j=Z.indexOf(X);j>-1&&Z.splice(j,1)}function si(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const cr=class extends kt{constructor(X=null,j,de){super(function Kr(Z){return(ke(Z)?Z.validators:Z)||null}(j),function Fe(Z,X){return(ke(X)?X.asyncValidators:Z)||null}(de,j)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ke(j)&&(j.nonNullable||j.initialValueIsDefault)&&(this.defaultValue=si(X)?X.value:X)}setValue(X,j={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(de=>de(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(X,j={}){this.setValue(X,j)}reset(X=this.defaultValue,j={}){this._applyFormState(X),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){vi(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){vi(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){si(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}},Qi={provide:ae,useExisting:(0,r.Gpc)(()=>ba)},ra=(()=>Promise.resolve())();let ba=(()=>{class Z extends ae{constructor(j,de,je,Ft,Rr,On){super(),this._changeDetectorRef=Rr,this.callSetDisabledState=On,this.control=new cr,this._registered=!1,this.name="",this.update=new r.vpe,this._parent=j,this._setValidators(de),this._setAsyncValidators(je),this.valueAccessor=function Gr(Z,X){if(!X)return null;let j,de,je;return Array.isArray(X),X.forEach(Ft=>{Ft.constructor===ie?j=Ft:function Ot(Z){return Object.getPrototypeOf(Z.constructor)===L}(Ft)?de=Ft:je=Ft}),je||de||j||null}(0,Ft)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const de=j.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),function ot(Z,X){if(!Z.hasOwnProperty("model"))return!1;const j=Z.model;return!!j.isFirstChange()||!Object.is(X,j.currentValue)}(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){ra.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(j){const de=j.isDisabled.currentValue,je=0!==de&&(0,r.VuI)(de);ra.then(()=>{je&&!this.control.disabled?this.control.disable():!je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(j){return this._parent?function An(Z,X){return[...X.path,Z]}(j,this._parent):[j]}}return Z.\u0275fac=function(j){return new(j||Z)(r.Y36(lt,9),r.Y36(ue,10),r.Y36(ge,10),r.Y36(B,10),r.Y36(r.sBO,8),r.Y36(fn,8))},Z.\u0275dir=r.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([Qi]),r.qOj,r.TTD]}),Z})(),kn=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=r.oAB({type:Z}),Z.\u0275inj=r.cJS({}),Z})();const ji=new r.OlP("NgModelWithFormControlWarning");let ia=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=r.oAB({type:Z}),Z.\u0275inj=r.cJS({imports:[kn]}),Z})(),Ur=(()=>{class Z{static withConfig(j){return{ngModule:Z,providers:[{provide:fn,useValue:j.callSetDisabledState??Jn}]}}}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=r.oAB({type:Z}),Z.\u0275inj=r.cJS({imports:[ia]}),Z})(),Es=(()=>{class Z{static withConfig(j){return{ngModule:Z,providers:[{provide:ji,useValue:j.warnOnNgModelWithFormControl??"always"},{provide:fn,useValue:j.callSetDisabledState??Jn}]}}}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=r.oAB({type:Z}),Z.\u0275inj=r.cJS({imports:[ia]}),Z})()},6593:(l,t,e)=>{e.d(t,{Cg:()=>dt,Dx:()=>ae,b2:()=>ir});var r=e(4946),o=e(6814);class s extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class d extends s{static makeCurrent(){(0,o.HT)(new d)}onAndCancel(Fe,we,ke){return Fe.addEventListener(we,ke),()=>{Fe.removeEventListener(we,ke)}}dispatchEvent(Fe,we){Fe.dispatchEvent(we)}remove(Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)}createElement(Fe,we){return(we=we||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,we){return"window"===we?window:"document"===we?Fe:"body"===we?Fe.body:null}getBaseHref(Fe){const we=function y(){return f=f||document.querySelector("base"),f?f.getAttribute("href"):null}();return null==we?null:function E(Ke){m=m||document.createElement("a"),m.setAttribute("href",Ke);const Fe=m.pathname;return"/"===Fe.charAt(0)?Fe:`/${Fe}`}(we)}resetBaseElement(){f=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,o.Mx)(document.cookie,Fe)}}let m,f=null,D=(()=>{class Ke{build(){return new XMLHttpRequest}}return Ke.\u0275fac=function(we){return new(we||Ke)},Ke.\u0275prov=r.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const P=new r.OlP("EventManagerPlugins");let R=(()=>{class Ke{constructor(we,ke){this._zone=ke,this._eventNameToPlugin=new Map,we.forEach(qe=>{qe.manager=this}),this._plugins=we.slice().reverse()}addEventListener(we,ke,qe){return this._findPluginFor(ke).addEventListener(we,ke,qe)}getZone(){return this._zone}_findPluginFor(we){let ke=this._eventNameToPlugin.get(we);if(ke)return ke;if(ke=this._plugins.find(yt=>yt.supports(we)),!ke)throw new r.vHH(5101,!1);return this._eventNameToPlugin.set(we,ke),ke}}return Ke.\u0275fac=function(we){return new(we||Ke)(r.LFG(P),r.LFG(r.R0b))},Ke.\u0275prov=r.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class x{constructor(Fe){this._doc=Fe}}const L="ng-app-id";let B=(()=>{class Ke{constructor(we,ke,qe,yt={}){this.doc=we,this.appId=ke,this.nonce=qe,this.platformId=yt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,o.PM)(yt),this.resetHostNodes()}addStyles(we){for(const ke of we)1===this.changeUsageCount(ke,1)&&this.onStyleAdded(ke)}removeStyles(we){for(const ke of we)this.changeUsageCount(ke,-1)<=0&&this.onStyleRemoved(ke)}ngOnDestroy(){const we=this.styleNodesInDOM;we&&(we.forEach(ke=>ke.remove()),we.clear());for(const ke of this.getAllStyles())this.onStyleRemoved(ke);this.resetHostNodes()}addHost(we){this.hostNodes.add(we);for(const ke of this.getAllStyles())this.addStyleToHost(we,ke)}removeHost(we){this.hostNodes.delete(we)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(we){for(const ke of this.hostNodes)this.addStyleToHost(ke,we)}onStyleRemoved(we){const ke=this.styleRef;ke.get(we)?.elements?.forEach(qe=>qe.remove()),ke.delete(we)}collectServerRenderedStyles(){const we=this.doc.head?.querySelectorAll(`style[${L}="${this.appId}"]`);if(we?.length){const ke=new Map;return we.forEach(qe=>{null!=qe.textContent&&ke.set(qe.textContent,qe)}),ke}return null}changeUsageCount(we,ke){const qe=this.styleRef;if(qe.has(we)){const yt=qe.get(we);return yt.usage+=ke,yt.usage}return qe.set(we,{usage:ke,elements:[]}),ke}getStyleElement(we,ke){const qe=this.styleNodesInDOM,yt=qe?.get(ke);if(yt?.parentNode===we)return qe.delete(ke),yt.removeAttribute(L),yt;{const kt=this.doc.createElement("style");return this.nonce&&kt.setAttribute("nonce",this.nonce),kt.textContent=ke,this.platformIsServer&&kt.setAttribute(L,this.appId),kt}}addStyleToHost(we,ke){const qe=this.getStyleElement(we,ke);we.appendChild(qe);const yt=this.styleRef,kt=yt.get(ke)?.elements;kt?kt.push(qe):yt.set(ke,{elements:[qe],usage:1})}resetHostNodes(){const we=this.hostNodes;we.clear(),we.add(this.doc.head)}}return Ke.\u0275fac=function(we){return new(we||Ke)(r.LFG(o.K0),r.LFG(r.AFp),r.LFG(r.Ojb,8),r.LFG(r.Lbi))},Ke.\u0275prov=r.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const U={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Y=/%COMP%/g,q=new r.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ge(Ke,Fe){return Fe.map(we=>we.replace(Y,Ke))}let ve=(()=>{class Ke{constructor(we,ke,qe,yt,kt,Yt,Ar,tr=null){this.eventManager=we,this.sharedStylesHost=ke,this.appId=qe,this.removeStylesOnCompDestory=yt,this.doc=kt,this.platformId=Yt,this.ngZone=Ar,this.nonce=tr,this.rendererByCompId=new Map,this.platformIsServer=(0,o.PM)(Yt),this.defaultRenderer=new Ce(we,kt,Ar,this.platformIsServer)}createRenderer(we,ke){if(!we||!ke)return this.defaultRenderer;this.platformIsServer&&ke.encapsulation===r.ifc.ShadowDom&&(ke={...ke,encapsulation:r.ifc.Emulated});const qe=this.getOrCreateRenderer(we,ke);return qe instanceof De?qe.applyToHost(we):qe instanceof he&&qe.applyStyles(),qe}getOrCreateRenderer(we,ke){const qe=this.rendererByCompId;let yt=qe.get(ke.id);if(!yt){const kt=this.doc,Yt=this.ngZone,Ar=this.eventManager,tr=this.sharedStylesHost,pn=this.removeStylesOnCompDestory,hi=this.platformIsServer;switch(ke.encapsulation){case r.ifc.Emulated:yt=new De(Ar,tr,ke,this.appId,pn,kt,Yt,hi);break;case r.ifc.ShadowDom:return new Ne(Ar,tr,we,ke,kt,Yt,this.nonce,hi);default:yt=new he(Ar,tr,ke,pn,kt,Yt,hi)}yt.onDestroy=()=>qe.delete(ke.id),qe.set(ke.id,yt)}return yt}ngOnDestroy(){this.rendererByCompId.clear()}}return Ke.\u0275fac=function(we){return new(we||Ke)(r.LFG(R),r.LFG(B),r.LFG(r.AFp),r.LFG(q),r.LFG(o.K0),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(r.Ojb))},Ke.\u0275prov=r.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class Ce{constructor(Fe,we,ke,qe){this.eventManager=Fe,this.doc=we,this.ngZone=ke,this.platformIsServer=qe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Fe,we){return we?this.doc.createElementNS(U[we]||we,Fe):this.doc.createElement(Fe)}createComment(Fe){return this.doc.createComment(Fe)}createText(Fe){return this.doc.createTextNode(Fe)}appendChild(Fe,we){(Re(Fe)?Fe.content:Fe).appendChild(we)}insertBefore(Fe,we,ke){Fe&&(Re(Fe)?Fe.content:Fe).insertBefore(we,ke)}removeChild(Fe,we){Fe&&Fe.removeChild(we)}selectRootElement(Fe,we){let ke="string"==typeof Fe?this.doc.querySelector(Fe):Fe;if(!ke)throw new r.vHH(5104,!1);return we||(ke.textContent=""),ke}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,we,ke,qe){if(qe){we=qe+":"+we;const yt=U[qe];yt?Fe.setAttributeNS(yt,we,ke):Fe.setAttribute(we,ke)}else Fe.setAttribute(we,ke)}removeAttribute(Fe,we,ke){if(ke){const qe=U[ke];qe?Fe.removeAttributeNS(qe,we):Fe.removeAttribute(`${ke}:${we}`)}else Fe.removeAttribute(we)}addClass(Fe,we){Fe.classList.add(we)}removeClass(Fe,we){Fe.classList.remove(we)}setStyle(Fe,we,ke,qe){qe&(r.JOm.DashCase|r.JOm.Important)?Fe.style.setProperty(we,ke,qe&r.JOm.Important?"important":""):Fe.style[we]=ke}removeStyle(Fe,we,ke){ke&r.JOm.DashCase?Fe.style.removeProperty(we):Fe.style[we]=""}setProperty(Fe,we,ke){Fe[we]=ke}setValue(Fe,we){Fe.nodeValue=we}listen(Fe,we,ke){if("string"==typeof Fe&&!(Fe=(0,o.q)().getGlobalEventTarget(this.doc,Fe)))throw new Error(`Unsupported event target ${Fe} for event ${we}`);return this.eventManager.addEventListener(Fe,we,this.decoratePreventDefault(ke))}decoratePreventDefault(Fe){return we=>{if("__ngUnwrap__"===we)return Fe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Fe(we)):Fe(we))&&we.preventDefault()}}}function Re(Ke){return"TEMPLATE"===Ke.tagName&&void 0!==Ke.content}class Ne extends Ce{constructor(Fe,we,ke,qe,yt,kt,Yt,Ar){super(Fe,yt,kt,Ar),this.sharedStylesHost=we,this.hostEl=ke,this.shadowRoot=ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tr=ge(qe.id,qe.styles);for(const pn of tr){const hi=document.createElement("style");Yt&&hi.setAttribute("nonce",Yt),hi.textContent=pn,this.shadowRoot.appendChild(hi)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}appendChild(Fe,we){return super.appendChild(this.nodeOrShadowRoot(Fe),we)}insertBefore(Fe,we,ke){return super.insertBefore(this.nodeOrShadowRoot(Fe),we,ke)}removeChild(Fe,we){return super.removeChild(this.nodeOrShadowRoot(Fe),we)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class he extends Ce{constructor(Fe,we,ke,qe,yt,kt,Yt,Ar){super(Fe,yt,kt,Yt),this.sharedStylesHost=we,this.removeStylesOnCompDestory=qe,this.rendererUsageCount=0,this.styles=Ar?ge(Ar,ke.styles):ke.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class De extends he{constructor(Fe,we,ke,qe,yt,kt,Yt,Ar){const tr=qe+"-"+ke.id;super(Fe,we,ke,yt,kt,Yt,Ar,tr),this.contentAttr=function se(Ke){return"_ngcontent-%COMP%".replace(Y,Ke)}(tr),this.hostAttr=function ue(Ke){return"_nghost-%COMP%".replace(Y,Ke)}(tr)}applyToHost(Fe){this.applyStyles(),this.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,we){const ke=super.createElement(Fe,we);return super.setAttribute(ke,this.contentAttr,""),ke}}let _e=(()=>{class Ke extends x{constructor(we){super(we)}supports(we){return!0}addEventListener(we,ke,qe){return we.addEventListener(ke,qe,!1),()=>this.removeEventListener(we,ke,qe)}removeEventListener(we,ke,qe){return we.removeEventListener(ke,qe)}}return Ke.\u0275fac=function(we){return new(we||Ke)(r.LFG(o.K0))},Ke.\u0275prov=r.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const Oe=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:Ke=>Ke.altKey,control:Ke=>Ke.ctrlKey,meta:Ke=>Ke.metaKey,shift:Ke=>Ke.shiftKey};let Ye=(()=>{class Ke extends x{constructor(we){super(we)}supports(we){return null!=Ke.parseEventName(we)}addEventListener(we,ke,qe){const yt=Ke.parseEventName(ke),kt=Ke.eventCallback(yt.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(we,yt.domEventName,kt))}static parseEventName(we){const ke=we.toLowerCase().split("."),qe=ke.shift();if(0===ke.length||"keydown"!==qe&&"keyup"!==qe)return null;const yt=Ke._normalizeKey(ke.pop());let kt="",Yt=ke.indexOf("code");if(Yt>-1&&(ke.splice(Yt,1),kt="code."),Oe.forEach(tr=>{const pn=ke.indexOf(tr);pn>-1&&(ke.splice(pn,1),kt+=tr+".")}),kt+=yt,0!=ke.length||0===yt.length)return null;const Ar={};return Ar.domEventName=qe,Ar.fullKey=kt,Ar}static matchEventFullKeyCode(we,ke){let qe=Le[we.key]||we.key,yt="";return ke.indexOf("code.")>-1&&(qe=we.code,yt="code."),!(null==qe||!qe)&&(qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),Oe.forEach(kt=>{kt!==qe&&(0,Ie[kt])(we)&&(yt+=kt+".")}),yt+=qe,yt===ke)}static eventCallback(we,ke,qe){return yt=>{Ke.matchEventFullKeyCode(yt,we)&&qe.runGuarded(()=>ke(yt))}}static _normalizeKey(we){return"esc"===we?"escape":we}}return Ke.\u0275fac=function(we){return new(we||Ke)(r.LFG(o.K0))},Ke.\u0275prov=r.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();function dt(Ke,Fe){return(0,r.iPO)({rootComponent:Ke,...pt(Fe)})}function pt(Ke){return{appProviders:[..._r,...Ke?.providers??[]],platformProviders:xt}}const xt=[{provide:r.Lbi,useValue:o.bD},{provide:r.g9A,useValue:function Qe(){d.makeCurrent()},multi:!0},{provide:o.K0,useFactory:function Nt(){return(0,r.RDi)(document),document},deps:[]}],er=new r.OlP(""),Ht=[{provide:r.rWj,useClass:class O{addToWindow(Fe){r.dqk.getAngularTestability=(ke,qe=!0)=>{const yt=Fe.findTestabilityInTree(ke,qe);if(null==yt)throw new r.vHH(5103,!1);return yt},r.dqk.getAllAngularTestabilities=()=>Fe.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>Fe.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(ke=>{const qe=r.dqk.getAllAngularTestabilities();let yt=qe.length,kt=!1;const Yt=function(Ar){kt=kt||Ar,yt--,0==yt&&ke(kt)};qe.forEach(function(Ar){Ar.whenStable(Yt)})})}findTestabilityInTree(Fe,we,ke){return null==we?null:Fe.getTestability(we)??(ke?(0,o.q)().isShadowRoot(we)?this.findTestabilityInTree(Fe,we.host,!0):this.findTestabilityInTree(Fe,we.parentElement,!0):null)}},deps:[]},{provide:r.lri,useClass:r.dDg,deps:[r.R0b,r.eoX,r.rWj]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b,r.eoX,r.rWj]}],_r=[{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function vt(){return new r.qLn},deps:[]},{provide:P,useClass:_e,multi:!0,deps:[o.K0,r.R0b,r.Lbi]},{provide:P,useClass:Ye,multi:!0,deps:[o.K0]},ve,B,R,{provide:r.FYo,useExisting:ve},{provide:o.JF,useClass:D,deps:[]},[]];let ir=(()=>{class Ke{constructor(we){}static withServerTransition(we){return{ngModule:Ke,providers:[{provide:r.AFp,useValue:we.appId}]}}}return Ke.\u0275fac=function(we){return new(we||Ke)(r.LFG(er,12))},Ke.\u0275mod=r.oAB({type:Ke}),Ke.\u0275inj=r.cJS({providers:[..._r,...Ht],imports:[o.ez,r.hGG]}),Ke})(),ae=(()=>{class Ke{constructor(we){this._doc=we}getTitle(){return this._doc.title}setTitle(we){this._doc.title=we||""}}return Ke.\u0275fac=function(we){return new(we||Ke)(r.LFG(o.K0))},Ke.\u0275prov=r.Yz7({token:Ke,factory:function(we){let ke=null;return ke=we?new we:function lt(){return new ae((0,r.LFG)(o.K0))}(),ke},providedIn:"root"}),Ke})();typeof window<"u"&&window},8234:(l,t,e)=>{e.d(t,{gz:()=>gr,F0:()=>mi,lC:()=>zi,bU:()=>Ir});var r=e(4946),o=e(5592),s=e(4674),f=e(7715),y=e(2096),m=e(5619);const O=(0,e(2306).d)(N=>function(){N(this),this.name="EmptyError",this.message="no elements in sequence"});var D=e(7453),P=e(2737),R=e(7400),x=e(4564),L=e(2714),B=e(8251),U=e(7103);function Y(...N){const k=(0,x.yG)(N),I=(0,x.jO)(N),{args:W,keys:Q}=(0,D.D)(N);if(0===W.length)return(0,f.D)([],k);const fe=new o.y(function ee(N,k,I=P.y){return W=>{oe(k,()=>{const{length:Q}=N,fe=new Array(Q);let ye=Q,Ge=Q;for(let at=0;at<Q;at++)oe(k,()=>{const Lt=(0,f.D)(N[at],k);let Rt=!1;Lt.subscribe((0,B.x)(W,dr=>{fe[at]=dr,Rt||(Rt=!0,Ge--),Ge||W.next(I(fe.slice()))},()=>{--ye||W.complete()}))},W)},W)}}(W,k,Q?ye=>(0,L.n)(Q,ye):P.y));return I?fe.pipe((0,R.Z)(I)):fe}function oe(N,k,I){N?(0,U.f)(I,N,k):k()}var re=e(7537);function q(...N){return function ie(){return(0,re.J)(1)}()((0,f.D)(N,(0,x.yG)(N)))}var se=e(4829);function ue(N){return new o.y(k=>{(0,se.Xf)(N()).subscribe(k)})}var ge=e(8407);function ve(N,k){const I=(0,s.m)(N)?N:()=>N,W=Q=>Q.error(I());return new o.y(k?Q=>k.schedule(W,0,Q):W)}var Ce=e(6232),Pe=e(7394),Me=e(9360);function Re(){return(0,Me.e)((N,k)=>{let I=null;N._refCount++;const W=(0,B.x)(k,void 0,void 0,void 0,()=>{if(!N||N._refCount<=0||0<--N._refCount)return void(I=null);const Q=N._connection,fe=I;I=null,Q&&(!fe||Q===fe)&&Q.unsubscribe(),k.unsubscribe()});N.subscribe(W),W.closed||(I=N.connect())})}class Ne extends o.y{constructor(k,I){super(),this.source=k,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Me.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new Pe.w0;const I=this.getSubject();k.add(this.source.subscribe((0,B.x)(I,void 0,()=>{this._teardown(),I.complete()},W=>{this._teardown(),I.error(W)},()=>this._teardown()))),k.closed&&(this._connection=null,k=Pe.w0.EMPTY)}return k}refCount(){return Re()(this)}}var he=e(8645),De=e(6814),_e=e(7398),Oe=e(4664);function Le(N){return N<=0?()=>Ce.E:(0,Me.e)((k,I)=>{let W=0;k.subscribe((0,B.x)(I,Q=>{++W<=N&&(I.next(Q),N<=W&&I.complete())}))})}var Ye=e(2181),dt=e(1631);function ht(N){return(0,Me.e)((k,I)=>{let W=!1;k.subscribe((0,B.x)(I,Q=>{W=!0,I.next(Q)},()=>{W||I.next(N),I.complete()}))})}function pt(N=Pt){return(0,Me.e)((k,I)=>{let W=!1;k.subscribe((0,B.x)(I,Q=>{W=!0,I.next(Q)},()=>W?I.complete():I.error(N())))})}function Pt(){return new O}function Qe(N,k){const I=arguments.length>=2;return W=>W.pipe(N?(0,Ye.h)((Q,fe)=>N(Q,fe,W)):P.y,Le(1),I?ht(k):pt(()=>new O))}var vt=e(6328),Nt=e(9397);function xt(N){return(0,Me.e)((k,I)=>{let fe,W=null,Q=!1;W=k.subscribe((0,B.x)(I,void 0,void 0,ye=>{fe=(0,se.Xf)(N(ye,xt(N)(k))),W?(W.unsubscribe(),W=null,fe.subscribe(I)):Q=!0})),Q&&(W.unsubscribe(),W=null,fe.subscribe(I))})}function Ht(N){return N<=0?()=>Ce.E:(0,Me.e)((k,I)=>{let W=[];k.subscribe((0,B.x)(I,Q=>{W.push(Q),N<W.length&&W.shift()},()=>{for(const Q of W)I.next(Q);I.complete()},void 0,()=>{W=null}))})}var Xr=e(4716),Xe=e(6593);const ct="primary",lt=Symbol("RouteTitle");class ae{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const I=this.params[k];return Array.isArray(I)?I[0]:I}return null}getAll(k){if(this.has(k)){const I=this.params[k];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Tt(N){return new ae(N)}function rr(N,k,I){const W=I.path.split("/");if(W.length>N.length||"full"===I.pathMatch&&(k.hasChildren()||W.length<N.length))return null;const Q={};for(let fe=0;fe<W.length;fe++){const ye=W[fe],Ge=N[fe];if(ye.startsWith(":"))Q[ye.substring(1)]=Ge;else if(ye!==Ge.path)return null}return{consumed:N.slice(0,W.length),posParams:Q}}function _t(N,k){const I=N?Object.keys(N):void 0,W=k?Object.keys(k):void 0;if(!I||!W||I.length!=W.length)return!1;let Q;for(let fe=0;fe<I.length;fe++)if(Q=I[fe],!Mt(N[Q],k[Q]))return!1;return!0}function Mt(N,k){if(Array.isArray(N)&&Array.isArray(k)){if(N.length!==k.length)return!1;const I=[...N].sort(),W=[...k].sort();return I.every((Q,fe)=>W[fe]===Q)}return N===k}function sn(N){return N.length>0?N[N.length-1]:null}function Or(N){return function d(N){return!!N&&(N instanceof o.y||(0,s.m)(N.lift)&&(0,s.m)(N.subscribe))}(N)?N:(0,r.QGY)(N)?(0,f.D)(Promise.resolve(N)):(0,y.of)(N)}const rt={exact:function Wr(N,k,I){if(!Oi(N.segments,k.segments)||!Cr(N.segments,k.segments,I)||N.numberOfChildren!==k.numberOfChildren)return!1;for(const W in k.children)if(!N.children[W]||!Wr(N.children[W],k.children[W],I))return!1;return!0},subset:mt},tn={exact:function fi(N,k){return _t(N,k)},subset:function Pa(N,k){return Object.keys(k).length<=Object.keys(N).length&&Object.keys(k).every(I=>Mt(N[I],k[I]))},ignored:()=>!0};function Et(N,k,I){return rt[I.paths](N.root,k.root,I.matrixParams)&&tn[I.queryParams](N.queryParams,k.queryParams)&&!("exact"===I.fragment&&N.fragment!==k.fragment)}function mt(N,k,I){return $i(N,k,k.segments,I)}function $i(N,k,I,W){if(N.segments.length>I.length){const Q=N.segments.slice(0,I.length);return!(!Oi(Q,I)||k.hasChildren()||!Cr(Q,I,W))}if(N.segments.length===I.length){if(!Oi(N.segments,I)||!Cr(N.segments,I,W))return!1;for(const Q in k.children)if(!N.children[Q]||!mt(N.children[Q],k.children[Q],W))return!1;return!0}{const Q=I.slice(0,N.segments.length),fe=I.slice(N.segments.length);return!!(Oi(N.segments,Q)&&Cr(N.segments,Q,W)&&N.children[ct])&&$i(N.children[ct],k,fe,W)}}function Cr(N,k,I){return k.every((W,Q)=>tn[I](N[Q].parameters,W.parameters))}class rn{constructor(k=new Bt([],{}),I={},W=null){this.root=k,this.queryParams=I,this.fragment=W}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return oi.serialize(this)}}class Bt{constructor(k,I){this.segments=k,this.children=I,this.parent=null,Object.values(I).forEach(W=>W.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zn(this)}}class Pr{constructor(k,I){this.path=k,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return kt(this)}}function Oi(N,k){return N.length===k.length&&N.every((I,W)=>I.path===k[W].path)}let nn=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:function(){return new qn},providedIn:"root"}),N})();class qn{parse(k){const I=new hn(k);return new rn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(k){const I=`/${Kr(k.root,!0)}`,W=function Ar(N){const k=Object.keys(N).map(I=>{const W=N[I];return Array.isArray(W)?W.map(Q=>`${Fe(I)}=${Fe(Q)}`).join("&"):`${Fe(I)}=${Fe(W)}`}).filter(I=>!!I);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${I}${W}${"string"==typeof k.fragment?`#${function we(N){return encodeURI(N)}(k.fragment)}`:""}`}}const oi=new qn;function Zn(N){return N.segments.map(k=>kt(k)).join("/")}function Kr(N,k){if(!N.hasChildren())return Zn(N);if(k){const I=N.children[ct]?Kr(N.children[ct],!1):"",W=[];return Object.entries(N.children).forEach(([Q,fe])=>{Q!==ct&&W.push(`${Q}:${Kr(fe,!1)}`)}),W.length>0?`${I}(${W.join("//")})`:I}{const I=function wr(N,k){let I=[];return Object.entries(N.children).forEach(([W,Q])=>{W===ct&&(I=I.concat(k(Q,W)))}),Object.entries(N.children).forEach(([W,Q])=>{W!==ct&&(I=I.concat(k(Q,W)))}),I}(N,(W,Q)=>Q===ct?[Kr(N.children[ct],!1)]:[`${Q}:${Kr(W,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[ct]?`${Zn(N)}/${I[0]}`:`${Zn(N)}/(${I.join("//")})`}}function Ke(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fe(N){return Ke(N).replace(/%3B/gi,";")}function ke(N){return Ke(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qe(N){return decodeURIComponent(N)}function yt(N){return qe(N.replace(/\+/g,"%20"))}function kt(N){return`${ke(N.path)}${function Yt(N){return Object.keys(N).map(k=>`;${ke(k)}=${ke(N[k])}`).join("")}(N.parameters)}`}const tr=/^[^\/()?;#]+/;function pn(N){const k=N.match(tr);return k?k[0]:""}const hi=/^[^\/()?;=#]+/,Jn=/^[^=?&#]+/,gi=/^[^&#]+/;class hn{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let W={};return this.peekStartsWith("(")&&(W=this.parseParens(!1)),(k.length>0||Object.keys(I).length>0)&&(W[ct]=new Bt(k,I)),W}parseSegment(){const k=pn(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new r.vHH(4009,!1);return this.capture(k),new Pr(qe(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const I=function fn(N){const k=N.match(hi);return k?k[0]:""}(this.remaining);if(!I)return;this.capture(I);let W="";if(this.consumeOptional("=")){const Q=pn(this.remaining);Q&&(W=Q,this.capture(W))}k[qe(I)]=qe(W)}parseQueryParam(k){const I=function An(N){const k=N.match(Jn);return k?k[0]:""}(this.remaining);if(!I)return;this.capture(I);let W="";if(this.consumeOptional("=")){const ye=function ln(N){const k=N.match(gi);return k?k[0]:""}(this.remaining);ye&&(W=ye,this.capture(W))}const Q=yt(I),fe=yt(W);if(k.hasOwnProperty(Q)){let ye=k[Q];Array.isArray(ye)||(ye=[ye],k[Q]=ye),ye.push(fe)}else k[Q]=fe}parseParens(k){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const W=pn(this.remaining),Q=this.remaining[W.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new r.vHH(4010,!1);let fe;W.indexOf(":")>-1?(fe=W.slice(0,W.indexOf(":")),this.capture(fe),this.capture(":")):k&&(fe=ct);const ye=this.parseChildren();I[fe]=1===Object.keys(ye).length?ye[ct]:new Bt([],ye),this.consumeOptional("//")}return I}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new r.vHH(4011,!1)}}function Gn(N){return N.segments.length>0?new Bt([],{[ct]:N}):N}function Dn(N){const k={};for(const W of Object.keys(N.children)){const fe=Dn(N.children[W]);if(W===ct&&0===fe.segments.length&&fe.hasChildren())for(const[ye,Ge]of Object.entries(fe.children))k[ye]=Ge;else(fe.segments.length>0||fe.hasChildren())&&(k[W]=fe)}return function or(N){if(1===N.numberOfChildren&&N.children[ct]){const k=N.children[ct];return new Bt(N.segments.concat(k.segments),k.children)}return N}(new Bt(N.segments,k))}function Qn(N){return N instanceof rn}function nt(N){let k;const Q=Gn(function I(fe){const ye={};for(const at of fe.children){const Lt=I(at);ye[at.outlet]=Lt}const Ge=new Bt(fe.url,ye);return fe===N&&(k=Ge),Ge}(N.root));return k??Q}function Go(N,k,I,W){let Q=N;for(;Q.parent;)Q=Q.parent;if(0===k.length)return vo(Q,Q,Q,I,W);const fe=function be(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new z(!0,0,N);let k=0,I=!1;const W=N.reduce((Q,fe,ye)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const Ge={};return Object.entries(fe.outlets).forEach(([at,Lt])=>{Ge[at]="string"==typeof Lt?Lt.split("/"):Lt}),[...Q,{outlets:Ge}]}if(fe.segmentPath)return[...Q,fe.segmentPath]}return"string"!=typeof fe?[...Q,fe]:0===ye?(fe.split("/").forEach((Ge,at)=>{0==at&&"."===Ge||(0==at&&""===Ge?I=!0:".."===Ge?k++:""!=Ge&&Q.push(Ge))}),Q):[...Q,fe]},[]);return new z(I,k,W)}(k);if(fe.toRoot())return vo(Q,Q,new Bt([],{}),I,W);const ye=function ot(N,k,I){if(N.isAbsolute)return new tt(k,!0,0);if(!I)return new tt(k,!1,NaN);if(null===I.parent)return new tt(I,!0,0);const W=Dr(N.commands[0])?0:1;return function Ot(N,k,I){let W=N,Q=k,fe=I;for(;fe>Q;){if(fe-=Q,W=W.parent,!W)throw new r.vHH(4005,!1);Q=W.segments.length}return new tt(W,!1,Q-fe)}(I,I.segments.length-1+W,N.numberOfDoubleDots)}(fe,Q,N),Ge=ye.processChildren?$t(ye.segmentGroup,ye.index,fe.commands):Gr(ye.segmentGroup,ye.index,fe.commands);return vo(Q,ye.segmentGroup,Ge,I,W)}function Dr(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function ei(N){return"object"==typeof N&&null!=N&&N.outlets}function vo(N,k,I,W,Q){let ye,fe={};W&&Object.entries(W).forEach(([at,Lt])=>{fe[at]=Array.isArray(Lt)?Lt.map(Rt=>`${Rt}`):`${Lt}`}),ye=N===k?I:Ve(N,k,I);const Ge=Gn(Dn(ye));return new rn(Ge,fe,Q)}function Ve(N,k,I){const W={};return Object.entries(N.children).forEach(([Q,fe])=>{W[Q]=fe===k?I:Ve(fe,k,I)}),new Bt(N.segments,W)}class z{constructor(k,I,W){if(this.isAbsolute=k,this.numberOfDoubleDots=I,this.commands=W,k&&W.length>0&&Dr(W[0]))throw new r.vHH(4003,!1);const Q=W.find(ei);if(Q&&Q!==sn(W))throw new r.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tt{constructor(k,I,W){this.segmentGroup=k,this.processChildren=I,this.index=W}}function Gr(N,k,I){if(N||(N=new Bt([],{})),0===N.segments.length&&N.hasChildren())return $t(N,k,I);const W=function Pn(N,k,I){let W=0,Q=k;const fe={match:!1,pathIndex:0,commandIndex:0};for(;Q<N.segments.length;){if(W>=I.length)return fe;const ye=N.segments[Q],Ge=I[W];if(ei(Ge))break;const at=`${Ge}`,Lt=W<I.length-1?I[W+1]:null;if(Q>0&&void 0===at)break;if(at&&Lt&&"object"==typeof Lt&&void 0===Lt.outlets){if(!vi(at,Lt,ye))return fe;W+=2}else{if(!vi(at,{},ye))return fe;W++}Q++}return{match:!0,pathIndex:Q,commandIndex:W}}(N,k,I),Q=I.slice(W.commandIndex);if(W.match&&W.pathIndex<N.segments.length){const fe=new Bt(N.segments.slice(0,W.pathIndex),{});return fe.children[ct]=new Bt(N.segments.slice(W.pathIndex),N.children),$t(fe,0,Q)}return W.match&&0===Q.length?new Bt(N.segments,{}):W.match&&!N.hasChildren()?Bn(N,k,I):W.match?$t(N,0,Q):Bn(N,k,I)}function $t(N,k,I){if(0===I.length)return new Bt(N.segments,{});{const W=function Ct(N){return ei(N[0])?N[0].outlets:{[ct]:N}}(I),Q={};if(!W[ct]&&N.children[ct]&&1===N.numberOfChildren&&0===N.children[ct].segments.length){const fe=$t(N.children[ct],k,I);return new Bt(N.segments,fe.children)}return Object.entries(W).forEach(([fe,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(Q[fe]=Gr(N.children[fe],k,ye))}),Object.entries(N.children).forEach(([fe,ye])=>{void 0===W[fe]&&(Q[fe]=ye)}),new Bt(N.segments,Q)}}function Bn(N,k,I){const W=N.segments.slice(0,k);let Q=0;for(;Q<I.length;){const fe=I[Q];if(ei(fe)){const at=xr(fe.outlets);return new Bt(W,at)}if(0===Q&&Dr(I[0])){W.push(new Pr(N.segments[k].path,Cn(I[0]))),Q++;continue}const ye=ei(fe)?fe.outlets[ct]:`${fe}`,Ge=Q<I.length-1?I[Q+1]:null;ye&&Ge&&Dr(Ge)?(W.push(new Pr(ye,Cn(Ge))),Q+=2):(W.push(new Pr(ye,{})),Q++)}return new Bt(W,{})}function xr(N){const k={};return Object.entries(N).forEach(([I,W])=>{"string"==typeof W&&(W=[W]),null!==W&&(k[I]=Bn(new Bt([],{}),0,W))}),k}function Cn(N){const k={};return Object.entries(N).forEach(([I,W])=>k[I]=`${W}`),k}function vi(N,k,I){return N==I.path&&_t(k,I.parameters)}const si="imperative";class cr{constructor(k,I){this.id=k,this.url=I}}class ur extends cr{constructor(k,I,W="imperative",Q=null){super(k,I),this.type=0,this.navigationTrigger=W,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class li extends cr{constructor(k,I,W){super(k,I),this.urlAfterRedirects=W,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _i extends cr{constructor(k,I,W,Q){super(k,I),this.reason=W,this.code=Q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gn extends cr{constructor(k,I,W,Q){super(k,I),this.reason=W,this.code=Q,this.type=16}}class En extends cr{constructor(k,I,W,Q){super(k,I),this.error=W,this.target=Q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sn extends cr{constructor(k,I,W,Q){super(k,I),this.urlAfterRedirects=W,this.state=Q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends cr{constructor(k,I,W,Q){super(k,I),this.urlAfterRedirects=W,this.state=Q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms extends cr{constructor(k,I,W,Q,fe){super(k,I),this.urlAfterRedirects=W,this.state=Q,this.shouldActivate=fe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ta extends cr{constructor(k,I,W,Q){super(k,I),this.urlAfterRedirects=W,this.state=Q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends cr{constructor(k,I,W,Q){super(k,I),this.urlAfterRedirects=W,this.state=Q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ra{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ba{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wa{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $a{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vn,this.attachRef=null}}let vn=(()=>{class N{constructor(){this.contexts=new Map}onChildOutletCreated(I,W){const Q=this.getOrCreateContext(I);Q.outlet=W,this.contexts.set(I,Q)}onChildOutletDestroyed(I){const W=this.getContext(I);W&&(W.outlet=null,W.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let W=this.getContext(I);return W||(W=new Vn,this.contexts.set(I,W)),W}getContext(I){return this.contexts.get(I)||null}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();class Ta{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const I=this.pathFromRoot(k);return I.length>1?I[I.length-2]:null}children(k){const I=ko(k,this._root);return I?I.children.map(W=>W.value):[]}firstChild(k){const I=ko(k,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(k){const I=ji(k,this._root);return I.length<2?[]:I[I.length-2].children.map(Q=>Q.value).filter(Q=>Q!==k)}pathFromRoot(k){return ji(k,this._root).map(I=>I.value)}}function ko(N,k){if(N===k.value)return k;for(const I of k.children){const W=ko(N,I);if(W)return W}return null}function ji(N,k){if(N===k.value)return[k];for(const I of k.children){const W=ji(N,I);if(W.length)return W.unshift(k),W}return[]}class $r{constructor(k,I){this.value=k,this.children=I}toString(){return`TreeNode(${this.value})`}}function Ki(N){const k={};return N&&N.children.forEach(I=>k[I.value.outlet]=I),k}class on extends Ta{constructor(k,I){super(k),this.snapshot=I,zr(this,k)}toString(){return this.snapshot.toString()}}function wt(N,k){const I=function qt(N,k){const ye=new un([],{},{},"",{},ct,k,null,{});return new eo("",new $r(ye,[]))}(0,k),W=new m.X([new Pr("",{})]),Q=new m.X({}),fe=new m.X({}),ye=new m.X({}),Ge=new m.X(""),at=new gr(W,Q,ye,Ge,fe,ct,k,I.root);return at.snapshot=I.root,new on(new $r(at,[]),I)}class gr{constructor(k,I,W,Q,fe,ye,Ge,at){this.urlSubject=k,this.paramsSubject=I,this.queryParamsSubject=W,this.fragmentSubject=Q,this.dataSubject=fe,this.outlet=ye,this.component=Ge,this._futureSnapshot=at,this.title=this.dataSubject?.pipe((0,_e.U)(Lt=>Lt[lt]))??(0,y.of)(void 0),this.url=k,this.params=I,this.queryParams=W,this.fragment=Q,this.data=fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_e.U)(k=>Tt(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_e.U)(k=>Tt(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hn(N,k="emptyOnly"){const I=N.pathFromRoot;let W=0;if("always"!==k)for(W=I.length-1;W>=1;){const Q=I[W],fe=I[W-1];if(Q.routeConfig&&""===Q.routeConfig.path)W--;else{if(fe.component)break;W--}}return function _o(N){return N.reduce((k,I)=>({params:{...k.params,...I.params},data:{...k.data,...I.data},resolve:{...I.data,...k.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(W))}class un{get title(){return this.data?.[lt]}constructor(k,I,W,Q,fe,ye,Ge,at,Lt){this.url=k,this.params=I,this.queryParams=W,this.fragment=Q,this.data=fe,this.outlet=ye,this.component=Ge,this.routeConfig=at,this._resolve=Lt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(W=>W.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eo extends Ta{constructor(k,I){super(I),this.url=k,zr(this,I)}toString(){return to(this._root)}}function zr(N,k){k.value._routerState=N,k.children.forEach(I=>zr(N,I))}function to(N){const k=N.children.length>0?` { ${N.children.map(to).join(", ")} } `:"";return`${N.value}${k}`}function wi(N){if(N.snapshot){const k=N.snapshot,I=N._futureSnapshot;N.snapshot=I,_t(k.queryParams,I.queryParams)||N.queryParamsSubject.next(I.queryParams),k.fragment!==I.fragment&&N.fragmentSubject.next(I.fragment),_t(k.params,I.params)||N.paramsSubject.next(I.params),function Zt(N,k){if(N.length!==k.length)return!1;for(let I=0;I<N.length;++I)if(!_t(N[I],k[I]))return!1;return!0}(k.url,I.url)||N.urlSubject.next(I.url),_t(k.data,I.data)||N.dataSubject.next(I.data)}else N.snapshot=N._futureSnapshot,N.dataSubject.next(N._futureSnapshot.data)}function Xt(N,k){const I=_t(N.params,k.params)&&function br(N,k){return Oi(N,k)&&N.every((I,W)=>_t(I.parameters,k[W].parameters))}(N.url,k.url);return I&&!(!N.parent!=!k.parent)&&(!N.parent||Xt(N.parent,k.parent))}let zi=(()=>{class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=ct,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.attachEvents=new r.vpe,this.detachEvents=new r.vpe,this.parentContexts=(0,r.f3M)(vn),this.location=(0,r.f3M)(r.s_b),this.changeDetector=(0,r.f3M)(r.sBO),this.environmentInjector=(0,r.f3M)(r.lqb),this.inputBinder=(0,r.f3M)(bn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:W,previousValue:Q}=I.name;if(W)return;this.isTrackedInParentContexts(Q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,W){this.activated=I,this._activatedRoute=W,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,W){if(this.isActivated)throw new r.vHH(4013,!1);this._activatedRoute=I;const Q=this.location,ye=I.snapshot.component,Ge=this.parentContexts.getOrCreateContext(this.name).children,at=new ja(I,Ge,Q.injector);this.activated=Q.createComponent(ye,{index:Q.length,injector:at,environmentInjector:W??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275dir=r.lG2({type:N,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.TTD]}),N})();class ja{constructor(k,I,W){this.route=k,this.childContexts=I,this.parent=W}get(k,I){return k===gr?this.route:k===vn?this.childContexts:this.parent.get(k,I)}}const bn=new r.OlP("");function Ni(N,k,I){if(I&&N.shouldReuseRoute(k.value,I.value.snapshot)){const W=I.value;W._futureSnapshot=k.value;const Q=function Br(N,k,I){return k.children.map(W=>{for(const Q of I.children)if(N.shouldReuseRoute(W.value,Q.value.snapshot))return Ni(N,W,Q);return Ni(N,W)})}(N,k,I);return new $r(W,Q)}{if(N.shouldAttach(k.value)){const fe=N.retrieve(k.value);if(null!==fe){const ye=fe.route;return ye.value._futureSnapshot=k.value,ye.children=k.children.map(Ge=>Ni(N,Ge)),ye}}const W=function ro(N){return new gr(new m.X(N.url),new m.X(N.params),new m.X(N.queryParams),new m.X(N.fragment),new m.X(N.data),N.outlet,N.component,N)}(k.value),Q=k.children.map(fe=>Ni(N,fe));return new $r(W,Q)}}const mo="ngNavigationCancelingError";function Di(N,k){const{redirectTo:I,navigationBehaviorOptions:W}=Qn(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,Q=Tn(!1,0,k);return Q.url=I,Q.navigationBehaviorOptions=W,Q}function Tn(N,k,I){const W=new Error("NavigationCancelingError: "+(N||""));return W[mo]=!0,W.cancellationCode=k,I&&(W.url=I),W}function Pi(N){return bi(N)&&Qn(N.url)}function bi(N){return N&&N[mo]}let vr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275cmp=r.Xpm({type:N,selectors:[["ng-component"]],standalone:!0,features:[r.jDz],decls:1,vars:0,template:function(I,W){1&I&&r._UZ(0,"router-outlet")},dependencies:[zi],encapsulation:2}),N})();function Ln(N){const k=N.children&&N.children.map(Ln),I=k?{...N,children:k}:{...N};return!I.component&&!I.loadComponent&&(k||I.loadChildren)&&I.outlet&&I.outlet!==ct&&(I.component=vr),I}function Hr(N){return N.outlet||ct}function ti(N){if(!N)return null;if(N.routeConfig?._injector)return N.routeConfig._injector;for(let k=N.parent;k;k=k.parent){const I=k.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class Ra{constructor(k,I,W,Q,fe){this.routeReuseStrategy=k,this.futureState=I,this.currState=W,this.forwardEvent=Q,this.inputBindingEnabled=fe}activate(k){const I=this.futureState._root,W=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,W,k),wi(this.futureState.root),this.activateChildRoutes(I,W,k)}deactivateChildRoutes(k,I,W){const Q=Ki(I);k.children.forEach(fe=>{const ye=fe.value.outlet;this.deactivateRoutes(fe,Q[ye],W),delete Q[ye]}),Object.values(Q).forEach(fe=>{this.deactivateRouteAndItsChildren(fe,W)})}deactivateRoutes(k,I,W){const Q=k.value,fe=I?I.value:null;if(Q===fe)if(Q.component){const ye=W.getContext(Q.outlet);ye&&this.deactivateChildRoutes(k,I,ye.children)}else this.deactivateChildRoutes(k,I,W);else fe&&this.deactivateRouteAndItsChildren(I,W)}deactivateRouteAndItsChildren(k,I){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,I):this.deactivateRouteAndOutlet(k,I)}detachAndStoreRouteSubtree(k,I){const W=I.getContext(k.value.outlet),Q=W&&k.value.component?W.children:I,fe=Ki(k);for(const ye of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[ye],Q);if(W&&W.outlet){const ye=W.outlet.detach(),Ge=W.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:ye,route:k,contexts:Ge})}}deactivateRouteAndOutlet(k,I){const W=I.getContext(k.value.outlet),Q=W&&k.value.component?W.children:I,fe=Ki(k);for(const ye of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[ye],Q);W&&(W.outlet&&(W.outlet.deactivate(),W.children.onOutletDeactivated()),W.attachRef=null,W.route=null)}activateChildRoutes(k,I,W){const Q=Ki(I);k.children.forEach(fe=>{this.activateRoutes(fe,Q[fe.value.outlet],W),this.forwardEvent(new ar(fe.value.snapshot))}),k.children.length&&this.forwardEvent(new $a(k.value.snapshot))}activateRoutes(k,I,W){const Q=k.value,fe=I?I.value:null;if(wi(Q),Q===fe)if(Q.component){const ye=W.getOrCreateContext(Q.outlet);this.activateChildRoutes(k,I,ye.children)}else this.activateChildRoutes(k,I,W);else if(Q.component){const ye=W.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const Ge=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),ye.children.onOutletReAttached(Ge.contexts),ye.attachRef=Ge.componentRef,ye.route=Ge.route.value,ye.outlet&&ye.outlet.attach(Ge.componentRef,Ge.route.value),wi(Ge.route.value),this.activateChildRoutes(k,null,ye.children)}else{const Ge=ti(Q.snapshot);ye.attachRef=null,ye.route=Q,ye.injector=Ge,ye.outlet&&ye.outlet.activateWith(Q,ye.injector),this.activateChildRoutes(k,null,ye.children)}}else this.activateChildRoutes(k,null,W)}}class ia{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class Fi{constructor(k,I){this.component=k,this.route=I}}function Yl(N,k,I){const W=N._root;return Eo(W,k?k._root:null,I,[W.value])}function io(N,k){const I=Symbol(),W=k.get(N,I);return W===I?"function"!=typeof N||(0,r.Z0I)(N)?k.get(N):N:W}function Eo(N,k,I,W,Q={canDeactivateChecks:[],canActivateChecks:[]}){const fe=Ki(k);return N.children.forEach(ye=>{(function Cs(N,k,I,W,Q={canDeactivateChecks:[],canActivateChecks:[]}){const fe=N.value,ye=k?k.value:null,Ge=I?I.getContext(N.value.outlet):null;if(ye&&fe.routeConfig===ye.routeConfig){const at=function rl(N,k,I){if("function"==typeof I)return I(N,k);switch(I){case"pathParamsChange":return!Oi(N.url,k.url);case"pathParamsOrQueryParamsChange":return!Oi(N.url,k.url)||!_t(N.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xt(N,k)||!_t(N.queryParams,k.queryParams);default:return!Xt(N,k)}}(ye,fe,fe.routeConfig.runGuardsAndResolvers);at?Q.canActivateChecks.push(new ia(W)):(fe.data=ye.data,fe._resolvedData=ye._resolvedData),Eo(N,k,fe.component?Ge?Ge.children:null:I,W,Q),at&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&Q.canDeactivateChecks.push(new Fi(Ge.outlet.component,ye))}else ye&&oa(k,Ge,Q),Q.canActivateChecks.push(new ia(W)),Eo(N,null,fe.component?Ge?Ge.children:null:I,W,Q)})(ye,fe[ye.value.outlet],I,W.concat([ye.value]),Q),delete fe[ye.value.outlet]}),Object.entries(fe).forEach(([ye,Ge])=>oa(Ge,I.getContext(ye),Q)),Q}function oa(N,k,I){const W=Ki(N),Q=N.value;Object.entries(W).forEach(([fe,ye])=>{oa(ye,Q.component?k?k.children.getContext(fe):null:k,I)}),I.canDeactivateChecks.push(new Fi(Q.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,Q))}function Ur(N){return"function"==typeof N}function On(N){return N instanceof O||"EmptyError"===N?.name}const yi=Symbol("INITIAL_VALUE");function ui(){return(0,Oe.w)(N=>Y(N.map(k=>k.pipe(Le(1),function Ie(...N){const k=(0,x.yG)(N);return(0,Me.e)((I,W)=>{(k?q(N,I,k):q(N,I)).subscribe(W)})}(yi)))).pipe((0,_e.U)(k=>{for(const I of k)if(!0!==I){if(I===yi)return yi;if(!1===I||I instanceof rn)return I}return!0}),(0,Ye.h)(k=>k!==yi),Le(1)))}function yc(N){return(0,ge.z)((0,Nt.b)(k=>{if(Qn(k))throw Di(0,k)}),(0,_e.U)(k=>!0===k))}class Un{constructor(k){this.segmentGroup=k||null}}class qa{constructor(k){this.urlTree=k}}function an(N){return ve(new Un(N))}function nl(N){return ve(new qa(N))}class sa{constructor(k,I){this.urlSerializer=k,this.urlTree=I}noMatchError(k){return new r.vHH(4002,!1)}lineralizeSegments(k,I){let W=[],Q=I.root;for(;;){if(W=W.concat(Q.segments),0===Q.numberOfChildren)return(0,y.of)(W);if(Q.numberOfChildren>1||!Q.children[ct])return ve(new r.vHH(4e3,!1));Q=Q.children[ct]}}applyRedirectCommands(k,I,W){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),k,W)}applyRedirectCreateUrlTree(k,I,W,Q){const fe=this.createSegmentGroup(k,I.root,W,Q);return new rn(fe,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(k,I){const W={};return Object.entries(k).forEach(([Q,fe])=>{if("string"==typeof fe&&fe.startsWith(":")){const Ge=fe.substring(1);W[Q]=I[Ge]}else W[Q]=fe}),W}createSegmentGroup(k,I,W,Q){const fe=this.createSegments(k,I.segments,W,Q);let ye={};return Object.entries(I.children).forEach(([Ge,at])=>{ye[Ge]=this.createSegmentGroup(k,at,W,Q)}),new Bt(fe,ye)}createSegments(k,I,W,Q){return I.map(fe=>fe.path.startsWith(":")?this.findPosParam(k,fe,Q):this.findOrReturn(fe,W))}findPosParam(k,I,W){const Q=W[I.path.substring(1)];if(!Q)throw new r.vHH(4001,!1);return Q}findOrReturn(k,I){let W=0;for(const Q of I){if(Q.path===k.path)return I.splice(W),Q;W++}return k}}const $o={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Os(N,k,I,W,Q){const fe=oo(N,k,I);return fe.matched?(W=function Ka(N,k){return N.providers&&!N._injector&&(N._injector=(0,r.MMx)(N.providers,k,`Route: ${N.path}`)),N._injector??k}(k,W),function Zl(N,k,I,W){const Q=k.canMatch;if(!Q||0===Q.length)return(0,y.of)(!0);const fe=Q.map(ye=>{const Ge=io(ye,N);return Or(function je(N){return N&&Ur(N.canMatch)}(Ge)?Ge.canMatch(k,I):N.runInContext(()=>Ge(k,I)))});return(0,y.of)(fe).pipe(ui(),yc())}(W,k,I).pipe((0,_e.U)(ye=>!0===ye?fe:{...$o}))):(0,y.of)(fe)}function oo(N,k,I){if(""===k.path)return"full"===k.pathMatch&&(N.hasChildren()||I.length>0)?{...$o}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const Q=(k.matcher||rr)(I,N,k);if(!Q)return{...$o};const fe={};Object.entries(Q.posParams??{}).forEach(([Ge,at])=>{fe[Ge]=at.path});const ye=Q.consumed.length>0?{...fe,...Q.consumed[Q.consumed.length-1].parameters}:fe;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:I.slice(Q.consumed.length),parameters:ye,positionalParamSegments:Q.posParams??{}}}function il(N,k,I,W){return I.length>0&&function la(N,k,I){return I.some(W=>Ds(N,k,W)&&Hr(W)!==ct)}(N,I,W)?{segmentGroup:new Bt(k,Jl(W,new Bt(I,N.children))),slicedSegments:[]}:0===I.length&&function mc(N,k,I){return I.some(W=>Ds(N,k,W))}(N,I,W)?{segmentGroup:new Bt(N.segments,ws(N,0,I,W,N.children)),slicedSegments:I}:{segmentGroup:new Bt(N.segments,N.children),slicedSegments:I}}function ws(N,k,I,W,Q){const fe={};for(const ye of W)if(Ds(N,I,ye)&&!Q[Hr(ye)]){const Ge=new Bt([],{});fe[Hr(ye)]=Ge}return{...Q,...fe}}function Jl(N,k){const I={};I[ct]=k;for(const W of N)if(""===W.path&&Hr(W)!==ct){const Q=new Bt([],{});I[Hr(W)]=Q}return I}function Ds(N,k,I){return(!(N.hasChildren()||k.length>0)||"full"!==I.pathMatch)&&""===I.path}class eu{constructor(k,I,W,Q,fe,ye,Ge){this.injector=k,this.configLoader=I,this.rootComponentType=W,this.config=Q,this.urlTree=fe,this.paramsInheritanceStrategy=ye,this.urlSerializer=Ge,this.allowRedirects=!0,this.applyRedirects=new sa(this.urlSerializer,this.urlTree)}noMatchError(k){return new r.vHH(4002,!1)}recognize(){const k=il(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,ct).pipe(xt(I=>{if(I instanceof qa)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof Un?this.noMatchError(I):I}),(0,_e.U)(I=>{const W=new un([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,{}),Q=new $r(W,I),fe=new eo("",Q),ye=function ai(N,k,I=null,W=null){return Go(nt(N),k,I,W)}(W,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,fe.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(fe._root),{state:fe,tree:ye}}))}match(k){return this.processSegmentGroup(this.injector,this.config,k.root,ct).pipe(xt(W=>{throw W instanceof Un?this.noMatchError(W):W}))}inheritParamsAndData(k){const I=k.value,W=Hn(I,this.paramsInheritanceStrategy);I.params=Object.freeze(W.params),I.data=Object.freeze(W.data),k.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(k,I,W,Q){return 0===W.segments.length&&W.hasChildren()?this.processChildren(k,I,W):this.processSegment(k,I,W,W.segments,Q,!0)}processChildren(k,I,W){const Q=[];for(const fe of Object.keys(W.children))"primary"===fe?Q.unshift(fe):Q.push(fe);return(0,f.D)(Q).pipe((0,vt.b)(fe=>{const ye=W.children[fe],Ge=function Vo(N,k){const I=N.filter(W=>Hr(W)===k);return I.push(...N.filter(W=>Hr(W)!==k)),I}(I,fe);return this.processSegmentGroup(k,Ge,ye,fe)}),function er(N,k){return(0,Me.e)(function bt(N,k,I,W,Q){return(fe,ye)=>{let Ge=I,at=k,Lt=0;fe.subscribe((0,B.x)(ye,Rt=>{const dr=Lt++;at=Ge?N(at,Rt,dr):(Ge=!0,Rt),W&&ye.next(at)},Q&&(()=>{Ge&&ye.next(at),ye.complete()})))}}(N,k,arguments.length>=2,!0))}((fe,ye)=>(fe.push(...ye),fe)),ht(null),function _r(N,k){const I=arguments.length>=2;return W=>W.pipe(N?(0,Ye.h)((Q,fe)=>N(Q,fe,W)):P.y,Ht(1),I?ht(k):pt(()=>new O))}(),(0,dt.z)(fe=>{if(null===fe)return an(W);const ye=Oo(fe);return function xa(N){N.sort((k,I)=>k.value.outlet===ct?-1:I.value.outlet===ct?1:k.value.outlet.localeCompare(I.value.outlet))}(ye),(0,y.of)(ye)}))}processSegment(k,I,W,Q,fe,ye){return(0,f.D)(I).pipe((0,vt.b)(Ge=>this.processSegmentAgainstRoute(Ge._injector??k,I,Ge,W,Q,fe,ye).pipe(xt(at=>{if(at instanceof Un)return(0,y.of)(null);throw at}))),Qe(Ge=>!!Ge),xt(Ge=>{if(On(Ge))return function ol(N,k,I){return 0===k.length&&!N.children[I]}(W,Q,fe)?(0,y.of)([]):an(W);throw Ge}))}processSegmentAgainstRoute(k,I,W,Q,fe,ye,Ge){return function Ql(N,k,I,W){return!!(Hr(N)===W||W!==ct&&Ds(k,I,N))&&("**"===N.path||oo(k,N,I).matched)}(W,Q,fe,ye)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(k,Q,W,fe,ye,Ge):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,Q,I,W,fe,ye):an(Q):an(Q)}expandSegmentAgainstRouteUsingRedirect(k,I,W,Q,fe,ye){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,W,Q,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(k,I,W,Q,fe,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,I,W,Q){const fe=this.applyRedirects.applyRedirectCommands([],W.redirectTo,{});return W.redirectTo.startsWith("/")?nl(fe):this.applyRedirects.lineralizeSegments(W,fe).pipe((0,dt.z)(ye=>{const Ge=new Bt(ye,{});return this.processSegment(k,I,Ge,ye,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,I,W,Q,fe,ye){const{matched:Ge,consumedSegments:at,remainingSegments:Lt,positionalParamSegments:Rt}=oo(I,Q,fe);if(!Ge)return an(I);const dr=this.applyRedirects.applyRedirectCommands(at,Q.redirectTo,Rt);return Q.redirectTo.startsWith("/")?nl(dr):this.applyRedirects.lineralizeSegments(Q,dr).pipe((0,dt.z)(ci=>this.processSegment(k,W,I,ci.concat(Lt),ye,!1)))}matchSegmentAgainstRoute(k,I,W,Q,fe,ye){let Ge;if("**"===W.path){const at=Q.length>0?sn(Q).parameters:{},Lt=new un(Q,at,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,H(W),Hr(W),W.component??W._loadedComponent??null,W,te(W));Ge=(0,y.of)({snapshot:Lt,consumedSegments:[],remainingSegments:[]}),I.children={}}else Ge=Os(I,W,Q,k).pipe((0,_e.U)(({matched:at,consumedSegments:Lt,remainingSegments:Rt,parameters:dr})=>at?{snapshot:new un(Lt,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,H(W),Hr(W),W.component??W._loadedComponent??null,W,te(W)),consumedSegments:Lt,remainingSegments:Rt}:null));return Ge.pipe((0,Oe.w)(at=>null===at?an(I):this.getChildConfig(k=W._injector??k,W,Q).pipe((0,Oe.w)(({routes:Lt})=>{const Rt=W._loadedInjector??k,{snapshot:dr,consumedSegments:ci,remainingSegments:Ia}=at,{segmentGroup:La,slicedSegments:es}=il(I,ci,Ia,Lt);if(0===es.length&&La.hasChildren())return this.processChildren(Rt,Lt,La).pipe((0,_e.U)(Yo=>null===Yo?null:[new $r(dr,Yo)]));if(0===Lt.length&&0===es.length)return(0,y.of)([new $r(dr,[])]);const As=Hr(W)===fe;return this.processSegment(Rt,Lt,La,es,As?ct:fe,!0).pipe((0,_e.U)(Yo=>[new $r(dr,Yo)]))}))))}getChildConfig(k,I,W){return I.children?(0,y.of)({routes:I.children,injector:k}):I.loadChildren?void 0!==I._loadedRoutes?(0,y.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function vc(N,k,I,W){const Q=k.canLoad;if(void 0===Q||0===Q.length)return(0,y.of)(!0);const fe=Q.map(ye=>{const Ge=io(ye,N);return Or(function Z(N){return N&&Ur(N.canLoad)}(Ge)?Ge.canLoad(k,I):N.runInContext(()=>Ge(k,I)))});return(0,y.of)(fe).pipe(ui(),yc())}(k,I,W).pipe((0,dt.z)(Q=>Q?this.configLoader.loadChildren(k,I).pipe((0,Nt.b)(fe=>{I._loadedRoutes=fe.routes,I._loadedInjector=fe.injector})):function Za(N){return ve(Tn(!1,3))}())):(0,y.of)({routes:[],injector:k})}}function So(N){const k=N.value.routeConfig;return k&&""===k.path}function Oo(N){const k=[],I=new Set;for(const W of N){if(!So(W)){k.push(W);continue}const Q=k.find(fe=>W.value.routeConfig===fe.value.routeConfig);void 0!==Q?(Q.children.push(...W.children),I.add(Q)):k.push(W)}for(const W of I){const Q=Oo(W.children);k.push(new $r(W.value,Q))}return k.filter(W=>!I.has(W))}function H(N){return N.data||{}}function te(N){return N.resolve||{}}function Sr(N){return"string"==typeof N.title||null===N.title}function Vt(N){return(0,Oe.w)(k=>{const I=N(k);return I?(0,f.D)(I).pipe((0,_e.U)(()=>k)):(0,y.of)(k)})}const zt=new r.OlP("ROUTES");let sr=(()=>{class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.f3M)(r.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,y.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const W=Or(I.loadComponent()).pipe((0,_e.U)(kr),(0,Nt.b)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=fe}),(0,Xr.x)(()=>{this.componentLoaders.delete(I)})),Q=new Ne(W,()=>new he.x).pipe(Re());return this.componentLoaders.set(I,Q),Q}loadChildren(I,W){if(this.childrenLoaders.get(W))return this.childrenLoaders.get(W);if(W._loadedRoutes)return(0,y.of)({routes:W._loadedRoutes,injector:W._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(W);const fe=this.loadModuleFactoryOrRoutes(W.loadChildren).pipe((0,_e.U)(Ge=>{this.onLoadEndListener&&this.onLoadEndListener(W);let at,Lt;return Array.isArray(Ge)?Lt=Ge:(at=Ge.create(I).injector,Lt=at.get(zt,[],r.XFs.Self|r.XFs.Optional).flat()),{routes:Lt.map(Ln),injector:at}}),(0,Xr.x)(()=>{this.childrenLoaders.delete(W)})),ye=new Ne(fe,()=>new he.x).pipe(Re());return this.childrenLoaders.set(W,ye),ye}loadModuleFactoryOrRoutes(I){return Or(I()).pipe((0,_e.U)(kr),(0,dt.z)(W=>W instanceof r.YKP||Array.isArray(W)?(0,y.of)(W):(0,f.D)(this.compiler.compileModuleAsync(W))))}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function kr(N){return function Mr(N){return N&&"object"==typeof N&&"default"in N}(N)?N.default:N}let Qr=(()=>{class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new he.x,this.configLoader=(0,r.f3M)(sr),this.environmentInjector=(0,r.f3M)(r.lqb),this.urlSerializer=(0,r.f3M)(nn),this.rootContexts=(0,r.f3M)(vn),this.inputBindingEnabled=null!==(0,r.f3M)(bn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Q=>this.events.next(new ba(Q)),this.configLoader.onLoadStartListener=Q=>this.events.next(new ra(Q))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const W=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:W})}setupNavigations(I){return this.transitions=new m.X({id:0,currentUrlTree:I.currentUrlTree,currentRawUrl:I.currentUrlTree,extractedUrl:I.urlHandlingStrategy.extract(I.currentUrlTree),urlAfterRedirects:I.urlHandlingStrategy.extract(I.currentUrlTree),rawUrl:I.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:si,restoredState:null,currentSnapshot:I.routerState.snapshot,targetSnapshot:null,currentRouterState:I.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ye.h)(W=>0!==W.id),(0,_e.U)(W=>({...W,extractedUrl:I.urlHandlingStrategy.extract(W.rawUrl)})),(0,Oe.w)(W=>{let Q=!1,fe=!1;return(0,y.of)(W).pipe((0,Nt.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Oe.w)(ye=>{const Ge=I.browserUrlTree.toString(),at=!I.navigated||ye.extractedUrl.toString()!==Ge||Ge!==I.currentUrlTree.toString();if(!at&&"reload"!==(ye.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Rt="";return this.events.next(new gn(ye.id,I.serializeUrl(W.rawUrl),Rt,0)),I.rawUrlTree=ye.rawUrl,ye.resolve(null),Ce.E}if(I.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return Wn(ye.source)&&(I.browserUrlTree=ye.extractedUrl),(0,y.of)(ye).pipe((0,Oe.w)(Rt=>{const dr=this.transitions?.getValue();return this.events.next(new ur(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),Rt.source,Rt.restoredState)),dr!==this.transitions?.getValue()?Ce.E:Promise.resolve(Rt)}),function K(N,k,I,W,Q,fe){return(0,dt.z)(ye=>function Er(N,k,I,W,Q,fe,ye="emptyOnly"){return new eu(N,k,I,W,Q,ye,fe).recognize()}(N,k,I,W,ye.extractedUrl,Q,fe).pipe((0,_e.U)(({state:Ge,tree:at})=>({...ye,targetSnapshot:Ge,urlAfterRedirects:at}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,Nt.b)(Rt=>{if(W.targetSnapshot=Rt.targetSnapshot,W.urlAfterRedirects=Rt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rt.urlAfterRedirects},"eager"===I.urlUpdateStrategy){if(!Rt.extras.skipLocationChange){const ci=I.urlHandlingStrategy.merge(Rt.urlAfterRedirects,Rt.rawUrl);I.setBrowserUrl(ci,Rt)}I.browserUrlTree=Rt.urlAfterRedirects}const dr=new Sn(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot);this.events.next(dr)}));if(at&&I.urlHandlingStrategy.shouldProcessUrl(I.rawUrlTree)){const{id:Rt,extractedUrl:dr,source:ci,restoredState:Ia,extras:La}=ye,es=new ur(Rt,this.urlSerializer.serialize(dr),ci,Ia);this.events.next(es);const As=wt(0,this.rootComponentType).snapshot;return W={...ye,targetSnapshot:As,urlAfterRedirects:dr,extras:{...La,skipLocationChange:!1,replaceUrl:!1}},(0,y.of)(W)}{const Rt="";return this.events.next(new gn(ye.id,I.serializeUrl(W.extractedUrl),Rt,1)),I.rawUrlTree=ye.rawUrl,ye.resolve(null),Ce.E}}),(0,Nt.b)(ye=>{const Ge=new Bo(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(Ge)}),(0,_e.U)(ye=>W={...ye,guards:Yl(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function aa(N,k){return(0,dt.z)(I=>{const{targetSnapshot:W,currentSnapshot:Q,guards:{canActivateChecks:fe,canDeactivateChecks:ye}}=I;return 0===ye.length&&0===fe.length?(0,y.of)({...I,guardsResult:!0}):function Mi(N,k,I,W){return(0,f.D)(N).pipe((0,dt.z)(Q=>function Ss(N,k,I,W,Q){const fe=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,y.of)(!0);const ye=fe.map(Ge=>{const at=ti(k)??Q,Lt=io(Ge,at);return Or(function de(N){return N&&Ur(N.canDeactivate)}(Lt)?Lt.canDeactivate(N,k,I,W):at.runInContext(()=>Lt(N,k,I,W))).pipe(Qe())});return(0,y.of)(ye).pipe(ui())}(Q.component,Q.route,I,k,W)),Qe(Q=>!0!==Q,!0))}(ye,W,Q,N).pipe((0,dt.z)(Ge=>Ge&&function Es(N){return"boolean"==typeof N}(Ge)?function Ho(N,k,I,W){return(0,f.D)(k).pipe((0,vt.b)(Q=>q(function Uo(N,k){return null!==N&&k&&k(new Wa(N)),(0,y.of)(!0)}(Q.route.parent,W),function Aa(N,k){return null!==N&&k&&k(new na(N)),(0,y.of)(!0)}(Q.route,W),function Wo(N,k,I){const W=k[k.length-1],fe=k.slice(0,k.length-1).reverse().map(ye=>function Xl(N){const k=N.routeConfig?N.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:N,guards:k}:null}(ye)).filter(ye=>null!==ye).map(ye=>ue(()=>{const Ge=ye.guards.map(at=>{const Lt=ti(ye.node)??I,Rt=io(at,Lt);return Or(function j(N){return N&&Ur(N.canActivateChild)}(Rt)?Rt.canActivateChild(W,N):Lt.runInContext(()=>Rt(W,N))).pipe(Qe())});return(0,y.of)(Ge).pipe(ui())}));return(0,y.of)(fe).pipe(ui())}(N,Q.path,I),function ql(N,k,I){const W=k.routeConfig?k.routeConfig.canActivate:null;if(!W||0===W.length)return(0,y.of)(!0);const Q=W.map(fe=>ue(()=>{const ye=ti(k)??I,Ge=io(fe,ye);return Or(function X(N){return N&&Ur(N.canActivate)}(Ge)?Ge.canActivate(k,N):ye.runInContext(()=>Ge(k,N))).pipe(Qe())}));return(0,y.of)(Q).pipe(ui())}(N,Q.route,I))),Qe(Q=>!0!==Q,!0))}(W,fe,N,k):(0,y.of)(Ge)),(0,_e.U)(Ge=>({...I,guardsResult:Ge})))})}(this.environmentInjector,ye=>this.events.next(ye)),(0,Nt.b)(ye=>{if(W.guardsResult=ye.guardsResult,Qn(ye.guardsResult))throw Di(0,ye.guardsResult);const Ge=new ms(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.events.next(Ge)}),(0,Ye.h)(ye=>!!ye.guardsResult||(I.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),Vt(ye=>{if(ye.guards.canActivateChecks.length)return(0,y.of)(ye).pipe((0,Nt.b)(Ge=>{const at=new ta(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot);this.events.next(at)}),(0,Oe.w)(Ge=>{let at=!1;return(0,y.of)(Ge).pipe(function ce(N,k){return(0,dt.z)(I=>{const{targetSnapshot:W,guards:{canActivateChecks:Q}}=I;if(!Q.length)return(0,y.of)(I);let fe=0;return(0,f.D)(Q).pipe((0,vt.b)(ye=>function Se(N,k,I,W){const Q=N.routeConfig,fe=N._resolve;return void 0!==Q?.title&&!Sr(Q)&&(fe[lt]=Q.title),function $e(N,k,I,W){const Q=function ze(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}(N);if(0===Q.length)return(0,y.of)({});const fe={};return(0,f.D)(Q).pipe((0,dt.z)(ye=>function It(N,k,I,W){const Q=ti(k)??W,fe=io(N,Q);return Or(fe.resolve?fe.resolve(k,I):Q.runInContext(()=>fe(k,I)))}(N[ye],k,I,W).pipe(Qe(),(0,Nt.b)(Ge=>{fe[ye]=Ge}))),Ht(1),function ir(N){return(0,_e.U)(()=>N)}(fe),xt(ye=>On(ye)?Ce.E:ve(ye)))}(fe,N,k,W).pipe((0,_e.U)(ye=>(N._resolvedData=ye,N.data=Hn(N,I).resolve,Q&&Sr(Q)&&(N.data[lt]=Q.title),null)))}(ye.route,W,N,k)),(0,Nt.b)(()=>fe++),Ht(1),(0,dt.z)(ye=>fe===Q.length?(0,y.of)(I):Ce.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,Nt.b)({next:()=>at=!0,complete:()=>{at||(I.restoreHistory(Ge),this.cancelNavigationTransition(Ge,"",2))}}))}),(0,Nt.b)(Ge=>{const at=new Qi(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot);this.events.next(at)}))}),Vt(ye=>{const Ge=at=>{const Lt=[];at.routeConfig?.loadComponent&&!at.routeConfig._loadedComponent&&Lt.push(this.configLoader.loadComponent(at.routeConfig).pipe((0,Nt.b)(Rt=>{at.component=Rt}),(0,_e.U)(()=>{})));for(const Rt of at.children)Lt.push(...Ge(Rt));return Lt};return Y(Ge(ye.targetSnapshot.root)).pipe(ht(),Le(1))}),Vt(()=>this.afterPreactivation()),(0,_e.U)(ye=>{const Ge=function yo(N,k,I){const W=Ni(N,k._root,I?I._root:void 0);return new on(W,k)}(I.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return W={...ye,targetRouterState:Ge}}),(0,Nt.b)(ye=>{I.currentUrlTree=ye.urlAfterRedirects,I.rawUrlTree=I.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),I.routerState=ye.targetRouterState,"deferred"===I.urlUpdateStrategy&&(ye.extras.skipLocationChange||I.setBrowserUrl(I.rawUrlTree,ye),I.browserUrlTree=ye.urlAfterRedirects)}),((N,k,I,W)=>(0,_e.U)(Q=>(new Ra(k,Q.targetRouterState,Q.currentRouterState,I,W).activate(N),Q)))(this.rootContexts,I.routeReuseStrategy,ye=>this.events.next(ye),this.inputBindingEnabled),Le(1),(0,Nt.b)({next:ye=>{Q=!0,this.lastSuccessfulNavigation=this.currentNavigation,I.navigated=!0,this.events.next(new li(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(I.currentUrlTree))),I.titleStrategy?.updateTitle(ye.targetRouterState.snapshot),ye.resolve(!0)},complete:()=>{Q=!0}}),(0,Xr.x)(()=>{Q||fe||this.cancelNavigationTransition(W,"",1),this.currentNavigation?.id===W.id&&(this.currentNavigation=null)}),xt(ye=>{if(fe=!0,bi(ye)){Pi(ye)||(I.navigated=!0,I.restoreHistory(W,!0));const Ge=new _i(W.id,this.urlSerializer.serialize(W.extractedUrl),ye.message,ye.cancellationCode);if(this.events.next(Ge),Pi(ye)){const at=I.urlHandlingStrategy.merge(ye.url,I.rawUrlTree),Lt={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===I.urlUpdateStrategy||Wn(W.source)};I.scheduleNavigation(at,si,null,Lt,{resolve:W.resolve,reject:W.reject,promise:W.promise})}else W.resolve(!1)}else{I.restoreHistory(W,!0);const Ge=new En(W.id,this.urlSerializer.serialize(W.extractedUrl),ye,W.targetSnapshot??void 0);this.events.next(Ge);try{W.resolve(I.errorHandler(ye))}catch(at){W.reject(at)}}return Ce.E}))}))}cancelNavigationTransition(I,W,Q){const fe=new _i(I.id,this.urlSerializer.serialize(I.extractedUrl),W,Q);this.events.next(fe),I.resolve(!1)}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Wn(N){return N!==si}let en=(()=>{class N{buildTitle(I){let W,Q=I.root;for(;void 0!==Q;)W=this.getResolvedTitleForRoute(Q)??W,Q=Q.children.find(fe=>fe.outlet===ct);return W}getResolvedTitleForRoute(I){return I.data[lt]}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:function(){return(0,r.f3M)(Ko)},providedIn:"root"}),N})(),Ko=(()=>{class N extends en{constructor(I){super(),this.title=I}updateTitle(I){const W=this.buildTitle(I);void 0!==W&&this.title.setTitle(W)}}return N.\u0275fac=function(I){return new(I||N)(r.LFG(Xe.Dx))},N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Gi=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:function(){return(0,r.f3M)(ri)},providedIn:"root"}),N})();class ao{shouldDetach(k){return!1}store(k,I){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,I){return k.routeConfig===I.routeConfig}}let ri=(()=>{class N extends ao{}return N.\u0275fac=function(){let k;return function(W){return(k||(k=r.n5z(N)))(W||N)}}(),N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Yi=new r.OlP("",{providedIn:"root",factory:()=>({})});let Ps=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:function(){return(0,r.f3M)(Bi)},providedIn:"root"}),N})(),Bi=(()=>{class N{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,W){return I}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();var Ri=(()=>((Ri=Ri||{})[Ri.COMPLETE=0]="COMPLETE",Ri[Ri.FAILED=1]="FAILED",Ri[Ri.REDIRECTING=2]="REDIRECTING",Ri))();function tu(N){throw N}function Kt(N,k,I){return k.parse("/")}const ru={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class N{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,r.f3M)(r.c2e),this.isNgZoneEnabled=!1,this.options=(0,r.f3M)(Yi,{optional:!0})||{},this.pendingTasks=(0,r.f3M)(r.HDt),this.errorHandler=this.options.errorHandler||tu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Kt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,r.f3M)(Ps),this.routeReuseStrategy=(0,r.f3M)(Gi),this.titleStrategy=(0,r.f3M)(en),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,r.f3M)(zt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,r.f3M)(Qr),this.urlSerializer=(0,r.f3M)(nn),this.location=(0,r.f3M)(De.Ye),this.componentInputBindingEnabled=!!(0,r.f3M)(bn,{optional:!0}),this.isNgZoneEnabled=(0,r.f3M)(r.R0b)instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wt(0,null),this.navigationTransitions.setupNavigations(this).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId??0},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),si,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const W="popstate"===I.type?"popstate":"hashchange";"popstate"===W&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,W,I.state)},0)}))}navigateToSyncWithBrowser(I,W,Q){const fe={replaceUrl:!0},ye=Q?.navigationId?Q:null;if(Q){const at={...Q};delete at.navigationId,delete at.\u0275routerPageId,0!==Object.keys(at).length&&(fe.state=at)}const Ge=this.parseUrl(I);this.scheduleNavigation(Ge,W,ye,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(Ln),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,W={}){const{relativeTo:Q,queryParams:fe,fragment:ye,queryParamsHandling:Ge,preserveFragment:at}=W,Lt=at?this.currentUrlTree.fragment:ye;let dr,Rt=null;switch(Ge){case"merge":Rt={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Rt=this.currentUrlTree.queryParams;break;default:Rt=fe||null}null!==Rt&&(Rt=this.removeEmptyProps(Rt));try{dr=nt(Q?Q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),dr=this.currentUrlTree.root}return Go(dr,I,Rt,Lt??null)}navigateByUrl(I,W={skipLocationChange:!1}){const Q=Qn(I)?I:this.parseUrl(I),fe=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(fe,si,null,W)}navigate(I,W={skipLocationChange:!1}){return function nu(N){for(let k=0;k<N.length;k++)if(null==N[k])throw new r.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,W),W)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let W;try{W=this.urlSerializer.parse(I)}catch(Q){W=this.malformedUriErrorHandler(Q,this.urlSerializer,I)}return W}isActive(I,W){let Q;if(Q=!0===W?{...ru}:!1===W?{...Nd}:W,Qn(I))return Et(this.currentUrlTree,I,Q);const fe=this.parseUrl(I);return Et(this.currentUrlTree,fe,Q)}removeEmptyProps(I){return Object.keys(I).reduce((W,Q)=>{const fe=I[Q];return null!=fe&&(W[Q]=fe),W},{})}scheduleNavigation(I,W,Q,fe,ye){if(this.disposed)return Promise.resolve(!1);let Ge,at,Lt;ye?(Ge=ye.resolve,at=ye.reject,Lt=ye.promise):Lt=new Promise((dr,ci)=>{Ge=dr,at=ci});const Rt=this.pendingTasks.add();return function zo(N,k){N.events.pipe((0,Ye.h)(I=>I instanceof li||I instanceof _i||I instanceof En||I instanceof gn),(0,_e.U)(I=>I instanceof li||I instanceof gn?Ri.COMPLETE:I instanceof _i&&(0===I.code||1===I.code)?Ri.REDIRECTING:Ri.FAILED),(0,Ye.h)(I=>I!==Ri.REDIRECTING),Le(1)).subscribe(()=>{k()})}(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Rt))}),this.navigationTransitions.handleNavigationRequest({source:W,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:I,extras:fe,resolve:Ge,reject:at,promise:Lt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Lt.catch(dr=>Promise.reject(dr))}setBrowserUrl(I,W){const Q=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(Q)||W.extras.replaceUrl){const ye={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId)};this.location.replaceState(Q,"",ye)}else{const fe={...W.extras.state,...this.generateNgRouterState(W.id,(this.browserPageId??0)+1)};this.location.go(Q,"",fe)}}restoreHistory(I,W=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-(this.browserPageId??this.currentPageId);0!==fe?this.location.historyGo(fe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===fe&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,W){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:W}:{navigationId:I}}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const au=new r.OlP("");function Ir(N,...k){return(0,r.MR2)([{provide:zt,multi:!0,useValue:N},[],{provide:gr,useFactory:su,deps:[mi]},{provide:r.tb,multi:!0,useFactory:Ts},k.map(I=>I.\u0275providers)])}function su(N){return N.routerState.root}function Ts(){const N=(0,r.f3M)(r.zs3);return k=>{const I=N.get(r.z2F);if(k!==I.components[0])return;const W=N.get(mi),Q=N.get(sl);1===N.get(Ms)&&W.initialNavigation(),N.get(Po,null,r.XFs.Optional)?.setUpPreloading(),N.get(au,null,r.XFs.Optional)?.init(),W.resetRootComponentType(I.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const sl=new r.OlP("",{factory:()=>new he.x}),Ms=new r.OlP("",{providedIn:"root",factory:()=>1}),Po=new r.OlP("")}},l=>{l(l.s=4649)}]);